var _L=Object.defineProperty;var xL=(n,e,t)=>e in n?_L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var SL=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var $e=(n,e,t)=>(xL(n,typeof e!="symbol"?e+"":e,t),t),xv=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var qt=(n,e,t)=>(xv(n,e,"read from private field"),t?t.call(n):e.get(n)),$t=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},In=(n,e,t,r)=>(xv(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var en=(n,e,t)=>(xv(n,e,"access private method"),t);var EK=SL((oo,so)=>{class EL{constructor(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=AL(e);for(const r of this.bindings){if(t.immediatePropagationStopped)break;r.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{const r=e.index,i=t.index;return r<i?-1:r>i?1:0})}}function AL(n){if("immediatePropagationStopped"in n)return n;{const{stopImmediatePropagation:e}=n;return Object.assign(n,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class TL{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,r={}){this.application.handleError(e,`Error ${t}`,r)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:r,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(t),l=this.cacheKey(r,i);s.delete(l),s.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:r,eventOptions:i}=e;return this.fetchEventListener(t,r,i)}fetchEventListener(e,t,r){const i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(t,r);let l=i.get(s);return l||(l=this.createEventListener(e,t,r),i.set(s,l)),l}createEventListener(e,t,r){const i=new EL(e,t,r);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const r=[e];return Object.keys(t).sort().forEach(i=>{r.push(`${t[i]?"":"!"}${i}`)}),r.join(":")}}const kL={stop({event:n,value:e}){return e&&n.stopPropagation(),!0},prevent({event:n,value:e}){return e&&n.preventDefault(),!0},self({event:n,value:e,element:t}){return e?t===n.target:!0}},CL=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function OL(n){const t=n.trim().match(CL)||[];let r=t[2],i=t[3];return i&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${i}`,i=""),{eventTarget:LL(t[4]),eventName:r,eventOptions:t[7]?ML(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||i}}function LL(n){if(n=="window")return window;if(n=="document")return document}function ML(n){return n.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function PL(n){if(n==window)return"window";if(n==document)return"document"}function mb(n){return n.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Yy(n){return mb(n.replace(/--/g,"-").replace(/__/g,"_"))}function rf(n){return n.charAt(0).toUpperCase()+n.slice(1)}function hE(n){return n.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function NL(n){return n.match(/[^\s]+/g)||[]}function pw(n){return n!=null}function Ky(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const mw=["meta","ctrl","alt","shift"];class IL{constructor(e,t,r,i){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||DL(e)||lp("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||lp("missing identifier"),this.methodName=r.methodName||lp("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,OL(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const r=t.filter(i=>!mw.includes(i))[0];return r?(Ky(this.keyMappings,r)||lp(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:r,value:i}of Array.from(this.element.attributes)){const s=r.match(t),l=s&&s[1];l&&(e[mb(l)]=RL(i))}return e}get eventTargetName(){return PL(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[r,i,s,l]=mw.map(h=>t.includes(h));return e.metaKey!==r||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==l}}const gw={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:n=>n.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function DL(n){const e=n.tagName.toLowerCase();if(e in gw)return gw[e](n)}function lp(n){throw new Error(n)}function RL(n){try{return JSON.parse(n)}catch{return n}}class FL{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:i}=this.context;let s=!0;for(const[l,h]of Object.entries(this.eventOptions))if(l in r){const c=r[l];s=s&&c({name:l,value:h,event:e,element:t,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:r,action:this.methodName})}catch(i){const{identifier:s,controller:l,element:h,index:c}=this,d={identifier:s,controller:l,element:h,index:c,event:e};this.context.handleError(i,`invoking action "${this.action}"`,d)}}willBeInvokedByEvent(e){const t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class dE{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.processTree(r,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const r of this.matchElementsInTree(e))t.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class fE{constructor(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new dE(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function BL(n,e,t){pE(n,e).add(t)}function jL(n,e,t){pE(n,e).delete(t),$L(n,e)}function pE(n,e){let t=n.get(e);return t||(t=new Set,n.set(e,t)),t}function $L(n,e){const t=n.get(e);t!=null&&t.size==0&&n.delete(e)}class Gl{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t+r.size,0)}add(e,t){BL(this.valuesByKey,e,t)}delete(e,t){jL(this.valuesByKey,e,t)}has(e,t){const r=this.valuesByKey.get(e);return r!=null&&r.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,r])=>r.has(e)).map(([t,r])=>t)}}class HL{constructor(e,t,r,i){this._selector=t,this.details=i,this.elementObserver=new dE(e,this),this.delegate=r,this.matchesByElement=new Gl}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const r=e.matches(t);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}else return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(t)).filter(s=>this.matchElement(s));return r.concat(i)}else return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const r of t)this.selectorUnmatched(e,r)}elementAttributeChanged(e,t){const{selector:r}=this;if(r){const i=this.matchElement(e),s=this.matchesByElement.has(r,e);i&&!s?this.selectorMatched(e,r):!i&&s&&this.selectorUnmatched(e,r)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class zL{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);const i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,r,t),i==null){const s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(r,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,r)}stringMapKeyRemoved(e,t,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class mE{constructor(e,t,r){this.attributeObserver=new fE(e,t,this),this.delegate=r,this.tokensByElement=new Gl}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,r]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),i=WL(t,r).findIndex(([s,l])=>!qL(s,l));return i==-1?[[],[]]:[t.slice(i),r.slice(i)]}readTokensForElement(e){const t=this.attributeName,r=e.getAttribute(t)||"";return UL(r,e,t)}}function UL(n,e,t){return n.trim().split(/\s+/).filter(r=>r.length).map((r,i)=>({element:e,attributeName:t,content:r,index:i}))}function WL(n,e){const t=Math.max(n.length,e.length);return Array.from({length:t},(r,i)=>[n[i],e[i]])}function qL(n,e){return n&&e&&n.index==e.index&&n.content==e.content}class gE{constructor(e,t,r){this.tokenListObserver=new mE(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r))}tokenUnmatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}}class VL{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new gE(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new FL(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){const t=IL.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class GL{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new zL(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const r=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,t,r){const i=this.valueDescriptorNameMap[t];e!==null&&(r===null&&(r=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,r))}stringMapKeyRemoved(e,t,r){const i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),r):this.invokeChangedCallback(e,i.writer(i.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:r,writer:i}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(r),void 0)}invokeChangedCallback(e,t,r){const i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){const l=this.valueDescriptorNameMap[e];try{const h=l.reader(t);let c=r;r&&(c=l.reader(r)),s.call(this.receiver,h,c)}catch(h){throw h instanceof TypeError&&(h.message=`Stimulus Value "${this.context.identifier}.${l.name}" - ${h.message}`),h}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{const r=this.valueDescriptorMap[t];e[r.name]=r}),e}hasValue(e){const t=this.valueDescriptorNameMap[e],r=`has${rf(t.name)}`;return this.receiver[r]}}class YL{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Gl}start(){this.tokenListObserver||(this.tokenListObserver=new mE(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var r;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var r;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function of(n,e){const t=vE(n);return Array.from(t.reduce((r,i)=>(ZL(i,e).forEach(s=>r.add(s)),r),new Set))}function KL(n,e){return vE(n).reduce((r,i)=>(r.push(...XL(i,e)),r),[])}function vE(n){const e=[];for(;n;)e.push(n),n=Object.getPrototypeOf(n);return e.reverse()}function ZL(n,e){const t=n[e];return Array.isArray(t)?t:[]}function XL(n,e){const t=n[e];return t?Object.keys(t).map(r=>[r,t[r]]):[]}class JL{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new Gl,this.outletElementsByName=new Gl,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:r}){const i=this.getOutlet(e,r);i&&this.connectOutlet(i,e,r)}selectorUnmatched(e,t,{outletName:r}){const i=this.getOutletFromMap(e,r);i&&this.disconnectOutlet(i,e,r)}selectorMatchElement(e,{outletName:t}){const r=this.selector(t),i=this.hasOutlet(e,t),s=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return r?i&&s&&e.matches(r):!1}elementMatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(e,t,r){var i;this.outletElementsByName.has(r,t)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,t),(i=this.selectorObserverMap.get(r))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,r)))}disconnectOutlet(e,t,r){var i;this.outletElementsByName.has(r,t)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,t),(i=this.selectorObserverMap.get(r))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,r)))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),r=new HL(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),r=new fE(this.scope.element,t,this);this.attributeObserverMap.set(e,r),r.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){const e=new Gl;return this.router.modules.forEach(t=>{const r=t.definition.controllerConstructor;of(r,"outlets").forEach(s=>e.add(s,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(r=>r.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class QL{constructor(e,t){this.logDebugActivity=(r,i={})=>{const{identifier:s,controller:l,element:h}=this;i=Object.assign({identifier:s,controller:l,element:h},i),this.application.logDebugActivity(this.identifier,r,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new VL(this,this.dispatcher),this.valueObserver=new GL(this,this.controller),this.targetObserver=new YL(this,this),this.outletObserver=new JL(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(r){this.handleError(r,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,r={}){const{identifier:i,controller:s,element:l}=this;r=Object.assign({identifier:i,controller:s,element:l},r),this.application.handleError(e,`Error ${t}`,r)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,r){this.invokeControllerMethod(`${Yy(r)}OutletConnected`,e,t)}outletDisconnected(e,t,r){this.invokeControllerMethod(`${Yy(r)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const r=this.controller;typeof r[e]=="function"&&r[e](...t)}}function eM(n){return tM(n,nM(n))}function tM(n,e){const t=sM(n),r=rM(n.prototype,e);return Object.defineProperties(t.prototype,r),t}function nM(n){return of(n,"blessings").reduce((t,r)=>{const i=r(n);for(const s in i){const l=t[s]||{};t[s]=Object.assign(l,i[s])}return t},{})}function rM(n,e){return oM(e).reduce((t,r)=>{const i=iM(n,e,r);return i&&Object.assign(t,{[r]:i}),t},{})}function iM(n,e,t){const r=Object.getOwnPropertyDescriptor(n,t);if(!(r&&"value"in r)){const s=Object.getOwnPropertyDescriptor(e,t).value;return r&&(s.get=r.get||s.get,s.set=r.set||s.set),s}}const oM=(()=>typeof Object.getOwnPropertySymbols=="function"?n=>[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]:Object.getOwnPropertyNames)(),sM=(()=>{function n(t){function r(){return Reflect.construct(t,arguments,new.target)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,t),r}function e(){const r=n(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return e(),n}catch{return r=>class extends r{}}})();function aM(n){return{identifier:n.identifier,controllerConstructor:eM(n.controllerConstructor)}}let lM=class{constructor(e,t){this.application=e,this.definition=aM(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new QL(this,e),this.contextsByScope.set(e,t)),t}};class cM{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return NL(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class uM{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${hE(e)}`}}class hM{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,r){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(r,e))}}function Zy(n,e){return`[${n}~="${e}"]`}class dM{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){const t=this.schema.targetAttributeForScope(this.identifier);return Zy(t,e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return Zy(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:r}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${r}.${t}" with ${s}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class fM{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findOutlet(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllOutlets(r)],[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,r){const i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(r)}}let pM=class yE{constructor(e,t,r,i){this.targets=new dM(this),this.classes=new cM(this),this.data=new uM(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=r,this.guide=new hM(i),this.outlets=new fM(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Zy(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new yE(this.schema,document.documentElement,this.identifier,this.guide.logger)}};class mM{constructor(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new gE(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:r}=e;return this.parseValueForElementAndIdentifier(t,r)}parseValueForElementAndIdentifier(e,t){const r=this.fetchScopesByIdentifierForElement(e);let i=r.get(t);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,t),r.set(t,i)),i}elementMatchedValue(e,t){const r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),r==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),r==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class gM{constructor(e){this.application=e,this.scopeObserver=new mM(this.element,this.schema,this),this.scopesByIdentifier=new Gl,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new lM(this.application,e);this.connectModule(t);const r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){const r=this.scopeObserver.parseValueForElementAndIdentifier(e,t);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,r){this.application.handleError(e,t,r)}createScopeForElementAndIdentifier(e,t){return new pM(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r))}}const vM={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:n=>`data-${n}-target`,outletAttributeForScope:(n,e)=>`data-${n}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},vw("abcdefghijklmnopqrstuvwxyz".split("").map(n=>[n,n]))),vw("0123456789".split("").map(n=>[n,n])))};function vw(n){return n.reduce((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:r}),{})}class yM{constructor(e=document.documentElement,t=vM){this.logger=console,this.debug=!1,this.logDebugActivity=(r,i,s={})=>{this.debug&&this.logFormattedMessage(r,i,s)},this.element=e,this.schema=t,this.dispatcher=new TL(this),this.router=new gM(this),this.actionDescriptorFilters=Object.assign({},kL)}static start(e,t){const r=new this(e,t);return r.start(),r}async start(){await bM(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){const r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null}handleError(e,t,r){var i;this.logger.error(`%s

%o

%o`,t,e,r),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}}function bM(){return new Promise(n=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>n()):n()})}function wM(n){return of(n,"classes").reduce((t,r)=>Object.assign(t,_M(r)),{})}function _M(n){return{[`${n}Class`]:{get(){const{classes:e}=this;if(e.has(n))return e.get(n);{const t=e.getAttributeName(n);throw new Error(`Missing attribute "${t}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${rf(n)}Class`]:{get(){return this.classes.has(n)}}}}function xM(n){return of(n,"outlets").reduce((t,r)=>Object.assign(t,SM(r)),{})}function yw(n,e,t){return n.application.getControllerForElementAndIdentifier(e,t)}function bw(n,e,t){let r=yw(n,e,t);if(r||(n.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),r=yw(n,e,t),r))return r}function SM(n){const e=Yy(n);return{[`${e}Outlet`]:{get(){const t=this.outlets.find(n),r=this.outlets.getSelectorForOutletName(n);if(t){const i=bw(this,t,n);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){const t=this.outlets.findAll(n);return t.length>0?t.map(r=>{const i=bw(this,r,n);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`,r)}).filter(r=>r):[]}},[`${e}OutletElement`]:{get(){const t=this.outlets.find(n),r=this.outlets.getSelectorForOutletName(n);if(t)return t;throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(n)}},[`has${rf(e)}Outlet`]:{get(){return this.outlets.has(n)}}}}function EM(n){return of(n,"targets").reduce((t,r)=>Object.assign(t,AM(r)),{})}function AM(n){return{[`${n}Target`]:{get(){const e=this.targets.find(n);if(e)return e;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${rf(n)}Target`]:{get(){return this.targets.has(n)}}}}function TM(n){const e=KL(n,"values"),t={valueDescriptorMap:{get(){return e.reduce((r,i)=>{const s=bE(i,this.identifier),l=this.data.getAttributeNameForKey(s.key);return Object.assign(r,{[l]:s})},{})}}};return e.reduce((r,i)=>Object.assign(r,kM(i)),t)}function kM(n,e){const t=bE(n,e),{key:r,name:i,reader:s,writer:l}=t;return{[i]:{get(){const h=this.data.get(r);return h!==null?s(h):t.defaultValue},set(h){h===void 0?this.data.delete(r):this.data.set(r,l(h))}},[`has${rf(i)}`]:{get(){return this.data.has(r)||t.hasCustomDefaultValue}}}}function bE([n,e],t){return MM({controller:t,token:n,typeDefinition:e})}function hm(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Sd(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function CM(n){const{controller:e,token:t,typeObject:r}=n,i=pw(r.type),s=pw(r.default),l=i&&s,h=i&&!s,c=!i&&s,d=hm(r.type),f=Sd(n.typeObject.default);if(h)return d;if(c)return f;if(d!==f){const g=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${g}" must match the defined type "${d}". The provided default value of "${r.default}" is of type "${f}".`)}if(l)return d}function OM(n){const{controller:e,token:t,typeDefinition:r}=n,s=CM({controller:e,token:t,typeObject:r}),l=Sd(r),h=hm(r),c=s||l||h;if(c)return c;const d=e?`${e}.${r}`:t;throw new Error(`Unknown value type "${d}" for "${t}" value`)}function LM(n){const e=hm(n);if(e)return ww[e];const t=Ky(n,"default"),r=Ky(n,"type"),i=n;if(t)return i.default;if(r){const{type:s}=i,l=hm(s);if(l)return ww[l]}return n}function MM(n){const{token:e,typeDefinition:t}=n,r=`${hE(e)}-value`,i=OM(n);return{type:i,key:r,name:mb(r),get defaultValue(){return LM(t)},get hasCustomDefaultValue(){return Sd(t)!==void 0},reader:PM[i],writer:_w[i]||_w.default}}const ww={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},PM={array(n){const e=JSON.parse(n);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${n}" of type "${Sd(e)}"`);return e},boolean(n){return!(n=="0"||String(n).toLowerCase()=="false")},number(n){return Number(n.replace(/_/g,""))},object(n){const e=JSON.parse(n);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${n}" of type "${Sd(e)}"`);return e},string(n){return n}},_w={default:NM,array:xw,object:xw};function xw(n){return JSON.stringify(n)}function NM(n){return`${n}`}class sc{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:r={},prefix:i=this.identifier,bubbles:s=!0,cancelable:l=!0}={}){const h=i?`${i}:${e}`:e,c=new CustomEvent(h,{detail:r,bubbles:s,cancelable:l});return t.dispatchEvent(c),c}}sc.blessings=[wM,EM,TM,xM];sc.targets=[];sc.outlets=[];sc.values={};class vn extends sc{prefix(e){let r=`${document.head.querySelector('meta[name="dashboard-prefix"]').content}${e}`.replace(/\/\/+/g,"/");return`${location.protocol}//${location.hostname}${location.port?`:${location.port}`:""}${r}`}alert(e,t,r="warning"){let i=document.querySelector('[data-controller="toast"]');application.getControllerForElementAndIdentifier(i,"toast").alert(e,t,r)}toast(e,t="warning"){let r=document.querySelector('[data-controller="toast"]');application.getControllerForElementAndIdentifier(r,"toast").toast(e,t)}formToObject(e){let t={};return new FormData(e).forEach((r,i)=>{if(!Object.prototype.hasOwnProperty.call(t,i)){t[i]=r;return}let s=t[i];Array.isArray(s)||(s=t[i]=[s]),s.push(r)}),t}loadStream(e,t,r=null){return window.axios.post(e,t,{headers:{Accept:"text/vnd.turbo-stream.html"}}).then(i=>i.data).then(i=>{Turbo.renderStreamMessage(i),typeof r=="function"&&r(i)})}updateTurboCacheControl(e){const t="turbo-cache-control";let r=document.querySelector(`meta[name="${t}"]`);if(e===!1){r&&r.remove();return}r||(r=document.createElement("meta"),r.name=t,document.head.appendChild(r)),r.content=e===!0?"no-cache":String(e)}}const IM=Object.freeze(Object.defineProperty({__proto__:null,default:vn},Symbol.toStringTag,{value:"Module"}));/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Sw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ls(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(t),!0).forEach(function(r){DM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $p(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$p=function(e){return typeof e}:$p=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(n)}function DM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sa(){return sa=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sa.apply(this,arguments)}function RM(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function FM(n,e){if(n==null)return{};var t=RM(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var BM="1.15.6";function ra(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var da=ra(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),sf=ra(/Edge/i),Ew=ra(/firefox/i),id=ra(/safari/i)&&!ra(/chrome/i)&&!ra(/android/i),gb=ra(/iP(ad|od|hone)/i),wE=ra(/chrome/i)&&ra(/android/i),_E={capture:!1,passive:!1};function kn(n,e,t){n.addEventListener(e,t,!da&&_E)}function xn(n,e,t){n.removeEventListener(e,t,!da&&_E)}function dm(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function xE(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Go(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&dm(n,e):dm(n,e))||r&&n===t)return n;if(n===t)break}while(n=xE(n))}return null}var Aw=/\s+/g;function eo(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(Aw," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(Aw," ")}}function Qt(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function gu(n,e){var t="";if(typeof n=="string")t=n;else do{var r=Qt(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function SE(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,s=r.length;if(t)for(;i<s;i++)t(r[i],i);return r}return[]}function Es(){var n=document.scrollingElement;return n||document.documentElement}function Tr(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var s,l,h,c,d,f,g;if(n!==window&&n.parentNode&&n!==Es()?(s=n.getBoundingClientRect(),l=s.top,h=s.left,c=s.bottom,d=s.right,f=s.height,g=s.width):(l=0,h=0,c=window.innerHeight,d=window.innerWidth,f=window.innerHeight,g=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!da))do if(i&&i.getBoundingClientRect&&(Qt(i,"transform")!=="none"||t&&Qt(i,"position")!=="static")){var y=i.getBoundingClientRect();l-=y.top+parseInt(Qt(i,"border-top-width")),h-=y.left+parseInt(Qt(i,"border-left-width")),c=l+s.height,d=h+s.width;break}while(i=i.parentNode);if(r&&n!==window){var E=gu(i||n),_=E&&E.a,w=E&&E.d;E&&(l/=w,h/=_,g/=_,f/=w,c=l+f,d=h+g)}return{top:l,left:h,bottom:c,right:d,width:g,height:f}}}function Tw(n,e,t){for(var r=Wa(n,!0),i=Tr(n)[e];r;){var s=Tr(r)[t],l=void 0;if(t==="top"||t==="left"?l=i>=s:l=i<=s,!l)return r;if(r===Es())break;r=Wa(r,!1)}return!1}function Fu(n,e,t,r){for(var i=0,s=0,l=n.children;s<l.length;){if(l[s].style.display!=="none"&&l[s]!==Kt.ghost&&(r||l[s]!==Kt.dragged)&&Go(l[s],t.draggable,n,!1)){if(i===e)return l[s];i++}s++}return null}function vb(n,e){for(var t=n.lastElementChild;t&&(t===Kt.ghost||Qt(t,"display")==="none"||e&&!dm(t,e));)t=t.previousElementSibling;return t||null}function vo(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Kt.clone&&(!e||dm(n,e))&&t++;return t}function kw(n){var e=0,t=0,r=Es();if(n)do{var i=gu(n),s=i.a,l=i.d;e+=n.scrollLeft*s,t+=n.scrollTop*l}while(n!==r&&(n=n.parentNode));return[e,t]}function jM(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function Wa(n,e){if(!n||!n.getBoundingClientRect)return Es();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=Qt(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Es();if(r||e)return t;r=!0}}while(t=t.parentNode);return Es()}function $M(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Sv(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var od;function EE(n,e){return function(){if(!od){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),od=setTimeout(function(){od=void 0},e)}}}function HM(){clearTimeout(od),od=void 0}function AE(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function TE(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function kE(n,e,t){var r={};return Array.from(n.children).forEach(function(i){var s,l,h,c;if(!(!Go(i,e.draggable,n,!1)||i.animated||i===t)){var d=Tr(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,d.left),r.top=Math.min((l=r.top)!==null&&l!==void 0?l:1/0,d.top),r.right=Math.max((h=r.right)!==null&&h!==void 0?h:-1/0,d.right),r.bottom=Math.max((c=r.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Bi="Sortable"+new Date().getTime();function zM(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Qt(i,"display")==="none"||i===Kt.ghost)){n.push({target:i,rect:Tr(i)});var s=Ls({},n[n.length-1].rect);if(i.thisAnimationDuration){var l=gu(i,!0);l&&(s.top-=l.f,s.left-=l.e)}i.fromRect=s}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(jM(n,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,l=0;n.forEach(function(h){var c=0,d=h.target,f=d.fromRect,g=Tr(d),y=d.prevFromRect,E=d.prevToRect,_=h.rect,w=gu(d,!0);w&&(g.top-=w.f,g.left-=w.e),d.toRect=g,d.thisAnimationDuration&&Sv(y,g)&&!Sv(f,g)&&(_.top-g.top)/(_.left-g.left)===(f.top-g.top)/(f.left-g.left)&&(c=WM(_,y,E,i.options)),Sv(g,f)||(d.prevFromRect=f,d.prevToRect=g,c||(c=i.options.animation),i.animate(d,_,g,c)),c&&(s=!0,l=Math.max(l,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),n=[]},animate:function(r,i,s,l){if(l){Qt(r,"transition",""),Qt(r,"transform","");var h=gu(this.el),c=h&&h.a,d=h&&h.d,f=(i.left-s.left)/(c||1),g=(i.top-s.top)/(d||1);r.animatingX=!!f,r.animatingY=!!g,Qt(r,"transform","translate3d("+f+"px,"+g+"px,0)"),this.forRepaintDummy=UM(r),Qt(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),Qt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Qt(r,"transition",""),Qt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function UM(n){return n.offsetWidth}function WM(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Bc=[],Ev={initializeByDefault:!0},af={mount:function(e){for(var t in Ev)Ev.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ev[t]);Bc.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Bc.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Bc.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][s]&&t[l.pluginName][s](Ls({sortable:t},r)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](Ls({sortable:t},r)))})},initializePlugins:function(e,t,r,i){Bc.forEach(function(h){var c=h.pluginName;if(!(!e.options[c]&&!h.initializeByDefault)){var d=new h(e,t,e.options);d.sortable=e,d.options=e.options,e[c]=d,sa(r,d.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var l=this.modifyOption(e,s,e.options[s]);typeof l<"u"&&(e.options[s]=l)}},getEventProperties:function(e,t){var r={};return Bc.forEach(function(i){typeof i.eventProperties=="function"&&sa(r,i.eventProperties.call(t[i.pluginName],e))}),r},modifyOption:function(e,t,r){var i;return Bc.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(i=s.optionListeners[t].call(e[s.pluginName],r))}),i}};function qM(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,s=n.cloneEl,l=n.toEl,h=n.fromEl,c=n.oldIndex,d=n.newIndex,f=n.oldDraggableIndex,g=n.newDraggableIndex,y=n.originalEvent,E=n.putSortable,_=n.extraEventProperties;if(e=e||t&&t[Bi],!!e){var w,C=e.options,M="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!da&&!sf?w=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(r,!0,!0)),w.to=l||t,w.from=h||t,w.item=i||t,w.clone=s,w.oldIndex=c,w.newIndex=d,w.oldDraggableIndex=f,w.newDraggableIndex=g,w.originalEvent=y,w.pullMode=E?E.lastPutMode:void 0;var b=Ls(Ls({},_),af.getEventProperties(r,e));for(var k in b)w[k]=b[k];t&&t.dispatchEvent(w),C[M]&&C[M].call(e,w)}}var VM=["evt"],Ii=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=FM(r,VM);af.pluginEvent.bind(Kt)(e,t,Ls({dragEl:pt,parentEl:ur,ghostEl:cn,rootEl:Jn,nextEl:Rl,lastDownEl:Hp,cloneEl:ir,cloneHidden:Ra,dragStarted:Xh,putSortable:ti,activeSortable:Kt.active,originalEvent:i,oldIndex:uu,oldDraggableIndex:sd,newIndex:no,newDraggableIndex:Da,hideGhostForTarget:ME,unhideGhostForTarget:PE,cloneNowHidden:function(){Ra=!0},cloneNowShown:function(){Ra=!1},dispatchSortableEvent:function(h){Ei({sortable:t,name:h,originalEvent:i})}},s))};function Ei(n){qM(Ls({putSortable:ti,cloneEl:ir,targetEl:pt,rootEl:Jn,oldIndex:uu,oldDraggableIndex:sd,newIndex:no,newDraggableIndex:Da},n))}var pt,ur,cn,Jn,Rl,Hp,ir,Ra,uu,no,sd,Da,cp,ti,Kc=!1,fm=!1,pm=[],Ol,Ho,Av,Tv,Cw,Ow,Xh,jc,ad,ld=!1,up=!1,zp,di,kv=[],Xy=!1,mm=[],mg=typeof document<"u",hp=gb,Lw=sf||da?"cssFloat":"float",GM=mg&&!wE&&!gb&&"draggable"in document.createElement("div"),CE=function(){if(mg){if(da)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),OE=function(e,t){var r=Qt(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Fu(e,0,t),l=Fu(e,1,t),h=s&&Qt(s),c=l&&Qt(l),d=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Tr(s).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Tr(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&h.float&&h.float!=="none"){var g=h.float==="left"?"left":"right";return l&&(c.clear==="both"||c.clear===g)?"vertical":"horizontal"}return s&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||d>=i&&r[Lw]==="none"||l&&r[Lw]==="none"&&d+f>i)?"vertical":"horizontal"},YM=function(e,t,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,l=r?e.width:e.height,h=r?t.left:t.top,c=r?t.right:t.bottom,d=r?t.width:t.height;return i===h||s===c||i+l/2===h+d/2},KM=function(e,t){var r;return pm.some(function(i){var s=i[Bi].options.emptyInsertThreshold;if(!(!s||vb(i))){var l=Tr(i),h=e>=l.left-s&&e<=l.right+s,c=t>=l.top-s&&t<=l.bottom+s;if(h&&c)return r=i}}),r},LE=function(e){function t(s,l){return function(h,c,d,f){var g=h.options.group.name&&c.options.group.name&&h.options.group.name===c.options.group.name;if(s==null&&(l||g))return!0;if(s==null||s===!1)return!1;if(l&&s==="clone")return s;if(typeof s=="function")return t(s(h,c,d,f),l)(h,c,d,f);var y=(l?h:c).options.group.name;return s===!0||typeof s=="string"&&s===y||s.join&&s.indexOf(y)>-1}}var r={},i=e.group;(!i||$p(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,e.group=r},ME=function(){!CE&&cn&&Qt(cn,"display","none")},PE=function(){!CE&&cn&&Qt(cn,"display","")};mg&&!wE&&document.addEventListener("click",function(n){if(fm)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),fm=!1,!1},!0);var Ll=function(e){if(pt){e=e.touches?e.touches[0]:e;var t=KM(e.clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[Bi]._onDragOver(r)}}},ZM=function(e){pt&&pt.parentNode[Bi]._isOutsideThisEl(e.target)};function Kt(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=sa({},e),n[Bi]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return OE(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,h){l.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Kt.supportPointer!==!1&&"PointerEvent"in window&&(!id||gb),emptyInsertThreshold:5};af.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);LE(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:GM,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?kn(n,"pointerdown",this._onTapStart):(kn(n,"mousedown",this._onTapStart),kn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(kn(n,"dragover",this),kn(n,"dragenter",this)),pm.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),sa(this,zM())}Kt.prototype={constructor:Kt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(jc=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,pt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,s=i.preventOnFilter,l=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(h||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=i.filter;if(iP(r),!pt&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&id&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Go(c,i.draggable,r,!1),!(c&&c.animated)&&Hp!==c)){if(uu=vo(c),sd=vo(c,i.draggable),typeof f=="function"){if(f.call(this,e,c,this)){Ei({sortable:t,rootEl:d,name:"filter",targetEl:c,toEl:r,fromEl:r}),Ii("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(g){if(g=Go(d,g.trim(),r,!1),g)return Ei({sortable:t,rootEl:g,name:"filter",targetEl:c,fromEl:r,toEl:r}),Ii("filter",t,{evt:e}),!0}),f)){s&&e.preventDefault();return}i.handle&&!Go(d,i.handle,r,!1)||this._prepareDragStart(e,h,c)}}},_prepareDragStart:function(e,t,r){var i=this,s=i.el,l=i.options,h=s.ownerDocument,c;if(r&&!pt&&r.parentNode===s){var d=Tr(r);if(Jn=s,pt=r,ur=pt.parentNode,Rl=pt.nextSibling,Hp=r,cp=l.group,Kt.dragged=pt,Ol={target:pt,clientX:(t||e).clientX,clientY:(t||e).clientY},Cw=Ol.clientX-d.left,Ow=Ol.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,pt.style["will-change"]="all",c=function(){if(Ii("delayEnded",i,{evt:e}),Kt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ew&&i.nativeDraggable&&(pt.draggable=!0),i._triggerDragStart(e,t),Ei({sortable:i,name:"choose",originalEvent:e}),eo(pt,l.chosenClass,!0)},l.ignore.split(",").forEach(function(f){SE(pt,f.trim(),Cv)}),kn(h,"dragover",Ll),kn(h,"mousemove",Ll),kn(h,"touchmove",Ll),l.supportPointer?(kn(h,"pointerup",i._onDrop),!this.nativeDraggable&&kn(h,"pointercancel",i._onDrop)):(kn(h,"mouseup",i._onDrop),kn(h,"touchend",i._onDrop),kn(h,"touchcancel",i._onDrop)),Ew&&this.nativeDraggable&&(this.options.touchStartThreshold=4,pt.draggable=!0),Ii("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(sf||da))){if(Kt.eventCanceled){this._onDrop();return}l.supportPointer?(kn(h,"pointerup",i._disableDelayedDrag),kn(h,"pointercancel",i._disableDelayedDrag)):(kn(h,"mouseup",i._disableDelayedDrag),kn(h,"touchend",i._disableDelayedDrag),kn(h,"touchcancel",i._disableDelayedDrag)),kn(h,"mousemove",i._delayedDragTouchMoveHandler),kn(h,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&kn(h,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,l.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){pt&&Cv(pt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;xn(e,"mouseup",this._disableDelayedDrag),xn(e,"touchend",this._disableDelayedDrag),xn(e,"touchcancel",this._disableDelayedDrag),xn(e,"pointerup",this._disableDelayedDrag),xn(e,"pointercancel",this._disableDelayedDrag),xn(e,"mousemove",this._delayedDragTouchMoveHandler),xn(e,"touchmove",this._delayedDragTouchMoveHandler),xn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?kn(document,"pointermove",this._onTouchMove):t?kn(document,"touchmove",this._onTouchMove):kn(document,"mousemove",this._onTouchMove):(kn(pt,"dragend",this),kn(Jn,"dragstart",this._onDragStart));try{document.selection?Up(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Kc=!1,Jn&&pt){Ii("dragStarted",this,{evt:t}),this.nativeDraggable&&kn(document,"dragover",ZM);var r=this.options;!e&&eo(pt,r.dragClass,!1),eo(pt,r.ghostClass,!0),Kt.active=this,e&&this._appendGhost(),Ei({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ho){this._lastX=Ho.clientX,this._lastY=Ho.clientY,ME();for(var e=document.elementFromPoint(Ho.clientX,Ho.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ho.clientX,Ho.clientY),e!==t);)t=e;if(pt.parentNode[Bi]._isOutsideThisEl(e),t)do{if(t[Bi]){var r=void 0;if(r=t[Bi]._onDragOver({clientX:Ho.clientX,clientY:Ho.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=xE(t));PE()}},_onTouchMove:function(e){if(Ol){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,s=e.touches?e.touches[0]:e,l=cn&&gu(cn,!0),h=cn&&l&&l.a,c=cn&&l&&l.d,d=hp&&di&&kw(di),f=(s.clientX-Ol.clientX+i.x)/(h||1)+(d?d[0]-kv[0]:0)/(h||1),g=(s.clientY-Ol.clientY+i.y)/(c||1)+(d?d[1]-kv[1]:0)/(c||1);if(!Kt.active&&!Kc){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(cn){l?(l.e+=f-(Av||0),l.f+=g-(Tv||0)):l={a:1,b:0,c:0,d:1,e:f,f:g};var y="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");Qt(cn,"webkitTransform",y),Qt(cn,"mozTransform",y),Qt(cn,"msTransform",y),Qt(cn,"transform",y),Av=f,Tv=g,Ho=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!cn){var e=this.options.fallbackOnBody?document.body:Jn,t=Tr(pt,!0,hp,!0,e),r=this.options;if(hp){for(di=e;Qt(di,"position")==="static"&&Qt(di,"transform")==="none"&&di!==document;)di=di.parentNode;di!==document.body&&di!==document.documentElement?(di===document&&(di=Es()),t.top+=di.scrollTop,t.left+=di.scrollLeft):di=Es(),kv=kw(di)}cn=pt.cloneNode(!0),eo(cn,r.ghostClass,!1),eo(cn,r.fallbackClass,!0),eo(cn,r.dragClass,!0),Qt(cn,"transition",""),Qt(cn,"transform",""),Qt(cn,"box-sizing","border-box"),Qt(cn,"margin",0),Qt(cn,"top",t.top),Qt(cn,"left",t.left),Qt(cn,"width",t.width),Qt(cn,"height",t.height),Qt(cn,"opacity","0.8"),Qt(cn,"position",hp?"absolute":"fixed"),Qt(cn,"zIndex","100000"),Qt(cn,"pointerEvents","none"),Kt.ghost=cn,e.appendChild(cn),Qt(cn,"transform-origin",Cw/parseInt(cn.style.width)*100+"% "+Ow/parseInt(cn.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,s=r.options;if(Ii("dragStart",this,{evt:e}),Kt.eventCanceled){this._onDrop();return}Ii("setupClone",this),Kt.eventCanceled||(ir=TE(pt),ir.removeAttribute("id"),ir.draggable=!1,ir.style["will-change"]="",this._hideClone(),eo(ir,this.options.chosenClass,!1),Kt.clone=ir),r.cloneId=Up(function(){Ii("clone",r),!Kt.eventCanceled&&(r.options.removeCloneOnHide||Jn.insertBefore(ir,pt),r._hideClone(),Ei({sortable:r,name:"clone"}))}),!t&&eo(pt,s.dragClass,!0),t?(fm=!0,r._loopId=setInterval(r._emulateDragOver,50)):(xn(document,"mouseup",r._onDrop),xn(document,"touchend",r._onDrop),xn(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,pt)),kn(document,"drop",r),Qt(pt,"transform","translateZ(0)")),Kc=!0,r._dragStartId=Up(r._dragStarted.bind(r,t,e)),kn(document,"selectstart",r),Xh=!0,window.getSelection().removeAllRanges(),id&&Qt(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,i,s,l,h=this.options,c=h.group,d=Kt.active,f=cp===c,g=h.sort,y=ti||d,E,_=this,w=!1;if(Xy)return;function C(te,be){Ii(te,_,Ls({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:l,dragRect:i,targetRect:s,canSort:g,fromSortable:y,target:r,completed:b,onMove:function(ue,ke){return dp(Jn,t,pt,i,ue,Tr(ue),e,ke)},changed:k},be))}function M(){C("dragOverAnimationCapture"),_.captureAnimationState(),_!==y&&y.captureAnimationState()}function b(te){return C("dragOverCompleted",{insertion:te}),te&&(f?d._hideClone():d._showClone(_),_!==y&&(eo(pt,ti?ti.options.ghostClass:d.options.ghostClass,!1),eo(pt,h.ghostClass,!0)),ti!==_&&_!==Kt.active?ti=_:_===Kt.active&&ti&&(ti=null),y===_&&(_._ignoreWhileAnimating=r),_.animateAll(function(){C("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(r===pt&&!pt.animated||r===t&&!r.animated)&&(jc=null),!h.dragoverBubble&&!e.rootEl&&r!==document&&(pt.parentNode[Bi]._isOutsideThisEl(e.target),!te&&Ll(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function k(){no=vo(pt),Da=vo(pt,h.draggable),Ei({sortable:_,name:"change",toEl:t,newIndex:no,newDraggableIndex:Da,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Go(r,h.draggable,t,!0),C("dragOver"),Kt.eventCanceled)return w;if(pt.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||_._ignoreWhileAnimating===r)return b(!1);if(fm=!1,d&&!h.disabled&&(f?g||(l=ur!==Jn):ti===this||(this.lastPutMode=cp.checkPull(this,d,pt,e))&&c.checkPut(this,d,pt,e))){if(E=this._getDirection(e,r)==="vertical",i=Tr(pt),C("dragOverValid"),Kt.eventCanceled)return w;if(l)return ur=Jn,M(),this._hideClone(),C("revert"),Kt.eventCanceled||(Rl?Jn.insertBefore(pt,Rl):Jn.appendChild(pt)),b(!0);var A=vb(t,h.draggable);if(!A||eP(e,E,this)&&!A.animated){if(A===pt)return b(!1);if(A&&t===e.target&&(r=A),r&&(s=Tr(r)),dp(Jn,t,pt,i,r,s,e,!!r)!==!1)return M(),A&&A.nextSibling?t.insertBefore(pt,A.nextSibling):t.appendChild(pt),ur=t,k(),b(!0)}else if(A&&QM(e,E,this)){var N=Fu(t,0,h,!0);if(N===pt)return b(!1);if(r=N,s=Tr(r),dp(Jn,t,pt,i,r,s,e,!1)!==!1)return M(),t.insertBefore(pt,N),ur=t,k(),b(!0)}else if(r.parentNode===t){s=Tr(r);var T=0,P,R=pt.parentNode!==t,B=!YM(pt.animated&&pt.toRect||i,r.animated&&r.toRect||s,E),D=E?"top":"left",H=Tw(r,"top","top")||Tw(pt,"top","top"),$=H?H.scrollTop:void 0;jc!==r&&(P=s[D],ld=!1,up=!B&&h.invertSwap||R),T=tP(e,r,s,E,B?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,up,jc===r);var V;if(T!==0){var ee=vo(pt);do ee-=T,V=ur.children[ee];while(V&&(Qt(V,"display")==="none"||V===cn))}if(T===0||V===r)return b(!1);jc=r,ad=T;var fe=r.nextElementSibling,me=!1;me=T===1;var ie=dp(Jn,t,pt,i,r,s,e,me);if(ie!==!1)return(ie===1||ie===-1)&&(me=ie===1),Xy=!0,setTimeout(JM,30),M(),me&&!fe?t.appendChild(pt):r.parentNode.insertBefore(pt,me?fe:r),H&&AE(H,0,$-H.scrollTop),ur=pt.parentNode,P!==void 0&&!up&&(zp=Math.abs(P-Tr(r)[D])),k(),b(!0)}if(t.contains(pt))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){xn(document,"mousemove",this._onTouchMove),xn(document,"touchmove",this._onTouchMove),xn(document,"pointermove",this._onTouchMove),xn(document,"dragover",Ll),xn(document,"mousemove",Ll),xn(document,"touchmove",Ll)},_offUpEvents:function(){var e=this.el.ownerDocument;xn(e,"mouseup",this._onDrop),xn(e,"touchend",this._onDrop),xn(e,"pointerup",this._onDrop),xn(e,"pointercancel",this._onDrop),xn(e,"touchcancel",this._onDrop),xn(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(no=vo(pt),Da=vo(pt,r.draggable),Ii("drop",this,{evt:e}),ur=pt&&pt.parentNode,no=vo(pt),Da=vo(pt,r.draggable),Kt.eventCanceled){this._nulling();return}Kc=!1,up=!1,ld=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jy(this.cloneId),Jy(this._dragStartId),this.nativeDraggable&&(xn(document,"drop",this),xn(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),id&&Qt(document.body,"user-select",""),Qt(pt,"transform",""),e&&(Xh&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),cn&&cn.parentNode&&cn.parentNode.removeChild(cn),(Jn===ur||ti&&ti.lastPutMode!=="clone")&&ir&&ir.parentNode&&ir.parentNode.removeChild(ir),pt&&(this.nativeDraggable&&xn(pt,"dragend",this),Cv(pt),pt.style["will-change"]="",Xh&&!Kc&&eo(pt,ti?ti.options.ghostClass:this.options.ghostClass,!1),eo(pt,this.options.chosenClass,!1),Ei({sortable:this,name:"unchoose",toEl:ur,newIndex:null,newDraggableIndex:null,originalEvent:e}),Jn!==ur?(no>=0&&(Ei({rootEl:ur,name:"add",toEl:ur,fromEl:Jn,originalEvent:e}),Ei({sortable:this,name:"remove",toEl:ur,originalEvent:e}),Ei({rootEl:ur,name:"sort",toEl:ur,fromEl:Jn,originalEvent:e}),Ei({sortable:this,name:"sort",toEl:ur,originalEvent:e})),ti&&ti.save()):no!==uu&&no>=0&&(Ei({sortable:this,name:"update",toEl:ur,originalEvent:e}),Ei({sortable:this,name:"sort",toEl:ur,originalEvent:e})),Kt.active&&((no==null||no===-1)&&(no=uu,Da=sd),Ei({sortable:this,name:"end",toEl:ur,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ii("nulling",this),Jn=pt=ur=cn=Rl=ir=Hp=Ra=Ol=Ho=Xh=no=Da=uu=sd=jc=ad=ti=cp=Kt.dragged=Kt.ghost=Kt.clone=Kt.active=null,mm.forEach(function(e){e.checked=!0}),mm.length=Av=Tv=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":pt&&(this._onDragOver(e),XM(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,i=0,s=r.length,l=this.options;i<s;i++)t=r[i],Go(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||rP(t));return e},sort:function(e,t){var r={},i=this.el;this.toArray().forEach(function(s,l){var h=i.children[l];Go(h,this.options.draggable,i,!1)&&(r[s]=h)},this),t&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Go(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var i=af.modifyOption(this,e,t);typeof i<"u"?r[e]=i:r[e]=t,e==="group"&&LE(r)},destroy:function(){Ii("destroy",this);var e=this.el;e[Bi]=null,xn(e,"mousedown",this._onTapStart),xn(e,"touchstart",this._onTapStart),xn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(xn(e,"dragover",this),xn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),pm.splice(pm.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ra){if(Ii("hideClone",this),Kt.eventCanceled)return;Qt(ir,"display","none"),this.options.removeCloneOnHide&&ir.parentNode&&ir.parentNode.removeChild(ir),Ra=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ra){if(Ii("showClone",this),Kt.eventCanceled)return;pt.parentNode==Jn&&!this.options.group.revertClone?Jn.insertBefore(ir,pt):Rl?Jn.insertBefore(ir,Rl):Jn.appendChild(ir),this.options.group.revertClone&&this.animate(pt,ir),Qt(ir,"display",""),Ra=!1}}};function XM(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function dp(n,e,t,r,i,s,l,h){var c,d=n[Bi],f=d.options.onMove,g;return window.CustomEvent&&!da&&!sf?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=r,c.related=i||e,c.relatedRect=s||Tr(e),c.willInsertAfter=h,c.originalEvent=l,n.dispatchEvent(c),f&&(g=f.call(d,c,l)),g}function Cv(n){n.draggable=!1}function JM(){Xy=!1}function QM(n,e,t){var r=Tr(Fu(t.el,0,t.options,!0)),i=kE(t.el,t.options,cn),s=10;return e?n.clientX<i.left-s||n.clientY<r.top&&n.clientX<r.right:n.clientY<i.top-s||n.clientY<r.bottom&&n.clientX<r.left}function eP(n,e,t){var r=Tr(vb(t.el,t.options.draggable)),i=kE(t.el,t.options,cn),s=10;return e?n.clientX>i.right+s||n.clientY>r.bottom&&n.clientX>r.left:n.clientY>i.bottom+s||n.clientX>r.right&&n.clientY>r.top}function tP(n,e,t,r,i,s,l,h){var c=r?n.clientY:n.clientX,d=r?t.height:t.width,f=r?t.top:t.left,g=r?t.bottom:t.right,y=!1;if(!l){if(h&&zp<d*i){if(!ld&&(ad===1?c>f+d*s/2:c<g-d*s/2)&&(ld=!0),ld)y=!0;else if(ad===1?c<f+zp:c>g-zp)return-ad}else if(c>f+d*(1-i)/2&&c<g-d*(1-i)/2)return nP(e)}return y=y||l,y&&(c<f+d*s/2||c>g-d*s/2)?c>f+d/2?1:-1:0}function nP(n){return vo(pt)<vo(n)?1:-1}function rP(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function iP(n){mm.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&mm.push(r)}}function Up(n){return setTimeout(n,0)}function Jy(n){return clearTimeout(n)}mg&&kn(document,"touchmove",function(n){(Kt.active||Kc)&&n.cancelable&&n.preventDefault()});Kt.utils={on:kn,off:xn,css:Qt,find:SE,is:function(e,t){return!!Go(e,t,e,!1)},extend:$M,throttle:EE,closest:Go,toggleClass:eo,clone:TE,index:vo,nextTick:Up,cancelNextTick:Jy,detectDirection:OE,getChild:Fu,expando:Bi};Kt.get=function(n){return n[Bi]};Kt.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Kt.utils=Ls(Ls({},Kt.utils),r.utils)),af.mount(r)})};Kt.create=function(n,e){return new Kt(n,e)};Kt.version=BM;var Ar=[],Jh,Qy,e0=!1,Ov,Lv,gm,Qh;function oP(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?kn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?kn(document,"pointermove",this._handleFallbackAutoScroll):r.touches?kn(document,"touchmove",this._handleFallbackAutoScroll):kn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?xn(document,"dragover",this._handleAutoScroll):(xn(document,"pointermove",this._handleFallbackAutoScroll),xn(document,"touchmove",this._handleFallbackAutoScroll),xn(document,"mousemove",this._handleFallbackAutoScroll)),Mw(),Wp(),HM()},nulling:function(){gm=Qy=Jh=e0=Qh=Ov=Lv=null,Ar.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var i=this,s=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,h=document.elementFromPoint(s,l);if(gm=t,r||this.options.forceAutoScrollFallback||sf||da||id){Mv(t,this.options,h,r);var c=Wa(h,!0);e0&&(!Qh||s!==Ov||l!==Lv)&&(Qh&&Mw(),Qh=setInterval(function(){var d=Wa(document.elementFromPoint(s,l),!0);d!==c&&(c=d,Wp()),Mv(t,i.options,d,r)},10),Ov=s,Lv=l)}else{if(!this.options.bubbleScroll||Wa(h,!0)===Es()){Wp();return}Mv(t,this.options,Wa(h,!1),!1)}}},sa(n,{pluginName:"scroll",initializeByDefault:!0})}function Wp(){Ar.forEach(function(n){clearInterval(n.pid)}),Ar=[]}function Mw(){clearInterval(Qh)}var Mv=EE(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,h=e.scrollSpeed,c=Es(),d=!1,f;Qy!==t&&(Qy=t,Wp(),Jh=e.scroll,f=e.scrollFn,Jh===!0&&(Jh=Wa(t,!0)));var g=0,y=Jh;do{var E=y,_=Tr(E),w=_.top,C=_.bottom,M=_.left,b=_.right,k=_.width,A=_.height,N=void 0,T=void 0,P=E.scrollWidth,R=E.scrollHeight,B=Qt(E),D=E.scrollLeft,H=E.scrollTop;E===c?(N=k<P&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),T=A<R&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(N=k<P&&(B.overflowX==="auto"||B.overflowX==="scroll"),T=A<R&&(B.overflowY==="auto"||B.overflowY==="scroll"));var $=N&&(Math.abs(b-i)<=l&&D+k<P)-(Math.abs(M-i)<=l&&!!D),V=T&&(Math.abs(C-s)<=l&&H+A<R)-(Math.abs(w-s)<=l&&!!H);if(!Ar[g])for(var ee=0;ee<=g;ee++)Ar[ee]||(Ar[ee]={});(Ar[g].vx!=$||Ar[g].vy!=V||Ar[g].el!==E)&&(Ar[g].el=E,Ar[g].vx=$,Ar[g].vy=V,clearInterval(Ar[g].pid),($!=0||V!=0)&&(d=!0,Ar[g].pid=setInterval((function(){r&&this.layer===0&&Kt.active._onTouchMove(gm);var fe=Ar[this.layer].vy?Ar[this.layer].vy*h:0,me=Ar[this.layer].vx?Ar[this.layer].vx*h:0;typeof f=="function"&&f.call(Kt.dragged.parentNode[Bi],me,fe,n,gm,Ar[this.layer].el)!=="continue"||AE(Ar[this.layer].el,me,fe)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&y!==c&&(y=Wa(y,!1)));e0=d}},30),NE=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,l=e.dispatchSortableEvent,h=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var d=r||s;h();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,g=document.elementFromPoint(f.clientX,f.clientY);c(),d&&!d.el.contains(g)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function yb(){}yb.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Fu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:NE};sa(yb,{pluginName:"revertOnSpill"});function bb(){}bb.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:NE};sa(bb,{pluginName:"removeOnSpill"});Kt.mount(new oP);Kt.mount(bb,yb);class t0 extends vn{connect(){this.attachmentValue.forEach(e=>this.renderPreview(e)),this.togglePlaceholderShow(),new Kt(this.element.querySelector(".sortable-dropzone"),{disabled:this.filesTarget.disabled===!0||this.filesTarget.readonly===!0,filter:".attach-file-uploader",draggable:".pip",animation:150,onEnd:()=>{this.reorderElements()}})}preventDefaults(e){e.preventDefault(),e.stopPropagation()}dropFiles(e){this.filesTarget.files=e.dataTransfer.files,this.filesTarget.dispatchEvent(new Event("change",{bubbles:!0}))}selectFiles(e){[...e.target.files].forEach(r=>{let i=r.size/1e3/1e3;if(this.sizeValue>0&&i>this.sizeValue){this.toast(this.errorSizeValue.replace(":name",r.name));return}this.upload(r)});let t=new DataTransfer;e.target.files=t.files}upload(e){let t=new FormData;t.append("file",e),t.append("storage",this.storageValue),t.append("group",this.groupValue),t.append("path",this.pathValue),this.loadingValue=this.loadingValue+1,this.element.ariaBusy="true",fetch(this.uploadUrlValue,{method:"POST",body:t,headers:{"X-CSRF-Token":document.head.querySelector('meta[name="csrf_token"]').content}}).then(r=>r.json()).then(r=>{this.element.ariaBusy="false",this.loadingValue=this.loadingValue-1,!(!(this.attachmentValue.length<this.countValue)&&this.countValue>0)&&(this.attachmentValue=[...this.attachmentValue,r],this.togglePlaceholderShow(),this.renderPreview(r))}).catch(r=>{this.element.ariaBusy="false",this.loadingValue=this.loadingValue-1,this.togglePlaceholderShow(),console.error("Error:",r),this.toast(this.errorTypeValue)})}remove(e){const t=e.currentTarget.getAttribute("data-index");e.currentTarget.closest(".pip").remove(),this.attachmentValue=this.attachmentValue.filter(r=>String(r.id)!==String(t)),this.togglePlaceholderShow()}togglePlaceholderShow(){let e=this.attachmentValue.length>=this.countValue&&this.countValue!==0;this.containerTarget.classList.toggle("d-none",e),this.filesTarget.disabled=e,this.countValue===1?this.nullableTarget.disabled=this.attachmentValue.length>0:this.nullableTarget.disabled=!0}renderPreview(e,t=null){let r=this.templateTarget.content.querySelector("*").cloneNode(!0);if(r.querySelectorAll("*").forEach(i=>{r.innerHTML=r.innerHTML.replace(/{id}/gi,e.id).replace(/{url}/gi,e.url).replace(/{original_name}/gi,e.original_name).replace(/{mime}/gi,e.mime).replace(/{name}/gi,this.nameValue)}),t!==null){this.element.querySelector(`#attachment-${t}`).outerHTML=pip.outerHTML;return}this.containerTarget.insertAdjacentElement("beforebegin",r)}reorderElements(){const e={};this.element.querySelectorAll(":scope .pip").forEach((r,i)=>{const s=r.querySelector("input").value;e[s]=i}),fetch(this.sortUrlValue,{method:"POST",body:JSON.stringify({files:e}),headers:{"Content-Type":"application/json;charset=utf-8","X-CSRF-Token":document.head.querySelector('meta[name="csrf_token"]').content}}).then()}}$e(t0,"values",{name:{type:String,default:"attachment[]"},attachment:{type:Array,default:[]},group:{type:String,default:""},storage:{type:String,default:"public"},path:{type:String,default:""},count:{type:Number,default:0},size:{type:Number,default:0},loading:{type:Number,default:0},uploadUrl:{type:String},sortUrl:{type:String},errorSize:{type:String,default:'File ":name" is too large to upload'},errorType:{type:String,default:"The attached file must be an image"}}),$e(t0,"targets",["files","preview","container","template","nullable"]);const sP=Object.freeze(Object.defineProperty({__proto__:null,default:t0},Symbol.toStringTag,{value:"Module"}));class aP extends vn{connect(){var e=this.element.querySelector("iframe");this.resizeTimer=setInterval(()=>{e.contentDocument.body.style.backgroundColor="initial",e.contentDocument.body.style.overflow="hidden";let t=e.contentWindow.document.body;e.contentDocument.body.style.height="inherit",e.style.height=Math.max(t.scrollHeight,t.offsetHeight)+"px"},100)}disconnect(){clearTimeout(this.resizeTimer)}}const lP=Object.freeze(Object.defineProperty({__proto__:null,default:aP},Symbol.toStringTag,{value:"Module"}));class cP extends vn{confirm(e){let t=this.element.outerHTML.replace("btn-link","btn-default").replace(/data-action="(.*?)"/g,"");return this.application.getControllerForElementAndIdentifier(this.confirmModal,"confirm").open({message:this.data.get("confirm"),button:t}),e.preventDefault(),!1}get confirmModal(){return document.getElementById("confirm-dialog")}}const uP=Object.freeze(Object.defineProperty({__proto__:null,default:cP},Symbol.toStringTag,{value:"Module"}));function hP(n,e){e===void 0&&(e={});var t=e.insertAt;if(n&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}function Za(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function Ed(n){var e=n.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function dP(n){return n.offsetParent===null}function fP(n){var e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function pP(n){var e=window.getComputedStyle(n),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return n.clientWidth-t}function mP(n,e,t){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0);for(var i in t)r[i]=t[i];return n.dispatchEvent(r)}function vm(n){return n.titleHeight+n.margins.top+n.paddings.top}function qp(n){return n.margins.left+n.paddings.left}function IE(n){return n.margins.top+n.margins.bottom+n.paddings.top+n.paddings.bottom+n.titleHeight+n.legendHeight}function ym(n){return n.margins.left+n.margins.right+n.paddings.left+n.paddings.right}function gP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(n){return parseFloat(n.toFixed(2))}function n0(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t||(t=r?n[0]:n[n.length-1]);var i=new Array(Math.abs(e)).fill(t);return n=r?i.concat(n):n.concat(i)}function RE(n,e){return(n+"").length*e}function vu(n,e){return{x:Math.sin(n*$w)*e,y:Math.cos(n*$w)*e}}function hu(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(n)&&n!==void 0&&!!Number.isFinite(n)&&!(e&&n<0)}function vP(n){return+(Math.round(n+"e4")+"e-4")}function FE(n){var e=void 0,t=void 0,r=void 0;if(n instanceof Date)return new Date(n.getTime());if((n===void 0?"undefined":XN(n))!=="object"||n===null)return n;e=Array.isArray(n)?[]:{};for(r in n)t=n[r],e[r]=FE(t);return e}function BE(n,e){var t=void 0,r=void 0;return n<=e?(t=e-n,r=n):(t=n-e,r=e),[t,r]}function Zi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-n.length;return t>0?n=n0(n,t):e=n0(e,t),[n,e]}function wb(n,e){if(n)return n.length>e?n.slice(0,e-3)+"...":n}function yP(n){var e=void 0;if(typeof n=="number")e=n;else if(typeof n=="string"&&(e=Number(n),Number.isNaN(e)))return n;var t=Math.floor(Math.log10(Math.abs(e)));if(t<=2)return e;var r=Math.floor(t/3),i=Math.pow(10,t-3*r)*+(e/Math.pow(10,t)).toFixed(1);return Math.round(100*i)/100+" "+["","K","M","B","T"][r]}function jE(n,e){for(var t=[],r=0;r<n.length;r++)t.push([n[r],e[r]]);var i=function(l,h){var c=h[0]-l[0],d=h[1]-l[1];return{length:Math.sqrt(Math.pow(c,2)+Math.pow(d,2)),angle:Math.atan2(d,c)}},s=function(l,h,c,d){var f=i(h||l,c||l),g=f.angle+(d?Math.PI:0),y=.2*f.length;return[l[0]+Math.cos(g)*y,l[1]+Math.sin(g)*y]};return function(l,h){return l.reduce(function(c,d,f,g){return f===0?d[0]+","+d[1]:c+" "+h(d,f,g)},"")}(t,function(l,h,c){var d=s(c[h-1],c[h-2],l),f=s(l,c[h-1],c[h+1],!0);return"C "+d[0]+","+d[1]+" "+f[0]+","+f[1]+" "+l[0]+","+l[1]})}function Pv(n){return n>255?255:n<0?0:n}function _b(n,e){var t=GE(n),r=!1;t[0]=="#"&&(t=t.slice(1),r=!0);var i=parseInt(t,16),s=Pv((i>>16)+e),l=Pv((i>>8&255)+e),h=Pv((255&i)+e);return(r?"#":"")+(h|l<<8|s<<16).toString(16)}function bP(n){var e=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(n)||e.test(n)}function Pw(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function Nn(n,e){var t=document.createElementNS("http://www.w3.org/2000/svg",n);for(var r in e){var i=e[r];if(r==="inside")Pw(i).appendChild(t);else if(r==="around"){var s=Pw(i);s.parentNode.insertBefore(t,s),t.appendChild(s)}else r==="styles"?(i===void 0?"undefined":eI(i))==="object"&&Object.keys(i).map(function(l){t.style[l]=i[l]}):(r==="className"&&(r="class"),r==="innerHTML"?t.textContent=i:t.setAttribute(r,i))}return t}function wP(n,e){return Nn("linearGradient",{inside:n,id:e,x1:0,x2:0,y1:0,y2:1})}function Nv(n,e,t,r){return Nn("stop",{inside:n,style:"stop-color: "+t,offset:e,"stop-opacity":r})}function _P(n,e,t,r){return Nn("svg",{className:e,inside:n,width:t,height:r})}function xP(n){return Nn("defs",{inside:n})}function r0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r={className:n,transform:e};return t&&(r.inside=t),Nn("g",r)}function bm(n){return Nn("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:n,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function SP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,c=t.x+e.x,d=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+l+" "+h+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+d+" z"}function EP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,c=t.x+e.x,d=2*t.y,f=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+l+" "+h+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+d+` z
		L`+l+" "+d+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+f+" z"}function AP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,c=t.x+e.x,d=t.y+e.y;return"M"+l+" "+h+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+d}function TP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,c=t.x+e.x,d=2*r+h,f=t.y+n.y;return"M"+l+" "+h+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+d+`
		M`+l+" "+d+`
		A `+r+" "+r+" 0 "+s+" "+(i?1:0)+`
		`+c+" "+f}function Nw(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r="path-fill-gradient-"+e+"-"+(t?"lighter":"default"),i=wP(n,r),s=[1,.6,.2];return t&&(s=[.4,.2,0]),Nv(i,"0%",e,s[0]),Nv(i,"50%",e,s[1]),Nv(i,"100%",e,s[2]),r}function kP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:qE,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return Nn("rect",{className:"percentage-bar",x:n,y:e,width:t,height:r,fill:s,styles:{stroke:_b(s,-25),"stroke-dasharray":"0, "+(r+t)+", "+t+", "+r,"stroke-width":i}})}function $E(n,e,t,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h={className:n,x:e,y:t,width:r,height:r,rx:i,fill:s};return Object.keys(l).map(function(c){h[c]=l[c]}),Nn("rect",h)}function CP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?wb(i,YE):i;var s={className:"legend-bar",x:0,y:0,width:t,height:"2px",fill:r},l=Nn("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Br+"px","font-size":1.2*Br+"px","text-anchor":"start",fill:xb,innerHTML:i}),h=Nn("g",{transform:"translate("+n+", "+e+")"});return h.appendChild(Nn("rect",s)),h.appendChild(l),h}function OP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?wb(i,YE):i;var s={className:"legend-dot",cx:0,cy:0,r:t,fill:r},l=Nn("text",{className:"legend-dataset-text",x:0,y:0,dx:Br+"px",dy:Br/3+"px","font-size":1.2*Br+"px","text-anchor":"start",fill:xb,innerHTML:i}),h=Nn("g",{transform:"translate("+n+", "+e+")"});return h.appendChild(Nn("circle",s)),h.appendChild(l),h}function cd(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=i.fontSize||Br;return Nn("text",{className:n,x:e,y:t,dy:(i.dy!==void 0?i.dy:s/2)+"px","font-size":s+"px",fill:i.fill||xb,"text-anchor":i.textAnchor||"start",innerHTML:r})}function LP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};i.stroke||(i.stroke=Ju);var s=Nn("line",{className:"line-vertical "+i.className,x1:0,x2:0,y1:t,y2:r,styles:{stroke:i.stroke}}),l=Nn("text",{x:0,y:t>r?t+Ja:t-Ja-Br,dy:Br+"px","font-size":Br+"px","text-anchor":"middle",innerHTML:e+""}),h=Nn("g",{transform:"translate("+n+", 0)"});return h.appendChild(s),h.appendChild(l),h}function HE(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};i.stroke||(i.stroke=Ju),i.lineType||(i.lineType=""),i.shortenNumbers&&(e=yP(e));var s=Nn("line",{className:"line-horizontal "+i.className+(i.lineType==="dashed"?"dashed":""),x1:t,x2:r,y1:0,y2:0,styles:{stroke:i.stroke}}),l=Nn("text",{x:t<r?t-Ja:t+Ja,y:0,dy:Br/2-2+"px","font-size":Br+"px","text-anchor":t<r?"end":"start",innerHTML:e+""}),h=Nn("g",{transform:"translate(0, "+n+")","stroke-opacity":1});return l!==0&&l!=="0"||(h.style.stroke="rgba(27, 31, 35, 0.6)"),h.appendChild(s),h.appendChild(l),h}function MP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};hu(n)||(n=0),r.pos||(r.pos="left"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Ju),r.className||(r.className="");var i=-1*yu,s=r.mode==="span"?t+yu:0;return r.mode==="tick"&&r.pos==="right"&&(i=t+yu,s=t),i+=r.offset,s+=r.offset,HE(n,e,i,s,{stroke:r.stroke,className:r.className,lineType:r.lineType,shortenNumbers:r.shortenNumbers})}function PP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};hu(n)||(n=0),r.pos||(r.pos="bottom"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Ju),r.className||(r.className="");var i=t+yu,s=r.mode==="span"?-1*yu:t;return r.mode==="tick"&&r.pos==="top"&&(i=-1*yu,s=0),LP(n,e,i,s,{stroke:r.stroke,className:r.className,lineType:r.lineType})}function NP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};r.labelPos||(r.labelPos="right");var i=Nn("text",{className:"chart-label",x:r.labelPos==="left"?Ja:t-RE(e,5)-Ja,y:0,dy:Br/-2+"px","font-size":Br+"px","text-anchor":"start",innerHTML:e+""}),s=HE(n,"",0,t,{stroke:r.stroke||Ju,className:r.className||"",lineType:r.lineType});return s.appendChild(i),s}function IP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=n-e,l=Nn("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:Ju,"stroke-dasharray":t+", "+s},x:0,y:0,width:t,height:s});i.labelPos||(i.labelPos="right");var h=Nn("text",{className:"chart-label",x:i.labelPos==="left"?Ja:t-RE(r+"",4.5)-Ja,y:0,dy:Br/-2+"px","font-size":Br+"px","text-anchor":"start",innerHTML:r+""}),c=Nn("g",{transform:"translate(0, "+e+")"});return c.appendChild(l),c.appendChild(h),c}function DP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=BE(e,h.zeroLine),d=QN(c,2),f=d[0],g=d[1];g-=l,f===0&&(f=h.minHeight,g-=h.minHeight),hu(n)||(n=0),hu(g)||(g=0),hu(f,!0)||(f=0),hu(t,!0)||(t=0);var y=Nn("rect",{className:"bar mini",style:"fill: "+r,"data-point-index":s,x:n,y:g,width:t,height:f});if((i+="")||i.length){y.setAttribute("y",0),y.setAttribute("x",0);var E=Nn("text",{className:"data-point-value",x:t/2,y:0,dy:Br/2*-1+"px","font-size":Br+"px","text-anchor":"middle",innerHTML:i}),_=Nn("g",{"data-point-index":s,transform:"translate("+n+", "+g+")"});return _.appendChild(y),_.appendChild(E),_}return y}function RP(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=Nn("circle",{style:"fill: "+r,"data-point-index":s,cx:n,cy:e,r:t});if((i+="")||i.length){l.setAttribute("cy",0),l.setAttribute("cx",0);var h=Nn("text",{className:"data-point-value",x:0,y:0,dy:Br/2*-1-t+"px","font-size":Br+"px","text-anchor":"middle",innerHTML:i}),c=Nn("g",{"data-point-index":s,transform:"translate("+n+", "+e+")"});return c.appendChild(l),c.appendChild(h),c}return l}function FP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=e.map(function(g,y){return n[y]+","+g}).join("L");r.spline&&(s=jE(n,e));var l=bm("M"+s,"line-graph-path",t);if(r.heatline){var h=Nw(i.svgDefs,t);l.style.stroke="url(#"+h+")"}var c={path:l};if(r.regionFill){var d=Nw(i.svgDefs,t,!0),f="M"+n[0]+","+i.zeroLine+"L"+s+"L"+n.slice(-1)[0]+","+i.zeroLine;c.region=bm(f,"region-fill","none","url(#"+d+")")}return c}function lf(n,e,t,r){var i=typeof e=="string"?e:e.join(", ");return[n,{transform:t.join(", ")},r,Qa,"translate",{transform:i}]}function BP(n,e,t){return lf(n,[t,0],[e,0],Bu)}function Iw(n,e,t){return lf(n,[0,t],[0,e],Bu)}function jP(n,e,t,r){var i=e-t,s=n.childNodes[0];return[[s,{height:i,"stroke-dasharray":s.getAttribute("width")+", "+i},Bu,Qa],lf(n,[0,r],[0,t],Bu)]}function $P(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=BE(t,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),l=rI(s,2),h=l[0],c=l[1];return c-=i,n.nodeName!=="rect"?[[n.childNodes[0],{width:r,height:h},Ad,Qa],lf(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,c],Bu)]:[[n,{width:r,height:h,x:e,y:c},Ad,Qa]]}function HP(n,e,t){return n.nodeName!=="circle"?[lf(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,t],Bu)]:[[n,{cx:e,cy:t},Ad,Qa]]}function zP(n,e,t,r,i){var s=[],l=t.map(function(g,y){return e[y]+","+g}).join("L");i&&(l=jE(e,t));var h=[n.path,{d:"M"+l},Hw,Qa];if(s.push(h),n.region){var c=e[0]+","+r+"L",d="L"+e.slice(-1)[0]+", "+r,f=[n.region,{d:"M"+c+l+d},Hw,Qa];s.push(f)}return s}function Dw(n,e){return[n,{d:e},Ad,Qa]}function UP(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function WP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=n.cloneNode(!0),h=n.cloneNode(!0);for(var c in e){var d=void 0;d=c==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var f=s[c]||n.getAttribute(c),g=e[c],y={attributeName:c,from:f,to:g,begin:"0s",dur:t/1e3+"s",values:f+";"+g,keySplines:sI[r],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};i&&(y.type=i);for(var E in y)d.setAttribute(E,y[E]);l.appendChild(d),i?h.setAttribute(c,"translate("+g+")"):h.setAttribute(c,g)}return[l,h]}function wm(n,e){n.style.transform=e,n.style.webkitTransform=e,n.style.msTransform=e,n.style.mozTransform=e,n.style.oTransform=e}function qP(n,e){var t=[],r=[];e.map(function(s){var l=s[0],h=l.parentNode,c=void 0,d=void 0;s[0]=l;var f=WP.apply(void 0,UP(s)),g=oI(f,2);c=g[0],d=g[1],t.push(d),r.push([c,h]),h&&h.replaceChild(c,l)});var i=n.cloneNode(!0);return r.map(function(s,l){s[1]&&(s[1].replaceChild(t[l],s[0]),e[l][0]=t[l])}),i}function VP(n,e,t){if(t.length!==0){var r=qP(e,t);e.parentNode==n&&(n.removeChild(e),n.appendChild(r)),setTimeout(function(){r.parentNode==n&&(n.removeChild(r),n.appendChild(e))},iI)}}function GP(n,e){var t=document.createElement("a");t.style="display: none";var r=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),i=window.URL.createObjectURL(r);t.href=i,t.download=n,document.body.appendChild(t),t.click(),setTimeout(function(){document.body.removeChild(t),window.URL.revokeObjectURL(i)},300)}function YP(n){var e=n.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var t=Za.create("style",{innerHTML:aI});e.insertBefore(t,e.firstChild);var r=Za.create("div");return r.appendChild(e),r.innerHTML}function KP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function JP(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function Rw(n){var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function Iv(n){var e=n.getDate(),t=n.getMonth()+1;return[n.getFullYear(),(t>9?"":"0")+t,(e>9?"":"0")+e].join("-")}function Fl(n){return new Date(n.getTime())}function Dv(n,e){var t=UE(n);return Math.ceil(QP(t,e)/td)}function QP(n,e){var t=hI*KE;return(Rw(e)-Rw(n))/t}function eN(n,e){return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function zE(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=dI[n];return e?t.slice(0,3):t}function Fw(n,e){return new Date(e,n+1,0)}function UE(n){var e=Fl(n),t=e.getDay();return t!==0&&Zc(e,-1*t),e}function Zc(n,e){n.setDate(n.getDate()+e)}function tN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cf(n,e,t){var r=Object.keys(Uw).filter(function(s){return n.includes(s)}),i=Uw[r[0]];return Object.assign(i,{constants:e,getData:t}),new mI(i)}function nN(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function rN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function oN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function sN(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function aN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function cN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function i0(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function ed(n){if(n===0)return[0,0];if(isNaN(n))return{mantissa:-6755399441055744,exponent:972};var e=n>0?1:-1;if(!isFinite(n))return{mantissa:4503599627370496*e,exponent:972};n=Math.abs(n);var t=Math.floor(Math.log10(n));return[e*(n/Math.pow(10,t)),t]}function uN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Math.ceil(n),r=Math.floor(e),i=t-r,s=i,l=1;i>5&&(i%2!=0&&(i=++t-r),s=i/2,l=2),i<=2&&(l=i/(s=4)),i===0&&(s=5,l=1);for(var h=[],c=0;c<=s;c++)h.push(r+l*c);return h}function Bh(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=ed(n),r=_I(t,2),i=r[0],s=r[1],l=e?e/Math.pow(10,s):0,h=uN(i=i.toFixed(6),l);return h=h.map(function(c){return c*Math.pow(10,s)})}function hN(n){function e(d,f){for(var g=Bh(d),y=g[1]-g[0],E=0,_=1;E<f;_++)E+=y,g.unshift(-1*E);return g}var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=Math.max.apply(Math,i0(n)),i=Math.min.apply(Math,i0(n)),s=[];if(r>=0&&i>=0)ed(r)[1],s=t?Bh(r,i):Bh(r);else if(r>0&&i<0){var l=Math.abs(i);r>=l?(ed(r)[1],s=e(r,l)):(ed(l)[1],s=e(l,r).reverse().map(function(d){return-1*d}))}else if(r<=0&&i<=0){var h=Math.abs(i),c=Math.abs(r);ed(h)[1],s=(s=t?Bh(h,c):Bh(h)).reverse().map(function(d){return-1*d})}return s}function dN(n){var e=WE(n);return n.indexOf(0)>=0?n.indexOf(0):n[0]>0?-1*n[0]/e:-1*n[n.length-1]/e+(n.length-1)}function WE(n){return n[1]-n[0]}function fN(n){return n[n.length-1]-n[0]}function fp(n,e){return DE(e.zeroLine-n*e.scaleMultiplier)}function pN(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=e.reduce(function(i,s){return Math.abs(s-n)<Math.abs(i-n)?s:i},[]);return t?e.indexOf(r):r}function mN(n,e){for(var t=Math.max.apply(Math,i0(n)),r=1/(e-1),i=[],s=0;s<e;s++){var l=t*(r*s);i.push(l)}return i}function gN(n,e){return e.filter(function(t){return t<n}).length}function vN(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function yN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function bN(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function wN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function _N(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function xN(n,e){n.labels=n.labels||[];var t=n.labels.length,r=n.datasets,i=new Array(t).fill(0);return r||(r=[{values:i}]),r.map(function(s){if(s.values){var l=s.values;l=(l=l.map(function(h){return isNaN(h)?0:h})).length>t?l.slice(0,t):n0(l,t-l.length,0),s.values=l}else s.values=i;s.chartType||(s.chartType=e)}),n.yRegions&&n.yRegions.map(function(s){if(s.end<s.start){var l=[s.end,s.start];s.start=l[0],s.end=l[1]}}),n}function SN(n){var e=n.labels.length,t=new Array(e).fill(0),r={labels:n.labels.slice(0,-1),datasets:n.datasets.map(function(i){return{name:"",values:t.slice(0,-1),chartType:i.chartType}})};return n.yMarkers&&(r.yMarkers=[{value:0,label:""}]),n.yRegions&&(r.yRegions=[{start:0,end:0,label:""}]),r}function EN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=n/e.length;r<=0&&(r=1);var i=r/qN,s=void 0;if(t){var l=Math.max.apply(Math,_N(e.map(function(h){return h.length})));s=Math.ceil(l/i)}return e.map(function(h,c){return(h+="").length>i&&(t?c%s!=0&&(h=""):h=i-3>0?h.slice(0,i-3)+" ...":h.slice(0,i)+".."),h})}function Bw(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function AN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function kN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function CN(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function ON(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function LN(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function MN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function PN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",e=arguments[1],t=arguments[2];return n==="axis-mixed"?(t.type="line",new o0(e,t)):Vw[n]?new Vw[n](e,t):void console.error("Undefined chart type: "+n)}var IN='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';hP(IN);var DN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Za.create=function(n,e){var t=document.createElement(n);for(var r in e){var i=e[r];if(r==="inside")Za(i).appendChild(t);else if(r==="around"){var s=Za(i);s.parentNode.insertBefore(t,s),t.appendChild(s)}else r==="styles"?(i===void 0?"undefined":DN(i))==="object"&&Object.keys(i).map(function(l){t.style[l]=i[l]}):r in t?t[r]=i:t.setAttribute(r,i)}return t};var RN={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},FN=700,BN=400,jN=100,$N=.5,HN=0,zN=4,jw=4,UN=20,qE=2,Rv=5,Xc=10,WN=2,qN=7,VN=5,jh=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],GN=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],YN={bar:jh,line:jh,pie:jh,percentage:jh,heatmap:GN,donut:jh},$w=Math.PI/180,VE=360,KN=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ZN=function(){function n(e){var t=e.parent,r=t===void 0?null:t,i=e.colors,s=i===void 0?[]:i;gP(this,n),this.parent=r,this.colors=s,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return KN(n,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=Za.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e=this,t=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map(function(r,i){var s=e.colors[i]||"black",l=r.formatted===0||r.formatted?r.formatted:r.value,h=Za.create("li",{styles:{"border-top":"3px solid "+s},innerHTML:'<strong style="display: block;">'+(l===0||l?l:"")+`</strong>
					`+(r.title?r.title:"")});e.dataPointList.appendChild(h)})}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-VN,this.left=this.x-e/2;var t=this.parent.offsetWidth-e,r=this.container.querySelector(".svg-pointer");if(this.left<0)r.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>t){var i="calc(50% + "+(this.left-t)+"px)";r.style.left=i,this.left=t}else r.style.left="50%"}},{key:"setValues",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=r.name,this.titleValue=r.value,this.listValues=i,this.x=e,this.y=t,this.titleValueFirst=r.valueFirst||0,this.index=s,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),n}(),XN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},JN={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},GE=function(n){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(n)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(n).map(function(e,t){return t!==0?Number(e).toString(16):"#"}).reduce(function(e,t){return""+e+t}):JN[n]||n},QN=function(){function n(e,t){var r=[],i=!0,s=!1,l=void 0;try{for(var h,c=e[Symbol.iterator]();!(i=(h=c.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(d){s=!0,l=d}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),eI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yu=6,Ja=4,YE=15,Br=10,Ju="#dadada",xb="#555b51",tI={bar:function(n){var e=void 0;n.nodeName!=="rect"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode();return t.style.fill="#000000",t.style.opacity="0.4",e&&t.setAttribute("transform",e),t},dot:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),r=n.getAttribute("r"),i=n.getAttribute("fill");return t.setAttribute("r",parseInt(r)+jw),t.setAttribute("fill",i),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t},heat_square:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),r=n.getAttribute("r"),i=n.getAttribute("fill");return t.setAttribute("r",parseInt(r)+jw),t.setAttribute("fill",i),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t}},nI={bar:function(n,e){var t=void 0;n.nodeName!=="rect"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["x","y","width","height"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)},dot:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["cx","cy"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)},heat_square:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["cx","cy"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)}},rI=function(){function n(e,t){var r=[],i=!0,s=!1,l=void 0;try{for(var h,c=e[Symbol.iterator]();!(i=(h=c.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(d){s=!0,l=d}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ad=350,Hw=350,Bu=Ad,iI=250,Qa="easein",oI=function(){function n(e,t){var r=[],i=!0,s=!1,l=void 0;try{for(var h,c=e[Symbol.iterator]();!(i=(h=c.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(d){s=!0,l=d}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),sI={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},aI=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",lI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Sb=function(){function n(e,t){if(KP(this,n),t=FE(t),this.parent=typeof e=="string"?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=t,this.title=t.title||"",this.type=t.type||"",this.realData=this.prepareData(t.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(t.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:t.isNavigable||0,animate:t.animate!==void 0?t.animate:1,truncateLegends:t.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(RN));var r=this.measures;this.setMeasures(t),this.title.length||(r.titleHeight=0),this.config.showLegend||(r.legendHeight=0),this.argHeight=t.height||r.baseHeight,this.state={},this.options={},this.initTimeout=FN,this.config.isNavigable&&(this.overlays=[]),this.configure(t)}return lI(n,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,t){var r=[];return(e=(e||[]).concat(YN[t])).forEach(function(i){var s=GE(i);bP(s)?r.push(s):console.warn('"'+i+'" is not a valid color.')}),r}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,t=this.argHeight;this.baseHeight=t,this.height=t-IE(this.measures),this.boundDrawFn=function(){return e.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=Za.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new ZN({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];t&&dP(this.parent)||(this.updateWidth(),this.calc(t),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(i){return i.setup(e.drawArea)}),this.render(this.components,!1),r&&(this.data=this.realData,setTimeout(function(){e.update(e.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(r))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=pP(this.parent),this.width=this.baseWidth-ym(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=_P(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=xP(this.svg),this.title.length&&(this.titleEL=cd("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var t=vm(e);this.drawArea=r0(this.type+"-chart chart-draw-area","translate("+qp(e)+", "+t+")"),this.config.showLegend&&(t+=this.height+e.paddings.bottom,this.legendArea=r0("chart-legend","translate("+qp(e)+", "+t+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(qp(e),vm(e))}},{key:"updateTipOffset",value:function(e,t){this.tip.offset={x:e,y:t}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(s){return s.parentNode.removeChild(s)});var i=[];t.forEach(function(s){i=i.concat(s.update(r))}),i.length>0?(VP(this.container,this.svg,i),setTimeout(function(){t.forEach(function(s){return s.make()}),e.updateNav()},BN)):(t.forEach(function(s){return s.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&t&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(r){fP(e.container)&&(r=r||window.event,e.keyActions[r.keyCode]&&e.keyActions[r.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=YP(this.svg);GP(this.title||"Chart",[e])}}]),n}(),cI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),uI=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},Eb=function(n){function e(t,r){return ZP(this,e),XP(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r))}return JP(e,n),cI(e,[{key:"configure",value:function(t){uI(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.formatTooltipY=(t.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,r=this.state,i=this.config.maxSlices;r.sliceTotals=[];var s=this.data.labels.map(function(c,d){var f=0;return t.data.datasets.map(function(g){f+=g.values[d]}),[f,c]}).filter(function(c){return c[0]>=0}),l=s;if(s.length>i){s.sort(function(c,d){return d[0]-c[0]}),l=s.slice(0,i-1);var h=0;s.slice(i-1).map(function(c){h+=c[0]}),l.push([h,"Rest"]),this.colors[i-1]="grey"}r.labels=[],l.map(function(c){r.sliceTotals.push(vP(c[0])),r.labels.push(c[1])}),r.grandTotal=r.sliceTotals.reduce(function(c,d){return c+d},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,r=this.state;this.legendArea.textContent="",this.legendTotals=r.sliceTotals.slice(0,this.config.maxLegendPoints);var i=0,s=0;this.legendTotals.map(function(l,h){var c=150,d=Math.floor((t.width-ym(t.measures))/c);t.legendTotals.length<d&&(c=t.width/t.legendTotals.length),i>d&&(i=0,s+=20);var f=c*i+5,g=t.config.truncateLegends?wb(r.labels[h],c/10):r.labels[h],y=t.config.formatTooltipY?t.config.formatTooltipY(l):l,E=OP(f,s,5,t.colors[h],g+": "+y,!1);t.legendArea.appendChild(E),i++})}}]),e}(Sb),zw=12,td=7,KE=1e3,hI=86400,dI=["January","February","March","April","May","June","July","August","September","October","November","December"],fI=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Xi=function(){function n(e,t){var r=[],i=!0,s=!1,l=void 0;try{for(var h,c=e[Symbol.iterator]();!(i=(h=c.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(d){s=!0,l=d}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),mI=function(){function n(e){var t=e.layerClass,r=t===void 0?"":t,i=e.layerTransform,s=i===void 0?"":i,l=e.constants,h=e.getData,c=e.makeElements,d=e.animateElements;tN(this,n),this.layerTransform=s,this.constants=l,this.makeElements=c,this.getData=h,this.animateElements=d,this.store=[],this.labels=[],this.layerClass=r,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return pI(n,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=r0(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var t=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach(function(r){t.layer.appendChild(r)}),this.labels.forEach(function(r){t.layer.appendChild(r)})}},{key:"update",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var t=[];return e&&(t=this.animateElements(this.data)||[]),t}}]),n}(),Uw={donutSlices:{layerClass:"donut-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var r=bm(e,"donut-path",n.colors[t],"none",n.strokeWidth);return r.style.transition="transform .3s;",r})},animateElements:function(n){return this.store.map(function(e,t){return Dw(e,n.sliceStrings[t])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var r=bm(e,"pie-path","none",n.colors[t]);return r.style.transition="transform .3s;",r})},animateElements:function(n){return this.store.map(function(e,t){return Dw(e,n.sliceStrings[t])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(n){var e=this;return n.xPositions.map(function(t,r){return kP(t,0,n.widths[r],e.constants.barHeight,e.constants.barDepth,n.colors[r])})},animateElements:function(n){if(n)return[]}},yAxis:{layerClass:"y axis",makeElements:function(n){var e=this;return n.positions.map(function(t,r){return MP(t,n.labels[r],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})})},animateElements:function(n){var e=n.positions,t=n.labels,r=this.oldData.positions,i=this.oldData.labels,s=Zi(r,e),l=Xi(s,2);r=l[0],e=l[1];var h=Zi(i,t),c=Xi(h,2);return i=c[0],t=c[1],this.render({positions:r,labels:t}),this.store.map(function(d,f){return Iw(d,e[f],r[f])})}},xAxis:{layerClass:"x axis",makeElements:function(n){var e=this;return n.positions.map(function(t,r){return PP(t,n.calcLabels[r],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(n){var e=n.positions,t=n.calcLabels,r=this.oldData.positions,i=this.oldData.calcLabels,s=Zi(r,e),l=Xi(s,2);r=l[0],e=l[1];var h=Zi(i,t),c=Xi(h,2);return i=c[0],t=c[1],this.render({positions:r,calcLabels:t}),this.store.map(function(d,f){return BP(d,e[f],r[f])})}},yMarkers:{layerClass:"y-markers",makeElements:function(n){var e=this;return n.map(function(t){return NP(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(n){var e=Zi(this.oldData,n),t=Xi(e,2);this.oldData=t[0];var r=(n=t[1]).map(function(h){return h.position}),i=n.map(function(h){return h.label}),s=n.map(function(h){return h.options}),l=this.oldData.map(function(h){return h.position});return this.render(l.map(function(h,c){return{position:l[c],label:i[c],options:s[c]}})),this.store.map(function(h,c){return Iw(h,r[c],l[c])})}},yRegions:{layerClass:"y-regions",makeElements:function(n){var e=this;return n.map(function(t){return IP(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})})},animateElements:function(n){var e=Zi(this.oldData,n),t=Xi(e,2);this.oldData=t[0];var r=(n=t[1]).map(function(f){return f.endPos}),i=n.map(function(f){return f.label}),s=n.map(function(f){return f.startPos}),l=n.map(function(f){return f.options}),h=this.oldData.map(function(f){return f.endPos}),c=this.oldData.map(function(f){return f.startPos});this.render(h.map(function(f,g){return{startPos:c[g],endPos:h[g],label:i[g],options:l[g]}}));var d=[];return this.store.map(function(f,g){d=d.concat(jP(f,s[g],r[g],h[g]))}),d}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(n){var e=this,t=this.constants,r=t.index,i=t.colWidth,s=t.rowHeight,l=t.squareSize,h=t.radius,c=t.xTranslate,d=0;return this.serializedSubDomains=[],n.cols.map(function(f,g){g===1&&e.labels.push(cd("domain-name",c,-12,zE(r,!0).toUpperCase(),{fontSize:9})),f.map(function(y,E){if(y.fill){var _={"data-date":y.yyyyMmDd,"data-value":y.dataValue,"data-day":E},w=$E("day",c,d,l,h,y.fill,_);e.serializedSubDomains.push(w)}d+=s}),d=0,c+=i}),this.serializedSubDomains},animateElements:function(n){if(n)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="bar",this.units=n.yPositions.map(function(t,r){return DP(n.xPositions[r],t,n.barWidth,e.color,n.labels[r],r,n.offsets[r],{zeroLine:n.zeroLine,barsWidth:n.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(n){var e=n.xPositions,t=n.yPositions,r=n.offsets,i=n.labels,s=this.oldData.xPositions,l=this.oldData.yPositions,h=this.oldData.offsets,c=this.oldData.labels,d=Zi(s,e),f=Xi(d,2);s=f[0],e=f[1];var g=Zi(l,t),y=Xi(g,2);l=y[0],t=y[1];var E=Zi(h,r),_=Xi(E,2);h=_[0],r=_[1];var w=Zi(c,i),C=Xi(w,2);c=C[0],i=C[1],this.render({xPositions:s,yPositions:l,offsets:h,labels:i,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var M=[];return this.store.map(function(b,k){M=M.concat($P(b,e[k],t[k],n.barWidth,r[k],{zeroLine:n.zeroLine}))}),M}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=FP(n.xPositions,n.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:n.zeroLine})),this.units=[],e.hideDots||(this.units=n.yPositions.map(function(t,r){return RP(n.xPositions[r],t,n.radius,e.color,e.valuesOverPoints?n.values[r]:"",r)})),Object.values(this.paths).concat(this.units)},animateElements:function(n){var e=n.xPositions,t=n.yPositions,r=n.values,i=this.oldData.xPositions,s=this.oldData.yPositions,l=this.oldData.values,h=Zi(i,e),c=Xi(h,2);i=c[0],e=c[1];var d=Zi(s,t),f=Xi(d,2);s=f[0],t=f[1];var g=Zi(l,r),y=Xi(g,2);l=y[0],r=y[1],this.render({xPositions:i,yPositions:s,values:r,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var E=[];return Object.keys(this.paths).length&&(E=E.concat(zP(this.paths,e,t,n.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(_,w){E=E.concat(HP(_,e[w],t[w]))}),E}}},gI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),vI=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},yI=function(n){function e(t,r){rN(this,e);var i=iN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="percentage",i.setup(),i}return oN(e,n),gI(e,[{key:"setMeasures",value:function(t){var r=this.measures;this.barOptions=t.barOptions||{};var i=this.barOptions;i.height=i.height||UN,i.depth=i.depth||qE,r.paddings.right=30,r.legendHeight=60,r.baseHeight=8*(i.height+.5*i.depth)}},{key:"setupComponents",value:function(){var t=this.state,r=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},(function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}).bind(this)]];this.components=new Map(r.map(function(i){var s=cf.apply(void 0,nN(i));return[i[0],s]}))}},{key:"calc",value:function(){var t=this;vI(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;r.xPositions=[],r.widths=[];var i=0;r.sliceTotals.map(function(s){var l=t.width*s/r.grandTotal;r.widths.push(l),r.xPositions.push(i),i+=l})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,r=this.state;this.container.addEventListener("mousemove",function(i){var s=t.components.get("percentageBars").store,l=i.target;if(s.includes(l)){var h=s.indexOf(l),c=Ed(t.container),d=Ed(l),f=d.left-c.left+parseInt(l.getAttribute("width"))/2,g=d.top-c.top,y=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[h]:t.state.labels[h])+": ",E=r.sliceTotals[h]/r.grandTotal;t.tip.setValues(f,g,{name:y,value:(100*E).toFixed(1)+"%"}),t.tip.showTip()}})}}]),e}(Eb),bI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ww=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},wI=function(n){function e(t,r){aN(this,e);var i=lN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="pie",i.initTimeout=0,i.init=1,i.setup(),i}return cN(e,n),bI(e,[{key:"configure",value:function(t){Ww(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;Ww(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var i=this.radius,s=this.clockWise,l=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var h=180-this.config.startAngle;r.sliceTotals.map(function(c,d){var f=h,g=c/r.grandTotal*VE,y=g>180?1:0,E=s?-g:g,_=h+=E,w=vu(f,i),C=vu(_,i),M=t.init&&l[d],b=void 0,k=void 0;t.init?(b=M?M.startPosition:w,k=M?M.endPosition:w):(b=w,k=C);var A=g===360?EP(b,k,t.center,t.radius,s,y):SP(b,k,t.center,t.radius,s,y);r.sliceStrings.push(A),r.slicesProperties.push({startPosition:w,endPosition:C,value:c,total:r.grandTotal,startAngle:f,endAngle:_,angle:E})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,r=[["pieSlices",{},(function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}).bind(this)]];this.components=new Map(r.map(function(i){var s=cf.apply(void 0,sN(i));return[i[0],s]}))}},{key:"calTranslateByAngle",value:function(t){var r=this.radius,i=this.hoverRadio,s=vu(t.startAngle+t.angle/2,r);return"translate3d("+s.x*i+"px,"+s.y*i+"px,0)"}},{key:"hoverSlice",value:function(t,r,i,s){if(t){var l=this.colors[r];if(i){wm(t,this.calTranslateByAngle(this.state.slicesProperties[r])),t.style.fill=_b(l,50);var h=Ed(this.svg),c=s.pageX-h.left+10,d=s.pageY-h.top-10,f=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(c,d,{name:f,value:g+"%"}),this.tip.showTip()}else wm(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=l}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var r=t.target,i=this.components.get("pieSlices").store,s=this.curActiveSliceIndex,l=this.curActiveSlice;if(i.includes(r)){var h=i.indexOf(r);this.hoverSlice(l,s,!1),this.curActiveSlice=r,this.curActiveSliceIndex=h,this.hoverSlice(r,h,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Eb),_I=function(){function n(e,t){var r=[],i=!0,s=!1,l=void 0;try{for(var h,c=e[Symbol.iterator]();!(i=(h=c.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(d){s=!0,l=d}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Wo=Xc+WN,$c=Wo,SI=function(n){function e(t,r){yN(this,e);var i=bN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));i.type="heatmap",i.countLabel=r.countLabel||"";var s=["Sunday","Monday"],l=s.includes(r.startSubDomain)?r.startSubDomain:"Sunday";return i.startSubDomainIndex=s.indexOf(l),i.setup(),i}return wN(e,n),xI(e,[{key:"setMeasures",value:function(t){var r=this.measures;this.discreteDomains=t.discreteDomains===0?0:1,r.paddings.top=3*$c,r.paddings.bottom=0,r.legendHeight=2*$c,r.baseHeight=$c*td+IE(r);var i=this.data,s=this.discreteDomains?zw:0;this.independentWidth=(Dv(i.start,i.end)+s)*Wo+ym(r)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?zw:0,r=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(r+t)*Wo+ym(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var r={};Object.keys(t.dataPoints).forEach(function(i){var s=new Date(i*KE);r[Iv(s)]=t.dataPoints[i]}),t.dataPoints=r}return t}},{key:"calc",value:function(){var t=this.state;t.start=Fl(this.data.start),t.end=Fl(this.data.end),t.firstWeekStart=Fl(t.start),t.noOfWeeks=Dv(t.start,t.end),t.distribution=mN(Object.values(this.data.dataPoints),Rv),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,r=this.state,i=this.discreteDomains?0:1,s=r.domainConfigs.map(function(h,c){return["heatDomain",{index:h.index,colWidth:Wo,rowHeight:$c,squareSize:Xc,radius:t.rawChartArgs.radius||0,xTranslate:r.domainConfigs.filter(function(d,f){return f<c}).map(function(d){return d.cols.length-i}).reduce(function(d,f){return d+f},0)*Wo},(function(){return r.domainConfigs[c]}).bind(t)]});this.components=new Map(s.map(function(h,c){var d=cf.apply(void 0,vN(h));return[h[0]+"-"+c,d]}));var l=0;fI.forEach(function(h,c){if([1,3,5].includes(c)){var d=cd("subdomain-name",-Wo/2,l,h,{fontSize:Xc,dy:8,textAnchor:"end"});t.drawArea.appendChild(d)}l+=$c})}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(r){t.components.forEach(function(i){var s=i.store,l=r.target;if(s.includes(l)){var h=l.getAttribute("data-value"),c=l.getAttribute("data-date").split("-"),d=zE(parseInt(c[1])-1,!0),f=t.container.getBoundingClientRect(),g=l.getBoundingClientRect(),y=parseInt(r.target.getAttribute("width")),E=g.left-f.left+y/2,_=g.top-f.top,w=h+" "+t.countLabel,C=" on "+d+" "+c[0]+", "+c[2];t.tip.setValues(E,_,{name:C,value:w,valueFirst:1},[]),t.tip.showTip()}})})}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var r=0,i=$c,s=this.rawChartArgs.radius||0,l=cd("subdomain-name",r,i,"Less",{fontSize:Xc+1,dy:9});r=2*Wo+Wo/2,this.legendArea.appendChild(l),this.colors.slice(0,Rv).map(function(c,d){var f=$E("heatmap-legend-unit",r+(Wo+3)*d,i,Xc,s,c);t.legendArea.appendChild(f)});var h=cd("subdomain-name",r+Rv*(Wo+3)+Wo/4,i,"More",{fontSize:Xc+1,dy:9});this.legendArea.appendChild(h)}},{key:"getDomains",value:function(){for(var t=this.state,r=[t.start.getMonth(),t.start.getFullYear()],i=r[0],s=r[1],l=[t.end.getMonth(),t.end.getFullYear()],h=l[0]-i+1+12*(l[1]-s),c=[],d=Fl(t.start),f=0;f<h;f++){var g=t.end;if(!eN(d,t.end)){var y=[d.getMonth(),d.getFullYear()];g=Fw(y[0],y[1])}c.push(this.getDomainConfig(d,g)),Zc(g,1),d=g}return c}},{key:"getDomainConfig",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=[t.getMonth(),t.getFullYear()],s=i[0],l=i[1],h=UE(t),c={index:s,cols:[]};Zc(r=Fl(r)||Fw(s,l),1);for(var d=Dv(h,r),f=[],g=void 0,y=0;y<d;y++)g=this.getCol(h,s),f.push(g),Zc(h=new Date(g[td-1].yyyyMmDd),1);return g[td-1].dataValue!==void 0&&(Zc(h,1),f.push(this.getCol(h,s,!0))),c.cols=f,c}},{key:"getCol",value:function(t,r){for(var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=this.state,l=Fl(t),h=[],c=0;c<td;c++,Zc(l,1)){var d={},f=l>=s.start&&l<=s.end;i||l.getMonth()!==r||!f?d.yyyyMmDd=Iv(l):d=this.getSubDomainConfig(l),h.push(d)}return h}},{key:"getSubDomainConfig",value:function(t){var r=Iv(t),i=this.data.dataPoints[r];return{yyyyMmDd:r,dataValue:i||0,fill:this.colors[gN(i,this.state.distribution)]}}}]),e}(Sb),EI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Fv=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},o0=function(n){function e(t,r){AN(this,e);var i=TN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.barOptions=r.barOptions||{},i.lineOptions=r.lineOptions||{},i.type=r.type||"line",i.init=1,i.setup(),i}return kN(e,n),EI(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){Fv(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return xN(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return SN(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,r=this.data.labels;t.datasetLength=r.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:r,positions:r.map(function(i,s){return DE(t.xOffset+s*t.unitWidth)})}}},{key:"calcYAxisParameters",value:function(t){var r=hN(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),i=this.height/fN(r),s=WE(r)*i,l=this.height-dN(r)*s;this.state.yAxis={labels:r,positions:r.map(function(h){return l-h*i}),scaleMultiplier:i,zeroLine:l},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,r=function(i){return i.map(function(s){return fp(s,t.yAxis)})};t.datasets=this.data.datasets.map(function(i,s){var l=i.values,h=i.cumulativeYs||[];return{name:i.name&&i.name.replace(/<|>|&/g,function(c){return c=="&"?"&amp;":c=="<"?"&lt;":"&gt;"}),index:s,chartType:i.chartType,values:l,yPositions:r(l),cumulativeYs:h,cumulativeYPos:r(h)}})}},{key:"calcYExtremes",value:function(){var t=this.state;if(this.barOptions.stacked)return void(t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos);t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map(function(r){r.yPositions.map(function(i,s){i<t.yExtremes[s]&&(t.yExtremes[s]=i)})})}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(r){return r.position=fp(r.value,t.yAxis),r.options||(r.options={}),r})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(r){return r.startPos=fp(r.start,t.yAxis),r.endPos=fp(r.end,t.yAxis),r.options||(r.options={}),r}))}},{key:"getAllYValues",value:function(){var t,r=this,i="values";if(this.barOptions.stacked){i="cumulativeYs";var s=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(h,c){var d=r.data.datasets[c].values;h[i]=s=s.map(function(f,g){return f+d[g]})})}var l=this.data.datasets.map(function(h){return h[i]});return this.data.yMarkers&&l.push(this.data.yMarkers.map(function(h){return h.value})),this.data.yRegions&&this.data.yRegions.map(function(h){l.push([h.end,h.start])}),(t=[]).concat.apply(t,Bw(l))}},{key:"setupComponents",value:function(){var t=this,r=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},(function(){return this.state.yAxis}).bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},(function(){var f=this.state;return f.xAxis.calcLabels=EN(this.width,f.xAxis.labels,this.config.xIsSeries),f.xAxis}).bind(this)],["yRegions",{width:this.width,pos:"right"},(function(){return this.state.yRegions}).bind(this)]],i=this.state.datasets.filter(function(f){return f.chartType==="bar"}),s=this.state.datasets.filter(function(f){return f.chartType==="line"}),l=i.map(function(f){var g=f.index;return["barGraph-"+f.index,{index:g,color:t.colors[g],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:t.height*HN},(function(){var y=this.state,E=y.datasets[g],_=this.barOptions.stacked,w=this.barOptions.spaceRatio||$N,C=y.unitWidth*(1-w),M=C/(_?1:i.length),b=y.xAxis.positions.map(function(N){return N-C/2});_||(b=b.map(function(N){return N+M*g}));var k=new Array(y.datasetLength).fill("");this.config.valuesOverPoints&&(k=_&&E.index===y.datasets.length-1?E.cumulativeYs:E.values);var A=new Array(y.datasetLength).fill(0);return _&&(A=E.yPositions.map(function(N,T){return N-E.cumulativeYPos[T]})),{xPositions:b,yPositions:E.yPositions,offsets:A,labels:k,zeroLine:y.yAxis.zeroLine,barsWidth:C,barWidth:M}}).bind(t)]}),h=s.map(function(f){var g=f.index;return["lineGraph-"+f.index,{index:g,color:t.colors[g],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},(function(){var y=this.state,E=y.datasets[g],_=y.yAxis.positions[0]<y.yAxis.zeroLine?y.yAxis.positions[0]:y.yAxis.zeroLine;return{xPositions:y.xAxis.positions,yPositions:E.yPositions,values:E.values,zeroLine:_,radius:this.lineOptions.dotSize||zN}}).bind(t)]}),c=[["yMarkers",{width:this.width,pos:"right"},(function(){return this.state.yMarkers}).bind(this)]];r=r.concat(l,h,c);var d=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(r.filter(function(f){return!d.includes(f[0])||t.state[f[0]]}).map(function(f){var g=cf.apply(void 0,Bw(f));return(f[0].includes("lineGraph")||f[0].includes("barGraph"))&&t.dataUnitComponents.push(g),[f[0],g]}))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var r=this.state,i=this.config.formatTooltipX,s=this.config.formatTooltipY;r.xAxis.labels.map(function(l,h){var c=t.state.datasets.map(function(d,f){var g=d.values[h];return{title:d.name,value:g,yPos:d.yPositions[h],color:t.colors[f],formatted:s?s(g):g}});t.dataByIndex[h]={label:l,formattedLabel:i?i(l):l,xPos:r.xAxis.positions[h],values:c,yExtreme:r.yExtremes[h]}})}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(r){var i=t.measures,s=Ed(t.container),l=r.pageX-s.left-qp(i),h=r.pageY-s.top;h<t.height+vm(i)&&h>vm(i)?t.mapTooltipXPosition(l):t.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(t){var r=this.state;if(r.yExtremes){var i=pN(t,r.xAxis.positions,!0);if(i>=0){var s=this.dataByIndex[i];this.tip.setValues(s.xPos+this.tip.offset.x,s.yExtreme+this.tip.offset.y,{name:s.formattedLabel,value:""},s.values,i),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,r=this.data;r.datasets.length>1&&(this.legendArea.textContent="",r.datasets.map(function(i,s){var l=jN,h=CP(l*s,"0",l,t.colors[s],i.name,t.config.truncateLegends);t.legendArea.appendChild(h)}))}},{key:"makeOverlay",value:function(){var t=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(r){var i=r.overlay;i.parentNode.removeChild(i)}),this.overlayGuides=this.dataUnitComponents.map(function(r){return{type:r.unitType,overlay:void 0,units:r.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(r){var i=r.units[t.state.currentIndex];r.overlay=tI[r.type](i),t.drawArea.appendChild(r.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(t){var r=t.overlay;r.parentNode.removeChild(r)})}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",function(){t.updateOverlay()})}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map(function(r){r.units.map(function(i){i.addEventListener("click",function(){var s=i.getAttribute("data-point-index");t.setCurrentDataPoint(s)})})}),this.tip.container.addEventListener("click",function(){var r=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(r)})}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map(function(r){var i=r.units[t.state.currentIndex];nI[r.type](i,r.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,r=this.state;return{index:t,label:r.xAxis.labels[t],values:r.datasets.map(function(i){return i.values[t]})}}},{key:"setCurrentDataPoint",value:function(t){var r=this.state;(t=parseInt(t))<0&&(t=0),t>=r.xAxis.labels.length&&(t=r.xAxis.labels.length-1),t!==r.currentIndex&&(r.currentIndex=t,mP(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;Fv(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,r,i),this.data.labels.splice(i,0,t),this.data.datasets.map(function(s,l){s.values.splice(i,0,r[l])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(Fv(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map(function(r){r.values.splice(t,1)}),this.update(this.data))}},{key:"updateDataset",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[r].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map(function(r,i){t[i]&&(r.values=t[i])}),this.update(this.data)}}]),e}(Sb),AI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),qw=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},TI=function(n){function e(t,r){ON(this,e);var i=LN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="donut",i.initTimeout=0,i.init=1,i.setup(),i}return MN(e,n),AI(e,[{key:"configure",value:function(t){qw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;qw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var i=this.radius,s=this.clockWise,l=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var h=180-this.config.startAngle;r.sliceTotals.map(function(c,d){var f=h,g=c/r.grandTotal*VE,y=g>180?1:0,E=s?-g:g,_=h+=E,w=vu(f,i),C=vu(_,i),M=t.init&&l[d],b=void 0,k=void 0;t.init?(b=M?M.startPosition:w,k=M?M.endPosition:w):(b=w,k=C);var A=g===360?TP(b,k,t.center,t.radius,t.clockWise,y):AP(b,k,t.center,t.radius,t.clockWise,y);r.sliceStrings.push(A),r.slicesProperties.push({startPosition:w,endPosition:C,value:c,total:r.grandTotal,startAngle:f,endAngle:_,angle:E})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,r=[["donutSlices",{},(function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}).bind(this)]];this.components=new Map(r.map(function(i){var s=cf.apply(void 0,CN(i));return[i[0],s]}))}},{key:"calTranslateByAngle",value:function(t){var r=this.radius,i=this.hoverRadio,s=vu(t.startAngle+t.angle/2,r);return"translate3d("+s.x*i+"px,"+s.y*i+"px,0)"}},{key:"hoverSlice",value:function(t,r,i,s){if(t){var l=this.colors[r];if(i){wm(t,this.calTranslateByAngle(this.state.slicesProperties[r])),t.style.stroke=_b(l,50);var h=Ed(this.svg),c=s.pageX-h.left+10,d=s.pageY-h.top-10,f=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(c,d,{name:f,value:g+"%"}),this.tip.showTip()}else wm(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=l}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var r=t.target,i=this.components.get("donutSlices").store,s=this.curActiveSliceIndex,l=this.curActiveSlice;if(i.includes(r)){var h=i.indexOf(r);this.hoverSlice(l,s,!1),this.curActiveSlice=r,this.curActiveSliceIndex=h,this.hoverSlice(r,h,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Eb),Vw={bar:o0,line:o0,percentage:yI,heatmap:SI,pie:wI,donut:TI},kI=function n(e,t){return PN(this,n),NN(t.type,e,t)};class CI extends vn{connect(){this.chart=new kI(this.data.get("parent"),{title:this.data.get("title"),data:{labels:JSON.parse(this.data.get("labels")),datasets:JSON.parse(this.data.get("datasets")),yMarkers:JSON.parse(this.data.get("markers"))},type:this.data.get("type"),height:this.data.get("height"),maxSlices:JSON.parse(this.data.get("max-slices")),valuesOverPoints:JSON.parse(this.data.get("values-over-points")),axisOptions:JSON.parse(this.data.get("axis-options")),barOptions:JSON.parse(this.data.get("bar-options")),lineOptions:JSON.parse(this.data.get("line-options")),colors:JSON.parse(this.data.get("colors"))}),this.drawEvent=()=>setTimeout(()=>{this.chart.draw()},100),window.addEventListener("resize",this.drawEvent),document.querySelectorAll('a[data-bs-toggle="tab"]').forEach(e=>{e.addEventListener("shown.bs.tab",this.drawEvent)})}export(){this.chart.export()}disconnect(){this.chart.destroy(),window.removeEventListener("resize",this.drawEvent),document.querySelectorAll('a[data-bs-toggle="tab"]').forEach(e=>{e.removeEventListener("shown.bs.tab",this.drawEvent)})}}const OI=Object.freeze(Object.defineProperty({__proto__:null,default:CI},Symbol.toStringTag,{value:"Module"}));class LI extends vn{connect(){const e=this.element.querySelector("input:not([hidden])");e&&(e.indeterminate=this.data.get("indeterminate"))}}const MI=Object.freeze(Object.defineProperty({__proto__:null,default:LI},Symbol.toStringTag,{value:"Module"}));var ZE="#fff",Bv="20px",PI="13px",NI=`
.codeflask {
  background: `+ZE+`;
  color: #4f559c;
}

.codeflask .token.punctuation {
  color: #4a4a4a;
}

.codeflask .token.keyword {
  color: #8500ff;
}

.codeflask .token.operator {
  color: #ff5598;
}

.codeflask .token.string {
  color: #41ad8f;
}

.codeflask .token.comment {
  color: #9badb7;
}

.codeflask .token.function {
  color: #8500ff;
}

.codeflask .token.boolean {
  color: #8500ff;
}

.codeflask .token.number {
  color: #8500ff;
}

.codeflask .token.selector {
  color: #8500ff;
}

.codeflask .token.property {
  color: #8500ff;
}

.codeflask .token.tag {
  color: #8500ff;
}

.codeflask .token.attr-value {
  color: #8500ff;
}
`;function II(n,e){return typeof CSS<"u"?CSS.supports(n,e):typeof document<"u"&&DI(n)in document.body.style}function DI(n){return(n=n.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase()+n.substr(1)}var Gw='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',RI=II("caret-color","#000")?ZE:"#ccc",Hc="40px",FI=`
  .codeflask {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .codeflask, .codeflask * {
    box-sizing: border-box;
  }

  .codeflask__pre {
    pointer-events: none;
    z-index: 3;
    overflow: hidden;
  }

  .codeflask__textarea {
    background: none;
    border: none;
    color: `+RI+`;
    z-index: 1;
    resize: none;
    font-family: `+Gw+`;
    -webkit-appearance: pre;
    caret-color: #111;
    z-index: 2;
    width: 100%;
    height: 100%;
  }

  .codeflask--has-line-numbers .codeflask__textarea {
    width: calc(100% - `+Hc+`);
  }

  .codeflask__code {
    display: block;
    font-family: `+Gw+`;
    overflow: hidden;
  }

  .codeflask__flatten {
    padding: 10px;
    font-size: `+PI+`;
    line-height: `+Bv+`;
    white-space: pre;
    position: absolute;
    top: 0;
    left: 0;
    overflow: auto;
    margin: 0 !important;
    outline: none;
    text-align: left;
  }

  .codeflask--has-line-numbers .codeflask__flatten {
    width: calc(100% - `+Hc+`);
    left: `+Hc+`;
  }

  .codeflask__line-highlight {
    position: absolute;
    top: 10px;
    left: 0;
    width: 100%;
    height: `+Bv+`;
    background: rgba(0,0,0,0.1);
    z-index: 1;
  }

  .codeflask__lines {
    padding: 10px 4px;
    font-size: 12px;
    line-height: `+Bv+`;
    font-family: 'Cousine', monospace;
    position: absolute;
    left: 0;
    top: 0;
    width: `+Hc+`;
    height: 100%;
    text-align: right;
    color: #999;
    z-index: 2;
  }

  .codeflask__lines__line {
    display: block;
  }

  .codeflask.codeflask--has-line-numbers {
    padding-left: `+Hc+`;
  }

  .codeflask.codeflask--has-line-numbers:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: `+Hc+`;
    height: 100%;
    background: #eee;
    z-index: 1;
  }
`;function Yw(n,e,t){var r=e||"codeflask-style",i=t||document.head;if(!n)return!1;if(document.getElementById(r))return!0;var s=document.createElement("style");return s.innerHTML=n,s.id=r,i.appendChild(s),!0}var BI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Kw(n){return String(n).replace(/[&<>"'`=/]/g,function(e){return BI[e]})}var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jI(n,e){return n(e={exports:{}},e.exports),e.exports}var Xw=jI(function(n){var e=function(t){var r=/\blang(?:uage)?-([\w-]+)\b/i,i=0,s={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(c){return c instanceof l?new l(c.type,s.util.encode(c.content),c.alias):Array.isArray(c)?c.map(s.util.encode):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++i}),c.__id},clone:function c(d,f){var g,y,E=s.util.type(d);switch(f=f||{},E){case"Object":if(y=s.util.objId(d),f[y])return f[y];for(var _ in g={},f[y]=g,d)d.hasOwnProperty(_)&&(g[_]=c(d[_],f));return g;case"Array":return y=s.util.objId(d),f[y]?f[y]:(g=[],f[y]=g,d.forEach(function(w,C){g[C]=c(w,f)}),g);default:return d}}},languages:{extend:function(c,d){var f=s.util.clone(s.languages[c]);for(var g in d)f[g]=d[g];return f},insertBefore:function(c,d,f,g){var y=(g=g||s.languages)[c],E={};for(var _ in y)if(y.hasOwnProperty(_)){if(_==d)for(var w in f)f.hasOwnProperty(w)&&(E[w]=f[w]);f.hasOwnProperty(_)||(E[_]=y[_])}var C=g[c];return g[c]=E,s.languages.DFS(s.languages,function(M,b){b===C&&M!=c&&(this[M]=E)}),E},DFS:function c(d,f,g,y){y=y||{};var E=s.util.objId;for(var _ in d)if(d.hasOwnProperty(_)){f.call(d,_,d[_],g||_);var w=d[_],C=s.util.type(w);C!=="Object"||y[E(w)]?C!=="Array"||y[E(w)]||(y[E(w)]=!0,c(w,f,_,y)):(y[E(w)]=!0,c(w,f,null,y))}}},plugins:{},highlightAll:function(c,d){s.highlightAllUnder(document,c,d)},highlightAllUnder:function(c,d,f){var g={callback:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",g);for(var y,E=g.elements||c.querySelectorAll(g.selector),_=0;y=E[_++];)s.highlightElement(y,d===!0,g.callback)},highlightElement:function(c,d,f){for(var g,y,E=c;E&&!r.test(E.className);)E=E.parentNode;E&&(g=(E.className.match(r)||[,""])[1].toLowerCase(),y=s.languages[g]),c.className=c.className.replace(r,"").replace(/\s+/g," ")+" language-"+g,c.parentNode&&(E=c.parentNode,/pre/i.test(E.nodeName)&&(E.className=E.className.replace(r,"").replace(/\s+/g," ")+" language-"+g));var _={element:c,language:g,grammar:y,code:c.textContent},w=function(M){_.highlightedCode=M,s.hooks.run("before-insert",_),_.element.innerHTML=_.highlightedCode,s.hooks.run("after-highlight",_),s.hooks.run("complete",_),f&&f.call(_.element)};if(s.hooks.run("before-sanity-check",_),_.code)if(s.hooks.run("before-highlight",_),_.grammar)if(d&&t.Worker){var C=new Worker(s.filename);C.onmessage=function(M){w(M.data)},C.postMessage(JSON.stringify({language:_.language,code:_.code,immediateClose:!0}))}else w(s.highlight(_.code,_.grammar,_.language));else w(s.util.encode(_.code));else s.hooks.run("complete",_)},highlight:function(c,d,f){var g={code:c,grammar:d,language:f};return s.hooks.run("before-tokenize",g),g.tokens=s.tokenize(g.code,g.grammar),s.hooks.run("after-tokenize",g),l.stringify(s.util.encode(g.tokens),g.language)},matchGrammar:function(c,d,f,g,y,E,_){for(var w in f)if(f.hasOwnProperty(w)&&f[w]){if(w==_)return;var C=f[w];C=s.util.type(C)==="Array"?C:[C];for(var M=0;M<C.length;++M){var b=C[M],k=b.inside,A=!!b.lookbehind,N=!!b.greedy,T=0,P=b.alias;if(N&&!b.pattern.global){var R=b.pattern.toString().match(/[imuy]*$/)[0];b.pattern=RegExp(b.pattern.source,R+"g")}b=b.pattern||b;for(var B=g,D=y;B<d.length;D+=d[B].length,++B){var H=d[B];if(d.length>c.length)return;if(!(H instanceof l)){if(N&&B!=d.length-1){if(b.lastIndex=D,!(ie=b.exec(c)))break;for(var $=ie.index+(A?ie[1].length:0),V=ie.index+ie[0].length,ee=B,fe=D,me=d.length;ee<me&&(fe<V||!d[ee].type&&!d[ee-1].greedy);++ee)$>=(fe+=d[ee].length)&&(++B,D=fe);if(d[B]instanceof l)continue;te=ee-B,H=c.slice(D,fe),ie.index-=D}else{b.lastIndex=0;var ie=b.exec(H),te=1}if(ie){A&&(T=ie[1]?ie[1].length:0),V=($=ie.index+T)+(ie=ie[0].slice(T)).length;var be=H.slice(0,$),Y=H.slice(V),ue=[B,te];be&&(++B,D+=be.length,ue.push(be));var ke=new l(w,k?s.tokenize(ie,k):ie,P,ie,N);if(ue.push(ke),Y&&ue.push(Y),Array.prototype.splice.apply(d,ue),te!=1&&s.matchGrammar(c,d,f,B,D,!0,w),E)break}else if(E)break}}}}},tokenize:function(c,d){var f=[c],g=d.rest;if(g){for(var y in g)d[y]=g[y];delete d.rest}return s.matchGrammar(c,f,d,0,0,!1),f},hooks:{all:{},add:function(c,d){var f=s.hooks.all;f[c]=f[c]||[],f[c].push(d)},run:function(c,d){var f=s.hooks.all[c];if(f&&f.length)for(var g,y=0;g=f[y++];)g(d)}},Token:l};function l(c,d,f,g,y){this.type=c,this.content=d,this.alias=f,this.length=0|(g||"").length,this.greedy=!!y}if(t.Prism=s,l.stringify=function(c,d,f){if(typeof c=="string")return c;if(Array.isArray(c))return c.map(function(_){return l.stringify(_,d,c)}).join("");var g={type:c.type,content:l.stringify(c.content,d,f),tag:"span",classes:["token",c.type],attributes:{},language:d,parent:f};if(c.alias){var y=Array.isArray(c.alias)?c.alias:[c.alias];Array.prototype.push.apply(g.classes,y)}s.hooks.run("wrap",g);var E=Object.keys(g.attributes).map(function(_){return _+'="'+(g.attributes[_]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+(E?" "+E:"")+">"+g.content+"</"+g.tag+">"},!t.document)return t.addEventListener&&(s.disableWorkerMessageHandler||t.addEventListener("message",function(c){var d=JSON.parse(c.data),f=d.language,g=d.code,y=d.immediateClose;t.postMessage(s.highlight(g,s.languages[f],f)),y&&t.close()},!1)),s;var h=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return h&&(s.filename=h.src,s.manual||h.hasAttribute("data-manual")||(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(s.highlightAll):window.setTimeout(s.highlightAll,16):document.addEventListener("DOMContentLoaded",s.highlightAll))),s}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});n.exports&&(n.exports=e),Zw!==void 0&&(Zw.Prism=e),e.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var l={};l[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:s},e.languages.insertBefore("markup","cdata",l)}}),e.languages.xml=e.languages.extend("markup",{}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,function(t){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+r.source+"|.*?)\\)","i"),selector:RegExp(`[^{}\\s](?:[^{};"']|`+r.source+")*?(?=\\s*\\{)"),string:{pattern:r,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var i=t.languages.markup;i&&(i.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},i.tag))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}}}),e.languages.markup&&e.languages.markup.tag.addInlined("script","javascript"),e.languages.js=e.languages.javascript,typeof self<"u"&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach(function(i){if(!i.hasAttribute("data-src-loaded")){for(var s,l=i.getAttribute("data-src"),h=i,c=/\blang(?:uage)?-([\w-]+)\b/i;h&&!c.test(h.className);)h=h.parentNode;if(h&&(s=(i.className.match(c)||[,""])[1]),!s){var d=(l.match(/\.(\w+)$/)||[,""])[1];s=r[d]||d}var f=document.createElement("code");f.className="language-"+s,i.textContent="",f.textContent="Loading…",i.appendChild(f);var g=new XMLHttpRequest;g.open("GET",l,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?(f.textContent=g.responseText,e.highlightElement(f),i.setAttribute("data-src-loaded","")):g.status>=400?f.textContent="✖ Error "+g.status+" while fetching file: "+g.statusText:f.textContent="✖ Error: File does not exist or is empty")},g.send(null)}}),e.plugins.toolbar&&e.plugins.toolbar.registerButton("download-file",function(i){var s=i.element.parentNode;if(s&&/pre/i.test(s.nodeName)&&s.hasAttribute("data-src")&&s.hasAttribute("data-download-link")){var l=s.getAttribute("data-src"),h=document.createElement("a");return h.textContent=s.getAttribute("data-download-link-label")||"Download",h.setAttribute("download",""),h.href=l,h}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}),$n=function(n,e){if(!n)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!e)throw Error("CodeFlask expects an object containing options as second parameter");if(n.nodeType)this.editorRoot=n;else{var t=document.querySelector(n);t&&(this.editorRoot=t)}this.opts=e,this.startEditor()};$n.prototype.startEditor=function(){if(!Yw(FI,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},$n.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},$n.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},$n.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},$n.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},$n.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},$n.prototype.createElement=function(n,e){var t=document.createElement(n);return e.appendChild(t),t},$n.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=this.opts.defaultTheme!==!1,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,typeof this.opts.handleTabs!="boolean"&&(this.opts.handleTabs=!0),typeof this.opts.handleSelfClosingCharacters!="boolean"&&(this.opts.handleSelfClosingCharacters=!0),typeof this.opts.handleNewLineIndentation!="boolean"&&(this.opts.handleNewLineIndentation=!0),this.opts.rtl===!0&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),this.opts.enableAutocorrect===!1&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&Yw(NI,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},$n.prototype.updateLineNumbersCount=function(){for(var n="",e=1;e<=this.lineNumber;e++)n=n+'<span class="codeflask__lines__line">'+e+"</span>";this.elLineNumbers.innerHTML=n},$n.prototype.listenTextarea=function(){var n=this;this.elTextarea.addEventListener("input",function(e){n.code=e.target.value,n.elCode.innerHTML=Kw(e.target.value),n.highlight(),setTimeout(function(){n.runUpdate(),n.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){n.handleTabs(e),n.handleSelfClosingCharacters(e),n.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){n.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",n.elLineNumbers&&(n.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},$n.prototype.handleTabs=function(n){if(this.opts.handleTabs){if(n.keyCode!==9)return;n.preventDefault();var e=this.elTextarea,t=e.selectionDirection,r=e.selectionStart,i=e.selectionEnd,s=e.value,l=s.substr(0,r),h=s.substring(r,i),c=s.substring(i),d=" ".repeat(this.opts.tabSize);if(r!==i&&h.length>=d.length){var f=r-l.split(`
`).pop().length,g=d.length,y=d.length;n.shiftKey?(s.substr(f,d.length)===d?(g=-g,f>r?(h=h.substring(0,f)+h.substring(f+d.length),y=0):f===r?(g=0,y=0,h=h.substring(d.length)):(y=-y,l=l.substring(0,f)+l.substring(f+d.length))):(g=0,y=0),h=h.replace(new RegExp(`
`+d.split("").join("\\"),"g"),`
`)):(l=l.substr(0,f)+d+l.substring(f,r),h=h.replace(/\n/g,`
`+d)),e.value=l+h+c,e.selectionStart=r+g,e.selectionEnd=r+h.length+y,e.selectionDirection=t}else e.value=l+d+c,e.selectionStart=r+d.length,e.selectionEnd=r+d.length;var E=e.value;this.updateCode(E),this.elTextarea.selectionEnd=i+this.opts.tabSize}},$n.prototype.handleSelfClosingCharacters=function(n){if(this.opts.handleSelfClosingCharacters){var e=n.key;if(["(","[","{","<","'",'"'].includes(e)||[")","]","}",">","'",'"'].includes(e))switch(e){case"(":case")":this.closeCharacter(e);break;case"[":case"]":this.closeCharacter(e);break;case"{":case"}":this.closeCharacter(e);break;case"<":case">":case"'":case'"':this.closeCharacter(e)}}},$n.prototype.setLineNumber=function(){this.lineNumber=this.code.split(`
`).length,this.opts.lineNumbers&&this.updateLineNumbersCount()},$n.prototype.handleNewLineIndentation=function(n){if(this.opts.handleNewLineIndentation&&n.keyCode===13){n.preventDefault();var e=this.elTextarea,t=e.selectionStart,r=e.selectionEnd,i=e.value,s=i.substr(0,t),l=i.substring(r),h=i.lastIndexOf(`
`,t-1),c=h+i.slice(h+1).search(/[^ ]|$/),d=c>h?c-h:0,f=s+`
`+" ".repeat(d)+l;e.value=f,e.selectionStart=t+d+1,e.selectionEnd=t+d+1,this.updateCode(e.value)}},$n.prototype.closeCharacter=function(n){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd;if(this.skipCloseChar(n)){var r=this.code.substr(t,1)===n,i=r?t+1:t,s=!r&&["'",'"'].includes(n)?n:"",l=""+this.code.substring(0,e)+s+this.code.substring(i);this.updateCode(l),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var h=n;switch(n){case"(":h=String.fromCharCode(n.charCodeAt()+1);break;case"<":case"{":case"[":h=String.fromCharCode(n.charCodeAt()+2)}var c=this.code.substring(e,t),d=""+this.code.substring(0,e)+c+h+this.code.substring(t);this.updateCode(d)}this.elTextarea.selectionEnd=e},$n.prototype.skipCloseChar=function(n){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd,r=Math.abs(t-e)>0;return[")","}","]",">"].includes(n)||["'",'"'].includes(n)&&!r},$n.prototype.updateCode=function(n){this.code=n,this.elTextarea.value=n,this.elCode.innerHTML=Kw(n),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},$n.prototype.updateLanguage=function(n){var e=this.opts.language;this.elCode.classList.remove("language-"+e),this.elCode.classList.add("language-"+n),this.opts.language=n,this.highlight()},$n.prototype.addLanguage=function(n,e){Xw.languages[n]=e},$n.prototype.populateDefault=function(){this.updateCode(this.code)},$n.prototype.highlight=function(){Xw.highlightElement(this.elCode,!1)},$n.prototype.onUpdate=function(n){if(n&&{}.toString.call(n)!=="[object Function]")throw Error("CodeFlask expects callback of type Function");this.updateCallBack=n},$n.prototype.getCode=function(){return this.code},$n.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},$n.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},$n.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};class $I extends vn{connect(){const e=this.element.querySelector("input"),t=new $n(this.element.querySelector(".code"),{language:this.data.get("language"),lineNumbers:this.data.get("lineNumbers"),defaultTheme:this.data.get("defaultTheme"),readonly:e.readOnly});t.updateCode(e.value),t.onUpdate(r=>{e.value=r})}}const HI=Object.freeze(Object.defineProperty({__proto__:null,default:$I},Symbol.toStringTag,{value:"Module"}));var ki="top",ao="bottom",lo="right",Ci="left",gg="auto",Qu=[ki,ao,lo,Ci],Jl="start",ju="end",XE="clippingParents",Ab="viewport",Jc="popper",JE="reference",s0=Qu.reduce(function(n,e){return n.concat([e+"-"+Jl,e+"-"+ju])},[]),Tb=[].concat(Qu,[gg]).reduce(function(n,e){return n.concat([e,e+"-"+Jl,e+"-"+ju])},[]),QE="beforeRead",eA="read",tA="afterRead",nA="beforeMain",rA="main",iA="afterMain",oA="beforeWrite",sA="write",aA="afterWrite",lA=[QE,eA,tA,nA,rA,iA,oA,sA,aA];function Ms(n){return n?(n.nodeName||"").toLowerCase():null}function co(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ql(n){var e=co(n).Element;return n instanceof e||n instanceof Element}function xo(n){var e=co(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function kb(n){if(typeof ShadowRoot>"u")return!1;var e=co(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function zI(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!xo(s)||!Ms(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var h=i[l];h===!1?s.removeAttribute(l):s.setAttribute(l,h===!0?"":h)}))})}function UI(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),h=l.reduce(function(c,d){return c[d]="",c},{});!xo(i)||!Ms(i)||(Object.assign(i.style,h),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const Cb={name:"applyStyles",enabled:!0,phase:"write",fn:zI,effect:UI,requires:["computeStyles"]};function As(n){return n.split("-")[0]}var Yl=Math.max,_m=Math.min,$u=Math.round;function a0(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cA(){return!/^((?!chrome|android).)*safari/i.test(a0())}function Hu(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&xo(n)&&(i=n.offsetWidth>0&&$u(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&$u(r.height)/n.offsetHeight||1);var l=Ql(n)?co(n):window,h=l.visualViewport,c=!cA()&&t,d=(r.left+(c&&h?h.offsetLeft:0))/i,f=(r.top+(c&&h?h.offsetTop:0))/s,g=r.width/i,y=r.height/s;return{width:g,height:y,top:f,right:d+g,bottom:f+y,left:d,x:d,y:f}}function Ob(n){var e=Hu(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function uA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&kb(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function aa(n){return co(n).getComputedStyle(n)}function WI(n){return["table","td","th"].indexOf(Ms(n))>=0}function il(n){return((Ql(n)?n.ownerDocument:n.document)||window.document).documentElement}function vg(n){return Ms(n)==="html"?n:n.assignedSlot||n.parentNode||(kb(n)?n.host:null)||il(n)}function Jw(n){return!xo(n)||aa(n).position==="fixed"?null:n.offsetParent}function qI(n){var e=/firefox/i.test(a0()),t=/Trident/i.test(a0());if(t&&xo(n)){var r=aa(n);if(r.position==="fixed")return null}var i=vg(n);for(kb(i)&&(i=i.host);xo(i)&&["html","body"].indexOf(Ms(i))<0;){var s=aa(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function uf(n){for(var e=co(n),t=Jw(n);t&&WI(t)&&aa(t).position==="static";)t=Jw(t);return t&&(Ms(t)==="html"||Ms(t)==="body"&&aa(t).position==="static")?e:t||qI(n)||e}function Lb(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ud(n,e,t){return Yl(n,_m(e,t))}function VI(n,e,t){var r=ud(n,e,t);return r>t?t:r}function hA(){return{top:0,right:0,bottom:0,left:0}}function dA(n){return Object.assign({},hA(),n)}function fA(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var GI=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,dA(typeof e!="number"?e:fA(e,Qu))};function YI(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,l=t.modifiersData.popperOffsets,h=As(t.placement),c=Lb(h),d=[Ci,lo].indexOf(h)>=0,f=d?"height":"width";if(!(!s||!l)){var g=GI(i.padding,t),y=Ob(s),E=c==="y"?ki:Ci,_=c==="y"?ao:lo,w=t.rects.reference[f]+t.rects.reference[c]-l[c]-t.rects.popper[f],C=l[c]-t.rects.reference[c],M=uf(s),b=M?c==="y"?M.clientHeight||0:M.clientWidth||0:0,k=w/2-C/2,A=g[E],N=b-y[f]-g[_],T=b/2-y[f]/2+k,P=ud(A,T,N),R=c;t.modifiersData[r]=(e={},e[R]=P,e.centerOffset=P-T,e)}}function KI(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||uA(e.elements.popper,i)&&(e.elements.arrow=i))}const pA={name:"arrow",enabled:!0,phase:"main",fn:YI,effect:KI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zu(n){return n.split("-")[1]}var ZI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XI(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:$u(t*i)/i||0,y:$u(r*i)/i||0}}function Qw(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,l=n.offsets,h=n.position,c=n.gpuAcceleration,d=n.adaptive,f=n.roundOffsets,g=n.isFixed,y=l.x,E=y===void 0?0:y,_=l.y,w=_===void 0?0:_,C=typeof f=="function"?f({x:E,y:w}):{x:E,y:w};E=C.x,w=C.y;var M=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),k=Ci,A=ki,N=window;if(d){var T=uf(t),P="clientHeight",R="clientWidth";if(T===co(t)&&(T=il(t),aa(T).position!=="static"&&h==="absolute"&&(P="scrollHeight",R="scrollWidth")),T=T,i===ki||(i===Ci||i===lo)&&s===ju){A=ao;var B=g&&T===N&&N.visualViewport?N.visualViewport.height:T[P];w-=B-r.height,w*=c?1:-1}if(i===Ci||(i===ki||i===ao)&&s===ju){k=lo;var D=g&&T===N&&N.visualViewport?N.visualViewport.width:T[R];E-=D-r.width,E*=c?1:-1}}var H=Object.assign({position:h},d&&ZI),$=f===!0?XI({x:E,y:w},co(t)):{x:E,y:w};if(E=$.x,w=$.y,c){var V;return Object.assign({},H,(V={},V[A]=b?"0":"",V[k]=M?"0":"",V.transform=(N.devicePixelRatio||1)<=1?"translate("+E+"px, "+w+"px)":"translate3d("+E+"px, "+w+"px, 0)",V))}return Object.assign({},H,(e={},e[A]=b?w+"px":"",e[k]=M?E+"px":"",e.transform="",e))}function JI(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,l=s===void 0?!0:s,h=t.roundOffsets,c=h===void 0?!0:h,d={placement:As(e.placement),variation:zu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Qw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Qw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Mb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JI,data:{}};var pp={passive:!0};function QI(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,h=l===void 0?!0:l,c=co(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",t.update,pp)}),h&&c.addEventListener("resize",t.update,pp),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",t.update,pp)}),h&&c.removeEventListener("resize",t.update,pp)}}const Pb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QI,data:{}};var eD={left:"right",right:"left",bottom:"top",top:"bottom"};function Vp(n){return n.replace(/left|right|bottom|top/g,function(e){return eD[e]})}var tD={start:"end",end:"start"};function e_(n){return n.replace(/start|end/g,function(e){return tD[e]})}function Nb(n){var e=co(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Ib(n){return Hu(il(n)).left+Nb(n).scrollLeft}function nD(n,e){var t=co(n),r=il(n),i=t.visualViewport,s=r.clientWidth,l=r.clientHeight,h=0,c=0;if(i){s=i.width,l=i.height;var d=cA();(d||!d&&e==="fixed")&&(h=i.offsetLeft,c=i.offsetTop)}return{width:s,height:l,x:h+Ib(n),y:c}}function rD(n){var e,t=il(n),r=Nb(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Yl(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Yl(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+Ib(n),c=-r.scrollTop;return aa(i||t).direction==="rtl"&&(h+=Yl(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:h,y:c}}function Db(n){var e=aa(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function mA(n){return["html","body","#document"].indexOf(Ms(n))>=0?n.ownerDocument.body:xo(n)&&Db(n)?n:mA(vg(n))}function hd(n,e){var t;e===void 0&&(e=[]);var r=mA(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=co(r),l=i?[s].concat(s.visualViewport||[],Db(r)?r:[]):r,h=e.concat(l);return i?h:h.concat(hd(vg(l)))}function l0(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function iD(n,e){var t=Hu(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function t_(n,e,t){return e===Ab?l0(nD(n,t)):Ql(e)?iD(e,t):l0(rD(il(n)))}function oD(n){var e=hd(vg(n)),t=["absolute","fixed"].indexOf(aa(n).position)>=0,r=t&&xo(n)?uf(n):n;return Ql(r)?e.filter(function(i){return Ql(i)&&uA(i,r)&&Ms(i)!=="body"}):[]}function sD(n,e,t,r){var i=e==="clippingParents"?oD(n):[].concat(e),s=[].concat(i,[t]),l=s[0],h=s.reduce(function(c,d){var f=t_(n,d,r);return c.top=Yl(f.top,c.top),c.right=_m(f.right,c.right),c.bottom=_m(f.bottom,c.bottom),c.left=Yl(f.left,c.left),c},t_(n,l,r));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function gA(n){var e=n.reference,t=n.element,r=n.placement,i=r?As(r):null,s=r?zu(r):null,l=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2,c;switch(i){case ki:c={x:l,y:e.y-t.height};break;case ao:c={x:l,y:e.y+e.height};break;case lo:c={x:e.x+e.width,y:h};break;case Ci:c={x:e.x-t.width,y:h};break;default:c={x:e.x,y:e.y}}var d=i?Lb(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case Jl:c[d]=c[d]-(e[f]/2-t[f]/2);break;case ju:c[d]=c[d]+(e[f]/2-t[f]/2);break}}return c}function Uu(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,l=s===void 0?n.strategy:s,h=t.boundary,c=h===void 0?XE:h,d=t.rootBoundary,f=d===void 0?Ab:d,g=t.elementContext,y=g===void 0?Jc:g,E=t.altBoundary,_=E===void 0?!1:E,w=t.padding,C=w===void 0?0:w,M=dA(typeof C!="number"?C:fA(C,Qu)),b=y===Jc?JE:Jc,k=n.rects.popper,A=n.elements[_?b:y],N=sD(Ql(A)?A:A.contextElement||il(n.elements.popper),c,f,l),T=Hu(n.elements.reference),P=gA({reference:T,element:k,strategy:"absolute",placement:i}),R=l0(Object.assign({},k,P)),B=y===Jc?R:T,D={top:N.top-B.top+M.top,bottom:B.bottom-N.bottom+M.bottom,left:N.left-B.left+M.left,right:B.right-N.right+M.right},H=n.modifiersData.offset;if(y===Jc&&H){var $=H[i];Object.keys(D).forEach(function(V){var ee=[lo,ao].indexOf(V)>=0?1:-1,fe=[ki,ao].indexOf(V)>=0?"y":"x";D[V]+=$[fe]*ee})}return D}function aD(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,l=t.padding,h=t.flipVariations,c=t.allowedAutoPlacements,d=c===void 0?Tb:c,f=zu(r),g=f?h?s0:s0.filter(function(_){return zu(_)===f}):Qu,y=g.filter(function(_){return d.indexOf(_)>=0});y.length===0&&(y=g);var E=y.reduce(function(_,w){return _[w]=Uu(n,{placement:w,boundary:i,rootBoundary:s,padding:l})[As(w)],_},{});return Object.keys(E).sort(function(_,w){return E[_]-E[w]})}function lD(n){if(As(n)===gg)return[];var e=Vp(n);return[e_(n),e,e_(e)]}function cD(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!0:l,c=t.fallbackPlacements,d=t.padding,f=t.boundary,g=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,_=E===void 0?!0:E,w=t.allowedAutoPlacements,C=e.options.placement,M=As(C),b=M===C,k=c||(b||!_?[Vp(C)]:lD(C)),A=[C].concat(k).reduce(function(X,K){return X.concat(As(K)===gg?aD(e,{placement:K,boundary:f,rootBoundary:g,padding:d,flipVariations:_,allowedAutoPlacements:w}):K)},[]),N=e.rects.reference,T=e.rects.popper,P=new Map,R=!0,B=A[0],D=0;D<A.length;D++){var H=A[D],$=As(H),V=zu(H)===Jl,ee=[ki,ao].indexOf($)>=0,fe=ee?"width":"height",me=Uu(e,{placement:H,boundary:f,rootBoundary:g,altBoundary:y,padding:d}),ie=ee?V?lo:Ci:V?ao:ki;N[fe]>T[fe]&&(ie=Vp(ie));var te=Vp(ie),be=[];if(s&&be.push(me[$]<=0),h&&be.push(me[ie]<=0,me[te]<=0),be.every(function(X){return X})){B=H,R=!1;break}P.set(H,be)}if(R)for(var Y=_?3:1,ue=function(K){var Oe=A.find(function(Fe){var Q=P.get(Fe);if(Q)return Q.slice(0,K).every(function(oe){return oe})});if(Oe)return B=Oe,"break"},ke=Y;ke>0;ke--){var xe=ue(ke);if(xe==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}const vA={name:"flip",enabled:!0,phase:"main",fn:cD,requiresIfExists:["offset"],data:{_skip:!1}};function n_(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function r_(n){return[ki,lo,ao,Ci].some(function(e){return n[e]>=0})}function uD(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=Uu(e,{elementContext:"reference"}),h=Uu(e,{altBoundary:!0}),c=n_(l,r),d=n_(h,i,s),f=r_(c),g=r_(d);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}const yA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uD};function hD(n,e,t){var r=As(n),i=[Ci,ki].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=s[0],h=s[1];return l=l||0,h=(h||0)*i,[Ci,lo].indexOf(r)>=0?{x:h,y:l}:{x:l,y:h}}function dD(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,l=Tb.reduce(function(f,g){return f[g]=hD(g,e.rects,s),f},{}),h=l[e.placement],c=h.x,d=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=l}const bA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dD};function fD(n){var e=n.state,t=n.name;e.modifiersData[t]=gA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Rb={name:"popperOffsets",enabled:!0,phase:"read",fn:fD,data:{}};function pD(n){return n==="x"?"y":"x"}function mD(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!1:l,c=t.boundary,d=t.rootBoundary,f=t.altBoundary,g=t.padding,y=t.tether,E=y===void 0?!0:y,_=t.tetherOffset,w=_===void 0?0:_,C=Uu(e,{boundary:c,rootBoundary:d,padding:g,altBoundary:f}),M=As(e.placement),b=zu(e.placement),k=!b,A=Lb(M),N=pD(A),T=e.modifiersData.popperOffsets,P=e.rects.reference,R=e.rects.popper,B=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,D=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(T){if(s){var V,ee=A==="y"?ki:Ci,fe=A==="y"?ao:lo,me=A==="y"?"height":"width",ie=T[A],te=ie+C[ee],be=ie-C[fe],Y=E?-R[me]/2:0,ue=b===Jl?P[me]:R[me],ke=b===Jl?-R[me]:-P[me],xe=e.elements.arrow,X=E&&xe?Ob(xe):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hA(),Oe=K[ee],Fe=K[fe],Q=ud(0,P[me],X[me]),oe=k?P[me]/2-Y-Q-Oe-D.mainAxis:ue-Q-Oe-D.mainAxis,ae=k?-P[me]/2+Y+Q+Fe+D.mainAxis:ke+Q+Fe+D.mainAxis,ce=e.elements.arrow&&uf(e.elements.arrow),q=ce?A==="y"?ce.clientTop||0:ce.clientLeft||0:0,J=(V=H==null?void 0:H[A])!=null?V:0,pe=ie+oe-J-q,ye=ie+ae-J,Ae=ud(E?_m(te,pe):te,ie,E?Yl(be,ye):be);T[A]=Ae,$[A]=Ae-ie}if(h){var Te,De=A==="x"?ki:Ci,ne=A==="x"?ao:lo,le=T[N],he=N==="y"?"height":"width",O=le+C[De],F=le-C[ne],z=[ki,Ci].indexOf(M)!==-1,re=(Te=H==null?void 0:H[N])!=null?Te:0,_e=z?O:le-P[he]-R[he]-re+D.altAxis,Le=z?le+P[he]+R[he]-re-D.altAxis:F,Me=E&&z?VI(_e,le,Le):ud(E?_e:O,le,E?Le:F);T[N]=Me,$[N]=Me-le}e.modifiersData[r]=$}}const wA={name:"preventOverflow",enabled:!0,phase:"main",fn:mD,requiresIfExists:["offset"]};function gD(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function vD(n){return n===co(n)||!xo(n)?Nb(n):gD(n)}function yD(n){var e=n.getBoundingClientRect(),t=$u(e.width)/n.offsetWidth||1,r=$u(e.height)/n.offsetHeight||1;return t!==1||r!==1}function bD(n,e,t){t===void 0&&(t=!1);var r=xo(e),i=xo(e)&&yD(e),s=il(e),l=Hu(n,i,t),h={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((Ms(e)!=="body"||Db(s))&&(h=vD(e)),xo(e)?(c=Hu(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Ib(s))),{x:l.left+h.scrollLeft-c.x,y:l.top+h.scrollTop-c.y,width:l.width,height:l.height}}function wD(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(h){if(!t.has(h)){var c=e.get(h);c&&i(c)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function _D(n){var e=wD(n);return lA.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function xD(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function SD(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var i_={placement:"bottom",modifiers:[],strategy:"absolute"};function o_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yg(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?i_:i;return function(h,c,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},i_,s),modifiersData:{},elements:{reference:h,popper:c},attributes:{},styles:{}},g=[],y=!1,E={state:f,setOptions:function(M){var b=typeof M=="function"?M(f.options):M;w(),f.options=Object.assign({},s,f.options,b),f.scrollParents={reference:Ql(h)?hd(h):h.contextElement?hd(h.contextElement):[],popper:hd(c)};var k=_D(SD([].concat(r,f.options.modifiers)));return f.orderedModifiers=k.filter(function(A){return A.enabled}),_(),E.update()},forceUpdate:function(){if(!y){var M=f.elements,b=M.reference,k=M.popper;if(o_(b,k)){f.rects={reference:bD(b,uf(k),f.options.strategy==="fixed"),popper:Ob(k)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(D){return f.modifiersData[D.name]=Object.assign({},D.data)});for(var A=0;A<f.orderedModifiers.length;A++){if(f.reset===!0){f.reset=!1,A=-1;continue}var N=f.orderedModifiers[A],T=N.fn,P=N.options,R=P===void 0?{}:P,B=N.name;typeof T=="function"&&(f=T({state:f,options:R,name:B,instance:E})||f)}}}},update:xD(function(){return new Promise(function(C){E.forceUpdate(),C(f)})}),destroy:function(){w(),y=!0}};if(!o_(h,c))return E;E.setOptions(d).then(function(C){!y&&d.onFirstUpdate&&d.onFirstUpdate(C)});function _(){f.orderedModifiers.forEach(function(C){var M=C.name,b=C.options,k=b===void 0?{}:b,A=C.effect;if(typeof A=="function"){var N=A({state:f,name:M,instance:E,options:k}),T=function(){};g.push(N||T)}})}function w(){g.forEach(function(C){return C()}),g=[]}return E}}var ED=yg(),AD=[Pb,Rb,Mb,Cb],TD=yg({defaultModifiers:AD}),kD=[Pb,Rb,Mb,Cb,bA,vA,wA,pA,yA],Fb=yg({defaultModifiers:kD});const _A=Object.freeze(Object.defineProperty({__proto__:null,afterMain:iA,afterRead:tA,afterWrite:aA,applyStyles:Cb,arrow:pA,auto:gg,basePlacements:Qu,beforeMain:nA,beforeRead:QE,beforeWrite:oA,bottom:ao,clippingParents:XE,computeStyles:Mb,createPopper:Fb,createPopperBase:ED,createPopperLite:TD,detectOverflow:Uu,end:ju,eventListeners:Pb,flip:vA,hide:yA,left:Ci,main:rA,modifierPhases:lA,offset:bA,placements:Tb,popper:Jc,popperGenerator:yg,popperOffsets:Rb,preventOverflow:wA,read:eA,reference:JE,right:lo,start:Jl,top:ki,variationPlacements:s0,viewport:Ab,write:sA},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.5 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const La=new Map,jv={set(n,e,t){La.has(n)||La.set(n,new Map);const r=La.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return La.has(n)&&La.get(n).get(e)||null},remove(n,e){if(!La.has(n))return;const t=La.get(n);t.delete(e),t.size===0&&La.delete(n)}},CD=1e6,OD=1e3,c0="transitionend",xA=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),LD=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),MD=n=>{do n+=Math.floor(Math.random()*CD);while(document.getElementById(n));return n},PD=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*OD)},SA=n=>{n.dispatchEvent(new Event(c0))},ia=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),el=n=>ia(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(xA(n)):null,eh=n=>{if(!ia(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},tl=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",EA=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?EA(n.parentNode):null},xm=()=>{},hf=n=>{n.offsetHeight},AA=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$v=[],ND=n=>{document.readyState==="loading"?($v.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of $v)e()}),$v.push(n)):n()},Eo=()=>document.documentElement.dir==="rtl",ko=n=>{ND(()=>{const e=AA();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},ji=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,TA=(n,e,t=!0)=>{if(!t){ji(n);return}const r=5,i=PD(e)+r;let s=!1;const l=({target:h})=>{h===e&&(s=!0,e.removeEventListener(c0,l),ji(n))};e.addEventListener(c0,l),setTimeout(()=>{s||SA(e)},i)},Bb=(n,e,t,r)=>{const i=n.length;let s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},ID=/[^.]*(?=\..*)\.|.*/,DD=/\..*/,RD=/::\d+$/,Hv={};let s_=1;const kA={mouseenter:"mouseover",mouseleave:"mouseout"},FD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CA(n,e){return e&&`${e}::${s_++}`||n.uidEvent||s_++}function OA(n){const e=CA(n);return n.uidEvent=e,Hv[e]=Hv[e]||{},Hv[e]}function BD(n,e){return function t(r){return jb(r,{delegateTarget:n}),t.oneOff&&ot.off(n,r.type,e),e.apply(n,[r])}}function jD(n,e,t){return function r(i){const s=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const h of s)if(h===l)return jb(i,{delegateTarget:l}),r.oneOff&&ot.off(n,i.type,e,t),t.apply(l,[i])}}function LA(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function MA(n,e,t){const r=typeof e=="string",i=r?t:e||t;let s=PA(n);return FD.has(s)||(s=n),[r,i,s]}function a_(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,l,h]=MA(e,t,r);e in kA&&(l=(_=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return _.call(this,w)})(l));const c=OA(n),d=c[h]||(c[h]={}),f=LA(d,l,s?t:null);if(f){f.oneOff=f.oneOff&&i;return}const g=CA(l,e.replace(ID,"")),y=s?jD(n,t,l):BD(n,l);y.delegationSelector=s?t:null,y.callable=l,y.oneOff=i,y.uidEvent=g,d[g]=y,n.addEventListener(h,y,s)}function u0(n,e,t,r,i){const s=LA(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function $D(n,e,t,r){const i=e[t]||{};for(const[s,l]of Object.entries(i))s.includes(r)&&u0(n,e,t,l.callable,l.delegationSelector)}function PA(n){return n=n.replace(DD,""),kA[n]||n}const ot={on(n,e,t,r){a_(n,e,t,r,!1)},one(n,e,t,r){a_(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,s,l]=MA(e,t,r),h=l!==e,c=OA(n),d=c[l]||{},f=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(d).length)return;u0(n,c,l,s,i?t:null);return}if(f)for(const g of Object.keys(c))$D(n,c,g,e.slice(1));for(const[g,y]of Object.entries(d)){const E=g.replace(RD,"");(!h||e.includes(E))&&u0(n,c,l,y.callable,y.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=AA(),i=PA(e),s=e!==i;let l=null,h=!0,c=!0,d=!1;s&&r&&(l=r.Event(e,t),r(n).trigger(l),h=!l.isPropagationStopped(),c=!l.isImmediatePropagationStopped(),d=l.isDefaultPrevented());const f=jb(new Event(e,{bubbles:h,cancelable:!0}),t);return d&&f.preventDefault(),c&&n.dispatchEvent(f),f.defaultPrevented&&l&&l.preventDefault(),f}};function jb(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function l_(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function zv(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const oa={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${zv(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${zv(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=l_(n.dataset[r])}return e},getDataAttribute(n,e){return l_(n.getAttribute(`data-bs-${zv(e)}`))}};let df=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=ia(t)?oa.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...ia(t)?oa.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const s=e[r],l=ia(s)?"element":LD(s);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}};const HD="5.3.5";class Qo extends df{constructor(e,t){super(),e=el(e),e&&(this._element=e,this._config=this._getConfig(t),jv.set(this._element,this.constructor.DATA_KEY,this))}dispose(){jv.remove(this._element,this.constructor.DATA_KEY),ot.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){TA(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return jv.get(el(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return HD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Uv=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>xA(t)).join(","):null},Ht={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!tl(t)&&eh(t))},getSelectorFromElement(n){const e=Uv(n);return e&&Ht.findOne(e)?e:null},getElementFromSelector(n){const e=Uv(n);return e?Ht.findOne(e):null},getMultipleElementsFromSelector(n){const e=Uv(n);return e?Ht.find(e):[]}},bg=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ot.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),tl(this))return;const s=Ht.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},zD="alert",UD="bs.alert",NA=`.${UD}`,WD=`close${NA}`,qD=`closed${NA}`,VD="fade",GD="show";class ff extends Qo{static get NAME(){return zD}close(){if(ot.trigger(this._element,WD).defaultPrevented)return;this._element.classList.remove(GD);const t=this._element.classList.contains(VD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ot.trigger(this._element,qD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=ff.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}bg(ff,"close");ko(ff);const YD="button",KD="bs.button",ZD=`.${KD}`,XD=".data-api",JD="active",c_='[data-bs-toggle="button"]',QD=`click${ZD}${XD}`;class pf extends Qo{static get NAME(){return YD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(JD))}static jQueryInterface(e){return this.each(function(){const t=pf.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ot.on(document,QD,c_,n=>{n.preventDefault();const e=n.target.closest(c_);pf.getOrCreateInstance(e).toggle()});ko(pf);const e2="swipe",th=".bs.swipe",t2=`touchstart${th}`,n2=`touchmove${th}`,r2=`touchend${th}`,i2=`pointerdown${th}`,o2=`pointerup${th}`,s2="touch",a2="pen",l2="pointer-event",c2=40,u2={endCallback:null,leftCallback:null,rightCallback:null},h2={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Sm extends df{constructor(e,t){super(),this._element=e,!(!e||!Sm.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return u2}static get DefaultType(){return h2}static get NAME(){return e2}dispose(){ot.off(this._element,th)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ji(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=c2)return;const t=e/this._deltaX;this._deltaX=0,t&&ji(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ot.on(this._element,i2,e=>this._start(e)),ot.on(this._element,o2,e=>this._end(e)),this._element.classList.add(l2)):(ot.on(this._element,t2,e=>this._start(e)),ot.on(this._element,n2,e=>this._move(e)),ot.on(this._element,r2,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===a2||e.pointerType===s2)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const d2="carousel",f2="bs.carousel",ol=`.${f2}`,IA=".data-api",p2="ArrowLeft",m2="ArrowRight",g2=500,$h="next",zc="prev",Qc="left",Gp="right",v2=`slide${ol}`,Wv=`slid${ol}`,y2=`keydown${ol}`,b2=`mouseenter${ol}`,w2=`mouseleave${ol}`,_2=`dragstart${ol}`,x2=`load${ol}${IA}`,S2=`click${ol}${IA}`,DA="carousel",mp="active",E2="slide",A2="carousel-item-end",T2="carousel-item-start",k2="carousel-item-next",C2="carousel-item-prev",RA=".active",FA=".carousel-item",O2=RA+FA,L2=".carousel-item img",M2=".carousel-indicators",P2="[data-bs-slide], [data-bs-slide-to]",N2='[data-bs-ride="carousel"]',I2={[p2]:Gp,[m2]:Qc},D2={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},R2={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class nh extends Qo{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ht.findOne(M2,this._element),this._addEventListeners(),this._config.ride===DA&&this.cycle()}static get Default(){return D2}static get DefaultType(){return R2}static get NAME(){return d2}next(){this._slide($h)}nextWhenVisible(){!document.hidden&&eh(this._element)&&this.next()}prev(){this._slide(zc)}pause(){this._isSliding&&SA(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ot.one(this._element,Wv,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ot.one(this._element,Wv,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?$h:zc;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ot.on(this._element,y2,e=>this._keydown(e)),this._config.pause==="hover"&&(ot.on(this._element,b2,()=>this.pause()),ot.on(this._element,w2,()=>this._maybeEnableCycle())),this._config.touch&&Sm.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Ht.find(L2,this._element))ot.on(r,_2,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Qc)),rightCallback:()=>this._slide(this._directionToOrder(Gp)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),g2+this._config.interval))}};this._swipeHelper=new Sm(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=I2[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ht.findOne(RA,this._indicatorsElement);t.classList.remove(mp),t.removeAttribute("aria-current");const r=Ht.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(mp),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===$h,s=t||Bb(this._getItems(),r,i,this._config.wrap);if(s===r)return;const l=this._getItemIndex(s),h=E=>ot.trigger(this._element,E,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(h(v2).defaultPrevented||!r||!s)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=s;const f=i?T2:A2,g=i?k2:C2;s.classList.add(g),hf(s),r.classList.add(f),s.classList.add(f);const y=()=>{s.classList.remove(f,g),s.classList.add(mp),r.classList.remove(mp,g,f),this._isSliding=!1,h(Wv)};this._queueCallback(y,r,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(E2)}_getActive(){return Ht.findOne(O2,this._element)}_getItems(){return Ht.find(FA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Eo()?e===Qc?zc:$h:e===Qc?$h:zc}_orderToDirection(e){return Eo()?e===zc?Qc:Gp:e===zc?Gp:Qc}static jQueryInterface(e){return this.each(function(){const t=nh.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(document,S2,P2,function(n){const e=Ht.getElementFromSelector(this);if(!e||!e.classList.contains(DA))return;n.preventDefault();const t=nh.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(oa.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ot.on(window,x2,()=>{const n=Ht.find(N2);for(const e of n)nh.getOrCreateInstance(e)});ko(nh);const F2="collapse",B2="bs.collapse",mf=`.${B2}`,j2=".data-api",$2=`show${mf}`,H2=`shown${mf}`,z2=`hide${mf}`,U2=`hidden${mf}`,W2=`click${mf}${j2}`,qv="show",du="collapse",gp="collapsing",q2="collapsed",V2=`:scope .${du} .${du}`,G2="collapse-horizontal",Y2="width",K2="height",Z2=".collapse.show, .collapse.collapsing",h0='[data-bs-toggle="collapse"]',X2={parent:null,toggle:!0},J2={parent:"(null|element)",toggle:"boolean"};class Wu extends Qo{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Ht.find(h0);for(const i of r){const s=Ht.getSelectorFromElement(i),l=Ht.find(s).filter(h=>h===this._element);s!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return X2}static get DefaultType(){return J2}static get NAME(){return F2}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Z2).filter(h=>h!==this._element).map(h=>Wu.getOrCreateInstance(h,{toggle:!1}))),e.length&&e[0]._isTransitioning||ot.trigger(this._element,$2).defaultPrevented)return;for(const h of e)h.hide();const r=this._getDimension();this._element.classList.remove(du),this._element.classList.add(gp),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(gp),this._element.classList.add(du,qv),this._element.style[r]="",ot.trigger(this._element,H2)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ot.trigger(this._element,z2).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,hf(this._element),this._element.classList.add(gp),this._element.classList.remove(du,qv);for(const i of this._triggerArray){const s=Ht.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(gp),this._element.classList.add(du),ot.trigger(this._element,U2)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(qv)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=el(e.parent),e}_getDimension(){return this._element.classList.contains(G2)?Y2:K2}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(h0);for(const t of e){const r=Ht.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Ht.find(V2,this._config.parent);return Ht.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(q2,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Wu.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}ot.on(document,W2,h0,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ht.getMultipleElementsFromSelector(this))Wu.getOrCreateInstance(e,{toggle:!1}).toggle()});ko(Wu);const u_="dropdown",Q2="bs.dropdown",ac=`.${Q2}`,$b=".data-api",eR="Escape",h_="Tab",tR="ArrowUp",d_="ArrowDown",nR=2,rR=`hide${ac}`,iR=`hidden${ac}`,oR=`show${ac}`,sR=`shown${ac}`,BA=`click${ac}${$b}`,jA=`keydown${ac}${$b}`,aR=`keyup${ac}${$b}`,eu="show",lR="dropup",cR="dropend",uR="dropstart",hR="dropup-center",dR="dropdown-center",Hl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',fR=`${Hl}.${eu}`,Yp=".dropdown-menu",pR=".navbar",mR=".navbar-nav",gR=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",vR=Eo()?"top-end":"top-start",yR=Eo()?"top-start":"top-end",bR=Eo()?"bottom-end":"bottom-start",wR=Eo()?"bottom-start":"bottom-end",_R=Eo()?"left-start":"right-start",xR=Eo()?"right-start":"left-start",SR="top",ER="bottom",AR={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},TR={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ko extends Qo{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ht.next(this._element,Yp)[0]||Ht.prev(this._element,Yp)[0]||Ht.findOne(Yp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return AR}static get DefaultType(){return TR}static get NAME(){return u_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(tl(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ot.trigger(this._element,oR,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(mR))for(const r of[].concat(...document.body.children))ot.on(r,"mouseover",xm);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(eu),this._element.classList.add(eu),ot.trigger(this._element,sR,e)}}hide(){if(tl(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ot.trigger(this._element,rR,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ot.off(r,"mouseover",xm);this._popper&&this._popper.destroy(),this._menu.classList.remove(eu),this._element.classList.remove(eu),this._element.setAttribute("aria-expanded","false"),oa.removeDataAttribute(this._menu,"popper"),ot.trigger(this._element,iR,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ia(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${u_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof _A>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:ia(this._config.reference)?e=el(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Fb(e,this._menu,t)}_isShown(){return this._menu.classList.contains(eu)}_getPlacement(){const e=this._parent;if(e.classList.contains(cR))return _R;if(e.classList.contains(uR))return xR;if(e.classList.contains(hR))return SR;if(e.classList.contains(dR))return ER;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(lR)?t?yR:vR:t?wR:bR}_detectNavbar(){return this._element.closest(pR)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(oa.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ji(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const r=Ht.find(gR,this._menu).filter(i=>eh(i));r.length&&Bb(r,t,e===d_,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Ko.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===nR||e.type==="keyup"&&e.key!==h_)return;const t=Ht.find(fR);for(const r of t){const i=Ko.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),l=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===h_||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const h={relatedTarget:i._element};e.type==="click"&&(h.clickEvent=e),i._completeHide(h)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===eR,i=[tR,d_].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const s=this.matches(Hl)?this:Ht.prev(this,Hl)[0]||Ht.next(this,Hl)[0]||Ht.findOne(Hl,e.delegateTarget.parentNode),l=Ko.getOrCreateInstance(s);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),s.focus())}}ot.on(document,jA,Hl,Ko.dataApiKeydownHandler);ot.on(document,jA,Yp,Ko.dataApiKeydownHandler);ot.on(document,BA,Ko.clearMenus);ot.on(document,aR,Ko.clearMenus);ot.on(document,BA,Hl,function(n){n.preventDefault(),Ko.getOrCreateInstance(this).toggle()});ko(Ko);const $A="backdrop",kR="fade",f_="show",p_=`mousedown.bs.${$A}`,CR={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},OR={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class HA extends df{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return CR}static get DefaultType(){return OR}static get NAME(){return $A}show(e){if(!this._config.isVisible){ji(e);return}this._append();const t=this._getElement();this._config.isAnimated&&hf(t),t.classList.add(f_),this._emulateAnimation(()=>{ji(e)})}hide(e){if(!this._config.isVisible){ji(e);return}this._getElement().classList.remove(f_),this._emulateAnimation(()=>{this.dispose(),ji(e)})}dispose(){this._isAppended&&(ot.off(this._element,p_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(kR),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=el(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ot.on(e,p_,()=>{ji(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){TA(e,this._getElement(),this._config.isAnimated)}}const LR="focustrap",MR="bs.focustrap",Em=`.${MR}`,PR=`focusin${Em}`,NR=`keydown.tab${Em}`,IR="Tab",DR="forward",m_="backward",RR={autofocus:!0,trapElement:null},FR={autofocus:"boolean",trapElement:"element"};class zA extends df{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return RR}static get DefaultType(){return FR}static get NAME(){return LR}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ot.off(document,Em),ot.on(document,PR,e=>this._handleFocusin(e)),ot.on(document,NR,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ot.off(document,Em))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Ht.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===m_?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===IR&&(this._lastTabNavDirection=e.shiftKey?m_:DR)}}const g_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",v_=".sticky-top",vp="padding-right",y_="margin-right";class d0{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vp,t=>t+e),this._setElementAttributes(g_,vp,t=>t+e),this._setElementAttributes(v_,y_,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vp),this._resetElementAttributes(g_,vp),this._resetElementAttributes(v_,y_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),s=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const h=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(h))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&oa.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const s=oa.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}oa.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(ia(e)){t(e);return}for(const r of Ht.find(e,this._element))t(r)}}const BR="modal",jR="bs.modal",Ao=`.${jR}`,$R=".data-api",HR="Escape",zR=`hide${Ao}`,UR=`hidePrevented${Ao}`,UA=`hidden${Ao}`,WA=`show${Ao}`,WR=`shown${Ao}`,qR=`resize${Ao}`,VR=`click.dismiss${Ao}`,GR=`mousedown.dismiss${Ao}`,YR=`keydown.dismiss${Ao}`,KR=`click${Ao}${$R}`,b_="modal-open",ZR="fade",w_="show",Vv="modal-static",XR=".modal.show",JR=".modal-dialog",QR=".modal-body",eF='[data-bs-toggle="modal"]',tF={backdrop:!0,focus:!0,keyboard:!0},nF={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ai extends Qo{constructor(e,t){super(e,t),this._dialog=Ht.findOne(JR,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new d0,this._addEventListeners()}static get Default(){return tF}static get DefaultType(){return nF}static get NAME(){return BR}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ot.trigger(this._element,WA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(b_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ot.trigger(this._element,zR).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(w_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ot.off(window,Ao),ot.off(this._dialog,Ao),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new HA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ht.findOne(QR,this._dialog);t&&(t.scrollTop=0),hf(this._element),this._element.classList.add(w_);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ot.trigger(this._element,WR,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ot.on(this._element,YR,e=>{if(e.key===HR){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ot.on(window,qR,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ot.on(this._element,GR,e=>{ot.one(this._element,VR,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(b_),this._resetAdjustments(),this._scrollBar.reset(),ot.trigger(this._element,UA)})}_isAnimated(){return this._element.classList.contains(ZR)}_triggerBackdropTransition(){if(ot.trigger(this._element,UR).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Vv)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Vv),this._queueCallback(()=>{this._element.classList.remove(Vv),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Eo()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Eo()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Ai.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}ot.on(document,KR,eF,function(n){const e=Ht.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ot.one(e,WA,i=>{i.defaultPrevented||ot.one(e,UA,()=>{eh(this)&&this.focus()})});const t=Ht.findOne(XR);t&&Ai.getInstance(t).hide(),Ai.getOrCreateInstance(e).toggle(this)});bg(Ai);ko(Ai);const rF="offcanvas",iF="bs.offcanvas",fa=`.${iF}`,qA=".data-api",oF=`load${fa}${qA}`,sF="Escape",__="show",x_="showing",S_="hiding",aF="offcanvas-backdrop",VA=".offcanvas.show",lF=`show${fa}`,cF=`shown${fa}`,uF=`hide${fa}`,E_=`hidePrevented${fa}`,GA=`hidden${fa}`,hF=`resize${fa}`,dF=`click${fa}${qA}`,fF=`keydown.dismiss${fa}`,pF='[data-bs-toggle="offcanvas"]',mF={backdrop:!0,keyboard:!0,scroll:!1},gF={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class la extends Qo{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mF}static get DefaultType(){return gF}static get NAME(){return rF}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ot.trigger(this._element,lF,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new d0().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(x_);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(__),this._element.classList.remove(x_),ot.trigger(this._element,cF,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ot.trigger(this._element,uF).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(S_),this._backdrop.hide();const t=()=>{this._element.classList.remove(__,S_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new d0().reset(),ot.trigger(this._element,GA)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ot.trigger(this._element,E_);return}this.hide()},t=!!this._config.backdrop;return new HA({className:aF,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new zA({trapElement:this._element})}_addEventListeners(){ot.on(this._element,fF,e=>{if(e.key===sF){if(this._config.keyboard){this.hide();return}ot.trigger(this._element,E_)}})}static jQueryInterface(e){return this.each(function(){const t=la.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ot.on(document,dF,pF,function(n){const e=Ht.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),tl(this))return;ot.one(e,GA,()=>{eh(this)&&this.focus()});const t=Ht.findOne(VA);t&&t!==e&&la.getInstance(t).hide(),la.getOrCreateInstance(e).toggle(this)});ot.on(window,oF,()=>{for(const n of Ht.find(VA))la.getOrCreateInstance(n).show()});ot.on(window,hF,()=>{for(const n of Ht.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&la.getOrCreateInstance(n).hide()});bg(la);ko(la);const vF=/^aria-[\w-]*$/i,YA={"*":["class","dir","id","lang","role",vF],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yF=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wF=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?yF.has(t)?!!bF.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function _F(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const l of s){const h=l.nodeName.toLowerCase();if(!Object.keys(e).includes(h)){l.remove();continue}const c=[].concat(...l.attributes),d=[].concat(e["*"]||[],e[h]||[]);for(const f of c)wF(f,d)||l.removeAttribute(f.nodeName)}return i.body.innerHTML}const xF="TemplateFactory",SF={allowList:YA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},EF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},AF={entry:"(string|element|function|null)",selector:"(string|element)"};class TF extends df{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return SF}static get DefaultType(){return EF}static get NAME(){return xF}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},AF)}_setContent(e,t,r){const i=Ht.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(ia(t)){this._putElementInTemplate(el(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?_F(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ji(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const kF="tooltip",CF=new Set(["sanitize","allowList","sanitizeFn"]),Gv="fade",OF="modal",yp="show",LF=".tooltip-inner",A_=`.${OF}`,T_="hide.bs.modal",Hh="hover",Yv="focus",MF="click",PF="manual",NF="hide",IF="hidden",DF="show",RF="shown",FF="inserted",BF="click",jF="focusin",$F="focusout",HF="mouseenter",zF="mouseleave",UF={AUTO:"auto",TOP:"top",RIGHT:Eo()?"left":"right",BOTTOM:"bottom",LEFT:Eo()?"right":"left"},WF={allowList:YA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let rh=class KA extends Qo{constructor(e,t){if(typeof _A>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return WF}static get DefaultType(){return qF}static get NAME(){return kF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ot.off(this._element.closest(A_),T_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ot.trigger(this._element,this.constructor.eventName(DF)),r=(EA(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),ot.trigger(this._element,this.constructor.eventName(FF))),this._popper=this._createPopper(i),i.classList.add(yp),"ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))ot.on(h,"mouseover",xm);const l=()=>{ot.trigger(this._element,this.constructor.eventName(RF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ot.trigger(this._element,this.constructor.eventName(NF)).defaultPrevented)return;if(this._getTipElement().classList.remove(yp),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ot.off(i,"mouseover",xm);this._activeTrigger[MF]=!1,this._activeTrigger[Yv]=!1,this._activeTrigger[Hh]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ot.trigger(this._element,this.constructor.eventName(IF)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Gv,yp),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=MD(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Gv),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new TF({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[LF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Gv)}_isShown(){return this.tip&&this.tip.classList.contains(yp)}_createPopper(e){const t=ji(this._config.placement,[this,e,this._element]),r=UF[t.toUpperCase()];return Fb(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ji(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...ji(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ot.on(this._element,this.constructor.eventName(BF),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==PF){const r=t===Hh?this.constructor.eventName(HF):this.constructor.eventName(jF),i=t===Hh?this.constructor.eventName(zF):this.constructor.eventName($F);ot.on(this._element,r,this._config.selector,s=>{const l=this._initializeOnDelegatedTarget(s);l._activeTrigger[s.type==="focusin"?Yv:Hh]=!0,l._enter()}),ot.on(this._element,i,this._config.selector,s=>{const l=this._initializeOnDelegatedTarget(s);l._activeTrigger[s.type==="focusout"?Yv:Hh]=l._element.contains(s.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ot.on(this._element.closest(A_),T_,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=oa.getDataAttributes(this._element);for(const r of Object.keys(t))CF.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:el(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=KA.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ko(rh);const VF="popover",GF=".popover-header",YF=".popover-body",KF={...rh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ZF={...rh.DefaultType,content:"(null|string|element|function)"};class gf extends rh{static get Default(){return KF}static get DefaultType(){return ZF}static get NAME(){return VF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[GF]:this._getTitle(),[YF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=gf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ko(gf);const XF="scrollspy",JF="bs.scrollspy",Hb=`.${JF}`,QF=".data-api",eB=`activate${Hb}`,k_=`click${Hb}`,tB=`load${Hb}${QF}`,nB="dropdown-item",Uc="active",rB='[data-bs-spy="scroll"]',Kv="[href]",iB=".nav, .list-group",C_=".nav-link",oB=".nav-item",sB=".list-group-item",aB=`${C_}, ${oB} > ${C_}, ${sB}`,lB=".dropdown",cB=".dropdown-toggle",uB={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},hB={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class vf extends Qo{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return uB}static get DefaultType(){return hB}static get NAME(){return XF}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=el(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ot.off(this._config.target,k_),ot.on(this._config.target,k_,Kv,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const h=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&h){if(r(l),!i)return;continue}!s&&!h&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ht.find(Kv,this._config.target);for(const t of e){if(!t.hash||tl(t))continue;const r=Ht.findOne(decodeURI(t.hash),this._element);eh(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Uc),this._activateParents(e),ot.trigger(this._element,eB,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(nB)){Ht.findOne(cB,e.closest(lB)).classList.add(Uc);return}for(const t of Ht.parents(e,iB))for(const r of Ht.prev(t,aB))r.classList.add(Uc)}_clearActiveClass(e){e.classList.remove(Uc);const t=Ht.find(`${Kv}.${Uc}`,e);for(const r of t)r.classList.remove(Uc)}static jQueryInterface(e){return this.each(function(){const t=vf.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(window,tB,()=>{for(const n of Ht.find(rB))vf.getOrCreateInstance(n)});ko(vf);const dB="tab",fB="bs.tab",lc=`.${fB}`,pB=`hide${lc}`,mB=`hidden${lc}`,gB=`show${lc}`,vB=`shown${lc}`,yB=`click${lc}`,bB=`keydown${lc}`,wB=`load${lc}`,_B="ArrowLeft",O_="ArrowRight",xB="ArrowUp",L_="ArrowDown",Zv="Home",M_="End",zl="active",P_="fade",Xv="show",SB="dropdown",ZA=".dropdown-toggle",EB=".dropdown-menu",Jv=`:not(${ZA})`,AB='.list-group, .nav, [role="tablist"]',TB=".nav-item, .list-group-item",kB=`.nav-link${Jv}, .list-group-item${Jv}, [role="tab"]${Jv}`,XA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qv=`${kB}, ${XA}`,CB=`.${zl}[data-bs-toggle="tab"], .${zl}[data-bs-toggle="pill"], .${zl}[data-bs-toggle="list"]`;class Ts extends Qo{constructor(e){super(e),this._parent=this._element.closest(AB),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ot.on(this._element,bB,t=>this._keydown(t)))}static get NAME(){return dB}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ot.trigger(t,pB,{relatedTarget:e}):null;ot.trigger(e,gB,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(zl),this._activate(Ht.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Xv);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ot.trigger(e,vB,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(P_))}_deactivate(e,t){if(!e)return;e.classList.remove(zl),e.blur(),this._deactivate(Ht.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Xv);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ot.trigger(e,mB,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(P_))}_keydown(e){if(![_B,O_,xB,L_,Zv,M_].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!tl(i));let r;if([Zv,M_].includes(e.key))r=t[e.key===Zv?0:t.length-1];else{const i=[O_,L_].includes(e.key);r=Bb(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),Ts.getOrCreateInstance(r).show())}_getChildren(){return Ht.find(Qv,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ht.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(SB))return;const i=(s,l)=>{const h=Ht.findOne(s,r);h&&h.classList.toggle(l,t)};i(ZA,zl),i(EB,Xv),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(zl)}_getInnerElement(e){return e.matches(Qv)?e:Ht.findOne(Qv,e)}_getOuterElement(e){return e.closest(TB)||e}static jQueryInterface(e){return this.each(function(){const t=Ts.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ot.on(document,yB,XA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!tl(this)&&Ts.getOrCreateInstance(this).show()});ot.on(window,wB,()=>{for(const n of Ht.find(CB))Ts.getOrCreateInstance(n)});ko(Ts);const OB="toast",LB="bs.toast",sl=`.${LB}`,MB=`mouseover${sl}`,PB=`mouseout${sl}`,NB=`focusin${sl}`,IB=`focusout${sl}`,DB=`hide${sl}`,RB=`hidden${sl}`,FB=`show${sl}`,BB=`shown${sl}`,jB="fade",N_="hide",bp="show",wp="showing",$B={animation:"boolean",autohide:"boolean",delay:"number"},HB={animation:!0,autohide:!0,delay:5e3};class ih extends Qo{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return HB}static get DefaultType(){return $B}static get NAME(){return OB}show(){if(ot.trigger(this._element,FB).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(jB);const t=()=>{this._element.classList.remove(wp),ot.trigger(this._element,BB),this._maybeScheduleHide()};this._element.classList.remove(N_),hf(this._element),this._element.classList.add(bp,wp),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ot.trigger(this._element,DB).defaultPrevented)return;const t=()=>{this._element.classList.add(N_),this._element.classList.remove(wp,bp),ot.trigger(this._element,RB)};this._element.classList.add(wp),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bp),super.dispose()}isShown(){return this._element.classList.contains(bp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ot.on(this._element,MB,e=>this._onInteraction(e,!0)),ot.on(this._element,PB,e=>this._onInteraction(e,!1)),ot.on(this._element,NB,e=>this._onInteraction(e,!0)),ot.on(this._element,IB,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ih.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}bg(ih);ko(ih);const zB=Object.freeze(Object.defineProperty({__proto__:null,Alert:ff,Button:pf,Carousel:nh,Collapse:Wu,Dropdown:Ko,Modal:Ai,Offcanvas:la,Popover:gf,ScrollSpy:vf,Tab:Ts,Toast:ih,Tooltip:rh},Symbol.toStringTag,{value:"Module"}));class JA extends vn{setMessage(e){return this.messageTarget.innerHTML=e,this}setButton(e){return this.buttonTarget.innerHTML=e,this}open(e){this.setButton(e.button).setMessage(e.message),document.querySelectorAll("button[type=submit]").forEach(t=>{t.addEventListener("click",r=>{r.target.focus()})}),new Ai(this.element).show()}}$e(JA,"targets",["message","button"]);const UB=Object.freeze(Object.defineProperty({__proto__:null,default:JA},Symbol.toStringTag,{value:"Module"}));/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function I_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function QA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(t),!0).forEach(function(r){GB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eT(n){var e=WB(n,"string");return typeof e=="symbol"?e:e+""}function f0(n){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(n)}function qB(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function D_(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eT(r.key),r)}}function VB(n,e,t){return e&&D_(n.prototype,e),t&&D_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function GB(n,e,t){return e=eT(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tT(n){return YB(n)||KB(n)||ZB(n)||XB()}function YB(n){if(Array.isArray(n))return p0(n)}function KB(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ZB(n,e){if(n){if(typeof n=="string")return p0(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p0(n,e)}}function p0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function XB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wg=typeof window<"u"&&typeof window.document<"u",Ps=wg?window:{},zb=wg&&Ps.document.documentElement?"ontouchstart"in Ps.document.documentElement:!1,Ub=wg?"PointerEvent"in Ps:!1,Qn="cropper",Wb="all",nT="crop",rT="move",iT="zoom",Ml="e",Pl="w",Wc="s",Ma="n",zh="ne",Uh="nw",Wh="se",qh="sw",m0="".concat(Qn,"-crop"),R_="".concat(Qn,"-disabled"),Ri="".concat(Qn,"-hidden"),F_="".concat(Qn,"-hide"),JB="".concat(Qn,"-invisible"),Am="".concat(Qn,"-modal"),g0="".concat(Qn,"-move"),Td="".concat(Qn,"Action"),_p="".concat(Qn,"Preview"),qb="crop",oT="move",sT="none",v0="crop",y0="cropend",b0="cropmove",w0="cropstart",B_="dblclick",QB=zb?"touchstart":"mousedown",e3=zb?"touchmove":"mousemove",t3=zb?"touchend touchcancel":"mouseup",j_=Ub?"pointerdown":QB,$_=Ub?"pointermove":e3,H_=Ub?"pointerup pointercancel":t3,z_="ready",U_="resize",W_="wheel",_0="zoom",q_="image/jpeg",n3=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,r3=/^data:/,i3=/^data:image\/jpeg;base64,/,o3=/^img|canvas$/i,aT=200,lT=100,V_={viewMode:0,dragMode:qb,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:aT,minContainerHeight:lT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},s3='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',a3=Number.isNaN||Ps.isNaN;function Sn(n){return typeof n=="number"&&!a3(n)}var G_=function(e){return e>0&&e<1/0};function ey(n){return typeof n>"u"}function ec(n){return f0(n)==="object"&&n!==null}var l3=Object.prototype.hasOwnProperty;function fu(n){if(!ec(n))return!1;try{var e=n.constructor,t=e.prototype;return e&&t&&l3.call(t,"isPrototypeOf")}catch{return!1}}function Di(n){return typeof n=="function"}var c3=Array.prototype.slice;function cT(n){return Array.from?Array.from(n):c3.call(n)}function Cr(n,e){return n&&Di(e)&&(Array.isArray(n)||Sn(n.length)?cT(n).forEach(function(t,r){e.call(n,t,r,n)}):ec(n)&&Object.keys(n).forEach(function(t){e.call(n,n[t],t,n)})),n}var er=Object.assign||function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return ec(e)&&r.length>0&&r.forEach(function(s){ec(s)&&Object.keys(s).forEach(function(l){e[l]=s[l]})}),e},u3=/\.\d*(?:0|9){12}\d*$/;function bu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return u3.test(n)?Math.round(n*e)/e:n}var h3=/^width|height|left|top|marginLeft|marginTop$/;function qa(n,e){var t=n.style;Cr(e,function(r,i){h3.test(i)&&Sn(r)&&(r="".concat(r,"px")),t[i]=r})}function d3(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function Yr(n,e){if(e){if(Sn(n.length)){Cr(n,function(r){Yr(r,e)});return}if(n.classList){n.classList.add(e);return}var t=n.className.trim();t?t.indexOf(e)<0&&(n.className="".concat(t," ").concat(e)):n.className=e}}function ks(n,e){if(e){if(Sn(n.length)){Cr(n,function(t){ks(t,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function pu(n,e,t){if(e){if(Sn(n.length)){Cr(n,function(r){pu(r,e,t)});return}t?Yr(n,e):ks(n,e)}}var f3=/([a-z\d])([A-Z])/g;function Vb(n){return n.replace(f3,"$1-$2").toLowerCase()}function x0(n,e){return ec(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(Vb(e)))}function kd(n,e,t){ec(t)?n[e]=t:n.dataset?n.dataset[e]=t:n.setAttribute("data-".concat(Vb(e)),t)}function p3(n,e){if(ec(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(Vb(e)))}var uT=/\s\s*/,hT=function(){var n=!1;if(wg){var e=!1,t=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(s){e=s}});Ps.addEventListener("test",t,r),Ps.removeEventListener("test",t,r)}return n}();function zo(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(uT).forEach(function(s){if(!hT){var l=n.listeners;l&&l[s]&&l[s][t]&&(i=l[s][t],delete l[s][t],Object.keys(l[s]).length===0&&delete l[s],Object.keys(l).length===0&&delete n.listeners)}n.removeEventListener(s,i,r)})}function po(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(uT).forEach(function(s){if(r.once&&!hT){var l=n.listeners,h=l===void 0?{}:l;i=function(){delete h[s][t],n.removeEventListener(s,i,r);for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];t.apply(n,f)},h[s]||(h[s]={}),h[s][t]&&n.removeEventListener(s,h[s][t],r),h[s][t]=i,n.listeners=h}n.addEventListener(s,i,r)})}function wu(n,e,t){var r;return Di(Event)&&Di(CustomEvent)?r=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),n.dispatchEvent(r)}function dT(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var ty=Ps.location,m3=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Y_(n){var e=n.match(m3);return e!==null&&(e[1]!==ty.protocol||e[2]!==ty.hostname||e[3]!==ty.port)}function K_(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function dd(n){var e=n.rotate,t=n.scaleX,r=n.scaleY,i=n.translateX,s=n.translateY,l=[];Sn(i)&&i!==0&&l.push("translateX(".concat(i,"px)")),Sn(s)&&s!==0&&l.push("translateY(".concat(s,"px)")),Sn(e)&&e!==0&&l.push("rotate(".concat(e,"deg)")),Sn(t)&&t!==1&&l.push("scaleX(".concat(t,")")),Sn(r)&&r!==1&&l.push("scaleY(".concat(r,")"));var h=l.length?l.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function g3(n){var e=QA({},n),t=0;return Cr(n,function(r,i){delete e[i],Cr(e,function(s){var l=Math.abs(r.startX-s.startX),h=Math.abs(r.startY-s.startY),c=Math.abs(r.endX-s.endX),d=Math.abs(r.endY-s.endY),f=Math.sqrt(l*l+h*h),g=Math.sqrt(c*c+d*d),y=(g-f)/f;Math.abs(y)>Math.abs(t)&&(t=y)})}),t}function xp(n,e){var t=n.pageX,r=n.pageY,i={endX:t,endY:r};return e?i:QA({startX:t,startY:r},i)}function v3(n){var e=0,t=0,r=0;return Cr(n,function(i){var s=i.startX,l=i.startY;e+=s,t+=l,r+=1}),e/=r,t/=r,{pageX:e,pageY:t}}function Va(n){var e=n.aspectRatio,t=n.height,r=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=G_(r),l=G_(t);if(s&&l){var h=t*e;i==="contain"&&h>r||i==="cover"&&h<r?t=r/e:r=t*e}else s?t=r/e:l&&(r=t*e);return{width:r,height:t}}function y3(n){var e=n.width,t=n.height,r=n.degree;if(r=Math.abs(r)%180,r===90)return{width:t,height:e};var i=r%90*Math.PI/180,s=Math.sin(i),l=Math.cos(i),h=e*l+t*s,c=e*s+t*l;return r>90?{width:c,height:h}:{width:h,height:c}}function b3(n,e,t,r){var i=e.aspectRatio,s=e.naturalWidth,l=e.naturalHeight,h=e.rotate,c=h===void 0?0:h,d=e.scaleX,f=d===void 0?1:d,g=e.scaleY,y=g===void 0?1:g,E=t.aspectRatio,_=t.naturalWidth,w=t.naturalHeight,C=r.fillColor,M=C===void 0?"transparent":C,b=r.imageSmoothingEnabled,k=b===void 0?!0:b,A=r.imageSmoothingQuality,N=A===void 0?"low":A,T=r.maxWidth,P=T===void 0?1/0:T,R=r.maxHeight,B=R===void 0?1/0:R,D=r.minWidth,H=D===void 0?0:D,$=r.minHeight,V=$===void 0?0:$,ee=document.createElement("canvas"),fe=ee.getContext("2d"),me=Va({aspectRatio:E,width:P,height:B}),ie=Va({aspectRatio:E,width:H,height:V},"cover"),te=Math.min(me.width,Math.max(ie.width,_)),be=Math.min(me.height,Math.max(ie.height,w)),Y=Va({aspectRatio:i,width:P,height:B}),ue=Va({aspectRatio:i,width:H,height:V},"cover"),ke=Math.min(Y.width,Math.max(ue.width,s)),xe=Math.min(Y.height,Math.max(ue.height,l)),X=[-ke/2,-xe/2,ke,xe];return ee.width=bu(te),ee.height=bu(be),fe.fillStyle=M,fe.fillRect(0,0,te,be),fe.save(),fe.translate(te/2,be/2),fe.rotate(c*Math.PI/180),fe.scale(f,y),fe.imageSmoothingEnabled=k,fe.imageSmoothingQuality=N,fe.drawImage.apply(fe,[n].concat(tT(X.map(function(K){return Math.floor(bu(K))})))),fe.restore(),ee}var fT=String.fromCharCode;function w3(n,e,t){var r="";t+=e;for(var i=e;i<t;i+=1)r+=fT(n.getUint8(i));return r}var _3=/^data:.*,/;function x3(n){var e=n.replace(_3,""),t=atob(e),r=new ArrayBuffer(t.length),i=new Uint8Array(r);return Cr(i,function(s,l){i[l]=t.charCodeAt(l)}),r}function S3(n,e){for(var t=[],r=8192,i=new Uint8Array(n);i.length>0;)t.push(fT.apply(null,cT(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(t.join("")))}function E3(n){var e=new DataView(n),t;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var l=e.byteLength,h=2;h+1<l;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){i=h;break}h+=1}if(i){var c=i+4,d=i+10;if(w3(e,c,4)==="Exif"){var f=e.getUint16(d);if(r=f===18761,(r||f===19789)&&e.getUint16(d+2,r)===42){var g=e.getUint32(d+4,r);g>=8&&(s=d+g)}}}if(s){var y=e.getUint16(s,r),E,_;for(_=0;_<y;_+=1)if(E=s+_*12+2,e.getUint16(E,r)===274){E+=8,t=e.getUint16(E,r),e.setUint16(E,1,r);break}}}catch{t=1}return t}function A3(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var T3={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,r=this.container,i=this.cropper,s=Number(t.minContainerWidth),l=Number(t.minContainerHeight);Yr(i,Ri),ks(e,Ri);var h={width:Math.max(r.offsetWidth,s>=0?s:aT),height:Math.max(r.offsetHeight,l>=0?l:lT)};this.containerData=h,qa(i,{width:h.width,height:h.height}),Yr(e,Ri),ks(i,Ri)},initCanvas:function(){var e=this.containerData,t=this.imageData,r=this.options.viewMode,i=Math.abs(t.rotate)%180===90,s=i?t.naturalHeight:t.naturalWidth,l=i?t.naturalWidth:t.naturalHeight,h=s/l,c=e.width,d=e.height;e.height*h>e.width?r===3?c=e.height*h:d=e.width/h:r===3?d=e.width/h:c=e.height*h;var f={aspectRatio:h,naturalWidth:s,naturalHeight:l,width:c,height:d};this.canvasData=f,this.limited=r===1||r===2,this.limitCanvas(!0,!0),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),f.left=(e.width-f.width)/2,f.top=(e.height-f.height)/2,f.oldLeft=f.left,f.oldTop=f.top,this.initialCanvasData=er({},f)},limitCanvas:function(e,t){var r=this.options,i=this.containerData,s=this.canvasData,l=this.cropBoxData,h=r.viewMode,c=s.aspectRatio,d=this.cropped&&l;if(e){var f=Number(r.minCanvasWidth)||0,g=Number(r.minCanvasHeight)||0;h>1?(f=Math.max(f,i.width),g=Math.max(g,i.height),h===3&&(g*c>f?f=g*c:g=f/c)):h>0&&(f?f=Math.max(f,d?l.width:0):g?g=Math.max(g,d?l.height:0):d&&(f=l.width,g=l.height,g*c>f?f=g*c:g=f/c));var y=Va({aspectRatio:c,width:f,height:g});f=y.width,g=y.height,s.minWidth=f,s.minHeight=g,s.maxWidth=1/0,s.maxHeight=1/0}if(t)if(h>(d?0:1)){var E=i.width-s.width,_=i.height-s.height;s.minLeft=Math.min(0,E),s.minTop=Math.min(0,_),s.maxLeft=Math.max(0,E),s.maxTop=Math.max(0,_),d&&this.limited&&(s.minLeft=Math.min(l.left,l.left+(l.width-s.width)),s.minTop=Math.min(l.top,l.top+(l.height-s.height)),s.maxLeft=l.left,s.maxTop=l.top,h===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,E),s.maxLeft=Math.max(0,E)),s.height>=i.height&&(s.minTop=Math.min(0,_),s.maxTop=Math.max(0,_))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(e,t){var r=this.canvasData,i=this.imageData;if(t){var s=y3({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),l=s.width,h=s.height,c=r.width*(l/r.naturalWidth),d=r.height*(h/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=l/h,r.naturalWidth=l,r.naturalHeight=h,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,qa(this.canvas,er({width:r.width,height:r.height},dd({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,r=this.imageData,i=r.naturalWidth*(t.width/t.naturalWidth),s=r.naturalHeight*(t.height/t.naturalHeight);er(r,{width:i,height:s,left:(t.width-i)/2,top:(t.height-s)/2}),qa(this.image,er({width:r.width,height:r.height},dd(er({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,s={width:t.width,height:t.height};r&&(t.height*r>t.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=t.left+(t.width-s.width)/2,s.top=t.top+(t.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=er({},s)},limitCropBox:function(e,t){var r=this.options,i=this.containerData,s=this.canvasData,l=this.cropBoxData,h=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,f=Number(r.minCropBoxHeight)||0,g=h?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,y=h?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;d=Math.min(d,i.width),f=Math.min(f,i.height),c&&(d&&f?f*c>d?f=d/c:d=f*c:d?f=d/c:f&&(d=f*c),y*c>g?y=g/c:g=y*c),l.minWidth=Math.min(d,g),l.minHeight=Math.min(f,y),l.maxWidth=g,l.maxHeight=y}t&&(h?(l.minLeft=Math.max(0,s.left),l.minTop=Math.max(0,s.top),l.maxLeft=Math.min(i.width,s.left+s.width)-l.width,l.maxTop=Math.min(i.height,s.top+s.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=i.width-l.width,l.maxTop=i.height-l.height))},renderCropBox:function(){var e=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&kd(this.face,Td,r.width>=t.width&&r.height>=t.height?rT:Wb),qa(this.cropBox,er({width:r.width,height:r.height},dd({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),wu(this.element,v0,this.getData())}},k3={initPreview:function(){var e=this.element,t=this.crossOrigin,r=this.options.preview,i=t?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",l=document.createElement("img");if(t&&(l.crossOrigin=t),l.src=i,l.alt=s,this.viewBox.appendChild(l),this.viewBoxImage=l,!!r){var h=r;typeof r=="string"?h=e.ownerDocument.querySelectorAll(r):r.querySelector&&(h=[r]),this.previews=h,Cr(h,function(c){var d=document.createElement("img");kd(c,_p,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),t&&(d.crossOrigin=t),d.src=i,d.alt=s,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){Cr(this.previews,function(e){var t=x0(e,_p);qa(e,{width:t.width,height:t.height}),e.innerHTML=t.html,p3(e,_p)})},preview:function(){var e=this.imageData,t=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,l=e.width,h=e.height,c=r.left-t.left-e.left,d=r.top-t.top-e.top;!this.cropped||this.disabled||(qa(this.viewBoxImage,er({width:l,height:h},dd(er({translateX:-c,translateY:-d},e)))),Cr(this.previews,function(f){var g=x0(f,_p),y=g.width,E=g.height,_=y,w=E,C=1;i&&(C=y/i,w=s*C),s&&w>E&&(C=E/s,_=i*C,w=E),qa(f,{width:_,height:w}),qa(f.getElementsByTagName("img")[0],er({width:l*C,height:h*C},dd(er({translateX:-c*C,translateY:-d*C},e))))}))}},C3={bind:function(){var e=this.element,t=this.options,r=this.cropper;Di(t.cropstart)&&po(e,w0,t.cropstart),Di(t.cropmove)&&po(e,b0,t.cropmove),Di(t.cropend)&&po(e,y0,t.cropend),Di(t.crop)&&po(e,v0,t.crop),Di(t.zoom)&&po(e,_0,t.zoom),po(r,j_,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&po(r,W_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&po(r,B_,this.onDblclick=this.dblclick.bind(this)),po(e.ownerDocument,$_,this.onCropMove=this.cropMove.bind(this)),po(e.ownerDocument,H_,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&po(window,U_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,r=this.cropper;Di(t.cropstart)&&zo(e,w0,t.cropstart),Di(t.cropmove)&&zo(e,b0,t.cropmove),Di(t.cropend)&&zo(e,y0,t.cropend),Di(t.crop)&&zo(e,v0,t.crop),Di(t.zoom)&&zo(e,_0,t.zoom),zo(r,j_,this.onCropStart),t.zoomable&&t.zoomOnWheel&&zo(r,W_,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&zo(r,B_,this.onDblclick),zo(e.ownerDocument,$_,this.onCropMove),zo(e.ownerDocument,H_,this.onCropEnd),t.responsive&&zo(window,U_,this.onResize)}},O3={resize:function(){if(!this.disabled){var e=this.options,t=this.container,r=this.containerData,i=t.offsetWidth/r.width,s=t.offsetHeight/r.height,l=Math.abs(i-1)>Math.abs(s-1)?i:s;if(l!==1){var h,c;e.restore&&(h=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Cr(h,function(d,f){h[f]=d*l})),this.setCropBoxData(Cr(c,function(d,f){c[f]=d*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===sT||this.setDragMode(d3(this.dragBox,m0)?oT:qb)},wheel:function(e){var t=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var t=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Sn(t)&&t!==1||Sn(r)&&r!==0||e.ctrlKey))){var i=this.options,s=this.pointers,l;e.changedTouches?Cr(e.changedTouches,function(h){s[h.identifier]=xp(h)}):s[e.pointerId||0]=xp(e),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?l=iT:l=x0(e.target,Td),n3.test(l)&&wu(this.element,w0,{originalEvent:e,action:l})!==!1&&(e.preventDefault(),this.action=l,this.cropping=!1,l===nT&&(this.cropping=!0,Yr(this.dragBox,Am)))}},cropMove:function(e){var t=this.action;if(!(this.disabled||!t)){var r=this.pointers;e.preventDefault(),wu(this.element,b0,{originalEvent:e,action:t})!==!1&&(e.changedTouches?Cr(e.changedTouches,function(i){er(r[i.identifier]||{},xp(i,!0))}):er(r[e.pointerId||0]||{},xp(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,r=this.pointers;e.changedTouches?Cr(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],t&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,pu(this.dragBox,Am,this.cropped&&this.options.modal)),wu(this.element,y0,{originalEvent:e,action:t}))}}},L3={change:function(e){var t=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,l=this.pointers,h=this.action,c=t.aspectRatio,d=s.left,f=s.top,g=s.width,y=s.height,E=d+g,_=f+y,w=0,C=0,M=i.width,b=i.height,k=!0,A;!c&&e.shiftKey&&(c=g&&y?g/y:1),this.limited&&(w=s.minLeft,C=s.minTop,M=w+Math.min(i.width,r.width,r.left+r.width),b=C+Math.min(i.height,r.height,r.top+r.height));var N=l[Object.keys(l)[0]],T={x:N.endX-N.startX,y:N.endY-N.startY},P=function(B){switch(B){case Ml:E+T.x>M&&(T.x=M-E);break;case Pl:d+T.x<w&&(T.x=w-d);break;case Ma:f+T.y<C&&(T.y=C-f);break;case Wc:_+T.y>b&&(T.y=b-_);break}};switch(h){case Wb:d+=T.x,f+=T.y;break;case Ml:if(T.x>=0&&(E>=M||c&&(f<=C||_>=b))){k=!1;break}P(Ml),g+=T.x,g<0&&(h=Pl,g=-g,d-=g),c&&(y=g/c,f+=(s.height-y)/2);break;case Ma:if(T.y<=0&&(f<=C||c&&(d<=w||E>=M))){k=!1;break}P(Ma),y-=T.y,f+=T.y,y<0&&(h=Wc,y=-y,f-=y),c&&(g=y*c,d+=(s.width-g)/2);break;case Pl:if(T.x<=0&&(d<=w||c&&(f<=C||_>=b))){k=!1;break}P(Pl),g-=T.x,d+=T.x,g<0&&(h=Ml,g=-g,d-=g),c&&(y=g/c,f+=(s.height-y)/2);break;case Wc:if(T.y>=0&&(_>=b||c&&(d<=w||E>=M))){k=!1;break}P(Wc),y+=T.y,y<0&&(h=Ma,y=-y,f-=y),c&&(g=y*c,d+=(s.width-g)/2);break;case zh:if(c){if(T.y<=0&&(f<=C||E>=M)){k=!1;break}P(Ma),y-=T.y,f+=T.y,g=y*c}else P(Ma),P(Ml),T.x>=0?E<M?g+=T.x:T.y<=0&&f<=C&&(k=!1):g+=T.x,T.y<=0?f>C&&(y-=T.y,f+=T.y):(y-=T.y,f+=T.y);g<0&&y<0?(h=qh,y=-y,g=-g,f-=y,d-=g):g<0?(h=Uh,g=-g,d-=g):y<0&&(h=Wh,y=-y,f-=y);break;case Uh:if(c){if(T.y<=0&&(f<=C||d<=w)){k=!1;break}P(Ma),y-=T.y,f+=T.y,g=y*c,d+=s.width-g}else P(Ma),P(Pl),T.x<=0?d>w?(g-=T.x,d+=T.x):T.y<=0&&f<=C&&(k=!1):(g-=T.x,d+=T.x),T.y<=0?f>C&&(y-=T.y,f+=T.y):(y-=T.y,f+=T.y);g<0&&y<0?(h=Wh,y=-y,g=-g,f-=y,d-=g):g<0?(h=zh,g=-g,d-=g):y<0&&(h=qh,y=-y,f-=y);break;case qh:if(c){if(T.x<=0&&(d<=w||_>=b)){k=!1;break}P(Pl),g-=T.x,d+=T.x,y=g/c}else P(Wc),P(Pl),T.x<=0?d>w?(g-=T.x,d+=T.x):T.y>=0&&_>=b&&(k=!1):(g-=T.x,d+=T.x),T.y>=0?_<b&&(y+=T.y):y+=T.y;g<0&&y<0?(h=zh,y=-y,g=-g,f-=y,d-=g):g<0?(h=Wh,g=-g,d-=g):y<0&&(h=Uh,y=-y,f-=y);break;case Wh:if(c){if(T.x>=0&&(E>=M||_>=b)){k=!1;break}P(Ml),g+=T.x,y=g/c}else P(Wc),P(Ml),T.x>=0?E<M?g+=T.x:T.y>=0&&_>=b&&(k=!1):g+=T.x,T.y>=0?_<b&&(y+=T.y):y+=T.y;g<0&&y<0?(h=Uh,y=-y,g=-g,f-=y,d-=g):g<0?(h=qh,g=-g,d-=g):y<0&&(h=zh,y=-y,f-=y);break;case rT:this.move(T.x,T.y),k=!1;break;case iT:this.zoom(g3(l),e),k=!1;break;case nT:if(!T.x||!T.y){k=!1;break}A=dT(this.cropper),d=N.startX-A.left,f=N.startY-A.top,g=s.minWidth,y=s.minHeight,T.x>0?h=T.y>0?Wh:zh:T.x<0&&(d-=g,h=T.y>0?qh:Uh),T.y<0&&(f-=y),this.cropped||(ks(this.cropBox,Ri),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}k&&(s.width=g,s.height=y,s.left=d,s.top=f,this.action=h,this.renderCropBox()),Cr(l,function(R){R.startX=R.endX,R.startY=R.endY})}},M3={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Yr(this.dragBox,Am),ks(this.cropBox,Ri),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=er({},this.initialImageData),this.canvasData=er({},this.initialCanvasData),this.cropBoxData=er({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(er(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ks(this.dragBox,Am),Yr(this.cropBox,Ri)),this},replace:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Cr(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ks(this.cropper,R_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Yr(this.cropper,R_)),this},destroy:function(){var e=this.element;return e[Qn]?(e[Qn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(ey(e)?e:i+Number(e),ey(t)?t:s+Number(t))},moveTo:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(Sn(e)&&(r.left=e,i=!0),Sn(t)&&(r.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,t)},zoomTo:function(e,t,r){var i=this.options,s=this.canvasData,l=s.width,h=s.height,c=s.naturalWidth,d=s.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var f=c*e,g=d*e;if(wu(this.element,_0,{ratio:e,oldRatio:l/c,originalEvent:r})===!1)return this;if(r){var y=this.pointers,E=dT(this.cropper),_=y&&Object.keys(y).length?v3(y):{pageX:r.pageX,pageY:r.pageY};s.left-=(f-l)*((_.pageX-E.left-s.left)/l),s.top-=(g-h)*((_.pageY-E.top-s.top)/h)}else fu(t)&&Sn(t.x)&&Sn(t.y)?(s.left-=(f-l)*((t.x-s.left)/l),s.top-=(g-h)*((t.y-s.top)/h)):(s.left-=(f-l)/2,s.top-=(g-h)/2);s.width=f,s.height=g,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Sn(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,Sn(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(Sn(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(Sn(e)&&(r.scaleX=e,i=!0),Sn(t)&&(r.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var h=r.width/r.naturalWidth;if(Cr(l,function(f,g){l[g]=f/h}),e){var c=Math.round(l.y+l.height),d=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=d-l.x,l.height=c-l.y}}else l={x:0,y:0,width:0,height:0};return t.rotatable&&(l.rotate=r.rotate||0),t.scalable&&(l.scaleX=r.scaleX||1,l.scaleY=r.scaleY||1),l},setData:function(e){var t=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&fu(e)){var l=!1;t.rotatable&&Sn(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,l=!0),t.scalable&&(Sn(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,l=!0),Sn(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var h=r.width/r.naturalWidth;Sn(e.x)&&(s.left=e.x*h+i.left),Sn(e.y)&&(s.top=e.y*h+i.top),Sn(e.width)&&(s.width=e.width*h),Sn(e.height)&&(s.height=e.height*h),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?er({},this.containerData):{}},getImageData:function(){return this.sized?er({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Cr(["left","top","width","height","naturalWidth","naturalHeight"],function(r){t[r]=e[r]}),t},setCanvasData:function(e){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&fu(e)&&(Sn(e.left)&&(t.left=e.left),Sn(e.top)&&(t.top=e.top),Sn(e.width)?(t.width=e.width,t.height=e.width/r):Sn(e.height)&&(t.height=e.height,t.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var t=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&fu(e)&&(Sn(e.left)&&(t.left=e.left),Sn(e.top)&&(t.top=e.top),Sn(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),Sn(e.height)&&e.height!==t.height&&(s=!0,t.height=e.height),r&&(i?t.height=t.width/r:s&&(t.width=t.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,r=b3(this.image,this.imageData,t,e);if(!this.cropped)return r;var i=this.getData(e.rounded),s=i.x,l=i.y,h=i.width,c=i.height,d=r.width/Math.floor(t.naturalWidth);d!==1&&(s*=d,l*=d,h*=d,c*=d);var f=h/c,g=Va({aspectRatio:f,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),y=Va({aspectRatio:f,width:e.minWidth||0,height:e.minHeight||0},"cover"),E=Va({aspectRatio:f,width:e.width||(d!==1?r.width:h),height:e.height||(d!==1?r.height:c)}),_=E.width,w=E.height;_=Math.min(g.width,Math.max(y.width,_)),w=Math.min(g.height,Math.max(y.height,w));var C=document.createElement("canvas"),M=C.getContext("2d");C.width=bu(_),C.height=bu(w),M.fillStyle=e.fillColor||"transparent",M.fillRect(0,0,_,w);var b=e.imageSmoothingEnabled,k=b===void 0?!0:b,A=e.imageSmoothingQuality;M.imageSmoothingEnabled=k,A&&(M.imageSmoothingQuality=A);var N=r.width,T=r.height,P=s,R=l,B,D,H,$,V,ee;P<=-h||P>N?(P=0,B=0,H=0,V=0):P<=0?(H=-P,P=0,B=Math.min(N,h+P),V=B):P<=N&&(H=0,B=Math.min(h,N-P),V=B),B<=0||R<=-c||R>T?(R=0,D=0,$=0,ee=0):R<=0?($=-R,R=0,D=Math.min(T,c+R),ee=D):R<=T&&($=0,D=Math.min(c,T-R),ee=D);var fe=[P,R,B,D];if(V>0&&ee>0){var me=_/h;fe.push(H*me,$*me,V*me,ee*me)}return M.drawImage.apply(M,[r].concat(tT(fe.map(function(ie){return Math.floor(bu(ie))})))),C},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!ey(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=e===qb,l=t.movable&&e===oT;e=s||l?e:sT,t.dragMode=e,kd(r,Td,e),pu(r,m0,s),pu(r,g0,l),t.cropBoxMovable||(kd(i,Td,e),pu(i,m0,s),pu(i,g0,l))}return this}},P3=Ps.Cropper,pT=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qB(this,n),!e||!o3.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=er({},V_,fu(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return VB(n,[{key:"init",value:function(){var t=this.element,r=t.tagName.toLowerCase(),i;if(!t[Qn]){if(t[Qn]=this,r==="img"){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var r=this;if(t){this.url=t,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(r3.test(t)){i3.test(t)?this.read(x3(t)):this.clone();return}var l=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=h,l.onerror=h,l.ontimeout=h,l.onprogress=function(){l.getResponseHeader("content-type")!==q_&&l.abort()},l.onload=function(){r.read(l.response)},l.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&Y_(t)&&i.crossOrigin&&(t=K_(t)),l.open("GET",t,!0),l.responseType="arraybuffer",l.withCredentials=i.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(t){var r=this.options,i=this.imageData,s=E3(t),l=0,h=1,c=1;if(s>1){this.url=S3(t,q_);var d=A3(s);l=d.rotate,h=d.scaleX,c=d.scaleY}r.rotatable&&(i.rotate=l),r.scalable&&(i.scaleX=h,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var t=this.element,r=this.url,i=t.crossOrigin,s=r;this.options.checkCrossOrigin&&Y_(r)&&(i||(i="anonymous"),s=K_(r)),this.crossOrigin=i,this.crossOriginUrl=s;var l=document.createElement("img");i&&(l.crossOrigin=i),l.src=s||r,l.alt=t.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),Yr(l,F_),t.parentNode.insertBefore(l,t.nextSibling)}},{key:"start",value:function(){var t=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Ps.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ps.navigator.userAgent),s=function(d,f){er(t.imageData,{naturalWidth:d,naturalHeight:f,aspectRatio:d/f}),t.initialImageData=er({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var l=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){s(l.width,l.height),i||h.removeChild(l)},l.src=r.src,i||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(l))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,r=this.options,i=this.image,s=t.parentNode,l=document.createElement("div");l.innerHTML=s3;var h=l.querySelector(".".concat(Qn,"-container")),c=h.querySelector(".".concat(Qn,"-canvas")),d=h.querySelector(".".concat(Qn,"-drag-box")),f=h.querySelector(".".concat(Qn,"-crop-box")),g=f.querySelector(".".concat(Qn,"-face"));this.container=s,this.cropper=h,this.canvas=c,this.dragBox=d,this.cropBox=f,this.viewBox=h.querySelector(".".concat(Qn,"-view-box")),this.face=g,c.appendChild(i),Yr(t,Ri),s.insertBefore(h,t.nextSibling),ks(i,F_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Yr(f,Ri),r.guides||Yr(f.getElementsByClassName("".concat(Qn,"-dashed")),Ri),r.center||Yr(f.getElementsByClassName("".concat(Qn,"-center")),Ri),r.background&&Yr(h,"".concat(Qn,"-bg")),r.highlight||Yr(g,JB),r.cropBoxMovable&&(Yr(g,g0),kd(g,Td,Wb)),r.cropBoxResizable||(Yr(f.getElementsByClassName("".concat(Qn,"-line")),Ri),Yr(f.getElementsByClassName("".concat(Qn,"-point")),Ri)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Di(r.ready)&&po(t,z_,r.ready,{once:!0}),wu(t,z_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),ks(this.element,Ri)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=P3,n}},{key:"setDefaults",value:function(t){er(V_,fu(t)&&t)}}])}();er(pT.prototype,T3,k3,C3,O3,L3,M3);class S0 extends vn{connect(){let e=this.data.get("url")?this.data.get("url"):this.data.get("value");e?this.element.querySelector(".cropper-preview").src=e:(this.element.querySelector(".cropper-preview").classList.add("none"),this.element.querySelector(".cropper-remove").classList.add("none"));let t=this.element.querySelector(".upload-panel");t.width=this.data.get("width"),t.height=this.data.get("height"),this.cropper=new pT(t,{viewMode:2,aspectRatio:this.data.get("width")/this.data.get("height"),minContainerHeight:500})}getModal(){return this.modal||(this.modal=new Ai(this.element.querySelector(".modal"))),this.modal}upload(e){let t=this.data.get("max-file-size");if(this.keepOriginalTypeValue&&(this.typeValue=e.target.files[0].type),e.target.files[0].size/1024/1024>t){this.toast(this.maxSizeMessageValue.replace(/{value}/,t)),e.target.value=null;return}if(!e.target.files[0]){this.getModal().show();return}let r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=()=>{this.cropper.replace(r.result)},this.getModal().show()}openModal(e){e.target.files[0]&&this.getModal().show()}crop(){this.cropper.getCroppedCanvas({width:this.data.get("width"),height:this.data.get("height"),minWidth:this.data.get("min-width"),minHeight:this.data.get("min-height"),maxWidth:this.data.get("max-width"),maxHeight:this.data.get("max-height"),imageSmoothingEnabled:this.data.get("image-smoothing-enabled"),imageSmoothingQuality:this.data.get("image-smoothing-quality"),fillColor:this.data.get("fill-color")}).toBlob(e=>{const t=new FormData;t.append("file",e),t.append("storage",this.data.get("storage")),t.append("group",this.data.get("groups")),t.append("path",this.data.get("path")),t.append("acceptedFiles",this.data.get("accepted-files"));let r=this.element;window.axios.post(this.prefix("/systems/files"),t).then(i=>{let s=i.data.url,l=this.data.get("target");r.querySelector(".cropper-preview").src=s,r.querySelector(".cropper-preview").classList.remove("none"),r.querySelector(".cropper-remove").classList.remove("none"),r.querySelector(".cropper-path").value=i.data[l],r.querySelector(".cropper-path").dispatchEvent(new Event("change")),console.log(this.getModal(),this.getModal().hide()),this.getModal().hide()}).catch(i=>{this.alert("Validation error","File upload error"),console.warn(i)})},this.typeValue)}clear(){this.element.querySelector(".cropper-path").value="",this.element.querySelector(".cropper-preview").src="",this.element.querySelector(".cropper-preview").classList.add("none"),this.element.querySelector(".cropper-remove").classList.add("none")}moveleft(){this.cropper.move(-10,0)}moveright(){this.cropper.move(10,0)}moveup(){this.cropper.move(0,-10)}movedown(){this.cropper.move(0,10)}zoomin(){this.cropper.zoom(.1)}zoomout(){this.cropper.zoom(-.1)}rotateleft(){this.cropper.rotate(-5)}rotateright(){this.cropper.rotate(5)}scalex(){const e=this.element.querySelector(".cropper-dataScaleX");this.cropper.scaleX(-e.value)}scaley(){const e=this.element.querySelector(".cropper-dataScaleY");this.cropper.scaleY(-e.value)}aspectratiowh(){this.cropper.setAspectRatio(this.data.get("width")/this.data.get("height"))}aspectratiofree(){this.cropper.setAspectRatio(NaN)}}$e(S0,"values",{maxSizeMessage:{type:String,default:"The download file is too large. Max size: {value} MB"},type:{type:String,default:"image/png"},keepOriginalType:{type:Boolean,default:!1}}),$e(S0,"targets",["source","upload"]);const N3=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"}));var ny=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],_u={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Cd={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Fi=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},mo=function(n){return n===!0?1:0};function Z_(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var ry=function(n){return n instanceof Array?n:[n]};function _i(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Pn(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function Sp(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function mT(n,e){if(e(n))return n;if(n.parentNode)return mT(n.parentNode,e)}function Ep(n,e){var t=Pn("div","numInputWrapper"),r=Pn("input","numInput "+n),i=Pn("span","arrowUp"),s=Pn("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var l in e)r.setAttribute(l,e[l]);return t.appendChild(r),t.appendChild(i),t.appendChild(s),t}function Ji(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var iy=function(){},Tm=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},I3={D:iy,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*mo(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:iy,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:iy,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},jl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},fd={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[fd.w(n,e,t)]},F:function(n,e,t){return Tm(fd.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Fi(fd.h(n,e,t))},H:function(n){return Fi(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[mo(n.getHours()>11)]},M:function(n,e){return Tm(n.getMonth(),!0,e)},S:function(n){return Fi(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Fi(n.getFullYear(),4)},d:function(n){return Fi(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Fi(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Fi(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},gT=function(n){var e=n.config,t=e===void 0?_u:e,r=n.l10n,i=r===void 0?Cd:r,s=n.isMobile,l=s===void 0?!1:s;return function(h,c,d){var f=d||i;return t.formatDate!==void 0&&!l?t.formatDate(h,c,f):c.split("").map(function(g,y,E){return fd[g]&&E[y-1]!=="\\"?fd[g](h,f,t):g!=="\\"?g:""}).join("")}},E0=function(n){var e=n.config,t=e===void 0?_u:e,r=n.l10n,i=r===void 0?Cd:r;return function(s,l,h,c){if(!(s!==0&&!s)){var d=c||i,f,g=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var y=l||(t||_u).dateFormat,E=String(s).trim();if(E==="today")f=new Date,h=!0;else if(t&&t.parseDate)f=t.parseDate(s,y);else if(/Z$/.test(E)||/GMT$/.test(E))f=new Date(s);else{for(var _=void 0,w=[],C=0,M=0,b="";C<y.length;C++){var k=y[C],A=k==="\\",N=y[C-1]==="\\"||A;if(jl[k]&&!N){b+=jl[k];var T=new RegExp(b).exec(s);T&&(_=!0)&&w[k!=="Y"?"push":"unshift"]({fn:I3[k],val:T[++M]})}else A||(b+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),w.forEach(function(P){var R=P.fn,B=P.val;return f=R(f,B,d)||f}),f=_?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+g));return}return h===!0&&f.setHours(0,0,0,0),f}}};function to(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var D3=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},oy=function(n,e,t){return n*3600+e*60+t},R3=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},F3={DAY:864e5};function sy(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),s=n.minDate.getMinutes(),l=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<s&&(t=s),e===i&&t===s&&r<l&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var h=n.maxDate.getHours(),c=n.maxDate.getMinutes();e=Math.min(e,h),e===h&&(t=Math.min(c,t)),e===h&&t===c&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(h){h&&Object.keys(h).forEach(function(c){return n[c]=h[c]})},i=0,s=e;i<s.length;i++){var l=s[i];r(l)}return n});var fi=globalThis&&globalThis.__assign||function(){return fi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fi.apply(this,arguments)},X_=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],l=0,h=s.length;l<h;l++,i++)r[i]=s[l];return r},B3=300;function j3(n,e){var t={config:fi(fi({},_u),kr.defaultConfig),l10n:Cd};t.parseDate=E0({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=w,t._setHoursFromDate=y,t._positionCalendar=ne,t.changeMonth=ue,t.changeYear=Fe,t.clear=ke,t.close=xe,t.onMouseOver=q,t._createElement=Pn,t.createDay=T,t.destroy=X,t.isEnabled=Q,t.jumpToDate=b,t.updateValue=mn,t.open=pe,t.redraw=O,t.set=_e,t.setDate=Me,t.toggle=It;function r(){t.utils={getDaysInMonth:function(ve,Se){return ve===void 0&&(ve=t.currentMonth),Se===void 0&&(Se=t.currentYear),ve===1&&(Se%4===0&&Se%100!==0||Se%400===0)?29:t.l10n.daysInMonth[ve]}}}function i(){t.element=t.input=n,t.isOpen=!1,Ae(),De(),mt(),Ze(),r(),t.isMobile||N(),M(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&y(t.config.noCalendar?t.latestSelectedDateObj:void 0),mn(!1)),h();var ve=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ve&&ne(),vt("onReady")}function s(){var ve;return((ve=t.calendarContainer)===null||ve===void 0?void 0:ve.getRootNode()).activeElement||document.activeElement}function l(ve){return ve.bind(t)}function h(){var ve=t.config;ve.weekNumbers===!1&&ve.showMonths===1||ve.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var Se=(t.days.offsetWidth+1)*ve.showMonths;t.daysContainer.style.width=Se+"px",t.calendarContainer.style.width=Se+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(ve){if(t.selectedDates.length===0){var Se=t.config.minDate===void 0||to(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Re=sy(t.config);Se.setHours(Re.hours,Re.minutes,Re.seconds,Se.getMilliseconds()),t.selectedDates=[Se],t.latestSelectedDateObj=Se}ve!==void 0&&ve.type!=="blur"&&an(ve);var Ue=t._input.value;g(),mn(),t._input.value!==Ue&&t._debouncedChange()}function d(ve,Se){return ve%12+12*mo(Se===t.l10n.amPM[1])}function f(ve){switch(ve%24){case 0:case 12:return 12;default:return ve%12}}function g(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ve=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,Se=(parseInt(t.minuteElement.value,10)||0)%60,Re=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ve=d(ve,t.amPM.textContent));var Ue=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&to(t.latestSelectedDateObj,t.config.minDate,!0)===0,rt=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&to(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Xe=oy(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),gt=oy(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),at=oy(ve,Se,Re);if(at>gt&&at<Xe){var xt=R3(Xe);ve=xt[0],Se=xt[1],Re=xt[2]}}else{if(rt){var ht=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ve=Math.min(ve,ht.getHours()),ve===ht.getHours()&&(Se=Math.min(Se,ht.getMinutes())),Se===ht.getMinutes()&&(Re=Math.min(Re,ht.getSeconds()))}if(Ue){var dt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ve=Math.max(ve,dt.getHours()),ve===dt.getHours()&&Se<dt.getMinutes()&&(Se=dt.getMinutes()),Se===dt.getMinutes()&&(Re=Math.max(Re,dt.getSeconds()))}}E(ve,Se,Re)}}function y(ve){var Se=ve||t.latestSelectedDateObj;Se&&Se instanceof Date&&E(Se.getHours(),Se.getMinutes(),Se.getSeconds())}function E(ve,Se,Re){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ve%24,Se,Re||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Fi(t.config.time_24hr?ve:(12+ve)%12+12*mo(ve%12===0)),t.minuteElement.value=Fi(Se),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[mo(ve>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Fi(Re)))}function _(ve){var Se=Ji(ve),Re=parseInt(Se.value)+(ve.delta||0);(Re/1e3>1||ve.key==="Enter"&&!/[^\d]/.test(Re.toString()))&&Fe(Re)}function w(ve,Se,Re,Ue){if(Se instanceof Array)return Se.forEach(function(rt){return w(ve,rt,Re,Ue)});if(ve instanceof Array)return ve.forEach(function(rt){return w(rt,Se,Re,Ue)});ve.addEventListener(Se,Re,Ue),t._handlers.push({remove:function(){return ve.removeEventListener(Se,Re,Ue)}})}function C(){vt("onChange")}function M(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Re){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Re+"]"),function(Ue){return w(Ue,"click",t[Re])})}),t.isMobile){Vt();return}var ve=Z_(J,50);if(t._debouncedChange=Z_(C,B3),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&w(t.daysContainer,"mouseover",function(Re){t.config.mode==="range"&&q(Ji(Re))}),w(t._input,"keydown",ce),t.calendarContainer!==void 0&&w(t.calendarContainer,"keydown",ce),!t.config.inline&&!t.config.static&&w(window,"resize",ve),window.ontouchstart!==void 0?w(window.document,"touchstart",Oe):w(window.document,"mousedown",Oe),w(window.document,"focus",Oe,{capture:!0}),t.config.clickOpens===!0&&(w(t._input,"focus",t.open),w(t._input,"click",t.open)),t.daysContainer!==void 0&&(w(t.monthNav,"click",un),w(t.monthNav,["keyup","increment"],_),w(t.daysContainer,"click",z)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var Se=function(Re){return Ji(Re).select()};w(t.timeContainer,["increment"],c),w(t.timeContainer,"blur",c,{capture:!0}),w(t.timeContainer,"click",k),w([t.hourElement,t.minuteElement],["focus","click"],Se),t.secondElement!==void 0&&w(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&w(t.amPM,"click",function(Re){c(Re)})}t.config.allowInput&&w(t._input,"blur",ae)}function b(ve,Se){var Re=ve!==void 0?t.parseDate(ve):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Ue=t.currentYear,rt=t.currentMonth;try{Re!==void 0&&(t.currentYear=Re.getFullYear(),t.currentMonth=Re.getMonth())}catch(Xe){Xe.message="Invalid date supplied: "+Re,t.config.errorHandler(Xe)}Se&&t.currentYear!==Ue&&(vt("onYearChange"),V()),Se&&(t.currentYear!==Ue||t.currentMonth!==rt)&&vt("onMonthChange"),t.redraw()}function k(ve){var Se=Ji(ve);~Se.className.indexOf("arrow")&&A(ve,Se.classList.contains("arrowUp")?1:-1)}function A(ve,Se,Re){var Ue=ve&&Ji(ve),rt=Re||Ue&&Ue.parentNode&&Ue.parentNode.firstChild,Xe=bt("increment");Xe.delta=Se,rt&&rt.dispatchEvent(Xe)}function N(){var ve=window.document.createDocumentFragment();if(t.calendarContainer=Pn("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ve.appendChild(me()),t.innerContainer=Pn("div","flatpickr-innerContainer"),t.config.weekNumbers){var Se=Y(),Re=Se.weekWrapper,Ue=Se.weekNumbers;t.innerContainer.appendChild(Re),t.weekNumbers=Ue,t.weekWrapper=Re}t.rContainer=Pn("div","flatpickr-rContainer"),t.rContainer.appendChild(te()),t.daysContainer||(t.daysContainer=Pn("div","flatpickr-days"),t.daysContainer.tabIndex=-1),$(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ve.appendChild(t.innerContainer)}t.config.enableTime&&ve.appendChild(ie()),_i(t.calendarContainer,"rangeMode",t.config.mode==="range"),_i(t.calendarContainer,"animate",t.config.animate===!0),_i(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ve);var rt=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!rt&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Xe=Pn("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Xe,t.element),Xe.appendChild(t.element),t.altInput&&Xe.appendChild(t.altInput),Xe.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function T(ve,Se,Re,Ue){var rt=Q(Se,!0),Xe=Pn("span",ve,Se.getDate().toString());return Xe.dateObj=Se,Xe.$i=Ue,Xe.setAttribute("aria-label",t.formatDate(Se,t.config.ariaDateFormat)),ve.indexOf("hidden")===-1&&to(Se,t.now)===0&&(t.todayDateElem=Xe,Xe.classList.add("today"),Xe.setAttribute("aria-current","date")),rt?(Xe.tabIndex=-1,Ft(Se)&&(Xe.classList.add("selected"),t.selectedDateElem=Xe,t.config.mode==="range"&&(_i(Xe,"startRange",t.selectedDates[0]&&to(Se,t.selectedDates[0],!0)===0),_i(Xe,"endRange",t.selectedDates[1]&&to(Se,t.selectedDates[1],!0)===0),ve==="nextMonthDay"&&Xe.classList.add("inRange")))):Xe.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ut(Se)&&!Ft(Se)&&Xe.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ve!=="prevMonthDay"&&Ue%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(Se)+"</span>"),vt("onDayCreate",Xe),Xe}function P(ve){ve.focus(),t.config.mode==="range"&&q(ve)}function R(ve){for(var Se=ve>0?0:t.config.showMonths-1,Re=ve>0?t.config.showMonths:-1,Ue=Se;Ue!=Re;Ue+=ve)for(var rt=t.daysContainer.children[Ue],Xe=ve>0?0:rt.children.length-1,gt=ve>0?rt.children.length:-1,at=Xe;at!=gt;at+=ve){var xt=rt.children[at];if(xt.className.indexOf("hidden")===-1&&Q(xt.dateObj))return xt}}function B(ve,Se){for(var Re=ve.className.indexOf("Month")===-1?ve.dateObj.getMonth():t.currentMonth,Ue=Se>0?t.config.showMonths:-1,rt=Se>0?1:-1,Xe=Re-t.currentMonth;Xe!=Ue;Xe+=rt)for(var gt=t.daysContainer.children[Xe],at=Re-t.currentMonth===Xe?ve.$i+Se:Se<0?gt.children.length-1:0,xt=gt.children.length,ht=at;ht>=0&&ht<xt&&ht!=(Se>0?xt:-1);ht+=rt){var dt=gt.children[ht];if(dt.className.indexOf("hidden")===-1&&Q(dt.dateObj)&&Math.abs(ve.$i-ht)>=Math.abs(Se))return P(dt)}t.changeMonth(rt),D(R(rt),0)}function D(ve,Se){var Re=s(),Ue=oe(Re||document.body),rt=ve!==void 0?ve:Ue?Re:t.selectedDateElem!==void 0&&oe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&oe(t.todayDateElem)?t.todayDateElem:R(Se>0?1:-1);rt===void 0?t._input.focus():Ue?B(rt,Se):P(rt)}function H(ve,Se){for(var Re=(new Date(ve,Se,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Ue=t.utils.getDaysInMonth((Se-1+12)%12,ve),rt=t.utils.getDaysInMonth(Se,ve),Xe=window.document.createDocumentFragment(),gt=t.config.showMonths>1,at=gt?"prevMonthDay hidden":"prevMonthDay",xt=gt?"nextMonthDay hidden":"nextMonthDay",ht=Ue+1-Re,dt=0;ht<=Ue;ht++,dt++)Xe.appendChild(T("flatpickr-day "+at,new Date(ve,Se-1,ht),ht,dt));for(ht=1;ht<=rt;ht++,dt++)Xe.appendChild(T("flatpickr-day",new Date(ve,Se,ht),ht,dt));for(var it=rt+1;it<=42-Re&&(t.config.showMonths===1||dt%7!==0);it++,dt++)Xe.appendChild(T("flatpickr-day "+xt,new Date(ve,Se+1,it%rt),it,dt));var fn=Pn("div","dayContainer");return fn.appendChild(Xe),fn}function $(){if(t.daysContainer!==void 0){Sp(t.daysContainer),t.weekNumbers&&Sp(t.weekNumbers);for(var ve=document.createDocumentFragment(),Se=0;Se<t.config.showMonths;Se++){var Re=new Date(t.currentYear,t.currentMonth,1);Re.setMonth(t.currentMonth+Se),ve.appendChild(H(Re.getFullYear(),Re.getMonth()))}t.daysContainer.appendChild(ve),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&q()}}function V(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ve=function(Ue){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Ue<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Ue>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var Se=0;Se<12;Se++)if(ve(Se)){var Re=Pn("option","flatpickr-monthDropdown-month");Re.value=new Date(t.currentYear,Se).getMonth().toString(),Re.textContent=Tm(Se,t.config.shorthandCurrentMonth,t.l10n),Re.tabIndex=-1,t.currentMonth===Se&&(Re.selected=!0),t.monthsDropdownContainer.appendChild(Re)}}}function ee(){var ve=Pn("div","flatpickr-month"),Se=window.document.createDocumentFragment(),Re;t.config.showMonths>1||t.config.monthSelectorType==="static"?Re=Pn("span","cur-month"):(t.monthsDropdownContainer=Pn("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),w(t.monthsDropdownContainer,"change",function(gt){var at=Ji(gt),xt=parseInt(at.value,10);t.changeMonth(xt-t.currentMonth),vt("onMonthChange")}),V(),Re=t.monthsDropdownContainer);var Ue=Ep("cur-year",{tabindex:"-1"}),rt=Ue.getElementsByTagName("input")[0];rt.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&rt.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(rt.setAttribute("max",t.config.maxDate.getFullYear().toString()),rt.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Xe=Pn("div","flatpickr-current-month");return Xe.appendChild(Re),Xe.appendChild(Ue),Se.appendChild(Xe),ve.appendChild(Se),{container:ve,yearElement:rt,monthElement:Re}}function fe(){Sp(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ve=t.config.showMonths;ve--;){var Se=ee();t.yearElements.push(Se.yearElement),t.monthElements.push(Se.monthElement),t.monthNav.appendChild(Se.container)}t.monthNav.appendChild(t.nextMonthNav)}function me(){return t.monthNav=Pn("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Pn("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Pn("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,fe(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ve){t.__hidePrevMonthArrow!==ve&&(_i(t.prevMonthNav,"flatpickr-disabled",ve),t.__hidePrevMonthArrow=ve)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ve){t.__hideNextMonthArrow!==ve&&(_i(t.nextMonthNav,"flatpickr-disabled",ve),t.__hideNextMonthArrow=ve)}}),t.currentYearElement=t.yearElements[0],sn(),t.monthNav}function ie(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ve=sy(t.config);t.timeContainer=Pn("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var Se=Pn("span","flatpickr-time-separator",":"),Re=Ep("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Re.getElementsByTagName("input")[0];var Ue=Ep("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Ue.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Fi(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ve.hours:f(ve.hours)),t.minuteElement.value=Fi(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ve.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Re),t.timeContainer.appendChild(Se),t.timeContainer.appendChild(Ue),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var rt=Ep("flatpickr-second");t.secondElement=rt.getElementsByTagName("input")[0],t.secondElement.value=Fi(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ve.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Pn("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(rt)}return t.config.time_24hr||(t.amPM=Pn("span","flatpickr-am-pm",t.l10n.amPM[mo((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function te(){t.weekdayContainer?Sp(t.weekdayContainer):t.weekdayContainer=Pn("div","flatpickr-weekdays");for(var ve=t.config.showMonths;ve--;){var Se=Pn("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(Se)}return be(),t.weekdayContainer}function be(){if(t.weekdayContainer){var ve=t.l10n.firstDayOfWeek,Se=X_(t.l10n.weekdays.shorthand);ve>0&&ve<Se.length&&(Se=X_(Se.splice(ve,Se.length),Se.splice(0,ve)));for(var Re=t.config.showMonths;Re--;)t.weekdayContainer.children[Re].innerHTML=`
      <span class='flatpickr-weekday'>
        `+Se.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Y(){t.calendarContainer.classList.add("hasWeeks");var ve=Pn("div","flatpickr-weekwrapper");ve.appendChild(Pn("span","flatpickr-weekday",t.l10n.weekAbbreviation));var Se=Pn("div","flatpickr-weeks");return ve.appendChild(Se),{weekWrapper:ve,weekNumbers:Se}}function ue(ve,Se){Se===void 0&&(Se=!0);var Re=Se?ve:ve-t.currentMonth;Re<0&&t._hidePrevMonthArrow===!0||Re>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Re,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,vt("onYearChange"),V()),$(),vt("onMonthChange"),sn())}function ke(ve,Se){if(ve===void 0&&(ve=!0),Se===void 0&&(Se=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,Se===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Re=sy(t.config),Ue=Re.hours,rt=Re.minutes,Xe=Re.seconds;E(Ue,rt,Xe)}t.redraw(),ve&&vt("onChange")}function xe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),vt("onClose")}function X(){t.config!==void 0&&vt("onDestroy");for(var ve=t._handlers.length;ve--;)t._handlers[ve].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var Se=t.calendarContainer.parentNode;if(Se.lastChild&&Se.removeChild(Se.lastChild),Se.parentNode){for(;Se.firstChild;)Se.parentNode.insertBefore(Se.firstChild,Se);Se.parentNode.removeChild(Se)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Re){try{delete t[Re]}catch{}})}function K(ve){return t.calendarContainer.contains(ve)}function Oe(ve){if(t.isOpen&&!t.config.inline){var Se=Ji(ve),Re=K(Se),Ue=Se===t.input||Se===t.altInput||t.element.contains(Se)||ve.path&&ve.path.indexOf&&(~ve.path.indexOf(t.input)||~ve.path.indexOf(t.altInput)),rt=!Ue&&!Re&&!K(ve.relatedTarget),Xe=!t.config.ignoredFocusElements.some(function(gt){return gt.contains(Se)});rt&&Xe&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Fe(ve){if(!(!ve||t.config.minDate&&ve<t.config.minDate.getFullYear()||t.config.maxDate&&ve>t.config.maxDate.getFullYear())){var Se=ve,Re=t.currentYear!==Se;t.currentYear=Se||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Re&&(t.redraw(),vt("onYearChange"),V())}}function Q(ve,Se){var Re;Se===void 0&&(Se=!0);var Ue=t.parseDate(ve,void 0,Se);if(t.config.minDate&&Ue&&to(Ue,t.config.minDate,Se!==void 0?Se:!t.minDateHasTime)<0||t.config.maxDate&&Ue&&to(Ue,t.config.maxDate,Se!==void 0?Se:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Ue===void 0)return!1;for(var rt=!!t.config.enable,Xe=(Re=t.config.enable)!==null&&Re!==void 0?Re:t.config.disable,gt=0,at=void 0;gt<Xe.length;gt++){if(at=Xe[gt],typeof at=="function"&&at(Ue))return rt;if(at instanceof Date&&Ue!==void 0&&at.getTime()===Ue.getTime())return rt;if(typeof at=="string"){var xt=t.parseDate(at,void 0,!0);return xt&&xt.getTime()===Ue.getTime()?rt:!rt}else if(typeof at=="object"&&Ue!==void 0&&at.from&&at.to&&Ue.getTime()>=at.from.getTime()&&Ue.getTime()<=at.to.getTime())return rt}return!rt}function oe(ve){return t.daysContainer!==void 0?ve.className.indexOf("hidden")===-1&&ve.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ve):!1}function ae(ve){var Se=ve.target===t._input,Re=t._input.value.trimEnd()!==Bt();Se&&Re&&!(ve.relatedTarget&&K(ve.relatedTarget))&&t.setDate(t._input.value,!0,ve.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ce(ve){var Se=Ji(ve),Re=t.config.wrap?n.contains(Se):Se===t._input,Ue=t.config.allowInput,rt=t.isOpen&&(!Ue||!Re),Xe=t.config.inline&&Re&&!Ue;if(ve.keyCode===13&&Re){if(Ue)return t.setDate(t._input.value,!0,Se===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),Se.blur();t.open()}else if(K(Se)||rt||Xe){var gt=!!t.timeContainer&&t.timeContainer.contains(Se);switch(ve.keyCode){case 13:gt?(ve.preventDefault(),c(),F()):z(ve);break;case 27:ve.preventDefault(),F();break;case 8:case 46:Re&&!t.config.allowInput&&(ve.preventDefault(),t.clear());break;case 37:case 39:if(!gt&&!Re){ve.preventDefault();var at=s();if(t.daysContainer!==void 0&&(Ue===!1||at&&oe(at))){var xt=ve.keyCode===39?1:-1;ve.ctrlKey?(ve.stopPropagation(),ue(xt),D(R(1),0)):D(void 0,xt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ve.preventDefault();var ht=ve.keyCode===40?1:-1;t.daysContainer&&Se.$i!==void 0||Se===t.input||Se===t.altInput?ve.ctrlKey?(ve.stopPropagation(),Fe(t.currentYear-ht),D(R(1),0)):gt||D(void 0,ht*7):Se===t.currentYearElement?Fe(t.currentYear-ht):t.config.enableTime&&(!gt&&t.hourElement&&t.hourElement.focus(),c(ve),t._debouncedChange());break;case 9:if(gt){var dt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(En){return En}),it=dt.indexOf(Se);if(it!==-1){var fn=dt[it+(ve.shiftKey?-1:1)];ve.preventDefault(),(fn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(Se)&&ve.shiftKey&&(ve.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&Se===t.amPM)switch(ve.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],g(),mn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],g(),mn();break}(Re||K(Se))&&vt("onKeyDown",ve)}function q(ve,Se){if(Se===void 0&&(Se="flatpickr-day"),!(t.selectedDates.length!==1||ve&&(!ve.classList.contains(Se)||ve.classList.contains("flatpickr-disabled")))){for(var Re=ve?ve.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Ue=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),rt=Math.min(Re,t.selectedDates[0].getTime()),Xe=Math.max(Re,t.selectedDates[0].getTime()),gt=!1,at=0,xt=0,ht=rt;ht<Xe;ht+=F3.DAY)Q(new Date(ht),!0)||(gt=gt||ht>rt&&ht<Xe,ht<Ue&&(!at||ht>at)?at=ht:ht>Ue&&(!xt||ht<xt)&&(xt=ht));var dt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+Se));dt.forEach(function(it){var fn=it.dateObj,En=fn.getTime(),fr=at>0&&En<at||xt>0&&En>xt;if(fr){it.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(sr){it.classList.remove(sr)});return}else if(gt&&!fr)return;["startRange","inRange","endRange","notAllowed"].forEach(function(sr){it.classList.remove(sr)}),ve!==void 0&&(ve.classList.add(Re<=t.selectedDates[0].getTime()?"startRange":"endRange"),Ue<Re&&En===Ue?it.classList.add("startRange"):Ue>Re&&En===Ue&&it.classList.add("endRange"),En>=at&&(xt===0||En<=xt)&&D3(En,Ue,Re)&&it.classList.add("inRange"))})}}function J(){t.isOpen&&!t.config.static&&!t.config.inline&&ne()}function pe(ve,Se){if(Se===void 0&&(Se=t._positionElement),t.isMobile===!0){if(ve){ve.preventDefault();var Re=Ji(ve);Re&&Re.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),vt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Ue=t.isOpen;t.isOpen=!0,Ue||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),vt("onOpen"),ne(Se)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ve===void 0||!t.timeContainer.contains(ve.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function ye(ve){return function(Se){var Re=t.config["_"+ve+"Date"]=t.parseDate(Se,t.config.dateFormat),Ue=t.config["_"+(ve==="min"?"max":"min")+"Date"];Re!==void 0&&(t[ve==="min"?"minDateHasTime":"maxDateHasTime"]=Re.getHours()>0||Re.getMinutes()>0||Re.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(rt){return Q(rt)}),!t.selectedDates.length&&ve==="min"&&y(Re),mn()),t.daysContainer&&(O(),Re!==void 0?t.currentYearElement[ve]=Re.getFullYear().toString():t.currentYearElement.removeAttribute(ve),t.currentYearElement.disabled=!!Ue&&Re!==void 0&&Ue.getFullYear()===Re.getFullYear())}}function Ae(){var ve=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Se=fi(fi({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Re={};t.config.parseDate=Se.parseDate,t.config.formatDate=Se.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(dt){t.config._enable=He(dt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(dt){t.config._disable=He(dt)}});var Ue=Se.mode==="time";if(!Se.dateFormat&&(Se.enableTime||Ue)){var rt=kr.defaultConfig.dateFormat||_u.dateFormat;Re.dateFormat=Se.noCalendar||Ue?"H:i"+(Se.enableSeconds?":S":""):rt+" H:i"+(Se.enableSeconds?":S":"")}if(Se.altInput&&(Se.enableTime||Ue)&&!Se.altFormat){var Xe=kr.defaultConfig.altFormat||_u.altFormat;Re.altFormat=Se.noCalendar||Ue?"h:i"+(Se.enableSeconds?":S K":" K"):Xe+(" h:i"+(Se.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:ye("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:ye("max")});var gt=function(dt){return function(it){t.config[dt==="min"?"_minTime":"_maxTime"]=t.parseDate(it,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:gt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:gt("max")}),Se.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Re,Se);for(var at=0;at<ve.length;at++)t.config[ve[at]]=t.config[ve[at]]===!0||t.config[ve[at]]==="true";ny.filter(function(dt){return t.config[dt]!==void 0}).forEach(function(dt){t.config[dt]=ry(t.config[dt]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var at=0;at<t.config.plugins.length;at++){var xt=t.config.plugins[at](t)||{};for(var ht in xt)ny.indexOf(ht)>-1?t.config[ht]=ry(xt[ht]).map(l).concat(t.config[ht]):typeof Se[ht]>"u"&&(t.config[ht]=xt[ht])}Se.altInputClass||(t.config.altInputClass=Te().className+" "+t.config.altInputClass),vt("onParseConfig")}function Te(){return t.config.wrap?n.querySelector("[data-input]"):n}function De(){typeof t.config.locale!="object"&&typeof kr.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=fi(fi({},kr.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?kr.l10ns[t.config.locale]:void 0),jl.D="("+t.l10n.weekdays.shorthand.join("|")+")",jl.l="("+t.l10n.weekdays.longhand.join("|")+")",jl.M="("+t.l10n.months.shorthand.join("|")+")",jl.F="("+t.l10n.months.longhand.join("|")+")",jl.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ve=fi(fi({},e),JSON.parse(JSON.stringify(n.dataset||{})));ve.time_24hr===void 0&&kr.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=gT(t),t.parseDate=E0({config:t.config,l10n:t.l10n})}function ne(ve){if(typeof t.config.position=="function")return void t.config.position(t,ve);if(t.calendarContainer!==void 0){vt("onPreCalendarPosition");var Se=ve||t._positionElement,Re=Array.prototype.reduce.call(t.calendarContainer.children,function(Rn,Ee){return Rn+Ee.offsetHeight},0),Ue=t.calendarContainer.offsetWidth,rt=t.config.position.split(" "),Xe=rt[0],gt=rt.length>1?rt[1]:null,at=Se.getBoundingClientRect(),xt=window.innerHeight-at.bottom,ht=Xe==="above"||Xe!=="below"&&xt<Re&&at.top>Re,dt=window.pageYOffset+at.top+(ht?-Re-2:Se.offsetHeight+2);if(_i(t.calendarContainer,"arrowTop",!ht),_i(t.calendarContainer,"arrowBottom",ht),!t.config.inline){var it=window.pageXOffset+at.left,fn=!1,En=!1;gt==="center"?(it-=(Ue-at.width)/2,fn=!0):gt==="right"&&(it-=Ue-at.width,En=!0),_i(t.calendarContainer,"arrowLeft",!fn&&!En),_i(t.calendarContainer,"arrowCenter",fn),_i(t.calendarContainer,"arrowRight",En);var fr=window.document.body.offsetWidth-(window.pageXOffset+at.right),sr=it+Ue>window.document.body.offsetWidth,Xr=fr+Ue>window.document.body.offsetWidth;if(_i(t.calendarContainer,"rightMost",sr),!t.config.static)if(t.calendarContainer.style.top=dt+"px",!sr)t.calendarContainer.style.left=it+"px",t.calendarContainer.style.right="auto";else if(!Xr)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=fr+"px";else{var _r=le();if(_r===void 0)return;var bn=window.document.body.offsetWidth,ii=Math.max(0,bn/2-Ue/2),yi=".flatpickr-calendar.centerMost:before",Lr=".flatpickr-calendar.centerMost:after",Dn=_r.cssRules.length,Jr="{left:"+at.left+"px;right:auto;}";_i(t.calendarContainer,"rightMost",!1),_i(t.calendarContainer,"centerMost",!0),_r.insertRule(yi+","+Lr+Jr,Dn),t.calendarContainer.style.left=ii+"px",t.calendarContainer.style.right="auto"}}}}function le(){for(var ve=null,Se=0;Se<document.styleSheets.length;Se++){var Re=document.styleSheets[Se];if(Re.cssRules){try{Re.cssRules}catch{continue}ve=Re;break}}return ve??he()}function he(){var ve=document.createElement("style");return document.head.appendChild(ve),ve.sheet}function O(){t.config.noCalendar||t.isMobile||(V(),sn(),$())}function F(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function z(ve){ve.preventDefault(),ve.stopPropagation();var Se=function(dt){return dt.classList&&dt.classList.contains("flatpickr-day")&&!dt.classList.contains("flatpickr-disabled")&&!dt.classList.contains("notAllowed")},Re=mT(Ji(ve),Se);if(Re!==void 0){var Ue=Re,rt=t.latestSelectedDateObj=new Date(Ue.dateObj.getTime()),Xe=(rt.getMonth()<t.currentMonth||rt.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Ue,t.config.mode==="single")t.selectedDates=[rt];else if(t.config.mode==="multiple"){var gt=Ft(rt);gt?t.selectedDates.splice(parseInt(gt),1):t.selectedDates.push(rt)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=rt,t.selectedDates.push(rt),to(rt,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(dt,it){return dt.getTime()-it.getTime()}));if(g(),Xe){var at=t.currentYear!==rt.getFullYear();t.currentYear=rt.getFullYear(),t.currentMonth=rt.getMonth(),at&&(vt("onYearChange"),V()),vt("onMonthChange")}if(sn(),$(),mn(),!Xe&&t.config.mode!=="range"&&t.config.showMonths===1?P(Ue):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var xt=t.config.mode==="single"&&!t.config.enableTime,ht=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(xt||ht)&&F()}C()}}var re={locale:[De,be],showMonths:[fe,h,te],minDate:[b],maxDate:[b],positionElement:[ct],clickOpens:[function(){t.config.clickOpens===!0?(w(t._input,"focus",t.open),w(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function _e(ve,Se){if(ve!==null&&typeof ve=="object"){Object.assign(t.config,ve);for(var Re in ve)re[Re]!==void 0&&re[Re].forEach(function(Ue){return Ue()})}else t.config[ve]=Se,re[ve]!==void 0?re[ve].forEach(function(Ue){return Ue()}):ny.indexOf(ve)>-1&&(t.config[ve]=ry(Se));t.redraw(),mn(!0)}function Le(ve,Se){var Re=[];if(ve instanceof Array)Re=ve.map(function(Ue){return t.parseDate(Ue,Se)});else if(ve instanceof Date||typeof ve=="number")Re=[t.parseDate(ve,Se)];else if(typeof ve=="string")switch(t.config.mode){case"single":case"time":Re=[t.parseDate(ve,Se)];break;case"multiple":Re=ve.split(t.config.conjunction).map(function(Ue){return t.parseDate(Ue,Se)});break;case"range":Re=ve.split(t.l10n.rangeSeparator).map(function(Ue){return t.parseDate(Ue,Se)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ve)));t.selectedDates=t.config.allowInvalidPreload?Re:Re.filter(function(Ue){return Ue instanceof Date&&Q(Ue,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Ue,rt){return Ue.getTime()-rt.getTime()})}function Me(ve,Se,Re){if(Se===void 0&&(Se=!1),Re===void 0&&(Re=t.config.dateFormat),ve!==0&&!ve||ve instanceof Array&&ve.length===0)return t.clear(Se);Le(ve,Re),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,Se),y(),t.selectedDates.length===0&&t.clear(!1),mn(Se),Se&&vt("onChange")}function He(ve){return ve.slice().map(function(Se){return typeof Se=="string"||typeof Se=="number"||Se instanceof Date?t.parseDate(Se,void 0,!0):Se&&typeof Se=="object"&&Se.from&&Se.to?{from:t.parseDate(Se.from,void 0),to:t.parseDate(Se.to,void 0)}:Se}).filter(function(Se){return Se})}function Ze(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ve=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ve&&Le(ve,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function mt(){if(t.input=Te(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Pn(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),ct()}function ct(){t._positionElement=t.config.positionElement||t._input}function Vt(){var ve=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Pn("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ve,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ve==="datetime-local"?"Y-m-d\\TH:i:S":ve==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}w(t.mobileInput,"change",function(Se){t.setDate(Ji(Se).value,!1,t.mobileFormatStr),vt("onChange"),vt("onClose")})}function It(ve){if(t.isOpen===!0)return t.close();t.open(ve)}function vt(ve,Se){if(t.config!==void 0){var Re=t.config[ve];if(Re!==void 0&&Re.length>0)for(var Ue=0;Re[Ue]&&Ue<Re.length;Ue++)Re[Ue](t.selectedDates,t.input.value,t,Se);ve==="onChange"&&(t.input.dispatchEvent(bt("change")),t.input.dispatchEvent(bt("input")))}}function bt(ve){var Se=document.createEvent("Event");return Se.initEvent(ve,!0,!0),Se}function Ft(ve){for(var Se=0;Se<t.selectedDates.length;Se++){var Re=t.selectedDates[Se];if(Re instanceof Date&&to(Re,ve)===0)return""+Se}return!1}function ut(ve){return t.config.mode!=="range"||t.selectedDates.length<2?!1:to(ve,t.selectedDates[0])>=0&&to(ve,t.selectedDates[1])<=0}function sn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ve,Se){var Re=new Date(t.currentYear,t.currentMonth,1);Re.setMonth(t.currentMonth+Se),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[Se].textContent=Tm(Re.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Re.getMonth().toString(),ve.value=Re.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Bt(ve){var Se=ve||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Re){return t.formatDate(Re,Se)}).filter(function(Re,Ue,rt){return t.config.mode!=="range"||t.config.enableTime||rt.indexOf(Re)===Ue}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function mn(ve){ve===void 0&&(ve=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Bt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Bt(t.config.altFormat)),ve!==!1&&vt("onValueUpdate")}function un(ve){var Se=Ji(ve),Re=t.prevMonthNav.contains(Se),Ue=t.nextMonthNav.contains(Se);Re||Ue?ue(Re?-1:1):t.yearElements.indexOf(Se)>=0?Se.select():Se.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):Se.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function an(ve){ve.preventDefault();var Se=ve.type==="keydown",Re=Ji(ve),Ue=Re;t.amPM!==void 0&&Re===t.amPM&&(t.amPM.textContent=t.l10n.amPM[mo(t.amPM.textContent===t.l10n.amPM[0])]);var rt=parseFloat(Ue.getAttribute("min")),Xe=parseFloat(Ue.getAttribute("max")),gt=parseFloat(Ue.getAttribute("step")),at=parseInt(Ue.value,10),xt=ve.delta||(Se?ve.which===38?1:-1:0),ht=at+gt*xt;if(typeof Ue.value<"u"&&Ue.value.length===2){var dt=Ue===t.hourElement,it=Ue===t.minuteElement;ht<rt?(ht=Xe+ht+mo(!dt)+(mo(dt)&&mo(!t.amPM)),it&&A(void 0,-1,t.hourElement)):ht>Xe&&(ht=Ue===t.hourElement?ht-Xe-mo(!t.amPM):rt,it&&A(void 0,1,t.hourElement)),t.amPM&&dt&&(gt===1?ht+at===23:Math.abs(ht-at)>gt)&&(t.amPM.textContent=t.l10n.amPM[mo(t.amPM.textContent===t.l10n.amPM[0])]),Ue.value=Fi(ht)}}return i(),t}function xu(n,e){for(var t=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var s=t[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=j3(s,e||{}),r.push(s._flatpickr)}catch(l){console.error(l)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return xu(this,n)},HTMLElement.prototype.flatpickr=function(n){return xu([this],n)});var kr=function(n,e){return typeof n=="string"?xu(window.document.querySelectorAll(n),e):n instanceof Node?xu([n],e):xu(n,e)};kr.defaultConfig={};kr.l10ns={en:fi({},Cd),default:fi({},Cd)};kr.localize=function(n){kr.l10ns.default=fi(fi({},kr.l10ns.default),n)};kr.setDefaults=function(n){kr.defaultConfig=fi(fi({},kr.defaultConfig),n)};kr.parseDate=E0({});kr.formatDate=gT({});kr.compareDates=to;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return xu(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=kr);var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $3(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var vT={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Kr,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function t(){for(var i=0,s=0,l=arguments.length;s<l;s++)i+=arguments[s].length;for(var h=Array(i),c=0,s=0;s<l;s++)for(var d=arguments[s],f=0,g=d.length;f<g;f++,c++)h[c]=d[f];return h}function r(i){return i===void 0&&(i={}),function(s){var l="",h,c,d,f=function(){if(i.input){if(h=i.input instanceof Element?i.input:window.document.querySelector(i.input),!h){s.config.errorHandler(new Error("Invalid input element specified"));return}s.config.wrap&&(h=h.querySelector("[data-input]"))}else h=s._input.cloneNode(),h.removeAttribute("id"),h._flatpickr=void 0;if(h.value){var y=s.parseDate(h.value);y&&s.selectedDates.push(y)}h.setAttribute("data-fp-omit",""),s.config.clickOpens&&(s._bind(h,["focus","click"],function(){s.selectedDates[1]&&(s.latestSelectedDateObj=s.selectedDates[1],s._setHoursFromDate(s.selectedDates[1]),s.jumpToDate(s.selectedDates[1])),c=!0,s.isOpen=!1,s.open(void 0,i.position==="left"?s._input:h)}),s._bind(s._input,["focus","click"],function(E){E.preventDefault(),s.isOpen=!1,s.open()})),s.config.allowInput&&s._bind(h,"keydown",function(E){E.key==="Enter"&&(s.setDate([s.selectedDates[0],h.value],!0,l),h.click())}),i.input||s._input.parentNode&&s._input.parentNode.insertBefore(h,s._input.nextSibling)},g={onParseConfig:function(){s.config.mode="range",l=s.config.altInput?s.config.altFormat:s.config.dateFormat},onReady:function(){f(),s.config.ignoredFocusElements.push(h),s.config.allowInput?(s._input.removeAttribute("readonly"),h.removeAttribute("readonly")):h.setAttribute("readonly","readonly"),s._bind(s._input,"focus",function(){s.latestSelectedDateObj=s.selectedDates[0],s._setHoursFromDate(s.selectedDates[0]),c=!1,s.jumpToDate(s.selectedDates[0])}),s.config.allowInput&&s._bind(s._input,"keydown",function(y){y.key==="Enter"&&s.setDate([s._input.value,s.selectedDates[1]],!0,l)}),s.setDate(s.selectedDates,!1),g.onValueUpdate(s.selectedDates),s.loadedPlugins.push("range")},onPreCalendarPosition:function(){c&&(s._positionElement=h,setTimeout(function(){s._positionElement=s._input},0))},onChange:function(){s.selectedDates.length||setTimeout(function(){s.selectedDates.length||(h.value="",d=[])},10),c&&setTimeout(function(){h.focus()},0)},onDestroy:function(){i.input||h.parentNode&&h.parentNode.removeChild(h)},onValueUpdate:function(y){var E,_,w;if(h){if(d=!d||y.length>=d.length?t(y):d,d.length>y.length){var C=y[0],M=c?[d[0],C]:[C,d[1]];M[0].getTime()>M[1].getTime()&&(c?M[0]=M[1]:M[1]=M[0]),s.setDate(M,!1),d=t(M)}E=s.selectedDates.map(function(b){return s.formatDate(b,l)}),_=E[0],s._input.value=_===void 0?"":_,w=E[1],h.value=w===void 0?"":w}}};return g}}return r})})(vT);var H3=vT.exports;const z3=cc(H3);var J_={exports:{}};(function(n,e){(function(t,r){r(e)})(Kr,function(t){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var r=function(){return r=Object.assign||function(dn){for(var Hn,Fn=1,Mr=arguments.length;Fn<Mr;Fn++){Hn=arguments[Fn];for(var Yn in Hn)Object.prototype.hasOwnProperty.call(Hn,Yn)&&(dn[Yn]=Hn[Yn])}return dn},r.apply(this,arguments)},i=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},s={weekdays:{shorthand:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],longhand:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},months:{shorthand:["1","2","3","4","5","6","7","8","9","10","11","12"],longhand:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},firstDayOfWeek:6,rangeSeparator:" إلى ",weekAbbreviation:"Wk",scrollTitle:"قم بالتمرير للزيادة",toggleTitle:"اضغط للتبديل",amPM:["ص","م"],yearAriaLabel:"سنة",monthAriaLabel:"شهر",hourAriaLabel:"ساعة",minuteAriaLabel:"دقيقة",time_24hr:!1};i.l10ns.ar=s,i.l10ns;var l=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},h={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};l.l10ns.at=h,l.l10ns;var c=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},d={weekdays:{shorthand:["B.","B.e.","Ç.a.","Ç.","C.a.","C.","Ş."],longhand:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},months:{shorthand:["Yan","Fev","Mar","Apr","May","İyn","İyl","Avq","Sen","Okt","Noy","Dek"],longhand:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artırmaq üçün sürüşdürün",toggleTitle:"Aç / Bağla",amPM:["GƏ","GS"],time_24hr:!0};c.l10ns.az=d,c.l10ns;var f=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},g={weekdays:{shorthand:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],longhand:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"]},months:{shorthand:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сне"],longhand:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Тыд.",scrollTitle:"Пракруціце для павелічэння",toggleTitle:"Націсніце для пераключэння",amPM:["ДП","ПП"],yearAriaLabel:"Год",time_24hr:!0};f.l10ns.be=g,f.l10ns;var y=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},E={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Juni","Juli","Avgust","Septembar","Oktobar","Novembar","Decembar"]},time_24hr:!0};y.l10ns.bs=E,y.l10ns;var _=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},w={weekdays:{shorthand:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},months:{shorthand:["Яну","Фев","Март","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],longhand:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"]},time_24hr:!0,firstDayOfWeek:1};_.l10ns.bg=w,_.l10ns;var C=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},M={weekdays:{shorthand:["রবি","সোম","মঙ্গল","বুধ","বৃহস্পতি","শুক্র","শনি"],longhand:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহস্পতিবার","শুক্রবার","শনিবার"]},months:{shorthand:["জানু","ফেব্রু","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগ","সেপ্টে","অক্টো","নভে","ডিসে"],longhand:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"]}};C.l10ns.bn=M,C.l10ns;var b=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},k={weekdays:{shorthand:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],longhand:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},months:{shorthand:["Gen","Febr","Març","Abr","Maig","Juny","Jul","Ag","Set","Oct","Nov","Des"],longhand:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"]},ordinal:function(rn){var dn=rn%100;if(dn>3&&dn<21)return"è";switch(dn%10){case 1:return"r";case 2:return"n";case 3:return"r";case 4:return"t";default:return"è"}},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};b.l10ns.cat=b.l10ns.ca=k,b.l10ns;var A=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},N={weekdays:{shorthand:["یەکشەممە","دووشەممە","سێشەممە","چوارشەممە","پێنجشەممە","هەینی","شەممە"],longhand:["یەکشەممە","دووشەممە","سێشەممە","چوارشەممە","پێنجشەممە","هەینی","شەممە"]},months:{shorthand:["ڕێبەندان","ڕەشەمە","نەورۆز","گوڵان","جۆزەردان","پووشپەڕ","گەلاوێژ","خەرمانان","ڕەزبەر","گەڵاڕێزان","سەرماوەز","بەفرانبار"],longhand:["ڕێبەندان","ڕەشەمە","نەورۆز","گوڵان","جۆزەردان","پووشپەڕ","گەلاوێژ","خەرمانان","ڕەزبەر","گەڵاڕێزان","سەرماوەز","بەفرانبار"]},firstDayOfWeek:6,ordinal:function(){return""}};A.l10ns.ckb=N,A.l10ns;var T=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},P={weekdays:{shorthand:["Ne","Po","Út","St","Čt","Pá","So"],longhand:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"]},months:{shorthand:["Led","Ún","Bře","Dub","Kvě","Čer","Čvc","Srp","Zář","Říj","Lis","Pro"],longhand:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" do ",weekAbbreviation:"Týd.",scrollTitle:"Rolujte pro změnu",toggleTitle:"Přepnout dopoledne/odpoledne",amPM:["dop.","odp."],yearAriaLabel:"Rok",time_24hr:!0};T.l10ns.cs=P,T.l10ns;var R=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},B={weekdays:{shorthand:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],longhand:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"]},months:{shorthand:["Ion","Chwef","Maw","Ebr","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longhand:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},firstDayOfWeek:1,ordinal:function(rn){return rn===1?"af":rn===2?"ail":rn===3||rn===4?"ydd":rn===5||rn===6?"ed":rn>=7&&rn<=10||rn==12||rn==15||rn==18||rn==20?"fed":rn==11||rn==13||rn==14||rn==16||rn==17||rn==19?"eg":rn>=21&&rn<=39?"ain":""},time_24hr:!0};R.l10ns.cy=B,R.l10ns;var D=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},H={weekdays:{shorthand:["søn","man","tir","ons","tors","fre","lør"],longhand:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},months:{shorthand:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longhand:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"uge",time_24hr:!0};D.l10ns.da=H,D.l10ns;var $=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},V={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};$.l10ns.de=V,$.l10ns;var ee={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(rn){var dn=rn%100;if(dn>3&&dn<21)return"th";switch(dn%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},fe=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},me={firstDayOfWeek:1,rangeSeparator:" ĝis ",weekAbbreviation:"Sem",scrollTitle:"Rulumu por pligrandigi la valoron",toggleTitle:"Klaku por ŝalti",weekdays:{shorthand:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],longhand:["dimanĉo","lundo","mardo","merkredo","ĵaŭdo","vendredo","sabato"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],longhand:["januaro","februaro","marto","aprilo","majo","junio","julio","aŭgusto","septembro","oktobro","novembro","decembro"]},ordinal:function(){return"-a"},time_24hr:!0};fe.l10ns.eo=me,fe.l10ns;var ie=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},te={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};ie.l10ns.es=te,ie.l10ns;var be=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Y={weekdays:{shorthand:["P","E","T","K","N","R","L"],longhand:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},months:{shorthand:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],longhand:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"]},firstDayOfWeek:1,ordinal:function(){return"."},weekAbbreviation:"Näd",rangeSeparator:" kuni ",scrollTitle:"Keri, et suurendada",toggleTitle:"Klõpsa, et vahetada",time_24hr:!0};be.l10ns.et=Y,be.l10ns;var ue=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ke={weekdays:{shorthand:["یک","دو","سه","چهار","پنج","جمعه","شنبه"],longhand:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنچ‌شنبه","جمعه","شنبه"]},months:{shorthand:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],longhand:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"]},firstDayOfWeek:6,ordinal:function(){return""}};ue.l10ns.fa=ke,ue.l10ns;var xe=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},X={firstDayOfWeek:1,weekdays:{shorthand:["su","ma","ti","ke","to","pe","la"],longhand:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},months:{shorthand:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu"],longhand:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"]},ordinal:function(){return"."},time_24hr:!0};xe.l10ns.fi=X,xe.l10ns;var K=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Oe={weekdays:{shorthand:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],longhand:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leygardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","Apríl","Mai","Juni","Juli","August","Septembur","Oktobur","Novembur","Desembur"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",scrollTitle:"Rulla fyri at broyta",toggleTitle:"Trýst fyri at skifta",yearAriaLabel:"Ár",time_24hr:!0};K.l10ns.fo=Oe,K.l10ns;var Fe=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Q={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],longhand:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ordinal:function(rn){return rn>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Défiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};Fe.l10ns.fr=Q,Fe.l10ns;var oe=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ae={weekdays:{shorthand:["Κυ","Δε","Τρ","Τε","Πέ","Πα","Σά"],longhand:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},months:{shorthand:["Ιαν","Φεβ","Μάρ","Απρ","Μάι","Ιούν","Ιούλ","Αύγ","Σεπ","Οκτ","Νοέ","Δεκ"],longhand:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"]},firstDayOfWeek:1,ordinal:function(){return""},weekAbbreviation:"Εβδ",rangeSeparator:" έως ",scrollTitle:"Μετακυλήστε για προσαύξηση",toggleTitle:"Κάντε κλικ για αλλαγή",amPM:["ΠΜ","ΜΜ"],yearAriaLabel:"χρόνος",monthAriaLabel:"μήνας",hourAriaLabel:"ώρα",minuteAriaLabel:"λεπτό"};oe.l10ns.gr=ae,oe.l10ns;var ce=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},q={weekdays:{shorthand:["א","ב","ג","ד","ה","ו","ש"],longhand:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"]},months:{shorthand:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],longhand:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},rangeSeparator:" אל ",time_24hr:!0};ce.l10ns.he=q,ce.l10ns;var J=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},pe={weekdays:{shorthand:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],longhand:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"]},months:{shorthand:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],longhand:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"]}};J.l10ns.hi=pe,J.l10ns;var ye=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ae={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},months:{shorthand:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],longhand:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"]},time_24hr:!0};ye.l10ns.hr=Ae,ye.l10ns;var Te=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},De={firstDayOfWeek:1,weekdays:{shorthand:["V","H","K","Sz","Cs","P","Szo"],longhand:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"]},months:{shorthand:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],longhand:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"]},ordinal:function(){return"."},weekAbbreviation:"Hét",scrollTitle:"Görgessen",toggleTitle:"Kattintson a váltáshoz",rangeSeparator:" - ",time_24hr:!0};Te.l10ns.hu=De,Te.l10ns;var ne=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},le={weekdays:{shorthand:["Կիր","Երկ","Երք","Չրք","Հնգ","Ուրբ","Շբթ"],longhand:["Կիրակի","Եկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},months:{shorthand:["Հնվ","Փտր","Մար","Ապր","Մայ","Հնս","Հլս","Օգս","Սեպ","Հոկ","Նմբ","Դեկ"],longhand:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"ՇԲՏ",scrollTitle:"Ոլորեք՝ մեծացնելու համար",toggleTitle:"Սեղմեք՝ փոխելու համար",amPM:["ՄԿ","ԿՀ"],yearAriaLabel:"Տարի",monthAriaLabel:"Ամիս",hourAriaLabel:"Ժամ",minuteAriaLabel:"Րոպե",time_24hr:!0};ne.l10ns.hy=le,ne.l10ns;var he=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},O={weekdays:{shorthand:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],longhand:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longhand:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0,rangeSeparator:" - "};he.l10ns.id=O,he.l10ns;var F=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},z={weekdays:{shorthand:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],longhand:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],longhand:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",yearAriaLabel:"Ár",time_24hr:!0};F.l10ns.is=z,F.l10ns;var re=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},_e={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return"°"},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};re.l10ns.it=_e,re.l10ns;var Le=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Me={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",monthAriaLabel:"月",amPM:["午前","午後"],yearAriaLabel:"年",hourAriaLabel:"時間",minuteAriaLabel:"分"};Le.l10ns.ja=Me,Le.l10ns;var He=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ze={weekdays:{shorthand:["კვ","ორ","სა","ოთ","ხუ","პა","შა"],longhand:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]},months:{shorthand:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],longhand:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"კვ.",scrollTitle:"დასქროლეთ გასადიდებლად",toggleTitle:"დააკლიკეთ გადართვისთვის",amPM:["AM","PM"],yearAriaLabel:"წელი",time_24hr:!0};He.l10ns.ka=Ze,He.l10ns;var mt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ct={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ ",amPM:["오전","오후"]};mt.l10ns.ko=ct,mt.l10ns;var Vt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},It={weekdays:{shorthand:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស.","សុក្រ","សៅរ៍"],longhand:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស្បតិ៍","សុក្រ","សៅរ៍"]},months:{shorthand:["មករា","កុម្ភះ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],longhand:["មករា","កុម្ភះ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:" ដល់ ",weekAbbreviation:"សប្តាហ៍",scrollTitle:"រំកិលដើម្បីបង្កើន",toggleTitle:"ចុចដើម្បីផ្លាស់ប្ដូរ",yearAriaLabel:"ឆ្នាំ",time_24hr:!0};Vt.l10ns.km=It,Vt.l10ns;var vt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},bt={weekdays:{shorthand:["Жс","Дс","Сc","Ср","Бс","Жм","Сб"],longhand:["Жексенбi","Дүйсенбi","Сейсенбi","Сәрсенбi","Бейсенбi","Жұма","Сенбi"]},months:{shorthand:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шiл","Там","Қыр","Қаз","Қар","Жел"],longhand:["Қаңтар","Ақпан","Наурыз","Сәуiр","Мамыр","Маусым","Шiлде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Апта",scrollTitle:"Үлкейту үшін айналдырыңыз",toggleTitle:"Ауыстыру үшін басыңыз",amPM:["ТД","ТК"],yearAriaLabel:"Жыл"};vt.l10ns.kz=bt,vt.l10ns;var Ft=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ut={weekdays:{shorthand:["S","Pr","A","T","K","Pn","Š"],longhand:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},months:{shorthand:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longhand:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"]},firstDayOfWeek:1,ordinal:function(){return"-a"},rangeSeparator:" iki ",weekAbbreviation:"Sav",scrollTitle:"Keisti laiką pelės rateliu",toggleTitle:"Perjungti laiko formatą",time_24hr:!0};Ft.l10ns.lt=ut,Ft.l10ns;var sn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Bt={firstDayOfWeek:1,weekdays:{shorthand:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],longhand:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],longhand:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"]},rangeSeparator:" līdz ",time_24hr:!0};sn.l10ns.lv=Bt,sn.l10ns;var mn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},un={weekdays:{shorthand:["Не","По","Вт","Ср","Че","Пе","Са"],longhand:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},months:{shorthand:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],longhand:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"]},firstDayOfWeek:1,weekAbbreviation:"Нед.",rangeSeparator:" до ",time_24hr:!0};mn.l10ns.mk=un,mn.l10ns;var an=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ve={firstDayOfWeek:1,weekdays:{shorthand:["Да","Мя","Лх","Пү","Ба","Бя","Ня"],longhand:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},months:{shorthand:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],longhand:["Нэгдүгээр сар","Хоёрдугаар сар","Гуравдугаар сар","Дөрөвдүгээр сар","Тавдугаар сар","Зургаадугаар сар","Долдугаар сар","Наймдугаар сар","Есдүгээр сар","Аравдугаар сар","Арваннэгдүгээр сар","Арванхоёрдугаар сар"]},rangeSeparator:"-с ",time_24hr:!0};an.l10ns.mn=ve,an.l10ns;var Se=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Re={weekdays:{shorthand:["Aha","Isn","Sel","Rab","Kha","Jum","Sab"],longhand:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"]},months:{shorthand:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],longhand:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},firstDayOfWeek:1,ordinal:function(){return""}};Se.l10ns;var Ue=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},rt={weekdays:{shorthand:["နွေ","လာ","ဂါ","ဟူး","ကြာ","သော","နေ"],longhand:["တနင်္ဂနွေ","တနင်္လာ","အင်္ဂါ","ဗုဒ္ဓဟူး","ကြာသပတေး","သောကြာ","စနေ"]},months:{shorthand:["ဇန်","ဖေ","မတ်","ပြီ","မေ","ဇွန်","လိုင်","သြ","စက်","အောက်","နို","ဒီ"],longhand:["ဇန်နဝါရီ","ဖေဖော်ဝါရီ","မတ်","ဧပြီ","မေ","ဇွန်","ဇူလိုင်","သြဂုတ်","စက်တင်ဘာ","အောက်တိုဘာ","နိုဝင်ဘာ","ဒီဇင်ဘာ"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0};Ue.l10ns.my=rt,Ue.l10ns;var Xe=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},gt={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" t/m ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(rn){return rn===1||rn===8||rn>=20?"ste":"de"}};Xe.l10ns.nl=gt,Xe.l10ns;var at=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},xt={weekdays:{shorthand:["Sø.","Må.","Ty.","On.","To.","Fr.","La."],longhand:["Søndag","Måndag","Tysdag","Onsdag","Torsdag","Fredag","Laurdag"]},months:{shorthand:["Jan","Feb","Mars","Apr","Mai","Juni","Juli","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"Veke",scrollTitle:"Scroll for å endre",toggleTitle:"Klikk for å veksle",time_24hr:!0,ordinal:function(){return"."}};at.l10ns.nn=xt,at.l10ns;var ht=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},dt={weekdays:{shorthand:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],longhand:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"Uke",scrollTitle:"Scroll for å endre",toggleTitle:"Klikk for å veksle",time_24hr:!0,ordinal:function(){return"."}};ht.l10ns.no=dt,ht.l10ns;var it=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},fn={weekdays:{shorthand:["ਐਤ","ਸੋਮ","ਮੰਗਲ","ਬੁੱਧ","ਵੀਰ","ਸ਼ੁੱਕਰ","ਸ਼ਨਿੱਚਰ"],longhand:["ਐਤਵਾਰ","ਸੋਮਵਾਰ","ਮੰਗਲਵਾਰ","ਬੁੱਧਵਾਰ","ਵੀਰਵਾਰ","ਸ਼ੁੱਕਰਵਾਰ","ਸ਼ਨਿੱਚਰਵਾਰ"]},months:{shorthand:["ਜਨ","ਫ਼ਰ","ਮਾਰ","ਅਪ੍ਰੈ","ਮਈ","ਜੂਨ","ਜੁਲਾ","ਅਗ","ਸਤੰ","ਅਕ","ਨਵੰ","ਦਸੰ"],longhand:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"]},time_24hr:!0};it.l10ns.pa=fn,it.l10ns;var En=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},fr={weekdays:{shorthand:["Nd","Pn","Wt","Śr","Cz","Pt","So"],longhand:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"]},months:{shorthand:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],longhand:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"]},rangeSeparator:" do ",weekAbbreviation:"tydz.",scrollTitle:"Przewiń, aby zwiększyć",toggleTitle:"Kliknij, aby przełączyć",firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return"."}};En.l10ns.pl=fr,En.l10ns;var sr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Xr={weekdays:{shorthand:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],longhand:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"]},months:{shorthand:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longhand:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},rangeSeparator:" até ",time_24hr:!0};sr.l10ns.pt=Xr,sr.l10ns;var _r=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},bn={weekdays:{shorthand:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],longhand:["Duminică","Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă"]},months:{shorthand:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Noi","Dec"],longhand:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"]},firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return""}};_r.l10ns.ro=bn,_r.l10ns;var ii=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},yi={weekdays:{shorthand:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},months:{shorthand:["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],longhand:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Нед.",scrollTitle:"Прокрутите для увеличения",toggleTitle:"Нажмите для переключения",amPM:["ДП","ПП"],yearAriaLabel:"Год",time_24hr:!0};ii.l10ns.ru=yi,ii.l10ns;var Lr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Dn={weekdays:{shorthand:["ඉ","ස","අ","බ","බ්‍ර","සි","සෙ"],longhand:["ඉරිදා","සඳුදා","අඟහරුවාදා","බදාදා","බ්‍රහස්පතින්දා","සිකුරාදා","සෙනසුරාදා"]},months:{shorthand:["ජන","පෙබ","මාර්","අප්‍රේ","මැයි","ජුනි","ජූලි","අගෝ","සැප්","ඔක්","නොවැ","දෙසැ"],longhand:["ජනවාරි","පෙබරවාරි","මාර්තු","අප්‍රේල්","මැයි","ජුනි","ජූලි","අගෝස්තු","සැප්තැම්බර්","ඔක්තෝබර්","නොවැම්බර්","දෙසැම්බර්"]},time_24hr:!0};Lr.l10ns.si=Dn,Lr.l10ns;var Jr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Rn={weekdays:{shorthand:["Ned","Pon","Ut","Str","Štv","Pia","Sob"],longhand:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],longhand:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};Jr.l10ns.sk=Rn,Jr.l10ns;var Ee=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ve={weekdays:{shorthand:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],longhand:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};Ee.l10ns.sl=Ve,Ee.l10ns;var Ye=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Qe={weekdays:{shorthand:["Di","Hë","Ma","Më","En","Pr","Sh"],longhand:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtunë"]},months:{shorthand:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],longhand:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"]},firstDayOfWeek:1,rangeSeparator:" deri ",weekAbbreviation:"Java",yearAriaLabel:"Viti",monthAriaLabel:"Muaji",hourAriaLabel:"Ora",minuteAriaLabel:"Minuta",time_24hr:!0};Ye.l10ns.sq=Qe,Ye.l10ns;var nt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Rt={weekdays:{shorthand:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],longhand:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"]},firstDayOfWeek:1,weekAbbreviation:"Ned.",rangeSeparator:" do ",time_24hr:!0};nt.l10ns.sr=Rt,nt.l10ns;var yt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},tn={firstDayOfWeek:1,weekAbbreviation:"v",weekdays:{shorthand:["sön","mån","tis","ons","tor","fre","lör"],longhand:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"]},months:{shorthand:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longhand:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},rangeSeparator:" till ",time_24hr:!0,ordinal:function(){return"."}};yt.l10ns.sv=tn,yt.l10ns;var nn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},An={weekdays:{shorthand:["อา","จ","อ","พ","พฤ","ศ","ส"],longhand:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"]},months:{shorthand:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],longhand:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]},firstDayOfWeek:1,rangeSeparator:" ถึง ",scrollTitle:"เลื่อนเพื่อเพิ่มหรือลด",toggleTitle:"คลิกเพื่อเปลี่ยน",time_24hr:!0,ordinal:function(){return""}};nn.l10ns.th=An,nn.l10ns;var qn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},et={weekdays:{shorthand:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],longhand:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},months:{shorthand:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],longhand:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artırmak için kaydırın",toggleTitle:"Aç/Kapa",amPM:["ÖÖ","ÖS"],time_24hr:!0};qn.l10ns.tr=et,qn.l10ns;var Ct=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},hn={firstDayOfWeek:1,weekdays:{shorthand:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},months:{shorthand:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],longhand:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"]},time_24hr:!0};Ct.l10ns.uk=hn,Ct.l10ns;var jr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Vn={weekdays:{shorthand:["Якш","Душ","Сеш","Чор","Пай","Жум","Шан"],longhand:["Якшанба","Душанба","Сешанба","Чоршанба","Пайшанба","Жума","Шанба"]},months:{shorthand:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],longhand:["Январ","Феврал","Март","Апрел","Май","Июн","Июл","Август","Сентябр","Октябр","Ноябр","Декабр"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Ҳафта",scrollTitle:"Катталаштириш учун айлантиринг",toggleTitle:"Ўтиш учун босинг",amPM:["AM","PM"],yearAriaLabel:"Йил",time_24hr:!0};jr.l10ns.uz=Vn,jr.l10ns;var pr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},mr={weekdays:{shorthand:["Ya","Du","Se","Cho","Pa","Ju","Sha"],longhand:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"]},months:{shorthand:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"],longhand:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Hafta",scrollTitle:"Kattalashtirish uchun aylantiring",toggleTitle:"O‘tish uchun bosing",amPM:["AM","PM"],yearAriaLabel:"Yil",time_24hr:!0};pr.l10ns.uz_latn=mr,pr.l10ns;var zt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ln={weekdays:{shorthand:["CN","T2","T3","T4","T5","T6","T7"],longhand:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},months:{shorthand:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],longhand:["Tháng một","Tháng hai","Tháng ba","Tháng tư","Tháng năm","Tháng sáu","Tháng bảy","Tháng tám","Tháng chín","Tháng mười","Tháng mười một","Tháng mười hai"]},firstDayOfWeek:1,rangeSeparator:" đến "};zt.l10ns.vn=Ln,zt.l10ns;var Oi=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},gr={weekdays:{shorthand:["周日","周一","周二","周三","周四","周五","周六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"周",scrollTitle:"滚动切换",toggleTitle:"点击切换 12/24 小时时制"};Oi.l10ns.zh=gr,Oi.l10ns;var ar=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Hi={weekdays:{shorthand:["週日","週一","週二","週三","週四","週五","週六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"週",scrollTitle:"滾動切換",toggleTitle:"點擊切換 12/24 小時時制"};ar.l10ns.zh_tw=Hi,ar.l10ns;var oi={ar:s,at:h,az:d,be:g,bg:w,bn:M,bs:E,ca:k,ckb:N,cat:k,cs:P,cy:B,da:H,de:V,default:r({},ee),en:ee,eo:me,es:te,et:Y,fa:ke,fi:X,fo:Oe,fr:Q,gr:ae,he:q,hi:pe,hr:Ae,hu:De,hy:le,id:O,is:z,it:_e,ja:Me,ka:Ze,ko:ct,km:It,kz:bt,lt:ut,lv:Bt,mk:un,mn:ve,ms:Re,my:rt,nl:gt,nn:xt,no:dt,pa:fn,pl:fr,pt:Xr,ro:bn,ru:yi,si:Dn,sk:Rn,sl:Ve,sq:Qe,sr:Rt,sv:tn,th:An,tr:et,uk:hn,vn:Ln,zh:gr,zh_tw:Hi,uz:Vn,uz_latn:mr};t.default=oi,Object.defineProperty(t,"__esModule",{value:!0})})})(J_,J_.exports);class U3 extends vn{connect(){const e=[];this.data.get("range")&&e.push(new z3({input:this.data.get("range")}));const t={enableTime:"enable-time",time_24hr:"time_24hr",allowInput:"allow-input",dateFormat:"date-format",noCalendar:"no-calendar",minuteIncrement:"minute-increment",hourIncrement:"hour-increment",static:"static",disableMobile:"disable-mobile",inline:"inline",position:"position",shorthandCurrentMonth:"shorthand-current-month",showMonths:"show-months",allowEmpty:"allowEmpty",placeholder:"placeholder",enable:"enable",disable:"disable",maxDate:"max-date",minDate:"min-date",mode:"mode",defaultDate:"default-date",altInput:"alt-input",altFormat:"alt-format"},r={locale:document.documentElement.lang,plugins:e,appendTo:this.element.closest(".dropdown")||void 0};Object.entries(t).forEach(([i,s])=>{if(this.data.has(i)){if(typeof this.data.get(s)!="string"){r[i]=this.data.get(s);return}try{r[i]=JSON.parse(this.data.get(s))}catch{r[i]=this.data.get(s)}}}),this.fp=kr(this.element.querySelector("input"),r)}setValue(e){const t=JSON.parse(e.target.dataset.value);this.fp.setDate(t,!0)}clear(){this.fp.clear()}}const W3=Object.freeze(Object.defineProperty({__proto__:null,default:U3},Symbol.toStringTag,{value:"Module"}));/*!
Turbo 8.0.13
Copyright © 2025 37signals LLC
 */(function(n){if(typeof n.requestSubmit=="function")return;n.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,i){r instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||t(TypeError,"The specified element is not a submit button"),r.form==i||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(r,i,s){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",s)}})(HTMLFormElement.prototype);const yT=new WeakMap;function q3(n){const e=n instanceof Element?n:n instanceof Node?n.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function V3(n){const e=q3(n.target);e&&e.form&&yT.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let n=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))n=e;else return}addEventListener("click",V3,!0),Object.defineProperty(n,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return yT.get(this.target)}})})();const Ul={eager:"eager",lazy:"lazy"},Ym=class Ym extends HTMLElement{constructor(){super();$e(this,"loaded",Promise.resolve());this.delegate=new Ym.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return G3(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,r;return(r=(t=this.ownerDocument)==null?void 0:t.documentElement)==null?void 0:r.hasAttribute("data-turbo-preview")}};$e(Ym,"delegateConstructor");let To=Ym;function G3(n){switch(n.toLowerCase()){case"lazy":return Ul.lazy;default:return Ul.eager}}const Y3={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Od(n){if(n.getAttribute("data-turbo-eval")=="false")return n;{const e=document.createElement("script"),t=ET();return t&&(e.nonce=t),e.textContent=n.textContent,e.async=!1,K3(e,n),e}}function K3(n,e){for(const{name:t,value:r}of e.attributes)n.setAttribute(t,r)}function Z3(n){const e=document.createElement("template");return e.innerHTML=n,e.content}function or(n,{target:e,cancelable:t,detail:r}={}){const i=new CustomEvent(n,{cancelable:t,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function Q_(n){n.preventDefault(),n.stopImmediatePropagation()}function pd(){return document.visibilityState==="hidden"?wT():bT()}function bT(){return new Promise(n=>requestAnimationFrame(()=>n()))}function wT(){return new Promise(n=>setTimeout(()=>n(),0))}function X3(){return Promise.resolve()}function _T(n=""){return new DOMParser().parseFromString(n,"text/html")}function xT(n,...e){const t=J3(n,e).replace(/^\n/,"").split(`
`),r=t[0].match(/^\s+/),i=r?r[0].length:0;return t.map(s=>s.slice(i)).join(`
`)}function J3(n,e){return n.reduce((t,r,i)=>{const s=e[i]==null?"":e[i];return t+r+s},"")}function nl(){return Array.from({length:36}).map((n,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function km(n,...e){for(const t of e.map(r=>r==null?void 0:r.getAttribute(n)))if(typeof t=="string")return t;return null}function Q3(n,...e){return e.some(t=>t&&t.hasAttribute(n))}function Cm(...n){for(const e of n)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Om(...n){for(const e of n)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function e4(n,e=2e3){return new Promise(t=>{const r=()=>{n.removeEventListener("error",r),n.removeEventListener("load",r),t()};n.addEventListener("load",r,{once:!0}),n.addEventListener("error",r,{once:!0}),setTimeout(t,e)})}function ST(n){switch(n){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function t4(n){return n=="advance"||n=="replace"||n=="restore"}function Kl(...n){const e=km("data-turbo-action",...n);return t4(e)?e:null}function Gb(n){return document.querySelector(`meta[name="${n}"]`)}function Lm(n){const e=Gb(n);return e&&e.content}function ET(){const n=Gb("csp-nonce");if(n){const{nonce:e,content:t}=n;return e==""?t:e}}function n4(n,e){let t=Gb(n);return t||(t=document.createElement("meta"),t.setAttribute("name",n),document.head.appendChild(t)),t.setAttribute("content",e),t}function Su(n,e){var t;if(n instanceof Element)return n.closest(e)||Su(n.assignedSlot||((t=n.getRootNode())==null?void 0:t.host),e)}function Yb(n){const e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";return!!n&&n.closest(e)==null&&typeof n.focus=="function"}function AT(n){return Array.from(n.querySelectorAll("[autofocus]")).find(Yb)}async function r4(n,e){const t=e();n(),await bT();const r=e();return[t,r]}function TT(n){if(n==="_blank")return!1;if(n){for(const e of document.getElementsByName(n))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function kT(n){return Su(n,"a[href]:not([target^=_]):not([download])")}function CT(n){return Zr(n.getAttribute("href")||"")}function i4(n,e){let t=null;return(...r)=>{const i=()=>n.apply(this,r);clearTimeout(t),t=setTimeout(i,e)}}const o4={"aria-disabled":{beforeSubmit:n=>{n.setAttribute("aria-disabled","true"),n.addEventListener("click",Q_)},afterSubmit:n=>{n.removeAttribute("aria-disabled"),n.removeEventListener("click",Q_)}},disabled:{beforeSubmit:n=>n.disabled=!0,afterSubmit:n=>n.disabled=!1}};var Ud;class s4{constructor(e){$t(this,Ud,null);Object.assign(this,e)}get submitter(){return qt(this,Ud)}set submitter(e){In(this,Ud,o4[e]||e)}}Ud=new WeakMap;const a4=new s4({mode:"on",submitter:"disabled"}),Rr={drive:Y3,forms:a4};function Zr(n){return new URL(n.toString(),document.baseURI)}function Zl(n){let e;if(n.hash)return n.hash.slice(1);if(e=n.href.match(/#(.*)$/))return e[1]}function Kb(n,e){const t=(e==null?void 0:e.getAttribute("formaction"))||n.getAttribute("action")||n.action;return Zr(t)}function l4(n){return(d4(n).match(/\.[^.]*$/)||[])[0]||""}function c4(n,e){const t=f4(e);return n.href===Zr(t).href||n.href.startsWith(t)}function Fa(n,e){return c4(n,e)&&!Rr.drive.unvisitableExtensions.has(l4(n))}function A0(n){const e=Zl(n);return e!=null?n.href.slice(0,-(e.length+1)):n.href}function Ap(n){return A0(n)}function u4(n,e){return Zr(n).href==Zr(e).href}function h4(n){return n.pathname.split("/").slice(1)}function d4(n){return h4(n).slice(-1)[0]}function f4(n){return p4(n.origin+n.pathname)}function p4(n){return n.endsWith("/")?n:n+"/"}class _g{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Zr(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class m4 extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const r=this.values().next().value;this.delete(r)}super.add(e)}}const OT=new m4(20),g4=window.fetch;function Zb(n,e={}){const t=new Headers(e.headers||{}),r=nl();return OT.add(r),t.append("X-Turbo-Request-Id",r),g4(n,{...e,headers:t})}function xg(n){switch(n.toLowerCase()){case"get":return ro.get;case"post":return ro.post;case"put":return ro.put;case"patch":return ro.patch;case"delete":return ro.delete}}const ro={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function LT(n){switch(n.toLowerCase()){case Ba.multipart:return Ba.multipart;case Ba.plain:return Ba.plain;default:return Ba.urlEncoded}}const Ba={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};var Wd,Km,MT,Zm,PT;class oh{constructor(e,t,r,i=new URLSearchParams,s=null,l=Ba.urlEncoded){$t(this,Km);$t(this,Zm);$e(this,"abortController",new AbortController);$t(this,Wd,e=>{});var d;const[h,c]=ex(Zr(r),t,i,l);this.delegate=e,this.url=h,this.target=s,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:c,signal:this.abortSignal,referrer:(d=this.delegate.referrer)==null?void 0:d.href},this.enctype=l}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,r=xg(e)||ro.get;this.url.search="";const[i,s]=ex(this.url,r,t,this.enctype);this.url=i,this.fetchOptions.body=s,this.fetchOptions.method=r.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await en(this,Km,MT).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=Zb(this.url.href,e);const r=await this.response;return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw en(this,Zm,PT).call(this,r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new _g(e);return or("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return Sg(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}}Wd=new WeakMap,Km=new WeakSet,MT=async function(e){const t=new Promise(i=>In(this,Wd,i)),r=or("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:qt(this,Wd)},target:this.target});return this.url=r.detail.url,r.defaultPrevented&&await t,r},Zm=new WeakSet,PT=function(e){return!or("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function Sg(n){return xg(n)==ro.get}function ex(n,e,t,r){const i=Array.from(t).length>0?new URLSearchParams(NT(t)):n.searchParams;return Sg(e)?[v4(n,i),null]:r==Ba.urlEncoded?[n,i]:[n,t]}function NT(n){const e=[];for(const[t,r]of n)r instanceof File||e.push([t,r]);return e}function v4(n,e){const t=new URLSearchParams(NT(e));return n.search=t.toString(),n}class y4{constructor(e,t){$e(this,"started",!1);$e(this,"intersect",e=>{const t=e.slice(-1)[0];t!=null&&t.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class uc{static wrap(e){return typeof e=="string"?new this(Z3(e)):e}constructor(e){this.fragment=b4(e)}}$e(uc,"contentType","text/vnd.turbo-stream.html");function b4(n){for(const e of n.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const r of t.templateElement.content.querySelectorAll("script"))r.replaceWith(Od(r));e.replaceWith(t)}return n}const w4=100;var ql,ta;class _4{constructor(){$t(this,ql,null);$t(this,ta,null)}get(e){if(qt(this,ta)&&qt(this,ta).url===e&&qt(this,ta).expire>Date.now())return qt(this,ta).request}setLater(e,t,r){this.clear(),In(this,ql,setTimeout(()=>{t.perform(),this.set(e,t,r),In(this,ql,null)},w4))}set(e,t,r){In(this,ta,{url:e,request:t,expire:new Date(new Date().getTime()+r)})}clear(){qt(this,ql)&&clearTimeout(qt(this,ql)),In(this,ta,null)}}ql=new WeakMap,ta=new WeakMap;const x4=10*1e3,mu=new _4,qc={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class Eg{constructor(e,t,r,i=!1){$e(this,"state",qc.initialized);const s=C4(t,r),l=k4(T4(t,r),s),h=S4(t,r),c=O4(t,r);this.delegate=e,this.formElement=t,this.submitter=r,this.fetchRequest=new oh(this,s,l,h,t,c),this.mustRedirect=i}static confirmMethod(e){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=Zr(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=qc,r=km("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await(typeof Rr.forms.confirm=="function"?Rr.forms.confirm:Eg.confirmMethod)(r,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=qc;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=E4(Lm("csrf-param"))||Lm("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(uc.contentType)}requestStarted(e){this.state=qc.waiting,this.submitter&&Rr.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),Cm(this.formElement),or("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){mu.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(mu.clear(),this.requestMustRedirect(e)&&A4(t)){const r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=qc.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=qc.stopped,this.submitter&&Rr.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Om(this.formElement),or("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Q3("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)==null?void 0:e.getAttribute("data-turbo-submits-with")}}function S4(n,e){const t=new FormData(n),r=e==null?void 0:e.getAttribute("name"),i=e==null?void 0:e.getAttribute("value");return r&&t.append(r,i||""),t}function E4(n){if(n!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(n));if(t){const r=t.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function A4(n){return n.statusCode==200&&!n.redirected}function T4(n,e){const t=typeof n.action=="string"?n.action:null;return e!=null&&e.hasAttribute("formaction")?e.getAttribute("formaction")||"":n.getAttribute("action")||t||""}function k4(n,e){const t=Zr(n);return Sg(e)&&(t.search=""),t}function C4(n,e){const t=(e==null?void 0:e.getAttribute("formmethod"))||n.getAttribute("method")||"";return xg(t.toLowerCase())||ro.get}function O4(n,e){return LT((e==null?void 0:e.getAttribute("formenctype"))||n.enctype)}class Ag{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return AT(this.element)}get permanentElements(){return DT(this.element)}getPermanentElementById(e){return IT(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const r of this.permanentElements){const{id:i}=r,s=e.getPermanentElementById(i);s&&(t[i]=[r,s])}return t}}function IT(n,e){return n.querySelector(`#${e}[data-turbo-permanent]`)}function DT(n){return n.querySelectorAll("[id][data-turbo-permanent]")}class Xb{constructor(e,t){$e(this,"started",!1);$e(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});$e(this,"submitBubbled",e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;t&&L4(t,r)&&M4(t,r)&&this.delegate.willSubmitForm(t,r)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,r))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function L4(n,e){return((e==null?void 0:e.getAttribute("formmethod"))||n.getAttribute("method"))!="dialog"}function M4(n,e){const t=(e==null?void 0:e.getAttribute("formtarget"))||n.getAttribute("target");return TT(t)}var qd,Vd;class RT{constructor(e,t){$t(this,qd,e=>{});$t(this,Vd,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Zl(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:r,willRender:i,newSnapshot:s}=e,l=i;if(r)try{this.renderPromise=new Promise(f=>In(this,qd,f)),this.renderer=e,await this.prepareToRenderSnapshot(e);const h=new Promise(f=>In(this,Vd,f)),c={resume:qt(this,Vd),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(s,c)||await h,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(s,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,qt(this,qd).call(this,void 0),delete this.renderPromise}else l&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}qd=new WeakMap,Vd=new WeakMap;class P4 extends RT{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Ag(this.element)}}class FT{constructor(e,t){$e(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});$e(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});$e(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){var i;const t=e.composed?(i=e.target)==null?void 0:i.parentElement:e.target,r=kT(t)||t;return r instanceof Element&&r.closest("turbo-frame, html")==this.element}}class BT{constructor(e,t){$e(this,"started",!1);$e(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});$e(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,r=kT(t);if(r&&TT(r.target)){const i=CT(r);this.delegate.willFollowLinkToLocation(r,i,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(r,i))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class jT{constructor(e,t){this.delegate=e,this.linkInterceptor=new BT(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,r){return this.delegate.willSubmitFormLinkToLocation(e,t,r)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const r=document.createElement("form"),i="hidden";for(const[g,y]of t.searchParams)r.append(Object.assign(document.createElement("input"),{type:i,name:g,value:y}));const s=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",s.href),r.setAttribute("hidden","");const l=e.getAttribute("data-turbo-method");l&&r.setAttribute("method",l);const h=e.getAttribute("data-turbo-frame");h&&r.setAttribute("data-turbo-frame",h);const c=Kl(e);c&&r.setAttribute("data-turbo-action",c);const d=e.getAttribute("data-turbo-confirm");d&&r.setAttribute("data-turbo-confirm",d),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}}class $T{static async preservingPermanentElements(e,t,r){const i=new this(e,t);i.enter(),await r(),i.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,r]=this.permanentElementMap[e];this.delegate.enteringBardo(t,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=N4(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function N4(n){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",n.id),e}var na;class Jb{constructor(e,t,r,i=!0){$t(this,na,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=r,this.willRender=i,this.renderElement=this.constructor.renderElement,this.promise=new Promise((s,l)=>this.resolvingFunctions={resolve:s,reject:l})}static renderElement(e,t){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await $T.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){qt(this,na)||e.contains(this.currentSnapshot.activeElement)&&In(this,na,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(qt(this,na))&&qt(this,na)instanceof HTMLElement&&(qt(this,na).focus(),In(this,na,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}na=new WeakMap;class Tg extends Jb{static renderElement(e,t){var l;const r=document.createRange();r.selectNodeContents(e),r.deleteContents();const i=t,s=(l=i.ownerDocument)==null?void 0:l.createRange();s&&(s.selectNodeContents(i),e.appendChild(s.extractContents()))}constructor(e,t,r,i,s,l=!0){super(t,r,i,s,l),this.delegate=e}get shouldRender(){return!0}async render(){await pd(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await pd(),this.focusFirstAutofocusableElement(),await pd(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=I4(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=D4(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:r}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=Od(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function I4(n,e){return n=="end"||n=="start"||n=="center"||n=="nearest"?n:e}function D4(n,e){return n=="auto"||n=="smooth"?n:e}var R4=function(){const n=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:n,afterNodeAdded:n,beforeNodeMorphed:n,afterNodeMorphed:n,beforeNodeRemoved:n,afterNodeRemoved:n,beforeAttributeUpdated:n},head:{style:"merge",shouldPreserve:y=>y.getAttribute("im-preserve")==="true",shouldReAppend:y=>y.getAttribute("im-re-append")==="true",shouldRemove:n,afterHeadMorphed:n},restoreFocus:!0};function t(y,E,_={}){y=f(y);const w=g(E),C=d(y,w,_),M=i(C,()=>h(C,y,w,b=>b.morphStyle==="innerHTML"?(s(b,y,w),Array.from(y.childNodes)):r(b,y,w)));return C.pantry.remove(),M}function r(y,E,_){const w=g(E);let C=Array.from(w.childNodes);const M=C.indexOf(E),b=C.length-(M+1);return s(y,w,_,E,E.nextSibling),C=Array.from(w.childNodes),C.slice(M,C.length-b)}function i(y,E){var k;if(!y.config.restoreFocus)return E();let _=document.activeElement;if(!(_ instanceof HTMLInputElement||_ instanceof HTMLTextAreaElement))return E();const{id:w,selectionStart:C,selectionEnd:M}=_,b=E();return w&&w!==((k=document.activeElement)==null?void 0:k.id)&&(_=y.target.querySelector(`#${w}`),_==null||_.focus()),_&&!_.selectionEnd&&M&&_.setSelectionRange(C,M),b}const s=function(){function y(A,N,T,P=null,R=null){N instanceof HTMLTemplateElement&&T instanceof HTMLTemplateElement&&(N=N.content,T=T.content),P||(P=N.firstChild);for(const B of T.childNodes){if(P&&P!=R){const H=_(A,B,P,R);if(H){H!==P&&C(A,P,H),l(H,B,A),P=H.nextSibling;continue}}if(B instanceof Element&&A.persistentIds.has(B.id)){const H=M(N,B.id,P,A);l(H,B,A),P=H.nextSibling;continue}const D=E(N,B,P,A);D&&(P=D.nextSibling)}for(;P&&P!=R;){const B=P;P=P.nextSibling,w(A,B)}}function E(A,N,T,P){if(P.callbacks.beforeNodeAdded(N)===!1)return null;if(P.idMap.has(N)){const R=document.createElement(N.tagName);return A.insertBefore(R,T),l(R,N,P),P.callbacks.afterNodeAdded(R),R}else{const R=document.importNode(N,!0);return A.insertBefore(R,T),P.callbacks.afterNodeAdded(R),R}}const _=function(){function A(P,R,B,D){let H=null,$=R.nextSibling,V=0,ee=B;for(;ee&&ee!=D;){if(T(ee,R)){if(N(P,ee,R))return ee;H===null&&(P.idMap.has(ee)||(H=ee))}if(H===null&&$&&T(ee,$)&&(V++,$=$.nextSibling,V>=2&&(H=void 0)),ee.contains(document.activeElement))break;ee=ee.nextSibling}return H||null}function N(P,R,B){let D=P.idMap.get(R),H=P.idMap.get(B);if(!H||!D)return!1;for(const $ of D)if(H.has($))return!0;return!1}function T(P,R){const B=P,D=R;return B.nodeType===D.nodeType&&B.tagName===D.tagName&&(!B.id||B.id===D.id)}return A}();function w(A,N){var T;if(A.idMap.has(N))k(A.pantry,N,null);else{if(A.callbacks.beforeNodeRemoved(N)===!1)return;(T=N.parentNode)==null||T.removeChild(N),A.callbacks.afterNodeRemoved(N)}}function C(A,N,T){let P=N;for(;P&&P!==T;){let R=P;P=P.nextSibling,w(A,R)}return P}function M(A,N,T,P){const R=P.target.querySelector(`#${N}`)||P.pantry.querySelector(`#${N}`);return b(R,P),k(A,R,T),R}function b(A,N){const T=A.id;for(;A=A.parentNode;){let P=N.idMap.get(A);P&&(P.delete(T),P.size||N.idMap.delete(A))}}function k(A,N,T){if(A.moveBefore)try{A.moveBefore(N,T)}catch{A.insertBefore(N,T)}else A.insertBefore(N,T)}return y}(),l=function(){function y(b,k,A){return A.ignoreActive&&b===document.activeElement?null:(A.callbacks.beforeNodeMorphed(b,k)===!1||(b instanceof HTMLHeadElement&&A.head.ignore||(b instanceof HTMLHeadElement&&A.head.style!=="morph"?c(b,k,A):(E(b,k,A),M(b,A)||s(A,b,k))),A.callbacks.afterNodeMorphed(b,k)),b)}function E(b,k,A){let N=k.nodeType;if(N===1){const T=b,P=k,R=T.attributes,B=P.attributes;for(const D of B)C(D.name,T,"update",A)||T.getAttribute(D.name)!==D.value&&T.setAttribute(D.name,D.value);for(let D=R.length-1;0<=D;D--){const H=R[D];if(H&&!P.hasAttribute(H.name)){if(C(H.name,T,"remove",A))continue;T.removeAttribute(H.name)}}M(T,A)||_(T,P,A)}(N===8||N===3)&&b.nodeValue!==k.nodeValue&&(b.nodeValue=k.nodeValue)}function _(b,k,A){if(b instanceof HTMLInputElement&&k instanceof HTMLInputElement&&k.type!=="file"){let N=k.value,T=b.value;w(b,k,"checked",A),w(b,k,"disabled",A),k.hasAttribute("value")?T!==N&&(C("value",b,"update",A)||(b.setAttribute("value",N),b.value=N)):C("value",b,"remove",A)||(b.value="",b.removeAttribute("value"))}else if(b instanceof HTMLOptionElement&&k instanceof HTMLOptionElement)w(b,k,"selected",A);else if(b instanceof HTMLTextAreaElement&&k instanceof HTMLTextAreaElement){let N=k.value,T=b.value;if(C("value",b,"update",A))return;N!==T&&(b.value=N),b.firstChild&&b.firstChild.nodeValue!==N&&(b.firstChild.nodeValue=N)}}function w(b,k,A,N){const T=k[A],P=b[A];if(T!==P){const R=C(A,b,"update",N);R||(b[A]=k[A]),T?R||b.setAttribute(A,""):C(A,b,"remove",N)||b.removeAttribute(A)}}function C(b,k,A,N){return b==="value"&&N.ignoreActiveValue&&k===document.activeElement?!0:N.callbacks.beforeAttributeUpdated(b,k,A)===!1}function M(b,k){return!!k.ignoreActiveValue&&b===document.activeElement&&b!==document.body}return y}();function h(y,E,_,w){if(y.head.block){const C=E.querySelector("head"),M=_.querySelector("head");if(C&&M){const b=c(C,M,y);return Promise.all(b).then(()=>{const k=Object.assign(y,{head:{block:!1,ignore:!0}});return w(k)})}}return w(y)}function c(y,E,_){let w=[],C=[],M=[],b=[],k=new Map;for(const N of E.children)k.set(N.outerHTML,N);for(const N of y.children){let T=k.has(N.outerHTML),P=_.head.shouldReAppend(N),R=_.head.shouldPreserve(N);T||R?P?C.push(N):(k.delete(N.outerHTML),M.push(N)):_.head.style==="append"?P&&(C.push(N),b.push(N)):_.head.shouldRemove(N)!==!1&&C.push(N)}b.push(...k.values());let A=[];for(const N of b){let T=document.createRange().createContextualFragment(N.outerHTML).firstChild;if(_.callbacks.beforeNodeAdded(T)!==!1){if("href"in T&&T.href||"src"in T&&T.src){let P,R=new Promise(function(B){P=B});T.addEventListener("load",function(){P()}),A.push(R)}y.appendChild(T),_.callbacks.afterNodeAdded(T),w.push(T)}}for(const N of C)_.callbacks.beforeNodeRemoved(N)!==!1&&(y.removeChild(N),_.callbacks.afterNodeRemoved(N));return _.head.afterHeadMorphed(y,{added:w,kept:M,removed:C}),A}const d=function(){function y(k,A,N){const{persistentIds:T,idMap:P}=M(k,A),R=E(N),B=R.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(B))throw`Do not understand how to morph style ${B}`;return{target:k,newContent:A,config:R,morphStyle:B,ignoreActive:R.ignoreActive,ignoreActiveValue:R.ignoreActiveValue,restoreFocus:R.restoreFocus,idMap:P,persistentIds:T,pantry:_(),callbacks:R.callbacks,head:R.head}}function E(k){let A=Object.assign({},e);return Object.assign(A,k),A.callbacks=Object.assign({},e.callbacks,k.callbacks),A.head=Object.assign({},e.head,k.head),A}function _(){const k=document.createElement("div");return k.hidden=!0,document.body.insertAdjacentElement("afterend",k),k}function w(k){let A=Array.from(k.querySelectorAll("[id]"));return k.id&&A.push(k),A}function C(k,A,N,T){for(const P of T)if(A.has(P.id)){let R=P;for(;R;){let B=k.get(R);if(B==null&&(B=new Set,k.set(R,B)),B.add(P.id),R===N)break;R=R.parentElement}}}function M(k,A){const N=w(k),T=w(A),P=b(N,T);let R=new Map;C(R,P,k,N);const B=A.__idiomorphRoot||A;return C(R,P,B,T),{persistentIds:P,idMap:R}}function b(k,A){let N=new Set,T=new Map;for(const{id:R,tagName:B}of k)T.has(R)?N.add(R):T.set(R,B);let P=new Set;for(const{id:R,tagName:B}of A)P.has(R)?N.add(R):T.get(R)===B&&P.add(R);for(const R of N)P.delete(R);return P}return y}(),{normalizeElement:f,normalizeParent:g}=function(){const y=new WeakSet;function E(M){return M instanceof Document?M.documentElement:M}function _(M){if(M==null)return document.createElement("div");if(typeof M=="string")return _(C(M));if(y.has(M))return M;if(M instanceof Node){if(M.parentNode)return w(M);{const b=document.createElement("div");return b.append(M),b}}else{const b=document.createElement("div");for(const k of[...M])b.append(k);return b}}function w(M){return{childNodes:[M],querySelectorAll:b=>{const k=M.querySelectorAll(b);return M.matches(b)?[M,...k]:k},insertBefore:(b,k)=>M.parentNode.insertBefore(b,k),moveBefore:(b,k)=>M.parentNode.moveBefore(b,k),get __idiomorphRoot(){return M}}}function C(M){let b=new DOMParser,k=M.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(k.match(/<\/html>/)||k.match(/<\/head>/)||k.match(/<\/body>/)){let A=b.parseFromString(M,"text/html");if(k.match(/<\/html>/))return y.add(A),A;{let N=A.firstChild;return N&&y.add(N),N}}else{let N=b.parseFromString("<body><template>"+M+"</template></body>","text/html").body.querySelector("template").content;return y.add(N),N}}return{normalizeElement:E,normalizeParent:_}}();return{morph:t,defaults:e}}();function Qb(n,e,{callbacks:t,...r}={}){R4.morph(n,e,{...r,callbacks:new F4(t)})}function HT(n,e){Qb(n,e.childNodes,{morphStyle:"innerHTML"})}var Gd;class F4{constructor({beforeNodeMorphed:e}={}){$t(this,Gd,void 0);$e(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));$e(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&qt(this,Gd).call(this,e,t)?!or("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});$e(this,"beforeAttributeUpdated",(e,t,r)=>!or("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:r}}).defaultPrevented);$e(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));$e(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&or("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});In(this,Gd,e||(()=>!0))}}Gd=new WeakMap;class B4 extends Tg{static renderElement(e,t){or("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),HT(e,t)}async preservingPermanentElements(e){return await e()}}const ea=class ea{constructor(){$e(this,"hiding",!1);$e(this,"value",0);$e(this,"visible",!1);$e(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return xT`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${ea.animationDuration}ms ease-out,
          opacity ${ea.animationDuration/2}ms ${ea.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,ea.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,ea.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=ea.defaultCSS;const t=ET();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}};$e(ea,"animationDuration",300);let T0=ea;class j4 extends Ag{constructor(){super(...arguments);$e(this,"detailsByOuterHTML",this.children.filter(t=>!U4(t)).map(t=>V4(t)).reduce((t,r)=>{const{outerHTML:i}=r,s=i in t?t[i]:{type:$4(r),tracked:H4(r),elements:[]};return{...t,[i]:{...s,elements:[...s.elements,r]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,r){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in r.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==t).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{type:i,tracked:s,elements:l}=this.detailsByOuterHTML[r];return i==null&&!s?[...t,...l]:l.length>1?[...t,...l.slice(1)]:t},[])}getMetaValue(t){const r=this.findMetaElementByName(t);return r?r.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((r,i)=>{const{elements:[s]}=this.detailsByOuterHTML[i];return q4(s,t)?s:r},void 0|void 0)}}function $4(n){if(z4(n))return"script";if(W4(n))return"stylesheet"}function H4(n){return n.getAttribute("data-turbo-track")=="reload"}function z4(n){return n.localName=="script"}function U4(n){return n.localName=="noscript"}function W4(n){const e=n.localName;return e=="style"||e=="link"&&n.getAttribute("rel")=="stylesheet"}function q4(n,e){return n.localName=="meta"&&n.getAttribute("name")==e}function V4(n){return n.hasAttribute("nonce")&&n.setAttribute("nonce",""),n}class So extends Ag{static fromHTMLString(e=""){return this.fromDocument(_T(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:r}){return new this(e,t,new j4(r))}constructor(e,t,r){super(t),this.documentElement=e,this.headSnapshot=r}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(const[i,s]of t.entries()){const l=r[i];for(const h of l.selectedOptions)h.selected=!1;for(const h of s.selectedOptions)l.options[h.index].selected=!0}for(const i of e.querySelectorAll('input[type="password"]'))i.value="";return new So(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return Zr(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var Yd,ja;class G4{constructor(){$t(this,Yd,!1);$t(this,ja,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!qt(this,Yd)?(In(this,Yd,!0),In(this,ja,qt(this,ja).then(async()=>{await document.startViewTransition(t).finished}))):In(this,ja,qt(this,ja).then(t)),qt(this,ja)}get viewTransitionsAvailable(){return document.startViewTransition}}Yd=new WeakMap,ja=new WeakMap;const Y4={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Tp={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},Xs={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Eu={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},K4={advance:"forward",restore:"back",replace:"none"};class Z4{constructor(e,t,r,i={}){$e(this,"identifier",nl());$e(this,"timingMetrics",{});$e(this,"followedRedirect",!1);$e(this,"historyChanged",!1);$e(this,"scrolled",!1);$e(this,"shouldCacheSnapshot",!0);$e(this,"acceptsStreamResponse",!1);$e(this,"snapshotCached",!1);$e(this,"state",Xs.initialized);$e(this,"viewTransitioner",new G4);this.delegate=e,this.location=t,this.restorationIdentifier=r||nl();const{action:s,historyChanged:l,referrer:h,snapshot:c,snapshotHTML:d,response:f,visitCachedSnapshot:g,willRender:y,updateHistory:E,shouldCacheSnapshot:_,acceptsStreamResponse:w,direction:C}={...Y4,...i};this.action=s,this.historyChanged=l,this.referrer=h,this.snapshot=c,this.snapshotHTML=d,this.response=f,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=g,this.willRender=y,this.updateHistory=E,this.scrolled=!y,this.shouldCacheSnapshot=_,this.acceptsStreamResponse=w,this.direction=C||K4[s]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Xs.initialized&&(this.recordTimingMetric(Tp.visitStart),this.state=Xs.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Xs.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Xs.canceled)}complete(){this.state==Xs.started&&(this.recordTimingMetric(Tp.visitEnd),this.adapter.visitCompleted(this),this.state=Xs.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==Xs.started&&(this.state=Xs.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)==null?void 0:e.href)?"replace":this.action,r=ST(t);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new oh(this,ro.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Tp.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;tx(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Tp.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,tx(e)&&t!=null){const r=So.fromHTMLString(t);await this.renderPageSnapshot(r,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(So.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Zl(this.location)||e.hasAnchor(Zl(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return So.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)!=null&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(uc.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const r=await t.responseHTML,{redirected:i,statusCode:s}=t;r==null?this.recordResponse({statusCode:Eu.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:s,responseHTML:r,redirected:i}))}async requestFailedWithResponse(e,t){const r=await t.responseHTML,{redirected:i,statusCode:s}=t;r==null?this.recordResponse({statusCode:Eu.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:s,responseHTML:r,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Eu.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=Zl(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function tx(n){return n>=200&&n<300}class X4{constructor(e){$e(this,"progressBar",new T0);$e(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){Fa(e,this.navigator.rootLocation)?this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||nl(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Eu.networkFailure:case Eu.timeoutFailure:case Eu.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;or("turbo:reload",{detail:e}),window.location.href=((t=this.location)==null?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class J4{constructor(){$e(this,"selector","[data-turbo-temporary]");$e(this,"deprecatedSelector","[data-turbo-cache=false]");$e(this,"started",!1);$e(this,"removeTemporaryElements",e=>{for(const t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}var Xm,zT,Ou,Kp,Lu,Zp;class Q4{constructor(e,t){$t(this,Xm);$t(this,Ou);$t(this,Lu);this.session=e,this.element=t,this.linkInterceptor=new FT(this,t),this.formSubmitObserver=new Xb(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,r){return en(this,Ou,Kp).call(this,e)}linkClickIntercepted(e,t,r){const i=en(this,Lu,Zp).call(this,e);i&&i.delegate.linkClickIntercepted(e,t,r)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&en(this,Xm,zT).call(this,e,t)&&en(this,Ou,Kp).call(this,e,t)}formSubmitted(e,t){const r=en(this,Lu,Zp).call(this,e,t);r&&r.delegate.formSubmitted(e,t)}}Xm=new WeakSet,zT=function(e,t){const r=Kb(e,t),i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=Zr((i==null?void 0:i.content)??"/");return en(this,Ou,Kp).call(this,e,t)&&Fa(r,s)},Ou=new WeakSet,Kp=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const i=en(this,Lu,Zp).call(this,e,t);return i?i!=e.closest("turbo-frame"):!1}else return!1},Lu=new WeakSet,Zp=function(e,t){const r=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){const i=this.element.querySelector(`#${r}:not([disabled])`);if(i instanceof To)return i}};let e5=class{constructor(e){$e(this,"location");$e(this,"restorationIdentifier",nl());$e(this,"restorationData",{});$e(this,"started",!1);$e(this,"pageLoaded",!1);$e(this,"currentIndex",0);$e(this,"onPopState",e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:r,restorationIndex:i}=t;this.restorationIdentifier=r;const s=i>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,r,s),this.currentIndex=i}}});$e(this,"onPageLoad",async e=>{await X3(),this.pageLoaded=!0});this.delegate=e}start(){var e,t;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=((t=(e=history.state)==null?void 0:e.turbo)==null?void 0:t.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=nl()){e===history.pushState&&++this.currentIndex;const i={turbo:{restorationIdentifier:r,restorationIndex:this.currentIndex}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]={...r,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}};var Mu,Kd,Zd,Xd,Jm,Jd,Qm,UT,eg,WT;class t5{constructor(e,t){$t(this,Qm);$t(this,eg);$e(this,"started",!1);$t(this,Mu,null);$t(this,Kd,()=>{this.eventTarget.addEventListener("mouseenter",qt(this,Zd),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",qt(this,Xd),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",qt(this,Jd),!0),this.started=!0});$t(this,Zd,e=>{if(Lm("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&en(this,eg,WT).call(this,t)){const i=t,s=CT(i);if(this.delegate.canPrefetchRequestToLocation(i,s)){In(this,Mu,i);const l=new oh(this,ro.get,s,new URLSearchParams,t);mu.setLater(s.toString(),l,qt(this,Qm,UT))}}});$t(this,Xd,e=>{e.target===qt(this,Mu)&&qt(this,Jm).call(this)});$t(this,Jm,()=>{mu.clear(),In(this,Mu,null)});$t(this,Jd,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=mu.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),mu.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",qt(this,Kd),{once:!0}):qt(this,Kd).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",qt(this,Zd),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",qt(this,Xd),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",qt(this,Jd),!0),this.started=!1)}prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const r=t.closest("turbo-frame"),i=t.getAttribute("data-turbo-frame")||(r==null?void 0:r.getAttribute("target"))||(r==null?void 0:r.id);i&&i!=="_top"&&(e.headers["Turbo-Frame"]=i)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}Mu=new WeakMap,Kd=new WeakMap,Zd=new WeakMap,Xd=new WeakMap,Jm=new WeakMap,Jd=new WeakMap,Qm=new WeakSet,UT=function(){return Number(Lm("turbo-prefetch-cache-time"))||x4},eg=new WeakSet,WT=function(e){return!(!e.getAttribute("href")||n5(e)||r5(e)||i5(e)||o5(e)||a5(e))};const n5=n=>n.origin!==document.location.origin||!["http:","https:"].includes(n.protocol)||n.hasAttribute("target"),r5=n=>n.pathname+n.search===document.location.pathname+document.location.search||n.href.startsWith("#"),i5=n=>{if(n.getAttribute("data-turbo-prefetch")==="false"||n.getAttribute("data-turbo")==="false")return!0;const e=Su(n,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},o5=n=>{const e=n.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||s5(n)||n.hasAttribute("data-turbo-confirm")||n.hasAttribute("data-turbo-stream"))},s5=n=>n.hasAttribute("data-remote")||n.hasAttribute("data-behavior")||n.hasAttribute("data-confirm")||n.hasAttribute("data-method"),a5=n=>or("turbo:before-prefetch",{target:n,cancelable:!0}).defaultPrevented;var tg,qT,ng,VT;class l5{constructor(e){$t(this,tg);$t(this,ng);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,r={}){this.stop(),this.currentVisit=new Z4(this,Zr(e),t,{referrer:this.location,...r}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Eg(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const r=await t.responseHTML;if(r){const i=e.isSafe;i||this.view.clearSnapshotCache();const{statusCode:s,redirected:l}=t,c={action:en(this,tg,qT).call(this,e,t),shouldCacheSnapshot:i,response:{statusCode:s,responseHTML:r,redirected:l}};this.proposeVisit(t.location,c)}}}async formSubmissionFailedWithResponse(e,t){const r=await t.responseHTML;if(r){const i=So.fromHTMLString(r);t.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),i.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const r=Zl(e),i=Zl(this.view.lastRenderedLocation),s=t==="restore"&&typeof r>"u";return t!=="replace"&&A0(e)===A0(this.view.lastRenderedLocation)&&(s||r!=null&&r!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}tg=new WeakSet,qT=function(e,t){const{submitter:r,formElement:i}=e;return Kl(r,i)||en(this,ng,VT).call(this,t)},ng=new WeakSet,VT=function(e){var r;return e.redirected&&e.location.href===((r=this.location)==null?void 0:r.href)?"replace":"advance"};const Nl={initial:0,loading:1,interactive:2,complete:3};class c5{constructor(e){$e(this,"stage",Nl.initial);$e(this,"started",!1);$e(this,"interpretReadyState",()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});$e(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==Nl.initial&&(this.stage=Nl.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Nl.loading&&(this.stage=Nl.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Nl.interactive&&(this.stage=Nl.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class u5{constructor(e){$e(this,"started",!1);$e(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class h5{render({fragment:e}){$T.preservingPermanentElements(this,d5(e),()=>{f5(e,()=>{p5(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function d5(n){const e=DT(document.documentElement),t={};for(const r of e){const{id:i}=r;for(const s of n.querySelectorAll("turbo-stream")){const l=IT(s.templateElement.content,i);l&&(t[i]=[r,l])}}return t}async function f5(n,e){const t=`turbo-stream-autofocus-${nl()}`,r=n.querySelectorAll("turbo-stream"),i=m5(r);let s=null;if(i&&(i.id?s=i.id:s=t,i.id=s),e(),await pd(),(document.activeElement==null||document.activeElement==document.body)&&s){const h=document.getElementById(s);Yb(h)&&h.focus(),h&&h.id==t&&h.removeAttribute("id")}}async function p5(n){const[e,t]=await r4(n,()=>document.activeElement),r=e&&e.id;if(r){const i=document.getElementById(r);Yb(i)&&i!=t&&i.focus()}}function m5(n){for(const e of n){const t=AT(e.templateElement.content);if(t)return t}return null}var $a;class g5{constructor(e){$e(this,"sources",new Set);$t(this,$a,!1);$e(this,"inspectFetchResponse",e=>{const t=v5(e);t&&y5(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});$e(this,"receiveMessageEvent",e=>{qt(this,$a)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){qt(this,$a)||(In(this,$a,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){qt(this,$a)&&(In(this,$a,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(uc.wrap(e))}}$a=new WeakMap;function v5(n){var t;const e=(t=n.detail)==null?void 0:t.fetchResponse;if(e instanceof _g)return e}function y5(n){return(n.contentType??"").startsWith(uc.contentType)}class b5 extends Jb{static renderElement(e,t){const{documentElement:r,body:i}=document;r.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const r=Od(e);t.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}var rg,GT;class kg extends Jb{constructor(){super(...arguments);$t(this,rg)}static renderElement(t,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){en(this,rg,GT).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await r,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const r of this.newHeadStylesheetElements)t.push(e4(r)),document.head.appendChild(r);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(Od(t))}removeUnusedDynamicStylesheetElements(){for(const t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,t)||document.head.removeChild(r);for(const r of t)document.head.appendChild(r)}isCurrentElementInElementList(t,r){for(const[i,s]of r.entries()){if(t.tagName=="TITLE"){if(s.tagName!="TITLE")continue;if(t.innerHTML==s.innerHTML)return r.splice(i,1),!0}if(s.isEqualNode(t))return r.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const r=Od(t);t.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}rg=new WeakSet,GT=function(){const{documentElement:t}=this.currentSnapshot,{lang:r}=this.newSnapshot;r?t.setAttribute("lang",r):t.removeAttribute("lang")};class w5 extends kg{static renderElement(e,t){Qb(e,t,{callbacks:{beforeNodeMorphed:r=>!nx(r)}});for(const r of e.querySelectorAll("turbo-frame"))nx(r)&&r.reload();or("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}function nx(n){return n instanceof To&&n.src&&n.refresh==="morph"&&!n.closest("[data-turbo-permanent]")}class _5{constructor(e){$e(this,"keys",[]);$e(this,"snapshots",{});this.size=e}has(e){return Ap(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[Ap(e)]}write(e,t){this.snapshots[Ap(e)]=t}touch(e){const t=Ap(e),r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class x5 extends RT{constructor(){super(...arguments);$e(this,"snapshotCache",new _5(10));$e(this,"lastRenderedLocation",new URL(location.href));$e(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,r=!1,i=!0,s){const h=this.isPageRefresh(s)&&this.snapshot.shouldMorphPage?w5:kg,c=new h(this.snapshot,t,r,i);return c.shouldRender?s==null||s.changeHistory():this.forceReloaded=!0,this.render(c)}renderError(t,r){r==null||r.changeHistory();const i=new b5(this.snapshot,t,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:r}=this;await wT();const i=t.clone();return this.snapshotCache.put(r,i),i}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return So.fromElement(this.element)}}var Qd;class S5{constructor(e,t){$e(this,"selector","a[data-turbo-preload]");$t(this,Qd,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",qt(this,Qd)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",qt(this,Qd))}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new oh(this,ro.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const r=await t.responseHTML,i=So.fromHTMLString(r);this.snapshotCache.put(e.url,i)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}Qd=new WeakMap;var Pu,Xp;class E5{constructor(e){$t(this,Pu);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){en(this,Pu,Xp).call(this,"")}exemptPageFromCache(){en(this,Pu,Xp).call(this,"no-cache")}exemptPageFromPreview(){en(this,Pu,Xp).call(this,"no-preview")}}Pu=new WeakSet,Xp=function(e){n4("turbo-cache-control",e)};var ef;class A5{constructor(e){$e(this,"navigator",new l5(this));$e(this,"history",new e5(this));$e(this,"view",new x5(this,document.documentElement));$e(this,"adapter",new X4(this));$e(this,"pageObserver",new c5(this));$e(this,"cacheObserver",new J4);$e(this,"linkPrefetchObserver",new t5(this,document));$e(this,"linkClickObserver",new BT(this,window));$e(this,"formSubmitObserver",new Xb(this,document));$e(this,"scrollObserver",new u5(this));$e(this,"streamObserver",new g5(this));$e(this,"formLinkClickObserver",new jT(this,document.documentElement));$e(this,"frameRedirector",new Q4(this,document.documentElement));$e(this,"streamMessageRenderer",new h5);$e(this,"cache",new E5(this));$e(this,"enabled",!0);$e(this,"started",!1);$t(this,ef,150);this.recentRequests=e,this.preloader=new S5(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const r=t.frame?document.getElementById(t.frame):null;if(r instanceof To){const i=t.action||Kl(r);r.delegate.proposeVisitIfNavigatedWithAction(r,i),r.src=e.toString()}else this.navigator.proposeVisit(Zr(e),t)}refresh(e,t){const r=t&&this.recentRequests.has(t),i=e===document.baseURI;!r&&!this.navigator.currentVisit&&i&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(uc.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){Rr.drive.progressBarDelay=e}get progressBarDelay(){return Rr.drive.progressBarDelay}set drive(e){Rr.drive.enabled=e}get drive(){return Rr.drive.enabled}set formMode(e){Rr.forms.mode=e}get formMode(){return Rr.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return qt(this,ef)}set pageRefreshDebouncePeriod(e){this.refresh=i4(this.debouncedRefresh.bind(this),e),In(this,ef,e)}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),r=e.hasAttribute("data-turbo-stream"),i=e.getAttribute("data-turbo-frame"),s=i=="_top"?null:document.getElementById(i)||Su(e,"turbo-frame:not([disabled])");if(t||r||s instanceof To)return!1;{const l=new URL(e.href);return this.elementIsNavigatable(e)&&Fa(l,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,r){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:r}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Fa(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&Fa(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,r){return this.elementIsNavigatable(e)&&Fa(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,r)}followedLinkToLocation(e,t){const r=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:r,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){rx(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(Cm(document.documentElement),this.view.markVisitDirection(e.direction)),rx(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),Om(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const r=Kb(e,t);return this.submissionIsNavigatable(e,t)&&Fa(Zr(r),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(e=this.navigator.currentVisit)!=null&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const r=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:s}}=r;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!i}viewRenderedSnapshot(e,t,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(r)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,r){return or("turbo:click",{target:e,detail:{url:t.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return or("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return or("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return or("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return or("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return or("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return or("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return or("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return or("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(Rr.forms.mode=="off")return!1;{const r=t?this.elementIsNavigatable(t):!0;return Rr.forms.mode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=Su(e,"[data-turbo]"),r=Su(e,"turbo-frame");return Rr.drive.enabled||r?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Kl(e)||"advance"}get snapshot(){return this.view.snapshot}}ef=new WeakMap;function rx(n){Object.defineProperties(n,T5)}const T5={absoluteURL:{get(){return this.toString()}}},dr=new A5(OT),{cache:YT,navigator:KT}=dr;function e1(){dr.start()}function ZT(n){dr.registerAdapter(n)}function Ld(n,e){dr.visit(n,e)}function t1(n){dr.connectStreamSource(n)}function n1(n){dr.disconnectStreamSource(n)}function XT(n){dr.renderStreamMessage(n)}function r1(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),dr.clearCache()}function JT(n){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Rr.drive.progressBarDelay=n}function QT(n){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Rr.forms.confirm=n}function ek(n){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Rr.forms.mode=n}var k5=Object.freeze({__proto__:null,navigator:KT,session:dr,cache:YT,PageRenderer:kg,PageSnapshot:So,FrameRenderer:Tg,fetch:Zb,config:Rr,start:e1,registerAdapter:ZT,visit:Ld,connectStreamSource:t1,disconnectStreamSource:n1,renderStreamMessage:XT,clearCache:r1,setProgressBarDelay:JT,setConfirmMethod:QT,setFormMode:ek});class C5 extends Error{}var Nu,xs,Ha,tf,Iu,Du,za,tu,ig,tk,og,nk,sg,rk,ag,ik,lg,ok,cg,sk,ug,ak,nf,k0,Ua,nu,hg,lk,Ru,Jp,dg,ck,fg,uk,pg,hk;class O5{constructor(e){$t(this,za);$t(this,ig);$t(this,og);$t(this,sg);$t(this,ag);$t(this,lg);$t(this,cg);$t(this,ug);$t(this,nf);$t(this,Ua);$t(this,hg);$t(this,Ru);$t(this,dg);$t(this,fg);$t(this,pg);$e(this,"fetchResponseLoaded",e=>Promise.resolve());$t(this,Nu,null);$t(this,xs,()=>{});$t(this,Ha,!1);$t(this,tf,!1);$t(this,Iu,new Set);$t(this,Du,!1);$e(this,"action",null);$e(this,"visitCachedSnapshot",({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new P4(this,this.element),this.appearanceObserver=new y4(this,this.element),this.formLinkClickObserver=new jT(this,this.element),this.linkInterceptor=new FT(this,this.element),this.restorationIdentifier=nl(),this.formSubmitObserver=new Xb(this,this.element)}connect(){qt(this,Ha)||(In(this,Ha,!0),this.loadingStyle==Ul.lazy?this.appearanceObserver.start():en(this,za,tu).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){qt(this,Ha)&&(In(this,Ha,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Ul.eager&&en(this,za,tu).call(this)}sourceURLChanged(){en(this,dg,ck).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Ul.eager||qt(this,tf))&&en(this,za,tu).call(this))}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return In(this,Du,t&&e==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Ul.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),en(this,za,tu).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const r=_T(t);So.fromDocument(r).isVisitable?await en(this,ig,tk).call(this,e,r):await en(this,ag,ik).call(this,e)}}finally{In(this,Du,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,Kl(e)),en(this,za,tu).call(this)}willSubmitFormLinkToLocation(e){return en(this,Ru,Jp).call(this,e)}submittedFormLinkToLocation(e,t,r){const i=en(this,Ua,nu).call(this,e);i&&r.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,t,r){return en(this,Ru,Jp).call(this,e)}linkClickIntercepted(e,t){en(this,sg,rk).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&en(this,Ru,Jp).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Eg(this,e,t);const{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,(t=this.currentNavigationElement)!=null&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(uc.contentType)}requestStarted(e){Cm(this.element)}requestPreventedHandlingResponse(e,t){qt(this,xs).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),qt(this,xs).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),qt(this,xs).call(this)}requestErrored(e,t){console.error(t),qt(this,xs).call(this)}requestFinished(e){Om(this.element)}formSubmissionStarted({formElement:e}){Cm(e,en(this,Ua,nu).call(this,e))}formSubmissionSucceededWithResponse(e,t){const r=en(this,Ua,nu).call(this,e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,Kl(e.submitter,e.formElement,r)),r.delegate.loadResponse(t),e.isSafe||dr.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),dr.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Om(e,en(this,Ua,nu).call(this,e))}allowsImmediateRender({element:e},t){const r=or("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:i,detail:{render:s}}=r;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!i}viewRenderedSnapshot(e,t,r){}preloadOnLoadLinksForView(e){dr.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const r=So.fromElement(e).clone(),{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=async s=>{if(e.src){const{statusCode:l,redirected:h}=s,c=await s.responseHTML,f={response:{statusCode:l,redirected:h,responseHTML:c},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:r};this.action&&(f.action=this.action),dr.visit(e.src,f)}}}}changeHistory(){if(this.action){const e=ST(this.action);dr.history.update(e,Zr(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t;const r=CSS.escape(this.id);try{if(t=ox(e.querySelector(`turbo-frame#${r}`),this.sourceURL),t)return t;if(t=ox(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(i){return console.error(i),new To}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){en(this,fg,uk).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||qt(this,xs).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&qt(this,Ha)}get rootLocation(){const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),t=(e==null?void 0:e.content)??"/";return Zr(t)}}Nu=new WeakMap,xs=new WeakMap,Ha=new WeakMap,tf=new WeakMap,Iu=new WeakMap,Du=new WeakMap,za=new WeakSet,tu=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=en(this,og,nk).call(this,Zr(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,In(this,tf,!0))},ig=new WeakSet,tk=async function(e,t){const r=await this.extractForeignFrameElement(t.body),i=qt(this,Du)?B4:Tg;if(r){const s=new Ag(r),l=new i(this,this.view.snapshot,s,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(l),this.complete=!0,dr.frameRendered(e,this.element),dr.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else en(this,lg,ok).call(this,e)&&en(this,cg,sk).call(this,e)},og=new WeakSet,nk=async function(e){var r;const t=new oh(this,ro.get,e,new URLSearchParams,this.element);return(r=qt(this,Nu))==null||r.cancel(),In(this,Nu,t),new Promise(i=>{In(this,xs,()=>{In(this,xs,()=>{}),In(this,Nu,null),i()}),t.perform()})},sg=new WeakSet,rk=function(e,t,r){const i=en(this,Ua,nu).call(this,e,r);i.delegate.proposeVisitIfNavigatedWithAction(i,Kl(r,e,i)),en(this,pg,hk).call(this,e,()=>{i.src=t})},ag=new WeakSet,ik=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await en(this,nf,k0).call(this,e.response)},lg=new WeakSet,ok=function(e){this.element.setAttribute("complete","");const t=e.response,r=async(s,l)=>{s instanceof Response?en(this,nf,k0).call(this,s):dr.visit(s,l)};return!or("turbo:frame-missing",{target:this.element,detail:{response:t,visit:r},cancelable:!0}).defaultPrevented},cg=new WeakSet,sk=function(e){this.view.missing(),en(this,ug,ak).call(this,e)},ug=new WeakSet,ak=function(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new C5(t)},nf=new WeakSet,k0=async function(e){const t=new _g(e),r=await t.responseHTML,{location:i,redirected:s,statusCode:l}=t;return dr.visit(i,{response:{redirected:s,statusCode:l,responseHTML:r}})},Ua=new WeakSet,nu=function(e,t){const r=km("data-turbo-frame",t,e)||this.element.getAttribute("target");return ix(r)??this.element},hg=new WeakSet,lk=function(e,t){const r=Kb(e,t);return Fa(Zr(r),this.rootLocation)},Ru=new WeakSet,Jp=function(e,t){const r=km("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!en(this,hg,lk).call(this,e,t)||!this.enabled||r=="_top")return!1;if(r){const i=ix(r);if(i)return!i.disabled}return!(!dr.elementIsNavigatable(e)||t&&!dr.elementIsNavigatable(t))},dg=new WeakSet,ck=function(e){return qt(this,Iu).has(e)},fg=new WeakSet,uk=function(e,t){qt(this,Iu).add(e),t(),qt(this,Iu).delete(e)},pg=new WeakSet,hk=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement};function ix(n){if(n!=null){const e=document.getElementById(n);if(e instanceof To)return e}}function ox(n,e){if(n){const t=n.getAttribute("src");if(t!=null&&e!=null&&u4(t,e))throw new Error(`Matching <turbo-frame id="${n.id}"> element has a source URL which references itself`);if(n.ownerDocument!==document&&(n=document.importNode(n,!0)),n instanceof To)return n.connectedCallback(),n.disconnectedCallback(),n}}const i1={after(){this.targetElements.forEach(n=>{var e;return(e=n.parentElement)==null?void 0:e.insertBefore(this.templateContent,n.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.append(this.templateContent))},before(){this.targetElements.forEach(n=>{var e;return(e=n.parentElement)==null?void 0:e.insertBefore(this.templateContent,n)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.prepend(this.templateContent))},remove(){this.targetElements.forEach(n=>n.remove())},replace(){const n=this.getAttribute("method");this.targetElements.forEach(e=>{n==="morph"?Qb(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const n=this.getAttribute("method");this.targetElements.forEach(e=>{n==="morph"?HT(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){dr.refresh(this.baseURI,this.requestId)}};var Vl,nd;const W1=class W1 extends HTMLElement{constructor(){super(...arguments);$t(this,Vl)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await pd(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var i;const t=this.targetElements.flatMap(s=>[...s.children]).filter(s=>!!s.getAttribute("id")),r=[...((i=this.templateContent)==null?void 0:i.children)||[]].filter(s=>!!s.getAttribute("id")).map(s=>s.getAttribute("id"));return t.filter(s=>r.includes(s.getAttribute("id")))}get performAction(){if(this.action){const t=i1[this.action];if(t)return t;en(this,Vl,nd).call(this,"unknown action")}en(this,Vl,nd).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;en(this,Vl,nd).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;en(this,Vl,nd).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:W1.renderElement}})}get targetElementsById(){var r;const t=(r=this.ownerDocument)==null?void 0:r.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var r;const t=(r=this.ownerDocument)==null?void 0:r.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};Vl=new WeakSet,nd=function(t){throw new Error(`${this.description}: ${t}`)};let Mm=W1;class dk extends HTMLElement{constructor(){super(...arguments);$e(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),t1(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),n1(this.streamSource))}get src(){return this.getAttribute("src")||""}}To.delegateConstructor=O5;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",To);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Mm);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",dk);(()=>{let n=document.currentScript;if(n&&!n.hasAttribute("data-turbo-suppress-warning"))for(n=n.parentElement;n;){if(n==document.body)return console.warn(xT`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,n.outerHTML);n=n.parentElement}})();window.Turbo={...k5,StreamActions:i1};e1();const L5=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:Ba,FetchMethod:ro,FetchRequest:oh,FetchResponse:_g,FrameElement:To,FrameLoadingStyle:Ul,FrameRenderer:Tg,PageRenderer:kg,PageSnapshot:So,StreamActions:i1,StreamElement:Mm,StreamSourceElement:dk,cache:YT,clearCache:r1,config:Rr,connectStreamSource:t1,disconnectStreamSource:n1,fetch:Zb,fetchEnctypeFromString:LT,fetchMethodFromString:xg,isSafe:Sg,navigator:KT,registerAdapter:ZT,renderStreamMessage:XT,session:dr,setConfirmMethod:QT,setFormMode:ek,setProgressBarDelay:JT,start:e1,visit:Ld},Symbol.toStringTag,{value:"Module"}));var sh=TypeError;const M5={},P5=Object.freeze(Object.defineProperty({__proto__:null,default:M5},Symbol.toStringTag,{value:"Module"})),N5=$3(P5);var o1=typeof Map=="function"&&Map.prototype,ay=Object.getOwnPropertyDescriptor&&o1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Pm=o1&&ay&&typeof ay.get=="function"?ay.get:null,sx=o1&&Map.prototype.forEach,s1=typeof Set=="function"&&Set.prototype,ly=Object.getOwnPropertyDescriptor&&s1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Nm=s1&&ly&&typeof ly.get=="function"?ly.get:null,ax=s1&&Set.prototype.forEach,I5=typeof WeakMap=="function"&&WeakMap.prototype,md=I5?WeakMap.prototype.has:null,D5=typeof WeakSet=="function"&&WeakSet.prototype,gd=D5?WeakSet.prototype.has:null,R5=typeof WeakRef=="function"&&WeakRef.prototype,lx=R5?WeakRef.prototype.deref:null,F5=Boolean.prototype.valueOf,B5=Object.prototype.toString,j5=Function.prototype.toString,$5=String.prototype.match,a1=String.prototype.slice,Ga=String.prototype.replace,H5=String.prototype.toUpperCase,cx=String.prototype.toLowerCase,fk=RegExp.prototype.test,ux=Array.prototype.concat,Ss=Array.prototype.join,z5=Array.prototype.slice,hx=Math.floor,C0=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cy=Object.getOwnPropertySymbols,O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,qu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vd=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===qu||"symbol")?Symbol.toStringTag:null,pk=Object.prototype.propertyIsEnumerable,dx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function fx(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||fk.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var r=n<0?-hx(-n):hx(n);if(r!==n){var i=String(r),s=a1.call(e,i.length+1);return Ga.call(i,t,"$&_")+"."+Ga.call(Ga.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ga.call(e,t,"$&_")}var L0=N5,px=L0.custom,mx=vk(px)?px:null,mk={__proto__:null,double:'"',single:"'"},U5={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Cg=function n(e,t,r,i){var s=t||{};if(Qs(s,"quoteStyle")&&!Qs(mk,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qs(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=Qs(s,"customInspect")?s.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qs(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qs(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return bk(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return h?fx(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return h?fx(e,d):d}var f=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=f&&f>0&&typeof e=="object")return M0(e)?"[Array]":"[Object]";var g=aj(s,r);if(typeof i>"u")i=[];else if(yk(i,e)>=0)return"[Circular]";function y(V,ee,fe){if(ee&&(i=z5.call(i),i.push(ee)),fe){var me={depth:s.depth};return Qs(s,"quoteStyle")&&(me.quoteStyle=s.quoteStyle),n(V,me,r+1,i)}return n(V,s,r+1,i)}if(typeof e=="function"&&!gx(e)){var E=J5(e),_=kp(e,y);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(_.length>0?" { "+Ss.call(_,", ")+" }":"")}if(vk(e)){var w=qu?Ga.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):O0.call(e);return typeof e=="object"&&!qu?Vh(w):w}if(ij(e)){for(var C="<"+cx.call(String(e.nodeName)),M=e.attributes||[],b=0;b<M.length;b++)C+=" "+M[b].name+"="+gk(W5(M[b].value),"double",s);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+cx.call(String(e.nodeName))+">",C}if(M0(e)){if(e.length===0)return"[]";var k=kp(e,y);return g&&!sj(k)?"["+P0(k,g)+"]":"[ "+Ss.call(k,", ")+" ]"}if(V5(e)){var A=kp(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!pk.call(e,"cause")?"{ ["+String(e)+"] "+Ss.call(ux.call("[cause]: "+y(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ss.call(A,", ")+" }"}if(typeof e=="object"&&l){if(mx&&typeof e[mx]=="function"&&L0)return L0(e,{depth:f-r});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Q5(e)){var N=[];return sx&&sx.call(e,function(V,ee){N.push(y(ee,e,!0)+" => "+y(V,e))}),vx("Map",Pm.call(e),N,g)}if(nj(e)){var T=[];return ax&&ax.call(e,function(V){T.push(y(V,e))}),vx("Set",Nm.call(e),T,g)}if(ej(e))return uy("WeakMap");if(rj(e))return uy("WeakSet");if(tj(e))return uy("WeakRef");if(Y5(e))return Vh(y(Number(e)));if(Z5(e))return Vh(y(C0.call(e)));if(K5(e))return Vh(F5.call(e));if(G5(e))return Vh(y(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Kr<"u"&&e===Kr)return"{ [object globalThis] }";if(!q5(e)&&!gx(e)){var P=kp(e,y),R=dx?dx(e)===Object.prototype:e instanceof Object||e.constructor===Object,B=e instanceof Object?"":"null prototype",D=!R&&vd&&Object(e)===e&&vd in e?a1.call(al(e),8,-1):B?"Object":"",H=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=H+(D||B?"["+Ss.call(ux.call([],D||[],B||[]),": ")+"] ":"");return P.length===0?$+"{}":g?$+"{"+P0(P,g)+"}":$+"{ "+Ss.call(P,", ")+" }"}return String(e)};function gk(n,e,t){var r=t.quoteStyle||e,i=mk[r];return i+n+i}function W5(n){return Ga.call(String(n),/"/g,"&quot;")}function hc(n){return!vd||!(typeof n=="object"&&(vd in n||typeof n[vd]<"u"))}function M0(n){return al(n)==="[object Array]"&&hc(n)}function q5(n){return al(n)==="[object Date]"&&hc(n)}function gx(n){return al(n)==="[object RegExp]"&&hc(n)}function V5(n){return al(n)==="[object Error]"&&hc(n)}function G5(n){return al(n)==="[object String]"&&hc(n)}function Y5(n){return al(n)==="[object Number]"&&hc(n)}function K5(n){return al(n)==="[object Boolean]"&&hc(n)}function vk(n){if(qu)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!O0)return!1;try{return O0.call(n),!0}catch{}return!1}function Z5(n){if(!n||typeof n!="object"||!C0)return!1;try{return C0.call(n),!0}catch{}return!1}var X5=Object.prototype.hasOwnProperty||function(n){return n in this};function Qs(n,e){return X5.call(n,e)}function al(n){return B5.call(n)}function J5(n){if(n.name)return n.name;var e=$5.call(j5.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function yk(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function Q5(n){if(!Pm||!n||typeof n!="object")return!1;try{Pm.call(n);try{Nm.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function ej(n){if(!md||!n||typeof n!="object")return!1;try{md.call(n,md);try{gd.call(n,gd)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function tj(n){if(!lx||!n||typeof n!="object")return!1;try{return lx.call(n),!0}catch{}return!1}function nj(n){if(!Nm||!n||typeof n!="object")return!1;try{Nm.call(n);try{Pm.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function rj(n){if(!gd||!n||typeof n!="object")return!1;try{gd.call(n,gd);try{md.call(n,md)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function ij(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function bk(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return bk(a1.call(n,0,e.maxStringLength),e)+r}var i=U5[e.quoteStyle||"single"];i.lastIndex=0;var s=Ga.call(Ga.call(n,i,"\\$1"),/[\x00-\x1f]/g,oj);return gk(s,"single",e)}function oj(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+H5.call(e.toString(16))}function Vh(n){return"Object("+n+")"}function uy(n){return n+" { ? }"}function vx(n,e,t,r){var i=r?P0(t,r):Ss.call(t,", ");return n+" ("+e+") {"+i+"}"}function sj(n){for(var e=0;e<n.length;e++)if(yk(n[e],`
`)>=0)return!1;return!0}function aj(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=Ss.call(Array(n.indent+1)," ");else return null;return{base:t,prev:Ss.call(Array(e+1),t)}}function P0(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+Ss.call(n,","+t)+`
`+e.prev}function kp(n,e){var t=M0(n),r=[];if(t){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=Qs(n,i)?e(n[i],n):""}var s=typeof cy=="function"?cy(n):[],l;if(qu){l={};for(var h=0;h<s.length;h++)l["$"+s[h]]=s[h]}for(var c in n)Qs(n,c)&&(t&&String(Number(c))===c&&c<n.length||qu&&l["$"+c]instanceof Symbol||(fk.call(/[^\w$]/,c)?r.push(e(c,n)+": "+e(n[c],n)):r.push(c+": "+e(n[c],n))));if(typeof cy=="function")for(var d=0;d<s.length;d++)pk.call(n,s[d])&&r.push("["+e(s[d])+"]: "+e(n[s[d]],n));return r}var lj=Cg,cj=sh,Og=function(n,e,t){for(var r=n,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,t||(i.next=n.next,n.next=i),i},uj=function(n,e){if(n){var t=Og(n,e);return t&&t.value}},hj=function(n,e,t){var r=Og(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}},dj=function(n,e){return n?!!Og(n,e):!1},fj=function(n,e){if(n)return Og(n,e,!0)},pj=function(){var e,t={assert:function(r){if(!t.has(r))throw new cj("Side channel does not contain "+lj(r))},delete:function(r){var i=e&&e.next,s=fj(e,r);return s&&i&&i===s&&(e=void 0),!!s},get:function(r){return uj(e,r)},has:function(r){return dj(e,r)},set:function(r,i){e||(e={next:void 0}),hj(e,r,i)}};return t},wk=Object,mj=Error,gj=EvalError,vj=RangeError,yj=ReferenceError,bj=SyntaxError,wj=URIError,_j=Math.abs,xj=Math.floor,Sj=Math.max,Ej=Math.min,Aj=Math.pow,Tj=Math.round,kj=Number.isNaN||function(e){return e!==e},Cj=kj,Oj=function(e){return Cj(e)||e===0?e:e<0?-1:1},Lj=Object.getOwnPropertyDescriptor,Qp=Lj;if(Qp)try{Qp([],"length")}catch{Qp=null}var _k=Qp,em=Object.defineProperty||!1;if(em)try{em({},"a",{value:1})}catch{em=!1}var Mj=em,hy,yx;function Pj(){return yx||(yx=1,hy=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(e,t);if(h.value!==i||h.enumerable!==!0)return!1}return!0}),hy}var dy,bx;function Nj(){if(bx)return dy;bx=1;var n=typeof Symbol<"u"&&Symbol,e=Pj();return dy=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dy}var fy,wx;function xk(){return wx||(wx=1,fy=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),fy}var py,_x;function Sk(){if(_x)return py;_x=1;var n=wk;return py=n.getPrototypeOf||null,py}var Ij="Function.prototype.bind called on incompatible ",Dj=Object.prototype.toString,Rj=Math.max,Fj="[object Function]",xx=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var s=0;s<t.length;s+=1)r[s+e.length]=t[s];return r},Bj=function(e,t){for(var r=[],i=t||0,s=0;i<e.length;i+=1,s+=1)r[s]=e[i];return r},jj=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},$j=function(e){var t=this;if(typeof t!="function"||Dj.apply(t)!==Fj)throw new TypeError(Ij+t);for(var r=Bj(arguments,1),i,s=function(){if(this instanceof i){var f=t.apply(this,xx(r,arguments));return Object(f)===f?f:this}return t.apply(e,xx(r,arguments))},l=Rj(0,t.length-r.length),h=[],c=0;c<l;c++)h[c]="$"+c;if(i=Function("binder","return function ("+jj(h,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i},Hj=$j,Lg=Function.prototype.bind||Hj,l1=Function.prototype.call,my,Sx;function Ek(){return Sx||(Sx=1,my=Function.prototype.apply),my}var zj=typeof Reflect<"u"&&Reflect&&Reflect.apply,Uj=Lg,Wj=Ek(),qj=l1,Vj=zj,Gj=Vj||Uj.call(qj,Wj),Yj=Lg,Kj=sh,Zj=l1,Xj=Gj,Ak=function(e){if(e.length<1||typeof e[0]!="function")throw new Kj("a function is required");return Xj(Yj,Zj,e)},gy,Ex;function Jj(){if(Ex)return gy;Ex=1;var n=Ak,e=_k,t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return gy=r&&typeof r.get=="function"?n([r.get]):typeof s=="function"?function(h){return s(h==null?h:i(h))}:!1,gy}var vy,Ax;function Qj(){if(Ax)return vy;Ax=1;var n=xk(),e=Sk(),t=Jj();return vy=n?function(i){return n(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,vy}var yy,Tx;function e6(){if(Tx)return yy;Tx=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Lg;return yy=t.call(n,e),yy}var wn,t6=wk,n6=mj,r6=gj,i6=vj,o6=yj,Vu=bj,Au=sh,s6=wj,a6=_j,l6=xj,c6=Sj,u6=Ej,h6=Aj,d6=Tj,f6=Oj,Tk=Function,by=function(n){try{return Tk('"use strict"; return ('+n+").constructor;")()}catch{}},Md=_k,p6=Mj,wy=function(){throw new Au},m6=Md?function(){try{return arguments.callee,wy}catch{try{return Md(arguments,"callee").get}catch{return wy}}}():wy,Vc=Nj()(),Gr=Qj(),g6=Sk(),v6=xk(),kk=Ek(),yf=l1,ru={},y6=typeof Uint8Array>"u"||!Gr?wn:Gr(Uint8Array),Xl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?wn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?wn:ArrayBuffer,"%ArrayIteratorPrototype%":Vc&&Gr?Gr([][Symbol.iterator]()):wn,"%AsyncFromSyncIteratorPrototype%":wn,"%AsyncFunction%":ru,"%AsyncGenerator%":ru,"%AsyncGeneratorFunction%":ru,"%AsyncIteratorPrototype%":ru,"%Atomics%":typeof Atomics>"u"?wn:Atomics,"%BigInt%":typeof BigInt>"u"?wn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?wn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?wn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?wn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n6,"%eval%":eval,"%EvalError%":r6,"%Float16Array%":typeof Float16Array>"u"?wn:Float16Array,"%Float32Array%":typeof Float32Array>"u"?wn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?wn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?wn:FinalizationRegistry,"%Function%":Tk,"%GeneratorFunction%":ru,"%Int8Array%":typeof Int8Array>"u"?wn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?wn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?wn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vc&&Gr?Gr(Gr([][Symbol.iterator]())):wn,"%JSON%":typeof JSON=="object"?JSON:wn,"%Map%":typeof Map>"u"?wn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vc||!Gr?wn:Gr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t6,"%Object.getOwnPropertyDescriptor%":Md,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?wn:Promise,"%Proxy%":typeof Proxy>"u"?wn:Proxy,"%RangeError%":i6,"%ReferenceError%":o6,"%Reflect%":typeof Reflect>"u"?wn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?wn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vc||!Gr?wn:Gr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?wn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vc&&Gr?Gr(""[Symbol.iterator]()):wn,"%Symbol%":Vc?Symbol:wn,"%SyntaxError%":Vu,"%ThrowTypeError%":m6,"%TypedArray%":y6,"%TypeError%":Au,"%Uint8Array%":typeof Uint8Array>"u"?wn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?wn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?wn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?wn:Uint32Array,"%URIError%":s6,"%WeakMap%":typeof WeakMap>"u"?wn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?wn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?wn:WeakSet,"%Function.prototype.call%":yf,"%Function.prototype.apply%":kk,"%Object.defineProperty%":p6,"%Object.getPrototypeOf%":g6,"%Math.abs%":a6,"%Math.floor%":l6,"%Math.max%":c6,"%Math.min%":u6,"%Math.pow%":h6,"%Math.round%":d6,"%Math.sign%":f6,"%Reflect.getPrototypeOf%":v6};if(Gr)try{null.error}catch(n){var b6=Gr(Gr(n));Xl["%Error.prototype%"]=b6}var w6=function n(e){var t;if(e==="%AsyncFunction%")t=by("async function () {}");else if(e==="%GeneratorFunction%")t=by("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=by("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&Gr&&(t=Gr(i.prototype))}return Xl[e]=t,t},kx={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bf=Lg,Im=e6(),_6=bf.call(yf,Array.prototype.concat),x6=bf.call(kk,Array.prototype.splice),Cx=bf.call(yf,String.prototype.replace),Dm=bf.call(yf,String.prototype.slice),S6=bf.call(yf,RegExp.prototype.exec),E6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A6=/\\(\\)?/g,T6=function(e){var t=Dm(e,0,1),r=Dm(e,-1);if(t==="%"&&r!=="%")throw new Vu("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Vu("invalid intrinsic syntax, expected opening `%`");var i=[];return Cx(e,E6,function(s,l,h,c){i[i.length]=h?Cx(c,A6,"$1"):l||s}),i},k6=function(e,t){var r=e,i;if(Im(kx,r)&&(i=kx[r],r="%"+i[0]+"%"),Im(Xl,r)){var s=Xl[r];if(s===ru&&(s=w6(r)),typeof s>"u"&&!t)throw new Au("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Vu("intrinsic "+e+" does not exist!")},c1=function(e,t){if(typeof e!="string"||e.length===0)throw new Au("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Au('"allowMissing" argument must be a boolean');if(S6(/^%?[^%]*%?$/,e)===null)throw new Vu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=T6(e),i=r.length>0?r[0]:"",s=k6("%"+i+"%",t),l=s.name,h=s.value,c=!1,d=s.alias;d&&(i=d[0],x6(r,_6([0,1],d)));for(var f=1,g=!0;f<r.length;f+=1){var y=r[f],E=Dm(y,0,1),_=Dm(y,-1);if((E==='"'||E==="'"||E==="`"||_==='"'||_==="'"||_==="`")&&E!==_)throw new Vu("property names with quotes must have matching quotes");if((y==="constructor"||!g)&&(c=!0),i+="."+y,l="%"+i+"%",Im(Xl,l))h=Xl[l];else if(h!=null){if(!(y in h)){if(!t)throw new Au("base intrinsic for "+e+" exists, but the property is not available.");return}if(Md&&f+1>=r.length){var w=Md(h,y);g=!!w,g&&"get"in w&&!("originalValue"in w.get)?h=w.get:h=h[y]}else g=Im(h,y),h=h[y];g&&!c&&(Xl[l]=h)}}return h},Ck=c1,Ok=Ak,C6=Ok([Ck("%String.prototype.indexOf%")]),Lk=function(e,t){var r=Ck(e,!!t);return typeof r=="function"&&C6(e,".prototype.")>-1?Ok([r]):r},O6=c1,wf=Lk,L6=Cg,M6=sh,Ox=O6("%Map%",!0),P6=wf("Map.prototype.get",!0),N6=wf("Map.prototype.set",!0),I6=wf("Map.prototype.has",!0),D6=wf("Map.prototype.delete",!0),R6=wf("Map.prototype.size",!0),Mk=!!Ox&&function(){var e,t={assert:function(r){if(!t.has(r))throw new M6("Side channel does not contain "+L6(r))},delete:function(r){if(e){var i=D6(e,r);return R6(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return P6(e,r)},has:function(r){return e?I6(e,r):!1},set:function(r,i){e||(e=new Ox),N6(e,r,i)}};return t},F6=c1,Mg=Lk,B6=Cg,Cp=Mk,j6=sh,Gc=F6("%WeakMap%",!0),$6=Mg("WeakMap.prototype.get",!0),H6=Mg("WeakMap.prototype.set",!0),z6=Mg("WeakMap.prototype.has",!0),U6=Mg("WeakMap.prototype.delete",!0),W6=Gc?function(){var e,t,r={assert:function(i){if(!r.has(i))throw new j6("Side channel does not contain "+B6(i))},delete:function(i){if(Gc&&i&&(typeof i=="object"||typeof i=="function")){if(e)return U6(e,i)}else if(Cp&&t)return t.delete(i);return!1},get:function(i){return Gc&&i&&(typeof i=="object"||typeof i=="function")&&e?$6(e,i):t&&t.get(i)},has:function(i){return Gc&&i&&(typeof i=="object"||typeof i=="function")&&e?z6(e,i):!!t&&t.has(i)},set:function(i,s){Gc&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Gc),H6(e,i,s)):Cp&&(t||(t=Cp()),t.set(i,s))}};return r}:Cp,q6=sh,V6=Cg,G6=pj,Y6=Mk,K6=W6,Z6=K6||Y6||G6,X6=function(){var e,t={assert:function(r){if(!t.has(r))throw new q6("Side channel does not contain "+V6(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=Z6()),e.set(r,i)}};return t},J6=String.prototype.replace,Q6=/%20/g,_y={RFC1738:"RFC1738",RFC3986:"RFC3986"},u1={default:_y.RFC3986,formatters:{RFC1738:function(n){return J6.call(n,Q6,"+")},RFC3986:function(n){return String(n)}},RFC1738:_y.RFC1738,RFC3986:_y.RFC3986},e8=u1,xy=Object.prototype.hasOwnProperty,$l=Array.isArray,vs=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),t8=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if($l(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);t.obj[t.prop]=i}}},Pk=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},n8=function n(e,t,r){if(!t)return e;if(typeof t!="object"&&typeof t!="function"){if($l(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!xy.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return $l(e)&&!$l(t)&&(i=Pk(e,r)),$l(e)&&$l(t)?(t.forEach(function(s,l){if(xy.call(e,l)){var h=e[l];h&&typeof h=="object"&&s&&typeof s=="object"?e[l]=n(h,s,r):e.push(s)}else e[l]=s}),e):Object.keys(t).reduce(function(s,l){var h=t[l];return xy.call(s,l)?s[l]=n(s[l],h,r):s[l]=h,s},i)},r8=function(e,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},e)},i8=function(n,e,t){var r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Sy=1024,o8=function(e,t,r,i,s){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(E){return"%26%23"+parseInt(E.slice(2),16)+"%3B"});for(var h="",c=0;c<l.length;c+=Sy){for(var d=l.length>=Sy?l.slice(c,c+Sy):l,f=[],g=0;g<d.length;++g){var y=d.charCodeAt(g);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||s===e8.RFC1738&&(y===40||y===41)){f[f.length]=d.charAt(g);continue}if(y<128){f[f.length]=vs[y];continue}if(y<2048){f[f.length]=vs[192|y>>6]+vs[128|y&63];continue}if(y<55296||y>=57344){f[f.length]=vs[224|y>>12]+vs[128|y>>6&63]+vs[128|y&63];continue}g+=1,y=65536+((y&1023)<<10|d.charCodeAt(g)&1023),f[f.length]=vs[240|y>>18]+vs[128|y>>12&63]+vs[128|y>>6&63]+vs[128|y&63]}h+=f.join("")}return h},s8=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var s=t[i],l=s.obj[s.prop],h=Object.keys(l),c=0;c<h.length;++c){var d=h[c],f=l[d];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(t.push({obj:l,prop:d}),r.push(f))}return t8(t),e},a8=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l8=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},c8=function(e,t){return[].concat(e,t)},u8=function(e,t){if($l(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},Nk={arrayToObject:Pk,assign:r8,combine:c8,compact:s8,decode:i8,encode:o8,isBuffer:l8,isRegExp:a8,maybeMap:u8,merge:n8},Ik=X6,tm=Nk,yd=u1,h8=Object.prototype.hasOwnProperty,Dk={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},_s=Array.isArray,d8=Array.prototype.push,Rk=function(n,e){d8.apply(n,_s(e)?e:[e])},f8=Date.prototype.toISOString,Lx=yd.default,Dr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:tm.encode,encodeValuesOnly:!1,filter:void 0,format:Lx,formatter:yd.formatters[Lx],indices:!1,serializeDate:function(e){return f8.call(e)},skipNulls:!1,strictNullHandling:!1},p8=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ey={},m8=function n(e,t,r,i,s,l,h,c,d,f,g,y,E,_,w,C,M,b){for(var k=e,A=b,N=0,T=!1;(A=A.get(Ey))!==void 0&&!T;){var P=A.get(e);if(N+=1,typeof P<"u"){if(P===N)throw new RangeError("Cyclic object value");T=!0}typeof A.get(Ey)>"u"&&(N=0)}if(typeof f=="function"?k=f(t,k):k instanceof Date?k=E(k):r==="comma"&&_s(k)&&(k=tm.maybeMap(k,function(Y){return Y instanceof Date?E(Y):Y})),k===null){if(l)return d&&!C?d(t,Dr.encoder,M,"key",_):t;k=""}if(p8(k)||tm.isBuffer(k)){if(d){var R=C?t:d(t,Dr.encoder,M,"key",_);return[w(R)+"="+w(d(k,Dr.encoder,M,"value",_))]}return[w(t)+"="+w(String(k))]}var B=[];if(typeof k>"u")return B;var D;if(r==="comma"&&_s(k))C&&d&&(k=tm.maybeMap(k,d)),D=[{value:k.length>0?k.join(",")||null:void 0}];else if(_s(f))D=f;else{var H=Object.keys(k);D=g?H.sort(g):H}var $=c?String(t).replace(/\./g,"%2E"):String(t),V=i&&_s(k)&&k.length===1?$+"[]":$;if(s&&_s(k)&&k.length===0)return V+"[]";for(var ee=0;ee<D.length;++ee){var fe=D[ee],me=typeof fe=="object"&&fe&&typeof fe.value<"u"?fe.value:k[fe];if(!(h&&me===null)){var ie=y&&c?String(fe).replace(/\./g,"%2E"):String(fe),te=_s(k)?typeof r=="function"?r(V,ie):V:V+(y?"."+ie:"["+ie+"]");b.set(e,N);var be=Ik();be.set(Ey,b),Rk(B,n(me,te,r,i,s,l,h,c,r==="comma"&&C&&_s(k)?null:d,f,g,y,E,_,w,C,M,be))}}return B},g8=function(e){if(!e)return Dr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Dr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=yd.default;if(typeof e.format<"u"){if(!h8.call(yd.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=yd.formatters[r],s=Dr.filter;(typeof e.filter=="function"||_s(e.filter))&&(s=e.filter);var l;if(e.arrayFormat in Dk?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=Dr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Dr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Dr.addQueryPrefix,allowDots:h,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Dr.allowEmptyArrays,arrayFormat:l,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dr.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Dr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Dr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Dr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Dr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Dr.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Dr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Dr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dr.strictNullHandling}},v8=function(n,e){var t=n,r=g8(e),i,s;typeof r.filter=="function"?(s=r.filter,t=s("",t)):_s(r.filter)&&(s=r.filter,i=s);var l=[];if(typeof t!="object"||t===null)return"";var h=Dk[r.arrayFormat],c=h==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var d=Ik(),f=0;f<i.length;++f){var g=i[f],y=t[g];r.skipNulls&&y===null||Rk(l,m8(y,g,h,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var E=l.join(r.delimiter),_=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),E.length>0?_+E:""},tc=Nk,N0=Object.prototype.hasOwnProperty,Mx=Array.isArray,hr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:tc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},y8=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Fk=function(n,e,t){if(n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1)return n.split(",");if(e.throwOnLimitExceeded&&t>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return n},b8="utf8=%26%2310003%3B",w8="utf8=%E2%9C%93",_8=function(e,t){var r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=t.parameterLimit===1/0?void 0:t.parameterLimit,l=i.split(t.delimiter,t.throwOnLimitExceeded?s+1:s);if(t.throwOnLimitExceeded&&l.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var h=-1,c,d=t.charset;if(t.charsetSentinel)for(c=0;c<l.length;++c)l[c].indexOf("utf8=")===0&&(l[c]===w8?d="utf-8":l[c]===b8&&(d="iso-8859-1"),h=c,c=l.length);for(c=0;c<l.length;++c)if(c!==h){var f=l[c],g=f.indexOf("]="),y=g===-1?f.indexOf("="):g+1,E,_;y===-1?(E=t.decoder(f,hr.decoder,d,"key"),_=t.strictNullHandling?null:""):(E=t.decoder(f.slice(0,y),hr.decoder,d,"key"),_=tc.maybeMap(Fk(f.slice(y+1),t,Mx(r[E])?r[E].length:0),function(C){return t.decoder(C,hr.decoder,d,"value")})),_&&t.interpretNumericEntities&&d==="iso-8859-1"&&(_=y8(String(_))),f.indexOf("[]=")>-1&&(_=Mx(_)?[_]:_);var w=N0.call(r,E);w&&t.duplicates==="combine"?r[E]=tc.combine(r[E],_):(!w||t.duplicates==="last")&&(r[E]=_)}return r},x8=function(n,e,t,r){var i=0;if(n.length>0&&n[n.length-1]==="[]"){var s=n.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var l=r?e:Fk(e,t,i),h=n.length-1;h>=0;--h){var c,d=n[h];if(d==="[]"&&t.parseArrays)c=t.allowEmptyArrays&&(l===""||t.strictNullHandling&&l===null)?[]:tc.combine([],l);else{c=t.plainObjects?{__proto__:null}:{};var f=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,g=t.decodeDotInKeys?f.replace(/%2E/g,"."):f,y=parseInt(g,10);!t.parseArrays&&g===""?c={0:l}:!isNaN(y)&&d!==g&&String(y)===g&&y>=0&&t.parseArrays&&y<=t.arrayLimit?(c=[],c[y]=l):g!=="__proto__"&&(c[g]=l)}l=c}return l},S8=function(e,t,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,c=r.depth>0&&l.exec(s),d=c?s.slice(0,c.index):s,f=[];if(d){if(!r.plainObjects&&N0.call(Object.prototype,d)&&!r.allowPrototypes)return;f.push(d)}for(var g=0;r.depth>0&&(c=h.exec(s))!==null&&g<r.depth;){if(g+=1,!r.plainObjects&&N0.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(c[1])}if(c){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");f.push("["+s.slice(c.index)+"]")}return x8(f,t,r,i)}},E8=function(e){if(!e)return hr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=typeof e.charset>"u"?hr.charset:e.charset,r=typeof e.duplicates>"u"?hr.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:hr.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:hr.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:hr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:hr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:hr.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:hr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:hr.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:hr.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:hr.decoder,delimiter:typeof e.delimiter=="string"||tc.isRegExp(e.delimiter)?e.delimiter:hr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:hr.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:hr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:hr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:hr.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:hr.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:hr.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},A8=function(n,e){var t=E8(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?{__proto__:null}:{};for(var r=typeof n=="string"?_8(n,t):n,i=t.plainObjects?{__proto__:null}:{},s=Object.keys(r),l=0;l<s.length;++l){var h=s[l],c=S8(h,r[h],t,typeof n=="string");i=tc.merge(i,c,t)}return t.allowSparse===!0?i:tc.compact(i)},T8=v8,k8=A8,C8=u1,O8={formats:C8,parse:k8,stringify:T8};const Px=cc(O8);class L8 extends vn{static get targets(){return["filterItem"]}connect(){this.element.addEventListener("show.bs.dropdown",()=>{setTimeout(()=>{var e;(e=this.element.querySelector("input,textarea,select"))==null||e.focus()})}),this.element.querySelectorAll("input,textarea,select").forEach(e=>{e.addEventListener("keydown",t=>{t.keyCode===13&&this.element.querySelector("button[type='submit']").click()})})}submit(e){const t=new Event("orchid:screen-submit");e.target.dispatchEvent(t),this.setAllFilter(),e.preventDefault()}onFilterClick(e){const t=this.filterItemTargets.findIndex(l=>l.classList.contains("show")),r=e.currentTarget,i=parseInt(r.dataset.filterIndex),s=this.filterItemTargets[i];return t!==-1&&(this.filterItemTargets[t].classList.remove("show"),t===i)||(s.classList.add("show"),s.style.top=`${r.offsetTop}px`,s.style.left=`${r.offsetParent.offsetWidth-4}px`),!1}onMenuClick(e){e.stopPropagation()}setAllFilter(){const e=document.getElementById("filters"),t=this.formToObject(e);t.sort=this.getUrlParameter("sort");const r=Px.stringify(this.removeEmpty(t),{encodeValuesOnly:!0,arrayFormat:"repeat"});Ld(this.getUrl(r),{action:"replace"})}removeEmpty(e){return Object.keys(e).forEach(t=>{let r=e[t];(r==null||r==="")&&delete e[t]}),e}clear(e){const t={sort:this.getUrlParameter("sort")},r=Px.stringify(this.removeEmpty(t),{encodeValuesOnly:!0,arrayFormat:"repeat"});Ld(this.getUrl(r),{action:"replace"}),e.preventDefault()}clearFilter(e){const{filter:t}=e.currentTarget.dataset;document.querySelectorAll(`input[name^='filter[${t}]']`).forEach(function(r){r.value=""}),document.querySelectorAll(`select[name^='filter[${t}]']`).forEach(function(r){r.selectedIndex=-1}),this.element.remove(),this.setAllFilter(),e.preventDefault()}getUrlParameter(e){const t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search);return i===null?"":decodeURIComponent(i[1].replace(/\+/g," "))}getUrl(e){return`${window.location.origin+window.location.pathname}?${e}`}}const M8=Object.freeze(Object.defineProperty({__proto__:null,default:L8},Symbol.toStringTag,{value:"Module"}));class Bk extends vn{connect(){document.querySelectorAll("button[type=submit]").forEach(e=>{e.addEventListener("click",t=>{t.target.focus()})})}submitByForm(e){const t=this.data.get("id");return document.getElementById(t).submit(),e.preventDefault(),!1}submit(e){if(this.getActiveElementAttr("data-turbo")==="false")return this.addReserveState(e.target),!0;if(!this.validateForm(e)||this.isSubmit||this.loadFormAction(e)===null)return e.preventDefault(),!1;this.isSubmit=!0,this.animateButton(e),this.needPreventsFormAbandonmentValue=!1;const r=new Event("orchid:screen-submit");return e.target.dispatchEvent(r),!0}animateButton(e){const t=e.submitter;t.tagName==="BUTTON"&&(t.disabled=!0,t.classList.add("cursor-wait"),t.classList.add("btn-loading"),t.innerHTML+='<span class="spinner-loading position-absolute top-50 start-50 translate-middle"><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></span>')}validateForm(e){return this.getActiveElementAttr("data-novalidate")==="true"||this.getActiveElementAttr("formnovalidate")==="true"||this.getActiveElementAttr("formnovalidate")==="formnovalidate"?!0:e.target.reportValidity()?(e.target.classList.remove("was-validated"),!0):(this.toast(this.failedValidationMessageValue),e.target.classList.add("was-validated"),!1)}get isSubmit(){return this.data.get("submit")==="true"}getActiveElementAttr(e){return document.activeElement.getAttribute(e)}set isSubmit(e){this.data.set("submit",e)}loadFormAction(e){const t=this.element.getAttribute("action"),r=this.getActiveElementAttr("formaction"),i=e.submitter.formAction;return r||t||i}disableKey(e){return/textarea/i.test(e.target.tagName)||e.target.isContentEditable||(e.keyCode||e.which||e.charCode)!==13?!0:(e.preventDefault(),!1)}changed(e){this.element===e.target.form&&(this.hasBeenChangedValue=!0)}async confirmCancel(e){var t,r;if(e.type!=="turbo:before-fetch-request"&&((r=(t=e.target)==null?void 0:t.activeElement)==null?void 0:r.type)!=="submit"&&this.needPreventsFormAbandonmentValue===!0&&this.hasBeenChangedValue===!0){if(e.preventDefault(),e.type==="beforeunload")return e.returnValue=this.confirmCancelMessageValue,this.confirmCancelMessageValue;window.confirm(this.confirmCancelMessageValue)&&e.detail.resume()}}addReserveState(e){const t=this.getState(),r=e.querySelector("#reserve_state");if(r){r.value=t;return}const i=document.createElement("input");i.type="hidden",i.id="reserve_state",i.name="_state",i.value=t,e.appendChild(i)}getState(){var e;return((e=document.getElementById("screen-state"))==null?void 0:e.value)||""}}$e(Bk,"values",{needPreventsFormAbandonment:{type:Boolean,default:!0},hasBeenChanged:{type:Boolean,default:!1},failedValidationMessage:{type:String,default:"Something went wrong."},submitLoadingMessage:{type:String,default:"Loading..."},confirmCancelMessage:{type:String,default:"Do you really want to leave? You have unsaved changes."}});const P8=Object.freeze(Object.defineProperty({__proto__:null,default:Bk},Symbol.toStringTag,{value:"Module"}));function jk(n,e){return function(){return n.apply(e,arguments)}}const{toString:N8}=Object.prototype,{getPrototypeOf:h1}=Object,{iterator:Pg,toStringTag:$k}=Symbol,Ng=(n=>e=>{const t=N8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),es=n=>(n=n.toLowerCase(),e=>Ng(e)===n),Ig=n=>e=>typeof e===n,{isArray:ah}=Array,Pd=Ig("undefined");function I8(n){return n!==null&&!Pd(n)&&n.constructor!==null&&!Pd(n.constructor)&&$i(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Hk=es("ArrayBuffer");function D8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Hk(n.buffer),e}const R8=Ig("string"),$i=Ig("function"),zk=Ig("number"),Dg=n=>n!==null&&typeof n=="object",F8=n=>n===!0||n===!1,nm=n=>{if(Ng(n)!=="object")return!1;const e=h1(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($k in n)&&!(Pg in n)},B8=es("Date"),j8=es("File"),$8=es("Blob"),H8=es("FileList"),z8=n=>Dg(n)&&$i(n.pipe),U8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||$i(n.append)&&((e=Ng(n))==="formdata"||e==="object"&&$i(n.toString)&&n.toString()==="[object FormData]"))},W8=es("URLSearchParams"),[q8,V8,G8,Y8]=["ReadableStream","Request","Response","Headers"].map(es),K8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _f(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ah(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let h;for(r=0;r<l;r++)h=s[r],e.call(null,n[h],h,n)}}function Uk(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Wl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wk=n=>!Pd(n)&&n!==Wl;function I0(){const{caseless:n}=Wk(this)&&this||{},e={},t=(r,i)=>{const s=n&&Uk(e,i)||i;nm(e[s])&&nm(r)?e[s]=I0(e[s],r):nm(r)?e[s]=I0({},r):ah(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_f(arguments[r],t);return e}const Z8=(n,e,t,{allOwnKeys:r}={})=>(_f(e,(i,s)=>{t&&$i(i)?n[s]=jk(i,t):n[s]=i},{allOwnKeys:r}),n),X8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),J8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Q8=(n,e,t,r)=>{let i,s,l;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!h[l]&&(e[l]=n[l],h[l]=!0);n=t!==!1&&h1(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},e$=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},t$=n=>{if(!n)return null;if(ah(n))return n;let e=n.length;if(!zk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},n$=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&h1(Uint8Array)),r$=(n,e)=>{const r=(n&&n[Pg]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},i$=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},o$=es("HTMLFormElement"),s$=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Nx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),a$=es("RegExp"),qk=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};_f(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},l$=n=>{qk(n,(e,t)=>{if($i(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if($i(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},c$=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ah(n)?r(n):r(String(n).split(e)),t},u$=()=>{},h$=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function d$(n){return!!(n&&$i(n.append)&&n[$k]==="FormData"&&n[Pg])}const f$=n=>{const e=new Array(10),t=(r,i)=>{if(Dg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ah(r)?[]:{};return _f(r,(l,h)=>{const c=t(l,i+1);!Pd(c)&&(s[h]=c)}),e[i]=void 0,s}}return r};return t(n,0)},p$=es("AsyncFunction"),m$=n=>n&&(Dg(n)||$i(n))&&$i(n.then)&&$i(n.catch),Vk=((n,e)=>n?setImmediate:e?((t,r)=>(Wl.addEventListener("message",({source:i,data:s})=>{i===Wl&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Wl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",$i(Wl.postMessage)),g$=typeof queueMicrotask<"u"?queueMicrotask.bind(Wl):typeof process<"u"&&process.nextTick||Vk,v$=n=>n!=null&&$i(n[Pg]),Ge={isArray:ah,isArrayBuffer:Hk,isBuffer:I8,isFormData:U8,isArrayBufferView:D8,isString:R8,isNumber:zk,isBoolean:F8,isObject:Dg,isPlainObject:nm,isReadableStream:q8,isRequest:V8,isResponse:G8,isHeaders:Y8,isUndefined:Pd,isDate:B8,isFile:j8,isBlob:$8,isRegExp:a$,isFunction:$i,isStream:z8,isURLSearchParams:W8,isTypedArray:n$,isFileList:H8,forEach:_f,merge:I0,extend:Z8,trim:K8,stripBOM:X8,inherits:J8,toFlatObject:Q8,kindOf:Ng,kindOfTest:es,endsWith:e$,toArray:t$,forEachEntry:r$,matchAll:i$,isHTMLForm:o$,hasOwnProperty:Nx,hasOwnProp:Nx,reduceDescriptors:qk,freezeMethods:l$,toObjectSet:c$,toCamelCase:s$,noop:u$,toFiniteNumber:h$,findKey:Uk,global:Wl,isContextDefined:Wk,isSpecCompliantForm:d$,toJSONObject:f$,isAsyncFn:p$,isThenable:m$,setImmediate:Vk,asap:g$,isIterable:v$};function pn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ge.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}});const Gk=pn.prototype,Yk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Yk[n]={value:n}});Object.defineProperties(pn,Yk);Object.defineProperty(Gk,"isAxiosError",{value:!0});pn.from=(n,e,t,r,i,s)=>{const l=Object.create(Gk);return Ge.toFlatObject(n,l,function(c){return c!==Error.prototype},h=>h!=="isAxiosError"),pn.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const y$=null;function D0(n){return Ge.isPlainObject(n)||Ge.isArray(n)}function Kk(n){return Ge.endsWith(n,"[]")?n.slice(0,-2):n}function Ix(n,e,t){return n?n.concat(e).map(function(i,s){return i=Kk(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function b$(n){return Ge.isArray(n)&&!n.some(D0)}const w$=Ge.toFlatObject(Ge,{},null,function(e){return/^is[A-Z]/.test(e)});function Rg(n,e,t){if(!Ge.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ge.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!Ge.isUndefined(C[w])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,l=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(e);if(!Ge.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ge.isDate(_))return _.toISOString();if(!c&&Ge.isBlob(_))throw new pn("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(_)||Ge.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,w,C){let M=_;if(_&&!C&&typeof _=="object"){if(Ge.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(Ge.isArray(_)&&b$(_)||(Ge.isFileList(_)||Ge.endsWith(w,"[]"))&&(M=Ge.toArray(_)))return w=Kk(w),M.forEach(function(k,A){!(Ge.isUndefined(k)||k===null)&&e.append(l===!0?Ix([w],A,s):l===null?w:w+"[]",d(k))}),!1}return D0(_)?!0:(e.append(Ix(C,w,s),d(_)),!1)}const g=[],y=Object.assign(w$,{defaultVisitor:f,convertValue:d,isVisitable:D0});function E(_,w){if(!Ge.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(_),Ge.forEach(_,function(M,b){(!(Ge.isUndefined(M)||M===null)&&i.call(e,M,Ge.isString(b)?b.trim():b,w,y))===!0&&E(M,w?w.concat(b):[b])}),g.pop()}}if(!Ge.isObject(n))throw new TypeError("data must be an object");return E(n),e}function Dx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function d1(n,e){this._pairs=[],n&&Rg(n,this,e)}const Zk=d1.prototype;Zk.append=function(e,t){this._pairs.push([e,t])};Zk.toString=function(e){const t=e?function(r){return e.call(this,r,Dx)}:Dx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function _$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xk(n,e,t){if(!e)return n;const r=t&&t.encode||_$;Ge.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Ge.isURLSearchParams(e)?e.toString():new d1(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class x${constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ge.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Rx=x$,Jk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},S$=typeof URLSearchParams<"u"?URLSearchParams:d1,E$=typeof FormData<"u"?FormData:null,A$=typeof Blob<"u"?Blob:null,T$={isBrowser:!0,classes:{URLSearchParams:S$,FormData:E$,Blob:A$},protocols:["http","https","file","blob","url","data"]},f1=typeof window<"u"&&typeof document<"u",R0=typeof navigator=="object"&&navigator||void 0,k$=f1&&(!R0||["ReactNative","NativeScript","NS"].indexOf(R0.product)<0),C$=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),O$=f1&&window.location.href||"http://localhost",L$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f1,hasStandardBrowserEnv:k$,hasStandardBrowserWebWorkerEnv:C$,navigator:R0,origin:O$},Symbol.toStringTag,{value:"Module"})),pi={...L$,...T$};function M$(n,e){return Rg(n,new pi.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return pi.isNode&&Ge.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function P$(n){return Ge.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function N$(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function Qk(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),c=s>=t.length;return l=!l&&Ge.isArray(i)?i.length:l,c?(Ge.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!h):((!i[l]||!Ge.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&Ge.isArray(i[l])&&(i[l]=N$(i[l])),!h)}if(Ge.isFormData(n)&&Ge.isFunction(n.entries)){const t={};return Ge.forEachEntry(n,(r,i)=>{e(P$(r),i,t,0)}),t}return null}function I$(n,e,t){if(Ge.isString(n))try{return(e||JSON.parse)(n),Ge.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const p1={transitional:Jk,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ge.isObject(e);if(s&&Ge.isHTMLForm(e)&&(e=new FormData(e)),Ge.isFormData(e))return i?JSON.stringify(Qk(e)):e;if(Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)||Ge.isReadableStream(e))return e;if(Ge.isArrayBufferView(e))return e.buffer;if(Ge.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return M$(e,this.formSerializer).toString();if((h=Ge.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rg(h?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),I$(e)):e}],transformResponse:[function(e){const t=this.transitional||p1.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ge.isResponse(e)||Ge.isReadableStream(e))return e;if(e&&Ge.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(l)throw h.name==="SyntaxError"?pn.from(h,pn.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pi.classes.FormData,Blob:pi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],n=>{p1.headers[n]={}});const m1=p1,D$=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R$=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&D$[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Fx=Symbol("internals");function Gh(n){return n&&String(n).trim().toLowerCase()}function rm(n){return n===!1||n==null?n:Ge.isArray(n)?n.map(rm):String(n)}function F$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const B$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ay(n,e,t,r,i){if(Ge.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ge.isString(e)){if(Ge.isString(r))return e.indexOf(r)!==-1;if(Ge.isRegExp(r))return r.test(e)}}function j$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function $$(n,e){const t=Ge.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}class Fg{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(h,c,d){const f=Gh(c);if(!f)throw new Error("header name must be a non-empty string");const g=Ge.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=rm(h))}const l=(h,c)=>Ge.forEach(h,(d,f)=>s(d,f,c));if(Ge.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Ge.isString(e)&&(e=e.trim())&&!B$(e))l(R$(e),t);else if(Ge.isObject(e)&&Ge.isIterable(e)){let h={},c,d;for(const f of e){if(!Ge.isArray(f))throw TypeError("Object iterator must return a key-value pair");h[d=f[0]]=(c=h[d])?Ge.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}l(h,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Gh(e),e){const r=Ge.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return F$(i);if(Ge.isFunction(t))return t.call(this,i,r);if(Ge.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gh(e),e){const r=Ge.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ay(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Gh(l),l){const h=Ge.findKey(r,l);h&&(!t||Ay(r,r[h],h,t))&&(delete r[h],i=!0)}}return Ge.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Ay(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Ge.forEach(this,(i,s)=>{const l=Ge.findKey(r,s);if(l){t[l]=rm(i),delete t[s];return}const h=e?j$(s):String(s).trim();h!==s&&delete t[s],t[h]=rm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ge.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ge.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Fx]=this[Fx]={accessors:{}}).accessors,i=this.prototype;function s(l){const h=Gh(l);r[h]||($$(i,l),r[h]=!0)}return Ge.isArray(e)?e.forEach(s):s(e),this}}Fg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(Fg.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ge.freezeMethods(Fg);const Zo=Fg;function Ty(n,e){const t=this||m1,r=e||t,i=Zo.from(r.headers);let s=r.data;return Ge.forEach(n,function(h){s=h.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function eC(n){return!!(n&&n.__CANCEL__)}function lh(n,e,t){pn.call(this,n??"canceled",pn.ERR_CANCELED,e,t),this.name="CanceledError"}Ge.inherits(lh,pn,{__CANCEL__:!0});function tC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new pn("Request failed with status code "+t.status,[pn.ERR_BAD_REQUEST,pn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function H$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function z$(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];l||(l=d),t[i]=c,r[i]=d;let g=s,y=0;for(;g!==i;)y+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),d-l<e)return;const E=f&&d-f;return E?Math.round(y*1e3/E):void 0}}function U$(n,e){let t=0,r=1e3/e,i,s;const l=(d,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,d)};return[(...d)=>{const f=Date.now(),g=f-t;g>=r?l(d,f):(i=d,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const Rm=(n,e,t=3)=>{let r=0;const i=z$(50,250);return U$(s=>{const l=s.loaded,h=s.lengthComputable?s.total:void 0,c=l-r,d=i(c),f=l<=h;r=l;const g={loaded:l,total:h,progress:h?l/h:void 0,bytes:c,rate:d||void 0,estimated:d&&h&&f?(h-l)/d:void 0,event:s,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(g)},t)},Bx=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},jx=n=>(...e)=>Ge.asap(()=>n(...e)),W$=pi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,pi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(pi.origin),pi.navigator&&/(msie|trident)/i.test(pi.navigator.userAgent)):()=>!0,q$=pi.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];Ge.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Ge.isString(r)&&l.push("path="+r),Ge.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function G$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function nC(n,e,t){let r=!V$(e);return n&&(r||t==!1)?G$(n,e):e}const $x=n=>n instanceof Zo?{...n}:n;function nc(n,e){e=e||{};const t={};function r(d,f,g,y){return Ge.isPlainObject(d)&&Ge.isPlainObject(f)?Ge.merge.call({caseless:y},d,f):Ge.isPlainObject(f)?Ge.merge({},f):Ge.isArray(f)?f.slice():f}function i(d,f,g,y){if(Ge.isUndefined(f)){if(!Ge.isUndefined(d))return r(void 0,d,g,y)}else return r(d,f,g,y)}function s(d,f){if(!Ge.isUndefined(f))return r(void 0,f)}function l(d,f){if(Ge.isUndefined(f)){if(!Ge.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function h(d,f,g){if(g in e)return r(d,f);if(g in n)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(d,f,g)=>i($x(d),$x(f),g,!0)};return Ge.forEach(Object.keys(Object.assign({},n,e)),function(f){const g=c[f]||i,y=g(n[f],e[f],f);Ge.isUndefined(y)&&g!==h||(t[f]=y)}),t}const rC=n=>{const e=nc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:h}=e;e.headers=l=Zo.from(l),e.url=Xk(nC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let c;if(Ge.isFormData(t)){if(pi.hasStandardBrowserEnv||pi.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...f]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...f].join("; "))}}if(pi.hasStandardBrowserEnv&&(r&&Ge.isFunction(r)&&(r=r(e)),r||r!==!1&&W$(e.url))){const d=i&&s&&q$.read(s);d&&l.set(i,d)}return e},Y$=typeof XMLHttpRequest<"u",K$=Y$&&function(n){return new Promise(function(t,r){const i=rC(n);let s=i.data;const l=Zo.from(i.headers).normalize();let{responseType:h,onUploadProgress:c,onDownloadProgress:d}=i,f,g,y,E,_;function w(){E&&E(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function M(){if(!C)return;const k=Zo.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),N={data:!h||h==="text"||h==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:k,config:n,request:C};tC(function(P){t(P),w()},function(P){r(P),w()},N),C=null}"onloadend"in C?C.onloadend=M:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(M)},C.onabort=function(){C&&(r(new pn("Request aborted",pn.ECONNABORTED,n,C)),C=null)},C.onerror=function(){r(new pn("Network Error",pn.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||Jk;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new pn(A,N.clarifyTimeoutError?pn.ETIMEDOUT:pn.ECONNABORTED,n,C)),C=null},s===void 0&&l.setContentType(null),"setRequestHeader"in C&&Ge.forEach(l.toJSON(),function(A,N){C.setRequestHeader(N,A)}),Ge.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),h&&h!=="json"&&(C.responseType=i.responseType),d&&([y,_]=Rm(d,!0),C.addEventListener("progress",y)),c&&C.upload&&([g,E]=Rm(c),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(f=k=>{C&&(r(!k||k.type?new lh(null,n,C):k),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const b=H$(i.url);if(b&&pi.protocols.indexOf(b)===-1){r(new pn("Unsupported protocol "+b+":",pn.ERR_BAD_REQUEST,n));return}C.send(s||null)})},Z$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,h();const f=d instanceof Error?d:this.reason;r.abort(f instanceof pn?f:new lh(f instanceof Error?f.message:f))}};let l=e&&setTimeout(()=>{l=null,s(new pn(`timeout ${e} of ms exceeded`,pn.ETIMEDOUT))},e);const h=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ge.asap(h),c}},X$=Z$,J$=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Q$=async function*(n,e){for await(const t of eH(n))yield*J$(t,e)},eH=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Hx=(n,e,t,r)=>{const i=Q$(n,e);let s=0,l,h=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){h(),c.close();return}let g=f.byteLength;if(t){let y=s+=g;t(y)}c.enqueue(new Uint8Array(f))}catch(d){throw h(d),d}},cancel(c){return h(c),i.return()}},{highWaterMark:2})},Bg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iC=Bg&&typeof ReadableStream=="function",tH=Bg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),oC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},nH=iC&&oC(()=>{let n=!1;const e=new Request(pi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),zx=64*1024,F0=iC&&oC(()=>Ge.isReadableStream(new Response("").body)),Fm={stream:F0&&(n=>n.body)};Bg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fm[e]&&(Fm[e]=Ge.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new pn(`Response type '${e}' is not supported`,pn.ERR_NOT_SUPPORT,r)})})})(new Response);const rH=async n=>{if(n==null)return 0;if(Ge.isBlob(n))return n.size;if(Ge.isSpecCompliantForm(n))return(await new Request(pi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(n)||Ge.isArrayBuffer(n))return n.byteLength;if(Ge.isURLSearchParams(n)&&(n=n+""),Ge.isString(n))return(await tH(n)).byteLength},iH=async(n,e)=>{const t=Ge.toFiniteNumber(n.getContentLength());return t??rH(e)},oH=Bg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:h,onUploadProgress:c,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:y}=rC(n);d=d?(d+"").toLowerCase():"text";let E=X$([i,s&&s.toAbortSignal()],l),_;const w=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let C;try{if(c&&nH&&t!=="get"&&t!=="head"&&(C=await iH(f,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(Ge.isFormData(r)&&(T=N.headers.get("content-type"))&&f.setContentType(T),N.body){const[P,R]=Bx(C,Rm(jx(c)));r=Hx(N.body,zx,P,R)}}Ge.isString(g)||(g=g?"include":"omit");const M="credentials"in Request.prototype;_=new Request(e,{...y,signal:E,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:M?g:void 0});let b=await fetch(_);const k=F0&&(d==="stream"||d==="response");if(F0&&(h||k&&w)){const N={};["status","statusText","headers"].forEach(B=>{N[B]=b[B]});const T=Ge.toFiniteNumber(b.headers.get("content-length")),[P,R]=h&&Bx(T,Rm(jx(h),!0))||[];b=new Response(Hx(b.body,zx,P,()=>{R&&R(),w&&w()}),N)}d=d||"text";let A=await Fm[Ge.findKey(Fm,d)||"text"](b,n);return!k&&w&&w(),await new Promise((N,T)=>{tC(N,T,{data:A,headers:Zo.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:_})})}catch(M){throw w&&w(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new pn("Network Error",pn.ERR_NETWORK,n,_),{cause:M.cause||M}):pn.from(M,M&&M.code,n,_)}}),B0={http:y$,xhr:K$,fetch:oH};Ge.forEach(B0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ux=n=>`- ${n}`,sH=n=>Ge.isFunction(n)||n===null||n===!1,sC={getAdapter:n=>{n=Ge.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!sH(t)&&(r=B0[(l=String(t)).toLowerCase()],r===void 0))throw new pn(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([h,c])=>`adapter ${h} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(Ux).join(`
`):" "+Ux(s[0]):"as no adapter specified";throw new pn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:B0};function ky(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new lh(null,n)}function Wx(n){return ky(n),n.headers=Zo.from(n.headers),n.data=Ty.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),sC.getAdapter(n.adapter||m1.adapter)(n).then(function(r){return ky(n),r.data=Ty.call(n,n.transformResponse,r),r.headers=Zo.from(r.headers),r},function(r){return eC(r)||(ky(n),r&&r.response&&(r.response.data=Ty.call(n,n.transformResponse,r.response),r.response.headers=Zo.from(r.response.headers))),Promise.reject(r)})}const aC="1.9.0",jg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{jg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const qx={};jg.transitional=function(e,t,r){function i(s,l){return"[Axios v"+aC+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,h)=>{if(e===!1)throw new pn(i(l," has been removed"+(t?" in "+t:"")),pn.ERR_DEPRECATED);return t&&!qx[l]&&(qx[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,h):!0}};jg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function aH(n,e,t){if(typeof n!="object")throw new pn("options must be an object",pn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const h=n[s],c=h===void 0||l(h,s,n);if(c!==!0)throw new pn("option "+s+" must be "+c,pn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new pn("Unknown option "+s,pn.ERR_BAD_OPTION)}}const im={assertOptions:aH,validators:jg},ys=im.validators;class Bm{constructor(e){this.defaults=e||{},this.interceptors={request:new Rx,response:new Rx}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=nc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&im.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),i!=null&&(Ge.isFunction(i)?t.paramsSerializer={serialize:i}:im.assertOptions(i,{encode:ys.function,serialize:ys.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),im.assertOptions(t,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&Ge.merge(s.common,s[t.method]);s&&Ge.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),t.headers=Zo.concat(l,s);const h=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let f,g=0,y;if(!c){const _=[Wx.bind(this),void 0];for(_.unshift.apply(_,h),_.push.apply(_,d),y=_.length,f=Promise.resolve(t);g<y;)f=f.then(_[g++],_[g++]);return f}y=h.length;let E=t;for(g=0;g<y;){const _=h[g++],w=h[g++];try{E=_(E)}catch(C){w.call(this,C);break}}try{f=Wx.call(this,E)}catch(_){return Promise.reject(_)}for(g=0,y=d.length;g<y;)f=f.then(d[g++],d[g++]);return f}getUri(e){e=nc(this.defaults,e);const t=nC(e.baseURL,e.url,e.allowAbsoluteUrls);return Xk(t,e.params,e.paramsSerializer)}}Ge.forEach(["delete","get","head","options"],function(e){Bm.prototype[e]=function(t,r){return this.request(nc(r||{},{method:e,url:t,data:(r||{}).data}))}});Ge.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,h){return this.request(nc(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Bm.prototype[e]=t(),Bm.prototype[e+"Form"]=t(!0)});const om=Bm;class g1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(h=>{r.subscribe(h),s=h}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,h){r.reason||(r.reason=new lh(s,l,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new g1(function(i){e=i}),cancel:e}}}const lH=g1;function cH(n){return function(t){return n.apply(null,t)}}function uH(n){return Ge.isObject(n)&&n.isAxiosError===!0}const j0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(j0).forEach(([n,e])=>{j0[e]=n});const hH=j0;function lC(n){const e=new om(n),t=jk(om.prototype.request,e);return Ge.extend(t,om.prototype,e,{allOwnKeys:!0}),Ge.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return lC(nc(n,i))},t}const Or=lC(m1);Or.Axios=om;Or.CanceledError=lh;Or.CancelToken=lH;Or.isCancel=eC;Or.VERSION=aC;Or.toFormData=Rg;Or.AxiosError=pn;Or.Cancel=Or.CanceledError;Or.all=function(e){return Promise.all(e)};Or.spread=cH;Or.isAxiosError=uH;Or.mergeConfig=nc;Or.AxiosHeaders=Zo;Or.formToJSON=n=>Qk(Ge.isHTMLForm(n)?new FormData(n):n);Or.getAdapter=sC.getAdapter;Or.HttpStatusCode=hH;Or.default=Or;const dH=Or;class fH extends vn{initialize(){this.axios(),this.csrf(),window.addEventListener("turbo:load",()=>this.csrf())}axios(){window.axios=dH}csrf(){const e=document.head.querySelector('meta[name="csrf_token"]');e&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=e.content,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest")}goToTop(){window.scrollTo({top:0,behavior:"smooth"})}}const pH=Object.freeze(Object.defineProperty({__proto__:null,default:fH},Symbol.toStringTag,{value:"Module"}));var cC={exports:{}};/*!
 * dist/inputmask
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2024 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.9
 */(function(n,e){(function(t,r){n.exports=r()})(typeof self<"u"?self:Kr,function(){return function(){var t={3976:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(c,d){return typeof d.onBeforeMask=="function"?d.onBeforeMask.call(this,c,d):c},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(c,d,f){if(f===void 0)return c.__data?c.__data[d]:null;c.__data=c.__data||{},c.__data[d]=f}},3776:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.Event=void 0,h.off=function(b,k){var A,N;return C(this[0])&&b&&(A=this[0].eventRegistry,N=this[0],b.split(" ").forEach(function(T){var P=y(T.split("."),2);(function(R,B){var D,H,$=[];if(R.length>0)if(k===void 0)for(D=0,H=A[R][B].length;D<H;D++)$.push({ev:R,namespace:B&&B.length>0?B:"global",handler:A[R][B][D]});else $.push({ev:R,namespace:B&&B.length>0?B:"global",handler:k});else if(B.length>0){for(var V in A)for(var ee in A[V])if(ee===B)if(k===void 0)for(D=0,H=A[V][ee].length;D<H;D++)$.push({ev:V,namespace:ee,handler:A[V][ee][D]});else $.push({ev:V,namespace:ee,handler:k})}return $})(P[0],P[1]).forEach(function(R){var B=R.ev,D=R.handler;(function(H,$,V){if(H in A==1)if(N.removeEventListener?N.removeEventListener(H,V,!1):N.detachEvent&&N.detachEvent("on".concat(H),V),$==="global")for(var ee in A[H])A[H][ee].splice(A[H][ee].indexOf(V),1);else A[H][$].splice(A[H][$].indexOf(V),1)})(B,R.namespace,D)})})),this},h.on=function(b,k){if(C(this[0])){var A=this[0].eventRegistry,N=this[0];b.split(" ").forEach(function(T){var P=y(T.split("."),2),R=P[0],B=P[1];(function(D,H){N.addEventListener?N.addEventListener(D,k,!1):N.attachEvent&&N.attachEvent("on".concat(D),k),A[D]=A[D]||{},A[D][H]=A[D][H]||[],A[D][H].push(k)})(R,B===void 0?"global":B)})}return this},h.trigger=function(b){var k=arguments;if(C(this[0]))for(var A=this[0].eventRegistry,N=this[0],T=typeof b=="string"?b.split(" "):[b.type],P=0;P<T.length;P++){var R=T[P].split("."),B=R[0],D=R[1]||"global";if(w!==void 0&&D==="global"){var H,$={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(w.createEvent){try{B==="input"?($.inputType="insertText",H=new InputEvent(B,$)):H=new CustomEvent(B,$)}catch{(H=w.createEvent("CustomEvent")).initCustomEvent(B,$.bubbles,$.cancelable,$.detail)}b.type&&(0,f.default)(H,b),N.dispatchEvent(H)}else(H=w.createEventObject()).eventType=B,H.detail=arguments[1],b.type&&(0,f.default)(H,b),N.fireEvent("on"+H.eventType,H)}else if(A[B]!==void 0){arguments[0]=arguments[0].type?arguments[0]:g.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var V=A[B];(D==="global"?Object.values(V).flat():V[D]).forEach(function(ee){return ee.apply(N,k)})}}return this};var d=_(c(9380)),f=_(c(600)),g=_(c(4963));function y(b,k){return function(A){if(Array.isArray(A))return A}(b)||function(A,N){var T=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(T!=null){var P,R,B,D,H=[],$=!0,V=!1;try{if(B=(T=T.call(A)).next,N===0){if(Object(T)!==T)return;$=!1}else for(;!($=(P=B.call(T)).done)&&(H.push(P.value),H.length!==N);$=!0);}catch(ee){V=!0,R=ee}finally{try{if(!$&&T.return!=null&&(D=T.return(),Object(D)!==D))return}finally{if(V)throw R}}return H}}(b,k)||function(A,N){if(A){if(typeof A=="string")return E(A,N);var T=Object.prototype.toString.call(A).slice(8,-1);if(T==="Object"&&A.constructor&&(T=A.constructor.name),T==="Map"||T==="Set")return Array.from(A);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return E(A,N)}}(b,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(b,k){(k==null||k>b.length)&&(k=b.length);for(var A=0,N=new Array(k);A<k;A++)N[A]=b[A];return N}function _(b){return b&&b.__esModule?b:{default:b}}var w=d.default.document;function C(b){return b instanceof Element}var M=h.Event=void 0;typeof d.default.CustomEvent=="function"?h.Event=M=d.default.CustomEvent:d.default.Event&&w&&w.createEvent?(h.Event=M=function(b,k){k=k||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var A=w.createEvent("CustomEvent");return A.initCustomEvent(b,k.bubbles,k.cancelable,k.detail),A},M.prototype=d.default.Event.prototype):typeof Event<"u"&&(h.Event=M=Event)},600:function(l,h){function c(d){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(d)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=function d(){var f,g,y,E,_,w,C=arguments[0]||{},M=1,b=arguments.length,k=!1;for(typeof C=="boolean"&&(k=C,C=arguments[M]||{},M++),c(C)!=="object"&&typeof C!="function"&&(C={});M<b;M++)if((f=arguments[M])!=null)for(g in f)y=C[g],C!==(E=f[g])&&(k&&E&&(Object.prototype.toString.call(E)==="[object Object]"||(_=Array.isArray(E)))?(_?(_=!1,w=y&&Array.isArray(y)?y:[]):w=y&&Object.prototype.toString.call(y)==="[object Object]"?y:{},C[g]=d(k,w,E)):E!==void 0&&(C[g]=E));return C}},4963:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var d=E(c(9380)),f=E(c(253)),g=c(3776),y=E(c(600));function E(C){return C&&C.__esModule?C:{default:C}}var _=d.default.document;function w(C){return C instanceof w?C:this instanceof w?void(C!=null&&C!==d.default&&(this[0]=C.nodeName?C:C[0]!==void 0&&C[0].nodeName?C[0]:_.querySelector(C),this[0]!==void 0&&this[0]!==null&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new w(C)}w.prototype={on:g.on,off:g.off,trigger:g.trigger},w.extend=y.default,w.data=f.default,w.Event=g.Event,h.default=w},9845:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.mobile=h.iphone=h.ie=void 0;var d,f=(d=c(9380))&&d.__esModule?d:{default:d},g=f.default.navigator&&f.default.navigator.userAgent||"";h.ie=g.indexOf("MSIE ")>0||g.indexOf("Trident/")>0,h.mobile=f.default.navigator&&f.default.navigator.userAgentData&&f.default.navigator.userAgentData.mobile||f.default.navigator&&f.default.navigator.maxTouchPoints||"ontouchstart"in f.default,h.iphone=/iphone/i.test(g)},7184:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(d){return d.replace(c,"\\$1")};var c=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(l,h,c){function d(B){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},d(B)}Object.defineProperty(h,"__esModule",{value:!0}),h.EventHandlers=void 0;var f,g=c(9845),y=(f=c(9380))&&f.__esModule?f:{default:f},E=c(7760),_=c(2839),w=c(8711),C=c(7215),M=c(4713);function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return D};var B,D={},H=Object.prototype,$=H.hasOwnProperty,V=Object.defineProperty||function(he,O,F){he[O]=F.value},ee=typeof Symbol=="function"?Symbol:{},fe=ee.iterator||"@@iterator",me=ee.asyncIterator||"@@asyncIterator",ie=ee.toStringTag||"@@toStringTag";function te(he,O,F){return Object.defineProperty(he,O,{value:F,enumerable:!0,configurable:!0,writable:!0}),he[O]}try{te({},"")}catch{te=function(O,F,z){return O[F]=z}}function be(he,O,F,z){var re=O&&O.prototype instanceof Oe?O:Oe,_e=Object.create(re.prototype),Le=new ne(z||[]);return V(_e,"_invoke",{value:ye(he,F,Le)}),_e}function Y(he,O,F){try{return{type:"normal",arg:he.call(O,F)}}catch(z){return{type:"throw",arg:z}}}D.wrap=be;var ue="suspendedStart",ke="suspendedYield",xe="executing",X="completed",K={};function Oe(){}function Fe(){}function Q(){}var oe={};te(oe,fe,function(){return this});var ae=Object.getPrototypeOf,ce=ae&&ae(ae(le([])));ce&&ce!==H&&$.call(ce,fe)&&(oe=ce);var q=Q.prototype=Oe.prototype=Object.create(oe);function J(he){["next","throw","return"].forEach(function(O){te(he,O,function(F){return this._invoke(O,F)})})}function pe(he,O){function F(re,_e,Le,Me){var He=Y(he[re],he,_e);if(He.type!=="throw"){var Ze=He.arg,mt=Ze.value;return mt&&d(mt)=="object"&&$.call(mt,"__await")?O.resolve(mt.__await).then(function(ct){F("next",ct,Le,Me)},function(ct){F("throw",ct,Le,Me)}):O.resolve(mt).then(function(ct){Ze.value=ct,Le(Ze)},function(ct){return F("throw",ct,Le,Me)})}Me(He.arg)}var z;V(this,"_invoke",{value:function(re,_e){function Le(){return new O(function(Me,He){F(re,_e,Me,He)})}return z=z?z.then(Le,Le):Le()}})}function ye(he,O,F){var z=ue;return function(re,_e){if(z===xe)throw new Error("Generator is already running");if(z===X){if(re==="throw")throw _e;return{value:B,done:!0}}for(F.method=re,F.arg=_e;;){var Le=F.delegate;if(Le){var Me=Ae(Le,F);if(Me){if(Me===K)continue;return Me}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(z===ue)throw z=X,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);z=xe;var He=Y(he,O,F);if(He.type==="normal"){if(z=F.done?X:ke,He.arg===K)continue;return{value:He.arg,done:F.done}}He.type==="throw"&&(z=X,F.method="throw",F.arg=He.arg)}}}function Ae(he,O){var F=O.method,z=he.iterator[F];if(z===B)return O.delegate=null,F==="throw"&&he.iterator.return&&(O.method="return",O.arg=B,Ae(he,O),O.method==="throw")||F!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+F+"' method")),K;var re=Y(z,he.iterator,O.arg);if(re.type==="throw")return O.method="throw",O.arg=re.arg,O.delegate=null,K;var _e=re.arg;return _e?_e.done?(O[he.resultName]=_e.value,O.next=he.nextLoc,O.method!=="return"&&(O.method="next",O.arg=B),O.delegate=null,K):_e:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,K)}function Te(he){var O={tryLoc:he[0]};1 in he&&(O.catchLoc=he[1]),2 in he&&(O.finallyLoc=he[2],O.afterLoc=he[3]),this.tryEntries.push(O)}function De(he){var O=he.completion||{};O.type="normal",delete O.arg,he.completion=O}function ne(he){this.tryEntries=[{tryLoc:"root"}],he.forEach(Te,this),this.reset(!0)}function le(he){if(he||he===""){var O=he[fe];if(O)return O.call(he);if(typeof he.next=="function")return he;if(!isNaN(he.length)){var F=-1,z=function re(){for(;++F<he.length;)if($.call(he,F))return re.value=he[F],re.done=!1,re;return re.value=B,re.done=!0,re};return z.next=z}}throw new TypeError(d(he)+" is not iterable")}return Fe.prototype=Q,V(q,"constructor",{value:Q,configurable:!0}),V(Q,"constructor",{value:Fe,configurable:!0}),Fe.displayName=te(Q,ie,"GeneratorFunction"),D.isGeneratorFunction=function(he){var O=typeof he=="function"&&he.constructor;return!!O&&(O===Fe||(O.displayName||O.name)==="GeneratorFunction")},D.mark=function(he){return Object.setPrototypeOf?Object.setPrototypeOf(he,Q):(he.__proto__=Q,te(he,ie,"GeneratorFunction")),he.prototype=Object.create(q),he},D.awrap=function(he){return{__await:he}},J(pe.prototype),te(pe.prototype,me,function(){return this}),D.AsyncIterator=pe,D.async=function(he,O,F,z,re){re===void 0&&(re=Promise);var _e=new pe(be(he,O,F,z),re);return D.isGeneratorFunction(O)?_e:_e.next().then(function(Le){return Le.done?Le.value:_e.next()})},J(q),te(q,ie,"Generator"),te(q,fe,function(){return this}),te(q,"toString",function(){return"[object Generator]"}),D.keys=function(he){var O=Object(he),F=[];for(var z in O)F.push(z);return F.reverse(),function re(){for(;F.length;){var _e=F.pop();if(_e in O)return re.value=_e,re.done=!1,re}return re.done=!0,re}},D.values=le,ne.prototype={constructor:ne,reset:function(he){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(De),!he)for(var O in this)O.charAt(0)==="t"&&$.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=B)},stop:function(){this.done=!0;var he=this.tryEntries[0].completion;if(he.type==="throw")throw he.arg;return this.rval},dispatchException:function(he){if(this.done)throw he;var O=this;function F(He,Ze){return _e.type="throw",_e.arg=he,O.next=He,Ze&&(O.method="next",O.arg=B),!!Ze}for(var z=this.tryEntries.length-1;z>=0;--z){var re=this.tryEntries[z],_e=re.completion;if(re.tryLoc==="root")return F("end");if(re.tryLoc<=this.prev){var Le=$.call(re,"catchLoc"),Me=$.call(re,"finallyLoc");if(Le&&Me){if(this.prev<re.catchLoc)return F(re.catchLoc,!0);if(this.prev<re.finallyLoc)return F(re.finallyLoc)}else if(Le){if(this.prev<re.catchLoc)return F(re.catchLoc,!0)}else{if(!Me)throw new Error("try statement without catch or finally");if(this.prev<re.finallyLoc)return F(re.finallyLoc)}}}},abrupt:function(he,O){for(var F=this.tryEntries.length-1;F>=0;--F){var z=this.tryEntries[F];if(z.tryLoc<=this.prev&&$.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var re=z;break}}re&&(he==="break"||he==="continue")&&re.tryLoc<=O&&O<=re.finallyLoc&&(re=null);var _e=re?re.completion:{};return _e.type=he,_e.arg=O,re?(this.method="next",this.next=re.finallyLoc,K):this.complete(_e)},complete:function(he,O){if(he.type==="throw")throw he.arg;return he.type==="break"||he.type==="continue"?this.next=he.arg:he.type==="return"?(this.rval=this.arg=he.arg,this.method="return",this.next="end"):he.type==="normal"&&O&&(this.next=O),K},finish:function(he){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.finallyLoc===he)return this.complete(F.completion,F.afterLoc),De(F),K}},catch:function(he){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc===he){var z=F.completion;if(z.type==="throw"){var re=z.arg;De(F)}return re}}throw new Error("illegal catch attempt")},delegateYield:function(he,O,F){return this.delegate={iterator:le(he),resultName:O,nextLoc:F},this.method==="next"&&(this.arg=B),K}},D}function k(B,D){var H=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!H){if(Array.isArray(B)||(H=function(ie,te){if(ie){if(typeof ie=="string")return A(ie,te);var be=Object.prototype.toString.call(ie).slice(8,-1);if(be==="Object"&&ie.constructor&&(be=ie.constructor.name),be==="Map"||be==="Set")return Array.from(ie);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return A(ie,te)}}(B))||D&&B&&typeof B.length=="number"){H&&(B=H);var $=0,V=function(){};return{s:V,n:function(){return $>=B.length?{done:!0}:{done:!1,value:B[$++]}},e:function(ie){throw ie},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,fe=!0,me=!1;return{s:function(){H=H.call(B)},n:function(){var ie=H.next();return fe=ie.done,ie},e:function(ie){me=!0,ee=ie},f:function(){try{fe||H.return==null||H.return()}finally{if(me)throw ee}}}}function A(B,D){(D==null||D>B.length)&&(D=B.length);for(var H=0,$=new Array(D);H<D;H++)$[H]=B[H];return $}function N(B,D,H,$,V,ee,fe){try{var me=B[ee](fe),ie=me.value}catch(te){return void H(te)}me.done?D(ie):Promise.resolve(ie).then($,V)}var T,P,R=h.EventHandlers={keyEvent:function(B,D,H,$,V){var ee=this.inputmask,fe=ee.opts,me=ee.dependencyLib,ie=ee.maskset,te=this,be=me(te),Y=B.key,ue=w.caret.call(ee,te),ke=fe.onKeyDown.call(this,B,w.getBuffer.call(ee),ue,fe);if(ke!==void 0)return ke;if(Y===_.keys.Backspace||Y===_.keys.Delete||g.iphone&&Y===_.keys.BACKSPACE_SAFARI||B.ctrlKey&&Y===_.keys.x&&!("oncut"in te))B.preventDefault(),C.handleRemove.call(ee,te,Y,ue),(0,E.writeBuffer)(te,w.getBuffer.call(ee,!0),ie.p,B,te.inputmask._valueGet()!==w.getBuffer.call(ee).join(""));else if(Y===_.keys.End||Y===_.keys.PageDown){B.preventDefault();var xe=w.seekNext.call(ee,w.getLastValidPosition.call(ee));w.caret.call(ee,te,B.shiftKey?ue.begin:xe,xe,!0)}else Y===_.keys.Home&&!B.shiftKey||Y===_.keys.PageUp?(B.preventDefault(),w.caret.call(ee,te,0,B.shiftKey?ue.begin:0,!0)):fe.undoOnEscape&&Y===_.keys.Escape&&B.altKey!==!0?((0,E.checkVal)(te,!0,!1,ee.undoValue.split("")),be.trigger("click")):Y!==_.keys.Insert||B.shiftKey||B.ctrlKey||ee.userOptions.insertMode!==void 0?fe.tabThrough===!0&&Y===_.keys.Tab?B.shiftKey===!0?(ue.end=w.seekPrevious.call(ee,ue.end,!0),M.getTest.call(ee,ue.end-1).match.static===!0&&ue.end--,ue.begin=w.seekPrevious.call(ee,ue.end,!0),ue.begin>=0&&ue.end>0&&(B.preventDefault(),w.caret.call(ee,te,ue.begin,ue.end))):(ue.begin=w.seekNext.call(ee,ue.begin,!0),ue.end=w.seekNext.call(ee,ue.begin,!0),ue.end<ie.maskLength&&ue.end--,ue.begin<=ie.maskLength&&(B.preventDefault(),w.caret.call(ee,te,ue.begin,ue.end))):B.shiftKey||(fe.insertModeVisual&&fe.insertMode===!1?Y===_.keys.ArrowRight?setTimeout(function(){var X=w.caret.call(ee,te);w.caret.call(ee,te,X.begin)},0):Y===_.keys.ArrowLeft&&setTimeout(function(){var X=w.translatePosition.call(ee,te.inputmask.caretPos.begin);w.translatePosition.call(ee,te.inputmask.caretPos.end),ee.isRTL?w.caret.call(ee,te,X+(X===ie.maskLength?0:1)):w.caret.call(ee,te,X-(X===0?0:1))},0):ee.keyEventHook===void 0||ee.keyEventHook(B)):C.isSelection.call(ee,ue)?fe.insertMode=!fe.insertMode:(fe.insertMode=!fe.insertMode,w.caret.call(ee,te,ue.begin,ue.begin));return ee.isComposing=Y==_.keys.Process||Y==_.keys.Unidentified,ee.ignorable=Y.length>1&&!(te.tagName.toLowerCase()==="textarea"&&Y==_.keys.Enter),R.keypressEvent.call(this,B,D,H,$,V)},keypressEvent:function(B,D,H,$,V){var ee=this.inputmask||this,fe=ee.opts,me=ee.dependencyLib,ie=ee.maskset,te=ee.el,be=me(te),Y=B.key;if(D===!0||B.ctrlKey&&B.altKey&&!ee.ignorable||!(B.ctrlKey||B.metaKey||ee.ignorable)){if(Y){var ue,ke=D?{begin:V,end:V}:w.caret.call(ee,te);D||(Y=fe.substitutes[Y]||Y),ie.writeOutBuffer=!0;var xe=C.isValid.call(ee,ke,Y,$,void 0,void 0,void 0,D);if(xe!==!1&&(w.resetMaskSet.call(ee,!0),ue=xe.caret!==void 0?xe.caret:w.seekNext.call(ee,xe.pos.begin?xe.pos.begin:xe.pos),ie.p=ue),ue=fe.numericInput&&xe.caret===void 0?w.seekPrevious.call(ee,ue):ue,H!==!1&&(setTimeout(function(){fe.onKeyValidation.call(te,Y,xe)},0),ie.writeOutBuffer&&xe!==!1)){var X=w.getBuffer.call(ee);(0,E.writeBuffer)(te,X,ue,B,D!==!0)}if(B.preventDefault(),D)return xe!==!1&&(xe.forwardPosition=ue),xe}}else Y===_.keys.Enter&&ee.undoValue!==ee._valueGet(!0)&&(ee.undoValue=ee._valueGet(!0),setTimeout(function(){be.trigger("change")},0))},pasteEvent:(T=b().mark(function B(D){var H,$,V,ee,fe,me;return b().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:H=function(te,be,Y,ue,ke){var xe=w.caret.call(te,be,void 0,void 0,!0),X=Y.substr(0,xe.begin),K=Y.substr(xe.end,Y.length);if(X==(te.isRTL?w.getBufferTemplate.call(te).slice().reverse():w.getBufferTemplate.call(te)).slice(0,xe.begin).join("")&&(X=""),K==(te.isRTL?w.getBufferTemplate.call(te).slice().reverse():w.getBufferTemplate.call(te)).slice(xe.end).join("")&&(K=""),ue=X+ue+K,te.isRTL&&ee.numericInput!==!0){ue=ue.split("");var Oe,Fe=k(w.getBufferTemplate.call(te));try{for(Fe.s();!(Oe=Fe.n()).done;){var Q=Oe.value;ue[0]===Q&&ue.shift()}}catch(ae){Fe.e(ae)}finally{Fe.f()}ue=ue.reverse().join("")}var oe=ue;if(typeof ke=="function"){if((oe=ke.call(te,oe,ee))===!1)return!1;oe||(oe=Y)}(0,E.checkVal)(be,!0,!1,oe.toString().split(""),D)},$=this,V=this.inputmask,ee=V.opts,fe=V._valueGet(!0),V.skipInputEvent=!0,D.clipboardData&&D.clipboardData.getData?me=D.clipboardData.getData("text/plain"):y.default.clipboardData&&y.default.clipboardData.getData&&(me=y.default.clipboardData.getData("Text")),H(V,$,fe,me,ee.onBeforePaste),D.preventDefault();case 7:case"end":return ie.stop()}},B,this)}),P=function(){var B=this,D=arguments;return new Promise(function(H,$){var V=T.apply(B,D);function ee(me){N(V,H,$,ee,fe,"next",me)}function fe(me){N(V,H,$,ee,fe,"throw",me)}ee(void 0)})},function(B){return P.apply(this,arguments)}),inputFallBackEvent:function(B){var D=this.inputmask,H=D.opts,$=D.dependencyLib,V,ee=this,fe=ee.inputmask._valueGet(!0),me=(D.isRTL?w.getBuffer.call(D).slice().reverse():w.getBuffer.call(D)).join(""),ie=w.caret.call(D,ee,void 0,void 0,!0);if(me!==fe){if(V=function(be,Y,ue){for(var ke,xe,X,K=be.substr(0,ue.begin).split(""),Oe=be.substr(ue.begin).split(""),Fe=Y.substr(0,ue.begin).split(""),Q=Y.substr(ue.begin).split(""),oe=K.length>=Fe.length?K.length:Fe.length,ae=Oe.length>=Q.length?Oe.length:Q.length,ce="",q=[],J="~";K.length<oe;)K.push(J);for(;Fe.length<oe;)Fe.push(J);for(;Oe.length<ae;)Oe.unshift(J);for(;Q.length<ae;)Q.unshift(J);var pe=K.concat(Oe),ye=Fe.concat(Q);for(xe=0,ke=pe.length;xe<ke;xe++)switch(X=M.getPlaceholder.call(D,w.translatePosition.call(D,xe)),ce){case"insertText":ye[xe-1]===pe[xe]&&ue.begin==pe.length-1&&q.push(pe[xe]),xe=ke;break;case"insertReplacementText":case"deleteContentBackward":pe[xe]===J?ue.end++:xe=ke;break;default:pe[xe]!==ye[xe]&&(pe[xe+1]!==J&&pe[xe+1]!==X&&pe[xe+1]!==void 0||(ye[xe]!==X||ye[xe+1]!==J)&&ye[xe]!==J?ye[xe+1]===J&&ye[xe]===pe[xe+1]?(ce="insertText",q.push(pe[xe]),ue.begin--,ue.end--):pe[xe]!==X&&pe[xe]!==J&&(pe[xe+1]===J||ye[xe]!==pe[xe]&&ye[xe+1]===pe[xe+1])?(ce="insertReplacementText",q.push(pe[xe]),ue.begin--):pe[xe]===J?(ce="deleteContentBackward",(w.isMask.call(D,w.translatePosition.call(D,xe),!0)||ye[xe]===H.radixPoint)&&ue.end++):xe=ke:(ce="insertText",q.push(pe[xe]),ue.begin--,ue.end--))}return{action:ce,data:q,caret:ue}}(fe,me,ie),(ee.inputmask.shadowRoot||ee.ownerDocument).activeElement!==ee&&ee.focus(),(0,E.writeBuffer)(ee,w.getBuffer.call(D)),w.caret.call(D,ee,ie.begin,ie.end,!0),!g.mobile&&D.skipNextInsert&&B.inputType==="insertText"&&V.action==="insertText"&&D.isComposing)return!1;switch(B.inputType==="insertCompositionText"&&V.action==="insertText"&&D.isComposing?D.skipNextInsert=!0:D.skipNextInsert=!1,V.action){case"insertText":case"insertReplacementText":V.data.forEach(function(be,Y){var ue=new $.Event("keypress");ue.key=be,D.ignorable=!1,R.keypressEvent.call(ee,ue)}),setTimeout(function(){D.$el.trigger("keyup")},0);break;case"deleteContentBackward":var te=new $.Event("keydown");te.key=_.keys.Backspace,R.keyEvent.call(ee,te);break;default:(0,E.applyInputValue)(ee,fe),w.caret.call(D,ee,ie.begin,ie.end,!0)}B.preventDefault()}},setValueEvent:function(B){var D=this.inputmask,H=D.dependencyLib,$=this,V=B&&B.detail?B.detail[0]:arguments[1];V===void 0&&(V=$.inputmask._valueGet(!0)),(0,E.applyInputValue)($,V,new H.Event("input")),(B.detail&&B.detail[1]!==void 0||arguments[2]!==void 0)&&w.caret.call(D,$,B.detail?B.detail[1]:arguments[2])},focusEvent:function(B){var D=this.inputmask,H=D.opts,$=D&&D._valueGet();H.showMaskOnFocus&&$!==w.getBuffer.call(D).join("")&&(0,E.writeBuffer)(this,w.getBuffer.call(D),w.seekNext.call(D,w.getLastValidPosition.call(D))),H.positionCaretOnTab!==!0||D.mouseEnter!==!1||C.isComplete.call(D,w.getBuffer.call(D))&&w.getLastValidPosition.call(D)!==-1||R.clickEvent.apply(this,[B,!0]),D.undoValue=D&&D._valueGet(!0)},invalidEvent:function(B){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var B=this.inputmask,D=B.opts,H=this;B.mouseEnter=!1,D.clearMaskOnLostFocus&&(H.inputmask.shadowRoot||H.ownerDocument).activeElement!==H&&(0,E.HandleNativePlaceholder)(H,B.originalPlaceholder)},clickEvent:function(B,D){var H=this.inputmask;H.clicked++;var $=this;if(($.inputmask.shadowRoot||$.ownerDocument).activeElement===$){var V=w.determineNewCaretPosition.call(H,w.caret.call(H,$),D);V!==void 0&&w.caret.call(H,$,V)}},cutEvent:function(B){var D=this.inputmask,H=D.maskset,$=this,V=w.caret.call(D,$),ee=D.isRTL?w.getBuffer.call(D).slice(V.end,V.begin):w.getBuffer.call(D).slice(V.begin,V.end),fe=D.isRTL?ee.reverse().join(""):ee.join("");y.default.navigator&&y.default.navigator.clipboard?y.default.navigator.clipboard.writeText(fe):y.default.clipboardData&&y.default.clipboardData.getData&&y.default.clipboardData.setData("Text",fe),C.handleRemove.call(D,$,_.keys.Delete,V),(0,E.writeBuffer)($,w.getBuffer.call(D),H.p,B,D.undoValue!==D._valueGet(!0))},blurEvent:function(B){var D=this.inputmask,H=D.opts,$=D.dependencyLib;D.clicked=0;var V=$(this),ee=this;if(ee.inputmask){(0,E.HandleNativePlaceholder)(ee,D.originalPlaceholder);var fe=ee.inputmask._valueGet(),me=w.getBuffer.call(D).slice();fe!==""&&(H.clearMaskOnLostFocus&&(w.getLastValidPosition.call(D)===-1&&fe===w.getBufferTemplate.call(D).join("")?me=[]:E.clearOptionalTail.call(D,me)),C.isComplete.call(D,me)===!1&&(setTimeout(function(){V.trigger("incomplete")},0),H.clearIncomplete&&(w.resetMaskSet.call(D,!1),me=H.clearMaskOnLostFocus?[]:w.getBufferTemplate.call(D).slice())),(0,E.writeBuffer)(ee,me,void 0,B)),fe=D._valueGet(!0),D.undoValue!==fe&&(fe!=""||D.undoValue!=w.getBufferTemplate.call(D).join("")||D.undoValue==w.getBufferTemplate.call(D).join("")&&D.maskset.validPositions.length>0)&&(D.undoValue=fe,V.trigger("change"))}},mouseenterEvent:function(){var B=this.inputmask,D=B.opts.showMaskOnHover,H=this;if(B.mouseEnter=!0,(H.inputmask.shadowRoot||H.ownerDocument).activeElement!==H){var $=(B.isRTL?w.getBufferTemplate.call(B).slice().reverse():w.getBufferTemplate.call(B)).join("");D&&(0,E.HandleNativePlaceholder)(H,$)}},submitEvent:function(){var B=this.inputmask,D=B.opts;B.undoValue!==B._valueGet(!0)&&B.$el.trigger("change"),w.getLastValidPosition.call(B)===-1&&B._valueGet&&B._valueGet()===w.getBufferTemplate.call(B).join("")&&B._valueSet(""),D.clearIncomplete&&C.isComplete.call(B,w.getBuffer.call(B))===!1&&B._valueSet(""),D.removeMaskOnSubmit&&(B._valueSet(B.unmaskedvalue(),!0),setTimeout(function(){(0,E.writeBuffer)(B.el,w.getBuffer.call(B))},0))},resetEvent:function(){var B=this.inputmask;B.refreshValue=!0,setTimeout(function(){(0,E.applyInputValue)(B.el,B._valueGet(!0))},0)}}},9716:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.EventRuler=void 0;var d,f=c(7760),g=(d=c(2394))&&d.__esModule?d:{default:d},y=c(2839),E=c(8711);h.EventRuler={on:function(_,w,C){var M=_.inputmask.dependencyLib,b=function(k){k.originalEvent&&(k=k.originalEvent||k,arguments[0]=k);var A,N=this,T=N.inputmask,P=T?T.opts:void 0;if(T===void 0&&this.nodeName!=="FORM"){var R=M.data(N,"_inputmask_opts");M(N).off(),R&&new g.default(R).mask(N)}else{if(["submit","reset","setvalue"].includes(k.type)||this.nodeName==="FORM"||!(N.disabled||N.readOnly&&!(k.type==="keydown"&&k.ctrlKey&&k.key===y.keys.c||P.tabThrough===!1&&k.key===y.keys.Tab))){switch(k.type){case"input":if(T.skipInputEvent===!0)return T.skipInputEvent=!1,k.preventDefault();break;case"click":case"focus":return T.validationEvent?(T.validationEvent=!1,_.blur(),(0,f.HandleNativePlaceholder)(_,(T.isRTL?E.getBufferTemplate.call(T).slice().reverse():E.getBufferTemplate.call(T)).join("")),setTimeout(function(){_.focus()},P.validationEventTimeOut),!1):(A=arguments,void setTimeout(function(){_.inputmask&&C.apply(N,A)},0))}var B=C.apply(N,arguments);return B===!1&&(k.preventDefault(),k.stopPropagation()),B}k.preventDefault()}};["submit","reset"].includes(w)?(b=b.bind(_),_.form!==null&&M(_.form).on(w,b)):M(_).on(w,b),_.inputmask.events[w]=_.inputmask.events[w]||[],_.inputmask.events[w].push(b)},off:function(_,w){if(_.inputmask&&_.inputmask.events){var C=_.inputmask.dependencyLib,M=_.inputmask.events;for(var b in w&&((M=[])[w]=_.inputmask.events[w]),M){for(var k=M[b];k.length>0;){var A=k.pop();["submit","reset"].includes(b)?_.form!==null&&C(_.form).off(b,A):C(_).off(b,A)}delete _.inputmask.events[b]}}}}},219:function(l,h,c){var d=b(c(7184)),f=b(c(2394)),g=c(2839),y=c(8711),E=c(4713);function _(Y,ue){return function(ke){if(Array.isArray(ke))return ke}(Y)||function(ke,xe){var X=ke==null?null:typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(X!=null){var K,Oe,Fe,Q,oe=[],ae=!0,ce=!1;try{if(Fe=(X=X.call(ke)).next,xe===0){if(Object(X)!==X)return;ae=!1}else for(;!(ae=(K=Fe.call(X)).done)&&(oe.push(K.value),oe.length!==xe);ae=!0);}catch(q){ce=!0,Oe=q}finally{try{if(!ae&&X.return!=null&&(Q=X.return(),Object(Q)!==Q))return}finally{if(ce)throw Oe}}return oe}}(Y,ue)||function(ke,xe){if(ke){if(typeof ke=="string")return w(ke,xe);var X=Object.prototype.toString.call(ke).slice(8,-1);if(X==="Object"&&ke.constructor&&(X=ke.constructor.name),X==="Map"||X==="Set")return Array.from(ke);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return w(ke,xe)}}(Y,ue)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(Y,ue){(ue==null||ue>Y.length)&&(ue=Y.length);for(var ke=0,xe=new Array(ue);ke<ue;ke++)xe[ke]=Y[ke];return xe}function C(Y){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},C(Y)}function M(Y,ue){for(var ke=0;ke<ue.length;ke++){var xe=ue[ke];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(Y,(X=xe.key,K=void 0,K=function(Oe,Fe){if(C(Oe)!=="object"||Oe===null)return Oe;var Q=Oe[Symbol.toPrimitive];if(Q!==void 0){var oe=Q.call(Oe,Fe||"default");if(C(oe)!=="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Fe==="string"?String:Number)(Oe)}(X,"string"),C(K)==="symbol"?K:String(K)),xe)}var X,K}function b(Y){return Y&&Y.__esModule?Y:{default:Y}}c(1313);var k=f.default.dependencyLib,A=function(){function Y(xe,X,K,Oe){(function(Fe,Q){if(!(Fe instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,Y),this.mask=xe,this.format=X,this.opts=K,this.inputmask=Oe,this._date=new Date(1,0,1),this.initDateObject(xe,this.opts,this.inputmask)}var ue,ke;return ue=Y,(ke=[{key:"date",get:function(){return this._date===void 0&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(xe,X,K){var Oe;for(V(X).lastIndex=0;Oe=V(X).exec(this.format);){var Fe=/\d+$/.exec(Oe[0]),Q=Fe?Oe[0][0]+"x":Oe[0],oe=void 0;if(xe!==void 0){if(Fe){var ae=V(X).lastIndex,ce=be.call(K,Oe.index,X,K&&K.maskset);V(X).lastIndex=ae,oe=xe.slice(0,xe.indexOf(ce.nextMatch[0]))}else{for(var q=Oe[0][0],J=Oe.index;K&&(X.placeholder[E.getTest.call(K,J).match.placeholder]||E.getTest.call(K,J).match.placeholder)===q;)J++;var pe=J-Oe.index;oe=xe.slice(0,pe||R[Q]&&R[Q][4]||Q.length)}xe=xe.slice(oe.length)}Object.prototype.hasOwnProperty.call(R,Q)&&this.setValue(this,oe,Q,R[Q][2],R[Q][1])}}},{key:"setValue",value:function(xe,X,K,Oe,Fe){if(X!==void 0)switch(Oe){case"ampm":xe[Oe]=X,xe["raw"+Oe]=X.replace(/\s/g,"_");break;case"month":if(K==="mmm"||K==="mmmm"){xe[Oe]=me(K==="mmm"?T.monthNames.slice(0,12).findIndex(function(oe){return X.toLowerCase()===oe.toLowerCase()})+1:T.monthNames.slice(12,24).findIndex(function(oe){return X.toLowerCase()===oe.toLowerCase()})+1,2),xe[Oe]=xe[Oe]==="00"?"":xe[Oe].toString(),xe["raw"+Oe]=xe[Oe];break}default:xe[Oe]=X.replace(/[^0-9]/g,"0"),xe["raw"+Oe]=X.replace(/\s/g,"_")}if(Fe!==void 0){var Q=xe[Oe];(Oe==="day"&&parseInt(Q)===29||Oe==="month"&&parseInt(Q)===2)&&(parseInt(xe.day)!==29||parseInt(xe.month)!==2||xe.year!==""&&xe.year!==void 0||xe._date.setFullYear(2012,1,29)),Oe==="day"&&(P=!0,parseInt(Q)===0&&(Q=1)),Oe==="month"&&(P=!0),Oe==="year"&&(P=!0,Q.length<R[K][4]&&(Q=me(Q,R[K][4],!0))),(Q!==""&&!isNaN(Q)||Oe==="ampm")&&Fe.call(xe._date,Q)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&M(ue.prototype,ke),Object.defineProperty(ue,"prototype",{writable:!1}),Y}(),N=new Date().getFullYear(),T=f.default.prototype.i18n,P=!1,R={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return me(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(Y){var ue=Y?parseInt(Y):0;return ue>0&&ue--,Date.prototype.setMonth.call(this,ue)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(Y){var ue=Y?parseInt(Y):0;return ue>0&&ue--,Date.prototype.setMonth.call(this,ue)},"month",function(){return me(Date.prototype.getMonth.call(this)+1,2)}],mmm:[T.monthNames.slice(0,12).join("|"),function(Y){var ue=T.monthNames.slice(0,12).findIndex(function(ke){return Y.toLowerCase()===ke.toLowerCase()});return ue!==-1&&Date.prototype.setMonth.call(this,ue)},"month",function(){return T.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[T.monthNames.slice(12,24).join("|"),function(Y){var ue=T.monthNames.slice(12,24).findIndex(function(ke){return Y.toLowerCase()===ke.toLowerCase()});return ue!==-1&&Date.prototype.setMonth.call(this,ue)},"month",function(){return T.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(Y){var ue=new Date().getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(ue).concat(Y))},"year",function(){return me(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return me(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return me(Date.prototype.getHours.call(this),2)}],hx:[function(Y){return"[0-9]{".concat(Y,"}")},Date.prototype.setHours,"hours",function(Y){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return me(Date.prototype.getHours.call(this),2)}],Hx:[function(Y){return"[0-9]{".concat(Y,"}")},Date.prototype.setHours,"hours",function(Y){return function(){return me(Date.prototype.getHours.call(this),Y)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return me(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return me(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return me(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return me(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",D,"ampm",H,1],tt:["[ap]m",D,"ampm",H,2],T:["[AP]",D,"ampm",H,1],TT:["[AP]M",D,"ampm",H,2],Z:[".*",void 0,"Z",function(){var Y=this.toString().match(/\((.+)\)/)[1];return Y.includes(" ")&&(Y=(Y=Y.replace("-"," ").toUpperCase()).split(" ").map(function(ue){return _(ue,1)[0]}).join("")),Y}],o:[""],S:[""]},B={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function D(Y){var ue=this.getHours();Y.toLowerCase().includes("p")?this.setHours(ue+12):Y.toLowerCase().includes("a")&&ue>=12&&this.setHours(ue-12)}function H(){var Y=this.getHours();return(Y=Y||12)>=12?"PM":"AM"}function $(Y){var ue=/\d+$/.exec(Y[0]);if(ue&&ue[0]!==void 0){var ke=R[Y[0][0]+"x"].slice("");return ke[0]=ke[0](ue[0]),ke[3]=ke[3](ue[0]),ke}if(R[Y[0]])return R[Y[0]]}function V(Y){if(!Y.tokenizer){var ue=[],ke=[];for(var xe in R)if(/\.*x$/.test(xe)){var X=xe[0]+"\\d+";ke.indexOf(X)===-1&&ke.push(X)}else ue.indexOf(xe[0])===-1&&ue.push(xe[0]);Y.tokenizer="("+(ke.length>0?ke.join("|")+"|":"")+ue.join("+|")+")+?|.",Y.tokenizer=new RegExp(Y.tokenizer,"g")}return Y.tokenizer}function ee(Y,ue,ke){if(!P)return!0;if(Y.rawday===void 0||!isFinite(Y.rawday)&&new Date(Y.date.getFullYear(),isFinite(Y.rawmonth)?Y.month:Y.date.getMonth()+1,0).getDate()>=Y.day||Y.day=="29"&&(!isFinite(Y.rawyear)||Y.rawyear===void 0||Y.rawyear==="")||new Date(Y.date.getFullYear(),isFinite(Y.rawmonth)?Y.month:Y.date.getMonth()+1,0).getDate()>=Y.day)return ue;if(Y.day=="29"){var xe=be.call(this,ue.pos,ke,this.maskset);if(xe.targetMatch&&xe.targetMatch[0]==="yyyy"&&ue.pos-xe.targetMatchIndex==2)return ue.remove=ue.pos+1,ue}else if(Y.date.getMonth()==2&&Y.day=="30"&&ue.c!==void 0)return Y.day="03",Y.date.setDate(3),Y.date.setMonth(1),ue.insert=[{pos:ue.pos,c:"0"},{pos:ue.pos+1,c:ue.c}],ue.caret=y.seekNext.call(this,ue.pos+1),ue;return!1}function fe(Y,ue,ke,xe){var X,K,Oe="",Fe=0,Q={};for(V(ke).lastIndex=0;X=V(ke).exec(Y);){if(ue===void 0)if(K=$(X))Oe+="("+K[0]+")",ke.placeholder&&ke.placeholder!==""?(Q[Fe]=ke.placeholder[X.index%ke.placeholder.length],Q[ke.placeholder[X.index%ke.placeholder.length]]=X[0].charAt(0)):Q[Fe]=X[0].charAt(0);else switch(X[0]){case"[":Oe+="(";break;case"]":Oe+=")?";break;default:Oe+=(0,d.default)(X[0]),Q[Fe]=X[0].charAt(0)}else(K=$(X))?xe!==!0&&K[3]?Oe+=K[3].call(ue.date):K[2]?Oe+=ue["raw"+K[2]]:Oe+=X[0]:Oe+=X[0];Fe++}return ue===void 0&&(ke.placeholder=Q),Oe}function me(Y,ue,ke){for(Y=String(Y),ue=ue||2;Y.length<ue;)Y=ke?Y+"0":"0"+Y;return Y}function ie(Y,ue,ke){return typeof Y=="string"?new A(Y,ue,ke,this):Y&&C(Y)==="object"&&Object.prototype.hasOwnProperty.call(Y,"date")?Y:void 0}function te(Y,ue){return fe(ue.inputFormat,{date:Y},ue)}function be(Y,ue,ke){var xe,X,K=this,Oe=ke&&ke.tests[Y]?ue.placeholder[ke.tests[Y][0].match.placeholder]||ke.tests[Y][0].match.placeholder:"",Fe=0,Q=0;for(V(ue).lastIndex=0;X=V(ue).exec(ue.inputFormat);){var oe=/\d+$/.exec(X[0]);if(oe)Q=parseInt(oe[0]);else{for(var ae=X[0][0],ce=Fe;K&&(ue.placeholder[E.getTest.call(K,ce).match.placeholder]||E.getTest.call(K,ce).match.placeholder)===ae;)ce++;(Q=ce-Fe)===0&&(Q=X[0].length)}if(Fe+=Q,X[0].indexOf(Oe)!=-1||Fe>=Y+1){xe=X,X=V(ue).exec(ue.inputFormat);break}}return{targetMatchIndex:Fe-Q,nextMatch:X,targetMatch:xe}}f.default.extendAliases({datetime:{mask:function(Y){return Y.numericInput=!1,R.S=T.ordinalSuffix.join("|"),Y.inputFormat=B[Y.inputFormat]||Y.inputFormat,Y.displayFormat=B[Y.displayFormat]||Y.displayFormat||Y.inputFormat,Y.outputFormat=B[Y.outputFormat]||Y.outputFormat||Y.inputFormat,Y.regex=fe(Y.inputFormat,void 0,Y),Y.min=ie(Y.min,Y.inputFormat,Y),Y.max=ie(Y.max,Y.inputFormat,Y),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(Y,ue,ke,xe,X,K,Oe,Fe){if(Fe)return!0;if(isNaN(ke)&&Y[ue]!==ke){var Q=be.call(this,ue,X,K);if(Q.nextMatch&&Q.nextMatch[0]===ke&&Q.targetMatch[0].length>1){var oe=$(Q.targetMatch)[0];if(new RegExp(oe).test("0"+Y[ue-1]))return Y[ue]=Y[ue-1],Y[ue-1]="0",{fuzzy:!0,buffer:Y,refreshFromBuffer:{start:ue-1,end:ue+1},pos:ue+1}}}return!0},postValidation:function(Y,ue,ke,xe,X,K,Oe,Fe){var Q,oe,ae=this;if(Oe)return!0;if(xe===!1&&(((Q=be.call(ae,ue+1,X,K)).targetMatch&&Q.targetMatchIndex===ue&&Q.targetMatch[0].length>1&&R[Q.targetMatch[0]]!==void 0||(Q=be.call(ae,ue+2,X,K)).targetMatch&&Q.targetMatchIndex===ue+1&&Q.targetMatch[0].length>1&&R[Q.targetMatch[0]]!==void 0)&&(oe=$(Q.targetMatch)[0]),oe!==void 0&&(K.validPositions[ue+1]!==void 0&&new RegExp(oe).test(ke+"0")?(Y[ue]=ke,Y[ue+1]="0",xe={pos:ue+2,caret:ue}):new RegExp(oe).test("0"+ke)&&(Y[ue]="0",Y[ue+1]=ke,xe={pos:ue+2})),xe===!1))return xe;if(xe.fuzzy&&(Y=xe.buffer,ue=xe.pos),(Q=be.call(ae,ue,X,K)).targetMatch&&Q.targetMatch[0]&&R[Q.targetMatch[0]]!==void 0){var ce=$(Q.targetMatch);oe=ce[0];var q=Y.slice(Q.targetMatchIndex,Q.targetMatchIndex+Q.targetMatch[0].length);if(new RegExp(oe).test(q.join(""))===!1&&Q.targetMatch[0].length===2&&K.validPositions[Q.targetMatchIndex]&&K.validPositions[Q.targetMatchIndex+1]&&(K.validPositions[Q.targetMatchIndex+1].input="0"),ce[2]=="year")for(var J=E.getMaskTemplate.call(ae,!1,1,void 0,!0),pe=ue+1;pe<Y.length;pe++)Y[pe]=J[pe],K.validPositions.splice(ue+1,1)}var ye=xe,Ae=ie.call(ae,Y.join(""),X.inputFormat,X);return ye&&!isNaN(Ae.date.getTime())&&(X.prefillYear&&(ye=function(Te,De,ne){if(Te.year!==Te.rawyear){var le=N.toString(),he=Te.rawyear.replace(/[^0-9]/g,""),O=le.slice(0,he.length),F=le.slice(he.length);if(he.length===2&&he===O){var z=new Date(N,Te.month-1,Te.day);Te.day==z.getDate()&&(!ne.max||ne.max.date.getTime()>=z.getTime())&&(Te.date.setFullYear(N),Te.year=le,De.insert=[{pos:De.pos+1,c:F[0]},{pos:De.pos+2,c:F[1]}])}}return De}(Ae,ye,X)),ye=function(Te,De,ne,le,he){if(!De)return De;if(De&&ne.min&&!isNaN(ne.min.date.getTime())){var O;for(Te.reset(),V(ne).lastIndex=0;O=V(ne).exec(ne.inputFormat);){var F;if((F=$(O))&&F[3]){for(var z=F[1],re=Te[F[2]],_e=ne.min[F[2]],Le=ne.max?ne.max[F[2]]:_e+1,Me=[],He=!1,Ze=0;Ze<_e.length;Ze++)le.validPositions[Ze+O.index]!==void 0||He?(Me[Ze]=re[Ze],He=He||re[Ze]>_e[Ze]):(Ze+O.index==0&&re[Ze]<_e[Ze]?(Me[Ze]=re[Ze],He=!0):Me[Ze]=_e[Ze],F[2]==="year"&&re.length-1==Ze&&_e!=Le&&(Me=(parseInt(Me.join(""))+1).toString().split("")),F[2]==="ampm"&&_e!=Le&&ne.min.date.getTime()>Te.date.getTime()&&(Me[Ze]=Le[Ze]));z.call(Te._date,Me.join(""))}}De=ne.min.date.getTime()<=Te.date.getTime(),Te.reInit()}return De&&ne.max&&(isNaN(ne.max.date.getTime())||(De=ne.max.date.getTime()>=Te.date.getTime())),De}(Ae,ye=ee.call(ae,Ae,ye,X),X,K)),ue!==void 0&&ye&&xe.pos!==ue?{buffer:fe(X.inputFormat,Ae,X).split(""),refreshFromBuffer:{start:ue,end:xe.pos},pos:xe.caret||xe.pos}:ye},onKeyDown:function(Y,ue,ke,xe){Y.ctrlKey&&Y.key===g.keys.ArrowRight&&(this.inputmask._valueSet(te(new Date,xe)),k(this).trigger("setvalue"))},onUnMask:function(Y,ue,ke){return ue&&fe(ke.outputFormat,ie.call(this,Y,ke.inputFormat,ke),ke,!0)},casing:function(Y,ue,ke,xe){if(ue.nativeDef.indexOf("[ap]")==0)return Y.toLowerCase();if(ue.nativeDef.indexOf("[AP]")==0)return Y.toUpperCase();var X=E.getTest.call(this,[ke-1]);return X.match.def.indexOf("[AP]")==0||ke===0||X&&X.input===String.fromCharCode(g.keyCode.Space)||X&&X.match.def===String.fromCharCode(g.keyCode.Space)?Y.toUpperCase():Y.toLowerCase()},onBeforeMask:function(Y,ue){return Object.prototype.toString.call(Y)==="[object Date]"&&(Y=te(Y,ue)),Y},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(l,h,c){var d,f=(d=c(2394))&&d.__esModule?d:{default:d};f.default.dependencyLib.extend(!0,f.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(l,h,c){var d,f=(d=c(2394))&&d.__esModule?d:{default:d},g=c(8711),y=c(4713);function E(M){return function(b){if(Array.isArray(b))return _(b)}(M)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(M)||function(b,k){if(b){if(typeof b=="string")return _(b,k);var A=Object.prototype.toString.call(b).slice(8,-1);if(A==="Object"&&b.constructor&&(A=b.constructor.name),A==="Map"||A==="Set")return Array.from(b);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return _(b,k)}}(M)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(M,b){(b==null||b>M.length)&&(b=M.length);for(var k=0,A=new Array(b);k<b;k++)A[k]=M[k];return A}f.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var w=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function C(M,b,k,A,N){if(k-1>-1&&b.buffer[k-1]!=="."?(M=b.buffer[k-1]+M,M=k-2>-1&&b.buffer[k-2]!=="."?b.buffer[k-2]+M:"0"+M):M="00"+M,N.greedy&&parseInt(M)>255&&w.test("00"+M.charAt(2))){var T=[].concat(E(b.buffer.slice(0,k)),[".",M.charAt(2)]);if(T.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:T,caret:k+2}}return w.test(M)}f.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:C},j:{validator:C},k:{validator:C},l:{validator:C}},onUnMask:function(M,b,k){return M},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(M){var b=M.separator,k=M.quantifier,A="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",N=A;if(b)for(var T=0;T<k;T++)N+="[".concat(b).concat(A,"]");return N},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(M,b){return(M=M.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(M,b,k){return M},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(M,b,k,A,N,T,P){var R=y.getMaskTemplate.call(this,!0,g.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(R.join(""))}}})},207:function(l,h,c){var d=E(c(7184)),f=E(c(2394)),g=c(2839),y=c(8711);function E(A){return A&&A.__esModule?A:{default:A}}var _=f.default.dependencyLib;function w(A,N){for(var T="",P=0;P<A.length;P++)f.default.prototype.definitions[A.charAt(P)]||N.definitions[A.charAt(P)]||N.optionalmarker[0]===A.charAt(P)||N.optionalmarker[1]===A.charAt(P)||N.quantifiermarker[0]===A.charAt(P)||N.quantifiermarker[1]===A.charAt(P)||N.groupmarker[0]===A.charAt(P)||N.groupmarker[1]===A.charAt(P)||N.alternatormarker===A.charAt(P)?T+="\\"+A.charAt(P):T+=A.charAt(P);return T}function C(A,N,T,P){if(A.length>0&&N>0&&(!T.digitsOptional||P)){var R=A.indexOf(T.radixPoint),B=!1;T.negationSymbol.back===A[A.length-1]&&(B=!0,A.length--),R===-1&&(A.push(T.radixPoint),R=A.length-1);for(var D=1;D<=N;D++)isFinite(A[R+D])||(A[R+D]="0")}return B&&A.push(T.negationSymbol.back),A}function M(A,N){var T=0;for(var P in A==="+"&&(T=y.seekNext.call(this,N.validPositions.length-1)),N.tests)if((P=parseInt(P))>=T){for(var R=0,B=N.tests[P].length;R<B;R++)if((N.validPositions[P]===void 0||A==="-")&&N.tests[P][R].match.def===A)return P+(N.validPositions[P]!==void 0&&A!=="-"?1:0)}return T}function b(A,N){for(var T=-1,P=0,R=N.validPositions.length;P<R;P++){var B=N.validPositions[P];if(B&&B.match.def===A){T=P;break}}return T}function k(A,N,T,P,R){var B=N.buffer?N.buffer.indexOf(R.radixPoint):-1,D=(B!==-1||P&&R.jitMasking)&&new RegExp(R.definitions[9].validator).test(A);return!P&&R._radixDance&&B!==-1&&D&&N.validPositions[B]==null?{insert:{pos:B===T?B+1:B,c:R.radixPoint},pos:T}:D}f.default.extendAliases({numeric:{mask:function(A){A.repeat=0,A.groupSeparator===A.radixPoint&&A.digits&&A.digits!=="0"&&(A.radixPoint==="."?A.groupSeparator=",":A.radixPoint===","?A.groupSeparator=".":A.groupSeparator=""),A.groupSeparator===" "&&(A.skipOptionalPartCharacter=void 0),A.placeholder.length>1&&(A.placeholder=A.placeholder.charAt(0)),A.positionCaretOnClick==="radixFocus"&&A.placeholder===""&&(A.positionCaretOnClick="lvp");var N="0",T=A.radixPoint;A.numericInput===!0&&A.__financeInput===void 0?(N="1",A.positionCaretOnClick=A.positionCaretOnClick==="radixFocus"?"lvp":A.positionCaretOnClick,A.digitsOptional=!1,isNaN(A.digits)&&(A.digits=2),A._radixDance=!1,T=A.radixPoint===","?"?":"!",A.radixPoint!==""&&A.definitions[T]===void 0&&(A.definitions[T]={},A.definitions[T].validator="["+A.radixPoint+"]",A.definitions[T].placeholder=A.radixPoint,A.definitions[T].static=!0,A.definitions[T].generated=!0)):(A.__financeInput=!1,A.numericInput=!0);var P,R="[+]";if(R+=w(A.prefix,A),A.groupSeparator!==""?(A.definitions[A.groupSeparator]===void 0&&(A.definitions[A.groupSeparator]={},A.definitions[A.groupSeparator].validator="["+A.groupSeparator+"]",A.definitions[A.groupSeparator].placeholder=A.groupSeparator,A.definitions[A.groupSeparator].static=!0,A.definitions[A.groupSeparator].generated=!0),R+=A._mask(A)):R+="9{+}",A.digits!==void 0&&A.digits!==0){var B=A.digits.toString().split(",");isFinite(B[0])&&B[1]&&isFinite(B[1])?R+=T+N+"{"+A.digits+"}":(isNaN(A.digits)||parseInt(A.digits)>0)&&(A.digitsOptional||A.jitMasking?(P=R+T+N+"{0,"+A.digits+"}",A.keepStatic=!0):R+=T+N+"{"+A.digits+"}")}else A.inputmode="numeric";return R+=w(A.suffix,A),R+="[-]",P&&(R=[P+w(A.suffix,A)+"[-]",R]),A.greedy=!1,function(D){D.parseMinMaxOptions===void 0&&(D.min!==null&&(D.min=D.min.toString().replace(new RegExp((0,d.default)(D.groupSeparator),"g"),""),D.radixPoint===","&&(D.min=D.min.replace(D.radixPoint,".")),D.min=isFinite(D.min)?parseFloat(D.min):NaN,isNaN(D.min)&&(D.min=Number.MIN_VALUE)),D.max!==null&&(D.max=D.max.toString().replace(new RegExp((0,d.default)(D.groupSeparator),"g"),""),D.radixPoint===","&&(D.max=D.max.replace(D.radixPoint,".")),D.max=isFinite(D.max)?parseFloat(D.max):NaN,isNaN(D.max)&&(D.max=Number.MAX_VALUE)),D.parseMinMaxOptions="done")}(A),A.radixPoint!==""&&A.substituteRadixPoint&&(A.substitutes[A.radixPoint=="."?",":"."]=A.radixPoint),R},_mask:function(A){return"("+A.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:k},1:{validator:k,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(A,N,T,P,R){return R.allowMinus&&(A==="-"||A===R.negationSymbol.front)}},"-":{validator:function(A,N,T,P,R){return R.allowMinus&&A===R.negationSymbol.back}}},preValidation:function(A,N,T,P,R,B,D,H){var $=this;if(R.__financeInput!==!1&&T===R.radixPoint)return!1;var V=A.indexOf(R.radixPoint),ee=N;if(N=function(be,Y,ue,ke,xe){return xe._radixDance&&xe.numericInput&&Y!==xe.negationSymbol.back&&be<=ue&&(ue>0||Y==xe.radixPoint)&&(ke.validPositions[be-1]===void 0||ke.validPositions[be-1].input!==xe.negationSymbol.back)&&(be-=1),be}(N,T,V,B,R),T==="-"||T===R.negationSymbol.front){if(R.allowMinus!==!0)return!1;var fe=!1,me=b("+",B),ie=b("-",B);return me!==-1&&(fe=[me],ie!==-1&&fe.push(ie)),fe!==!1?{remove:fe,caret:ee-R.negationSymbol.back.length}:{insert:[{pos:M.call($,"+",B),c:R.negationSymbol.front,fromIsValid:!0},{pos:M.call($,"-",B),c:R.negationSymbol.back,fromIsValid:void 0}],caret:ee+R.negationSymbol.back.length}}if(T===R.groupSeparator)return{caret:ee};if(H)return!0;if(V!==-1&&R._radixDance===!0&&P===!1&&T===R.radixPoint&&R.digits!==void 0&&(isNaN(R.digits)||parseInt(R.digits)>0)&&V!==N){var te=M.call($,R.radixPoint,B);return B.validPositions[te]&&(B.validPositions[te].generatedInput=B.validPositions[te].generated||!1),{caret:R._radixDance&&N===V-1?V+1:V}}if(R.__financeInput===!1){if(P){if(R.digitsOptional)return{rewritePosition:D.end};if(!R.digitsOptional){if(D.begin>V&&D.end<=V)return T===R.radixPoint?{insert:{pos:V+1,c:"0",fromIsValid:!0},rewritePosition:V}:{rewritePosition:V+1};if(D.begin<V)return{rewritePosition:D.begin-1}}}else if(!R.showMaskOnHover&&!R.showMaskOnFocus&&!R.digitsOptional&&R.digits>0&&this.__valueGet.call(this.el)==="")return{rewritePosition:V}}return{rewritePosition:N}},postValidation:function(A,N,T,P,R,B,D){if(P===!1)return P;if(D)return!0;if(R.min!==null||R.max!==null){var H=R.onUnMask(A.slice().reverse().join(""),void 0,_.extend({},R,{unmaskAsNumber:!0}));if(R.min!==null&&H<R.min&&(H.toString().length>R.min.toString().length||H<0))return!1;if(R.max!==null&&H>R.max)return!!R.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:C(R.max.toString().replace(".",R.radixPoint).split(""),R.digits,R).reverse()}}return P},onUnMask:function(A,N,T){if(N===""&&T.nullable===!0)return N;var P=A.replace(T.prefix,"");return P=(P=P.replace(T.suffix,"")).replace(new RegExp((0,d.default)(T.groupSeparator),"g"),""),T.placeholder.charAt(0)!==""&&(P=P.replace(new RegExp(T.placeholder.charAt(0),"g"),"0")),T.unmaskAsNumber?(T.radixPoint!==""&&P.indexOf(T.radixPoint)!==-1&&(P=P.replace(d.default.call(this,T.radixPoint),".")),P=(P=P.replace(new RegExp("^"+(0,d.default)(T.negationSymbol.front)),"-")).replace(new RegExp((0,d.default)(T.negationSymbol.back)+"$"),""),Number(P)):P},isComplete:function(A,N){var T=(N.numericInput?A.slice().reverse():A).join("");return T=(T=(T=(T=(T=T.replace(new RegExp("^"+(0,d.default)(N.negationSymbol.front)),"-")).replace(new RegExp((0,d.default)(N.negationSymbol.back)+"$"),"")).replace(N.prefix,"")).replace(N.suffix,"")).replace(new RegExp((0,d.default)(N.groupSeparator)+"([0-9]{3})","g"),"$1"),N.radixPoint===","&&(T=T.replace((0,d.default)(N.radixPoint),".")),isFinite(T)},onBeforeMask:function(A,N){var T;A=(T=A)!==null&&T!==void 0?T:"";var P=N.radixPoint||",";isFinite(N.digits)&&(N.digits=parseInt(N.digits)),typeof A!="number"&&N.inputType!=="number"||P===""||(A=A.toString().replace(".",P));var R=A.charAt(0)==="-"||A.charAt(0)===N.negationSymbol.front,B=A.split(P),D=B[0].replace(/[^\-0-9]/g,""),H=B.length>1?B[1].replace(/[^0-9]/g,""):"",$=B.length>1;A=D+(H!==""?P+H:H);var V=0;if(P!==""&&(V=N.digitsOptional?N.digits<H.length?N.digits:H.length:N.digits,H!==""||!N.digitsOptional)){var ee=Math.pow(10,V||1);A=A.replace((0,d.default)(P),"."),isNaN(parseFloat(A))||(A=(N.roundingFN(parseFloat(A)*ee)/ee).toFixed(V)),A=A.toString().replace(".",P)}if(N.digits===0&&A.indexOf(P)!==-1&&(A=A.substring(0,A.indexOf(P))),N.min!==null||N.max!==null){var fe=A.toString().replace(P,".");N.min!==null&&fe<N.min?A=N.min.toString().replace(".",P):N.max!==null&&fe>N.max&&(A=N.max.toString().replace(".",P))}return R&&A.charAt(0)!=="-"&&(A="-"+A),C(A.toString().split(""),V,N,$).join("")},onBeforeWrite:function(A,N,T,P){function R(ie,te){if(P.__financeInput!==!1||te){var be=ie.indexOf(P.radixPoint);be!==-1&&ie.splice(be,1)}if(P.groupSeparator!=="")for(;(be=ie.indexOf(P.groupSeparator))!==-1;)ie.splice(be,1);return ie}var B,D;if(P.stripLeadingZeroes&&(D=function(ie,te){var be=new RegExp("(^"+(te.negationSymbol.front!==""?(0,d.default)(te.negationSymbol.front)+"?":"")+(0,d.default)(te.prefix)+")(.*)("+(0,d.default)(te.suffix)+(te.negationSymbol.back!=""?(0,d.default)(te.negationSymbol.back)+"?":"")+"$)").exec(ie.slice().reverse().join("")),Y=be?be[2]:"",ue=!1;return Y&&(Y=Y.split(te.radixPoint.charAt(0))[0],ue=new RegExp("^[0"+te.groupSeparator+"]*").exec(Y)),!(!ue||!(ue[0].length>1||ue[0].length>0&&ue[0].length<Y.length))&&ue}(N,P)))for(var H=N.join("").lastIndexOf(D[0].split("").reverse().join(""))-(D[0]==D.input?0:1),$=D[0]==D.input?1:0,V=D[0].length-$;V>0;V--)this.maskset.validPositions.splice(H+V,1),delete N[H+V];if(A)switch(A.type){case"blur":case"checkval":if(P.min!==null){var ee=P.onUnMask(N.slice().reverse().join(""),void 0,_.extend({},P,{unmaskAsNumber:!0}));if(P.min!==null&&ee<P.min)return{refreshFromBuffer:!0,buffer:C(P.min.toString().replace(".",P.radixPoint).split(""),P.digits,P).reverse()}}if(N[N.length-1]===P.negationSymbol.front){var fe=new RegExp("(^"+(P.negationSymbol.front!=""?(0,d.default)(P.negationSymbol.front)+"?":"")+(0,d.default)(P.prefix)+")(.*)("+(0,d.default)(P.suffix)+(P.negationSymbol.back!=""?(0,d.default)(P.negationSymbol.back)+"?":"")+"$)").exec(R(N.slice(),!0).reverse().join(""));(fe?fe[2]:"")==0&&(B={refreshFromBuffer:!0,buffer:[0]})}else P.radixPoint!==""&&N.indexOf(P.radixPoint)===P.suffix.length&&(B&&B.buffer?B.buffer.splice(0,1+P.suffix.length):(N.splice(0,1+P.suffix.length),B={refreshFromBuffer:!0,buffer:R(N)}));if(P.enforceDigitsOnBlur){var me=(B=B||{})&&B.buffer||N.slice().reverse();B.refreshFromBuffer=!0,B.buffer=C(me,P.digits,P,!0).reverse()}}return B},onKeyDown:function(A,N,T,P){var R,B=_(this);if(A.location!=3){var D,H=A.key;if((D=P.shortcuts&&P.shortcuts[H])&&D.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(D)),B.trigger("setvalue"),!1}if(A.ctrlKey)switch(A.key){case g.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(P.step)),B.trigger("setvalue"),!1;case g.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(P.step)),B.trigger("setvalue"),!1}if(!A.shiftKey&&(A.key===g.keys.Delete||A.key===g.keys.Backspace||A.key===g.keys.BACKSPACE_SAFARI)&&T.begin!==N.length){if(N[A.key===g.keys.Delete?T.begin-1:T.end]===P.negationSymbol.front)return R=N.slice().reverse(),P.negationSymbol.front!==""&&R.shift(),P.negationSymbol.back!==""&&R.pop(),B.trigger("setvalue",[R.join(""),T.begin]),!1;if(P._radixDance===!0){var $,V=N.indexOf(P.radixPoint);if(P.digitsOptional){if(V===0)return(R=N.slice().reverse()).pop(),B.trigger("setvalue",[R.join(""),T.begin>=R.length?R.length:T.begin]),!1}else if(V!==-1&&(T.begin<V||T.end<V||A.key===g.keys.Delete&&(T.begin===V||T.begin-1===V)))return T.begin===T.end&&(A.key===g.keys.Backspace||A.key===g.keys.BACKSPACE_SAFARI?T.begin++:A.key===g.keys.Delete&&T.begin-1===V&&($=_.extend({},T),T.begin--,T.end--)),(R=N.slice().reverse()).splice(R.length-T.begin,T.begin-T.end+1),R=C(R,P.digits,P).join(""),$&&(T=$),B.trigger("setvalue",[R,T.begin>=R.length?V+1:T.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(A){return"("+A.groupSeparator+"99){*|1}("+A.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var c=!(typeof window>"u"||!window.document||!window.document.createElement);h.default=c?window:{}},7760:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.HandleNativePlaceholder=function(k,A){var N=k?k.inputmask:this;if(d.ie){if(k.inputmask._valueGet()!==A&&(k.placeholder!==A||k.placeholder==="")){var T=y.getBuffer.call(N).slice(),P=k.inputmask._valueGet();if(P!==A){var R=y.getLastValidPosition.call(N);R===-1&&P===y.getBufferTemplate.call(N).join("")?T=[]:R!==-1&&C.call(N,T),b(k,T)}}}else k.placeholder!==A&&(k.placeholder=A,k.placeholder===""&&k.removeAttribute("placeholder"))},h.applyInputValue=w,h.checkVal=M,h.clearOptionalTail=C,h.unmaskedvalue=function(k){var A=k?k.inputmask:this,N=A.opts,T=A.maskset;if(k){if(k.inputmask===void 0)return k.value;k.inputmask&&k.inputmask.refreshValue&&w(k,k.inputmask._valueGet(!0))}for(var P=[],R=T.validPositions,B=0,D=R.length;B<D;B++)R[B]&&R[B].match&&(R[B].match.static!=1||Array.isArray(T.metadata)&&R[B].generatedInput!==!0)&&P.push(R[B].input);var H=P.length===0?"":(A.isRTL?P.reverse():P).join("");if(typeof N.onUnMask=="function"){var $=(A.isRTL?y.getBuffer.call(A).slice().reverse():y.getBuffer.call(A)).join("");H=N.onUnMask.call(A,$,H,N)}return H},h.writeBuffer=b;var d=c(9845),f=c(6030),g=c(2839),y=c(8711),E=c(7215),_=c(4713);function w(k,A,N){var T=k?k.inputmask:this,P=T.opts;k.inputmask.refreshValue=!1,typeof P.onBeforeMask=="function"&&(A=P.onBeforeMask.call(T,A,P)||A),M(k,!0,!1,A=(A||"").toString().split(""),N),T.undoValue=T._valueGet(!0),(P.clearMaskOnLostFocus||P.clearIncomplete)&&k.inputmask._valueGet()===y.getBufferTemplate.call(T).join("")&&y.getLastValidPosition.call(T)===-1&&k.inputmask._valueSet("")}function C(k){k.length=0;for(var A,N=_.getMaskTemplate.call(this,!0,0,!0,void 0,!0);(A=N.shift())!==void 0;)k.push(A);return k}function M(k,A,N,T,P){var R,B=k?k.inputmask:this,D=B.maskset,H=B.opts,$=B.dependencyLib,V=T.slice(),ee="",fe=-1,me=H.skipOptionalPartCharacter;H.skipOptionalPartCharacter="",y.resetMaskSet.call(B,!1),B.clicked=0,fe=H.radixPoint?y.determineNewCaretPosition.call(B,{begin:0,end:0},!1,H.__financeInput===!1?"radixFocus":void 0).begin:0,D.p=fe,B.caretPos={begin:fe};var ie=[],te=B.caretPos;if(V.forEach(function(X,K){if(X!==void 0){var Oe=new $.Event("_checkval");Oe.key=X,ee+=X;var Fe=y.getLastValidPosition.call(B,void 0,!0);(function(Q,oe){for(var ae=_.getMaskTemplate.call(B,!0,0).slice(Q,y.seekNext.call(B,Q,!1,!1)).join("").replace(/'/g,""),ce=ae.indexOf(oe);ce>0&&ae[ce-1]===" ";)ce--;var q=ce===0&&!y.isMask.call(B,Q)&&(_.getTest.call(B,Q).match.nativeDef===oe.charAt(0)||_.getTest.call(B,Q).match.static===!0&&_.getTest.call(B,Q).match.nativeDef==="'"+oe.charAt(0)||_.getTest.call(B,Q).match.nativeDef===" "&&(_.getTest.call(B,Q+1).match.nativeDef===oe.charAt(0)||_.getTest.call(B,Q+1).match.static===!0&&_.getTest.call(B,Q+1).match.nativeDef==="'"+oe.charAt(0)));if(!q&&ce>0&&!y.isMask.call(B,Q,!1,!0)){var J=y.seekNext.call(B,Q);B.caretPos.begin<J&&(B.caretPos={begin:J})}return q})(fe,ee)?R=f.EventHandlers.keypressEvent.call(B,Oe,!0,!1,N,Fe+1):(R=f.EventHandlers.keypressEvent.call(B,Oe,!0,!1,N,B.caretPos.begin))&&(fe=B.caretPos.begin+1,ee=""),R?(R.pos!==void 0&&D.validPositions[R.pos]&&D.validPositions[R.pos].match.static===!0&&D.validPositions[R.pos].alternation===void 0&&(ie.push(R.pos),B.isRTL||(R.forwardPosition=R.pos+1)),b.call(B,void 0,y.getBuffer.call(B),R.forwardPosition,Oe,!1),B.caretPos={begin:R.forwardPosition,end:R.forwardPosition},te=B.caretPos):D.validPositions[K]===void 0&&V[K]===_.getPlaceholder.call(B,K)&&y.isMask.call(B,K,!0)?B.caretPos.begin++:B.caretPos=te}}),ie.length>0){var be,Y,ue=y.seekNext.call(B,-1,void 0,!1);if(!E.isComplete.call(B,y.getBuffer.call(B))&&ie.length<=ue||E.isComplete.call(B,y.getBuffer.call(B))&&ie.length>0&&ie.length!==ue&&ie[0]===0){for(var ke=ue;(be=ie.shift())!==void 0;)if(be<ke){var xe=new $.Event("_checkval");if((Y=D.validPositions[be]).generatedInput=!0,xe.key=Y.input,(R=f.EventHandlers.keypressEvent.call(B,xe,!0,!1,N,ke))&&R.pos!==void 0&&R.pos!==be&&D.validPositions[R.pos]&&D.validPositions[R.pos].match.static===!0)ie.push(R.pos);else if(!R)break;ke++}}}A&&b.call(B,k,y.getBuffer.call(B),R?R.forwardPosition:B.caretPos.begin,P||new $.Event("checkval"),P&&(P.type==="input"&&B.undoValue!==y.getBuffer.call(B).join("")||P.type==="paste")),H.skipOptionalPartCharacter=me}function b(k,A,N,T,P){var R=k?k.inputmask:this,B=R.opts,D=R.dependencyLib;if(T&&typeof B.onBeforeWrite=="function"){var H=B.onBeforeWrite.call(R,T,A,N,B);if(H){if(H.refreshFromBuffer){var $=H.refreshFromBuffer;E.refreshFromBuffer.call(R,$===!0?$:$.start,$.end,H.buffer||A),A=y.getBuffer.call(R,!0)}N!==void 0&&(N=H.caret!==void 0?H.caret:N)}}if(k!==void 0&&(k.inputmask._valueSet(A.join("")),N===void 0||T!==void 0&&T.type==="blur"||y.caret.call(R,k,N,void 0,void 0,T!==void 0&&T.type==="keydown"&&(T.key===g.keys.Delete||T.key===g.keys.Backspace)),k.inputmask.writeBufferHook===void 0||k.inputmask.writeBufferHook(N),P===!0)){var V=D(k),ee=k.inputmask._valueGet();k.inputmask.skipInputEvent=!0,V.trigger("input"),setTimeout(function(){ee===y.getBufferTemplate.call(R).join("")?V.trigger("cleared"):E.isComplete.call(R,A)===!0&&V.trigger("complete")},0)}}},2394:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var d=N(c(3976)),f=N(c(7392)),g=N(c(4963)),y=c(9716),E=N(c(9380)),_=c(7760),w=c(157),C=c(2391),M=c(8711),b=c(7215),k=c(4713);function A(D){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},A(D)}function N(D){return D&&D.__esModule?D:{default:D}}var T=E.default.document,P="_inputmask_opts";function R(D,H,$){if(!(this instanceof R))return new R(D,H,$);this.dependencyLib=g.default,this.el=void 0,this.events={},this.maskset=void 0,$!==!0&&(Object.prototype.toString.call(D)==="[object Object]"?H=D:(H=H||{},D&&(H.alias=D)),this.opts=g.default.extend(!0,{},this.defaults,H),this.noMasksCache=H&&H.definitions!==void 0,this.userOptions=H||{},B(this.opts.alias,H,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function B(D,H,$){var V=R.prototype.aliases[D];return V?(V.alias&&B(V.alias,void 0,$),g.default.extend(!0,$,V),g.default.extend(!0,$,H),!0):($.mask===null&&($.mask=D),!1)}R.prototype={dataAttribute:"data-inputmask",defaults:d.default,definitions:f.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(D){var H=this;return typeof D=="string"&&(D=T.getElementById(D)||T.querySelectorAll(D)),(D=D.nodeName?[D]:Array.isArray(D)?D:[].slice.call(D)).forEach(function($,V){var ee=g.default.extend(!0,{},H.opts);if(function(me,ie,te,be){function Y(Oe,Fe){var Q=be===""?Oe:be+"-"+Oe;(Fe=Fe!==void 0?Fe:me.getAttribute(Q))!==null&&(typeof Fe=="string"&&(Oe.indexOf("on")===0?Fe=E.default[Fe]:Fe==="false"?Fe=!1:Fe==="true"&&(Fe=!0)),te[Oe]=Fe)}if(ie.importDataAttributes===!0){var ue,ke,xe,X,K=me.getAttribute(be);if(K&&K!==""&&(K=K.replace(/'/g,'"'),ke=JSON.parse("{"+K+"}")),ke){for(X in xe=void 0,ke)if(X.toLowerCase()==="alias"){xe=ke[X];break}}for(ue in Y("alias",xe),te.alias&&B(te.alias,te,ie),ie){if(ke){for(X in xe=void 0,ke)if(X.toLowerCase()===ue.toLowerCase()){xe=ke[X];break}}Y(ue,xe)}}return g.default.extend(!0,ie,te),(me.dir==="rtl"||ie.rightAlign)&&(me.style.textAlign="right"),(me.dir==="rtl"||ie.numericInput)&&(me.dir="ltr",me.removeAttribute("dir"),ie.isRTL=!0),Object.keys(te).length}($,ee,g.default.extend(!0,{},H.userOptions),H.dataAttribute)){var fe=(0,C.generateMaskSet)(ee,H.noMasksCache);fe!==void 0&&($.inputmask!==void 0&&($.inputmask.opts.autoUnmask=!0,$.inputmask.remove()),$.inputmask=new R(void 0,void 0,!0),$.inputmask.opts=ee,$.inputmask.noMasksCache=H.noMasksCache,$.inputmask.userOptions=g.default.extend(!0,{},H.userOptions),$.inputmask.el=$,$.inputmask.$el=(0,g.default)($),$.inputmask.maskset=fe,g.default.data($,P,H.userOptions),w.mask.call($.inputmask))}}),D&&D[0]&&D[0].inputmask||this},option:function(D,H){return typeof D=="string"?this.opts[D]:A(D)==="object"?(g.default.extend(this.userOptions,D),this.el&&H!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(D){if(this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache),this.el===void 0||D!==void 0){var H=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,D,this.opts)||D).split("");_.checkVal.call(this,void 0,!1,!1,H),typeof this.opts.onBeforeWrite=="function"&&this.opts.onBeforeWrite.call(this,void 0,M.getBuffer.call(this),0,this.opts)}return _.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){g.default.data(this.el,P,null);var D=this.opts.autoUnmask?(0,_.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);D!==M.getBufferTemplate.call(this).join("")?this._valueSet(D,this.opts.autoUnmask):this._valueSet(""),y.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):T.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?M.getBufferTemplate.call(this).reverse():M.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache),b.isComplete.call(this,M.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var D=k.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach(function(H){return H.mask!==D||(D=H,!1)}),D}return this.maskset.metadata},isValid:function(D){if(this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache),D){var H=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,D,this.opts)||D).split("");_.checkVal.call(this,void 0,!0,!1,H)}else D=this.isRTL?M.getBuffer.call(this).slice().reverse().join(""):M.getBuffer.call(this).join("");for(var $=M.getBuffer.call(this),V=M.determineLastRequiredPosition.call(this),ee=$.length-1;ee>V&&!M.isMask.call(this,ee);ee--);return $.splice(V,ee+1-V),b.isComplete.call(this,$)&&D===(this.isRTL?M.getBuffer.call(this).slice().reverse().join(""):M.getBuffer.call(this).join(""))},format:function(D,H){this.maskset=this.maskset||(0,C.generateMaskSet)(this.opts,this.noMasksCache);var $=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,D,this.opts)||D).split("");_.checkVal.call(this,void 0,!0,!1,$);var V=this.isRTL?M.getBuffer.call(this).slice().reverse().join(""):M.getBuffer.call(this).join("");return H?{value:V,metadata:this.getmetadata()}:V},setValue:function(D){this.el&&(0,g.default)(this.el).trigger("setvalue",[D])},analyseMask:C.analyseMask},R.extendDefaults=function(D){g.default.extend(!0,R.prototype.defaults,D)},R.extendDefinitions=function(D){g.default.extend(!0,R.prototype.definitions,D)},R.extendAliases=function(D){g.default.extend(!0,R.prototype.aliases,D)},R.format=function(D,H,$){return R(H).format(D,$)},R.unmask=function(D,H){return R(H).unmaskedvalue(D)},R.isValid=function(D,H){return R(H).isValid(D)},R.remove=function(D){typeof D=="string"&&(D=T.getElementById(D)||T.querySelectorAll(D)),(D=D.nodeName?[D]:D).forEach(function(H){H.inputmask&&H.inputmask.remove()})},R.setValue=function(D,H){typeof D=="string"&&(D=T.getElementById(D)||T.querySelectorAll(D)),(D=D.nodeName?[D]:D).forEach(function($){$.inputmask?$.inputmask.setValue(H):(0,g.default)($).trigger("setvalue",[H])})},R.dependencyLib=g.default,E.default.Inputmask=R,h.default=R},5296:function(l,h,c){function d(T){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},d(T)}var f=k(c(9380)),g=k(c(2394));function y(T,P){for(var R=0;R<P.length;R++){var B=P[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,(D=B.key,H=void 0,H=function($,V){if(d($)!=="object"||$===null)return $;var ee=$[Symbol.toPrimitive];if(ee!==void 0){var fe=ee.call($,V||"default");if(d(fe)!=="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)($)}(D,"string"),d(H)==="symbol"?H:String(H)),B)}var D,H}function E(T){var P=C();return function(){var R,B=b(T);if(P){var D=b(this).constructor;R=Reflect.construct(B,arguments,D)}else R=B.apply(this,arguments);return function(H,$){if($&&(d($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}(H)}(this,R)}}function _(T){var P=typeof Map=="function"?new Map:void 0;return _=function(R){if(R===null||!function(D){try{return Function.toString.call(D).indexOf("[native code]")!==-1}catch{return typeof D=="function"}}(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(P!==void 0){if(P.has(R))return P.get(R);P.set(R,B)}function B(){return w(R,arguments,b(this).constructor)}return B.prototype=Object.create(R.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),M(B,R)},_(T)}function w(T,P,R){return w=C()?Reflect.construct.bind():function(B,D,H){var $=[null];$.push.apply($,D);var V=new(Function.bind.apply(B,$));return H&&M(V,H.prototype),V},w.apply(null,arguments)}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(T,P){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,B){return R.__proto__=B,R},M(T,P)}function b(T){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},b(T)}function k(T){return T&&T.__esModule?T:{default:T}}var A=f.default.document;if(A&&A.head&&A.head.attachShadow&&f.default.customElements&&f.default.customElements.get("input-mask")===void 0){var N=function(T){(function(H,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create($&&$.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),$&&M(H,$)})(D,T);var P,R,B=E(D);function D(){var H;(function(me,ie){if(!(me instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,D);var $=(H=B.call(this)).getAttributeNames(),V=H.attachShadow({mode:"closed"});for(var ee in H.input=A.createElement("input"),H.input.type="text",V.appendChild(H.input),$)Object.prototype.hasOwnProperty.call($,ee)&&H.input.setAttribute($[ee],H.getAttribute($[ee]));var fe=new g.default;return fe.dataAttribute="",fe.mask(H.input),H.input.inputmask.shadowRoot=V,H}return P=D,(R=[{key:"attributeChangedCallback",value:function(H,$,V){this.input.setAttribute(H,V)}},{key:"value",get:function(){return this.input.value},set:function(H){this.input.value=H}}])&&y(P.prototype,R),Object.defineProperty(P,"prototype",{writable:!1}),D}(_(HTMLElement));f.default.customElements.define("input-mask",N)}},2839:function(l,h){function c(w){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},c(w)}function d(w,C){return function(M){if(Array.isArray(M))return M}(w)||function(M,b){var k=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(k!=null){var A,N,T,P,R=[],B=!0,D=!1;try{if(T=(k=k.call(M)).next,b===0){if(Object(k)!==k)return;B=!1}else for(;!(B=(A=T.call(k)).done)&&(R.push(A.value),R.length!==b);B=!0);}catch(H){D=!0,N=H}finally{try{if(!B&&k.return!=null&&(P=k.return(),Object(P)!==P))return}finally{if(D)throw N}}return R}}(w,C)||function(M,b){if(M){if(typeof M=="string")return f(M,b);var k=Object.prototype.toString.call(M).slice(8,-1);if(k==="Object"&&M.constructor&&(k=M.constructor.name),k==="Map"||k==="Set")return Array.from(M);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return f(M,b)}}(w,C)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(w,C){(C==null||C>w.length)&&(C=w.length);for(var M=0,b=new Array(C);M<C;M++)b[M]=w[M];return b}function g(w,C){var M=Object.keys(w);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(w);C&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),M.push.apply(M,b)}return M}function y(w,C,M){return(C=function(b){var k=function(A,N){if(c(A)!=="object"||A===null)return A;var T=A[Symbol.toPrimitive];if(T!==void 0){var P=T.call(A,N||"default");if(c(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(A)}(b,"string");return c(k)==="symbol"?k:String(k)}(C))in w?Object.defineProperty(w,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[C]=M,w}Object.defineProperty(h,"__esModule",{value:!0}),h.keys=h.keyCode=void 0,h.toKey=function(w,C){return _[w]||(C?String.fromCharCode(w):String.fromCharCode(w).toLowerCase())},h.toKeyCode=function(w){return E[w]};var E=h.keyCode=function(w){for(var C=1;C<arguments.length;C++){var M=arguments[C]!=null?arguments[C]:{};C%2?g(Object(M),!0).forEach(function(b){y(w,b,M[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(M)):g(Object(M)).forEach(function(b){Object.defineProperty(w,b,Object.getOwnPropertyDescriptor(M,b))})}return w}({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),_=Object.entries(E).reduce(function(w,C){var M=d(C,2),b=M[0],k=M[1];return w[k]=w[k]===void 0?b:w[k],w},{});h.keys=Object.entries(E).reduce(function(w,C){var M=d(C,2),b=M[0];return M[1],w[b]=b==="Space"?" ":b,w},{})},2391:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.analyseMask=function(C,M,b){var k,A,N,T,P,R,B=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,D=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,H=!1,$=new y.default,V=[],ee=[],fe=!1;function me(ce,q,J){J=J!==void 0?J:ce.matches.length;var pe=ce.matches[J-1];if(M){if(q.indexOf("[")===0||H&&/\\d|\\s|\\w|\\p/i.test(q)||q==="."){var ye=b.casing?"i":"";/\\p\{.*}/i.test(q)&&(ye+="u"),ce.matches.splice(J++,0,{fn:new RegExp(q,ye),static:!1,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==q,casing:null,def:q,placeholder:E(b.placeholder)==="object"?b.placeholder[$.matches.length]:void 0,nativeDef:q})}else H&&(q=q[q.length-1]),q.split("").forEach(function(Te,De){pe=ce.matches[J-1],ce.matches.splice(J++,0,{fn:/[a-z]/i.test(b.staticDefinitionSymbol||Te)?new RegExp("["+(b.staticDefinitionSymbol||Te)+"]",b.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==Te&&pe.static!==!0,casing:null,def:b.staticDefinitionSymbol||Te,placeholder:b.staticDefinitionSymbol!==void 0?Te:E(b.placeholder)==="object"?b.placeholder[$.matches.length]:void 0,nativeDef:(H?"'":"")+Te})});H=!1}else{var Ae=b.definitions&&b.definitions[q]||b.usePrototypeDefinitions&&g.default.prototype.definitions[q];Ae&&!H?ce.matches.splice(J++,0,{fn:Ae.validator?typeof Ae.validator=="string"?new RegExp(Ae.validator,b.casing?"i":""):new function(){this.test=Ae.validator}:/./,static:Ae.static||!1,optionality:Ae.optional||!1,defOptionality:Ae.optional||!1,newBlockMarker:pe===void 0||Ae.optional?"master":pe.def!==(Ae.definitionSymbol||q),casing:Ae.casing,def:Ae.definitionSymbol||q,placeholder:Ae.placeholder,nativeDef:q,generated:Ae.generated}):(ce.matches.splice(J++,0,{fn:/[a-z]/i.test(b.staticDefinitionSymbol||q)?new RegExp("["+(b.staticDefinitionSymbol||q)+"]",b.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==q&&pe.static!==!0,casing:null,def:b.staticDefinitionSymbol||q,placeholder:b.staticDefinitionSymbol!==void 0?q:void 0,nativeDef:(H?"'":"")+q}),H=!1)}}function ie(){if(V.length>0){if(me(T=V[V.length-1],A),T.isAlternator){P=V.pop();for(var ce=0;ce<P.matches.length;ce++)P.matches[ce].isGroup&&(P.matches[ce].isGroup=!1);V.length>0?(T=V[V.length-1]).matches.push(P):$.matches.push(P)}}else me($,A)}function te(ce){var q=new y.default(!0);return q.openGroup=!1,q.matches=ce,q}function be(){if((N=V.pop()).openGroup=!1,N!==void 0)if(V.length>0){if((T=V[V.length-1]).matches.push(N),T.isAlternator){P=V.pop();for(var ce=0;ce<P.matches.length;ce++)P.matches[ce].isGroup=!1,P.matches[ce].alternatorGroup=!1;V.length>0?(T=V[V.length-1]).matches.push(P):$.matches.push(P)}}else $.matches.push(N);else ie()}function Y(ce){var q=ce.pop();return q.isQuantifier&&(q=te([ce.pop(),q])),q}for(M&&(b.optionalmarker[0]=void 0,b.optionalmarker[1]=void 0);k=M?D.exec(C):B.exec(C);){if(A=k[0],M){switch(A.charAt(0)){case"?":A="{0,1}";break;case"+":case"*":A="{"+A+"}";break;case"|":if(V.length===0){var ue=te($.matches);ue.openGroup=!0,V.push(ue),$.matches=[],fe=!0}}switch(A){case"\\d":A="[0-9]";break;case"\\p":A+=D.exec(C)[0],A+=D.exec(C)[0]}}if(H)ie();else switch(A.charAt(0)){case"$":case"^":M||ie();break;case b.escapeChar:H=!0,M&&ie();break;case b.optionalmarker[1]:case b.groupmarker[1]:be();break;case b.optionalmarker[0]:V.push(new y.default(!1,!0));break;case b.groupmarker[0]:V.push(new y.default(!0));break;case b.quantifiermarker[0]:var ke=new y.default(!1,!1,!0),xe=(A=A.replace(/[{}?]/g,"")).split("|"),X=xe[0].split(","),K=isNaN(X[0])?X[0]:parseInt(X[0]),Oe=X.length===1?K:isNaN(X[1])?X[1]:parseInt(X[1]),Fe=isNaN(xe[1])?xe[1]:parseInt(xe[1]);K!=="*"&&K!=="+"||(K=Oe==="*"?0:1),ke.quantifier={min:K,max:Oe,jit:Fe};var Q=V.length>0?V[V.length-1].matches:$.matches;(k=Q.pop()).isGroup||(k=te([k])),Q.push(k),Q.push(ke);break;case b.alternatormarker:if(V.length>0){var oe=(T=V[V.length-1]).matches[T.matches.length-1];R=T.openGroup&&(oe.matches===void 0||oe.isGroup===!1&&oe.isAlternator===!1)?V.pop():Y(T.matches)}else R=Y($.matches);if(R.isAlternator)V.push(R);else if(R.alternatorGroup?(P=V.pop(),R.alternatorGroup=!1):P=new y.default(!1,!1,!1,!0),P.matches.push(R),V.push(P),R.openGroup){R.openGroup=!1;var ae=new y.default(!0);ae.alternatorGroup=!0,V.push(ae)}break;default:ie()}}for(fe&&be();V.length>0;)N=V.pop(),$.matches.push(N);return $.matches.length>0&&(function ce(q){q&&q.matches&&q.matches.forEach(function(J,pe){var ye=q.matches[pe+1];(ye===void 0||ye.matches===void 0||ye.isQuantifier===!1)&&J&&J.isGroup&&(J.isGroup=!1,M||(me(J,b.groupmarker[0],0),J.openGroup!==!0&&me(J,b.groupmarker[1]))),ce(J)})}($),ee.push($)),(b.numericInput||b.isRTL)&&function ce(q){for(var J in q.matches=q.matches.reverse(),q.matches)if(Object.prototype.hasOwnProperty.call(q.matches,J)){var pe=parseInt(J);if(q.matches[J].isQuantifier&&q.matches[pe+1]&&q.matches[pe+1].isGroup){var ye=q.matches[J];q.matches.splice(J,1),q.matches.splice(pe+1,0,ye)}q.matches[J].matches!==void 0?q.matches[J]=ce(q.matches[J]):q.matches[J]=((Ae=q.matches[J])===b.optionalmarker[0]?Ae=b.optionalmarker[1]:Ae===b.optionalmarker[1]?Ae=b.optionalmarker[0]:Ae===b.groupmarker[0]?Ae=b.groupmarker[1]:Ae===b.groupmarker[1]&&(Ae=b.groupmarker[0]),Ae)}var Ae;return q}(ee[0]),ee},h.generateMaskSet=function(C,M){var b;function k(T,P){var R=P.repeat,B=P.groupmarker,D=P.quantifiermarker,H=P.keepStatic;if(R>0||R==="*"||R==="+"){var $=R==="*"?0:R==="+"?1:R;if($!=R)T=B[0]+T+B[1]+D[0]+$+","+R+D[1];else for(var V=T,ee=1;ee<$;ee++)T+=V}if(H===!0){var fe=T.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));fe&&fe.forEach(function(me,ie){var te=function(ue,ke){return function(xe){if(Array.isArray(xe))return xe}(ue)||function(xe,X){var K=xe==null?null:typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(K!=null){var Oe,Fe,Q,oe,ae=[],ce=!0,q=!1;try{if(Q=(K=K.call(xe)).next,X===0){if(Object(K)!==K)return;ce=!1}else for(;!(ce=(Oe=Q.call(K)).done)&&(ae.push(Oe.value),ae.length!==X);ce=!0);}catch(J){q=!0,Fe=J}finally{try{if(!ce&&K.return!=null&&(oe=K.return(),Object(oe)!==oe))return}finally{if(q)throw Fe}}return ae}}(ue,ke)||function(xe,X){if(xe){if(typeof xe=="string")return _(xe,X);var K=Object.prototype.toString.call(xe).slice(8,-1);if(K==="Object"&&xe.constructor&&(K=xe.constructor.name),K==="Map"||K==="Set")return Array.from(xe);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return _(xe,X)}}(ue,ke)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(me.split("["),2),be=te[0],Y=te[1];Y=Y.replace("]",""),T=T.replace(new RegExp("".concat((0,f.default)(be),"\\[").concat((0,f.default)(Y),"\\]")),be.charAt(0)===Y.charAt(0)?"(".concat(be,"|").concat(be).concat(Y,")"):"".concat(be,"[").concat(Y,"]"))})}return T}function A(T,P,R){var B,D,H=!1;return T!==null&&T!==""||((H=R.regex!==null)?T=(T=R.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(H=!0,T=".*")),T.length===1&&R.greedy===!1&&R.repeat!==0&&(R.placeholder=""),T=k(T,R),D=H?"regex_"+R.regex:R.numericInput?T.split("").reverse().join(""):T,R.keepStatic!==null&&(D="ks_"+R.keepStatic+D),E(R.placeholder)==="object"&&(D="ph_"+JSON.stringify(R.placeholder)+D),g.default.prototype.masksCache[D]===void 0||M===!0?(B={mask:T,maskToken:g.default.prototype.analyseMask(T,H,R),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:P,maskLength:void 0,jitOffset:{}},M!==!0&&(g.default.prototype.masksCache[D]=B,B=d.default.extend(!0,{},g.default.prototype.masksCache[D]))):B=d.default.extend(!0,{},g.default.prototype.masksCache[D]),B}if(typeof C.mask=="function"&&(C.mask=C.mask(C)),Array.isArray(C.mask)){if(C.mask.length>1){C.keepStatic===null&&(C.keepStatic=!0);var N=C.groupmarker[0];return(C.isRTL?C.mask.reverse():C.mask).forEach(function(T){N.length>1&&(N+=C.alternatormarker),T.mask!==void 0&&typeof T.mask!="function"?N+=T.mask:N+=T}),A(N+=C.groupmarker[1],C.mask,C)}C.mask=C.mask.pop()}return b=C.mask&&C.mask.mask!==void 0&&typeof C.mask.mask!="function"?A(C.mask.mask,C.mask,C):A(C.mask,C.mask,C),C.keepStatic===null&&(C.keepStatic=!1),b};var d=w(c(4963)),f=w(c(7184)),g=w(c(2394)),y=w(c(9695));function E(C){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},E(C)}function _(C,M){(M==null||M>C.length)&&(M=C.length);for(var b=0,k=new Array(M);b<M;b++)k[b]=C[b];return k}function w(C){return C&&C.__esModule?C:{default:C}}},157:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.mask=function(){var w=this,C=this.opts,M=this.el,b=this.dependencyLib;g.EventRuler.off(M);var k=function(T,P){var R=T.getAttribute("type"),B=T.tagName.toLowerCase()==="input"&&P.supportsInputType.includes(R)||T.isContentEditable||T.tagName.toLowerCase()==="textarea";if(!B)if(T.tagName.toLowerCase()==="input"){var D=document.createElement("input");D.setAttribute("type",R),B=D.type==="text",D=null}else B="partial";return B!==!1?function(H){var $,V;function ee(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():E.getLastValidPosition.call(w)!==-1||P.nullable!==!0?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&P.clearMaskOnLostFocus?(w.isRTL?y.clearOptionalTail.call(w,E.getBuffer.call(w).slice()).reverse():y.clearOptionalTail.call(w,E.getBuffer.call(w).slice())).join(""):$.call(this):"":$.call(this)}function fe(ie){V.call(this,ie),this.inputmask&&(0,y.applyInputValue)(this,ie)}if(!H.inputmask.__valueGet){if(P.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){var me=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(H),"value"):void 0;me&&me.get&&me.set?($=me.get,V=me.set,Object.defineProperty(H,"value",{get:ee,set:fe,configurable:!0})):H.tagName.toLowerCase()!=="input"&&($=function(){return this.textContent},V=function(ie){this.textContent=ie},Object.defineProperty(H,"value",{get:ee,set:fe,configurable:!0}))}else document.__lookupGetter__&&H.__lookupGetter__("value")&&($=H.__lookupGetter__("value"),V=H.__lookupSetter__("value"),H.__defineGetter__("value",ee),H.__defineSetter__("value",fe));H.inputmask.__valueGet=$,H.inputmask.__valueSet=V}H.inputmask._valueGet=function(ie){return w.isRTL&&ie!==!0?$.call(this.el).split("").reverse().join(""):$.call(this.el)},H.inputmask._valueSet=function(ie,te){V.call(this.el,ie==null?"":te!==!0&&w.isRTL?ie.split("").reverse().join(""):ie)},$===void 0&&($=function(){return this.value},V=function(ie){this.value=ie},function(ie){if(b.valHooks&&(b.valHooks[ie]===void 0||b.valHooks[ie].inputmaskpatch!==!0)){var te=b.valHooks[ie]&&b.valHooks[ie].get?b.valHooks[ie].get:function(Y){return Y.value},be=b.valHooks[ie]&&b.valHooks[ie].set?b.valHooks[ie].set:function(Y,ue){return Y.value=ue,Y};b.valHooks[ie]={get:function(Y){if(Y.inputmask){if(Y.inputmask.opts.autoUnmask)return Y.inputmask.unmaskedvalue();var ue=te(Y);return E.getLastValidPosition.call(w,void 0,void 0,Y.inputmask.maskset.validPositions)!==-1||P.nullable!==!0?ue:""}return te(Y)},set:function(Y,ue){var ke=be(Y,ue);return Y.inputmask&&(0,y.applyInputValue)(Y,ue),ke},inputmaskpatch:!0}}}(H.type),function(ie){g.EventRuler.on(ie,"mouseenter",function(){var te=this,be=te.inputmask._valueGet(!0);be!=(te.inputmask.isRTL?E.getBuffer.call(te.inputmask).slice().reverse():E.getBuffer.call(te.inputmask)).join("")&&(0,y.applyInputValue)(te,be)})}(H))}}(T):T.inputmask=void 0,B}(M,C);if(k!==!1){w.originalPlaceholder=M.placeholder,w.maxLength=M!==void 0?M.maxLength:void 0,w.maxLength===-1&&(w.maxLength=void 0),"inputMode"in M&&M.getAttribute("inputmode")===null&&(M.inputMode=C.inputmode,M.setAttribute("inputmode",C.inputmode)),k===!0&&(C.showMaskOnFocus=C.showMaskOnFocus&&["cc-number","cc-exp"].indexOf(M.autocomplete)===-1,d.iphone&&(C.insertModeVisual=!1,M.setAttribute("autocorrect","off")),g.EventRuler.on(M,"submit",f.EventHandlers.submitEvent),g.EventRuler.on(M,"reset",f.EventHandlers.resetEvent),g.EventRuler.on(M,"blur",f.EventHandlers.blurEvent),g.EventRuler.on(M,"focus",f.EventHandlers.focusEvent),g.EventRuler.on(M,"invalid",f.EventHandlers.invalidEvent),g.EventRuler.on(M,"click",f.EventHandlers.clickEvent),g.EventRuler.on(M,"mouseleave",f.EventHandlers.mouseleaveEvent),g.EventRuler.on(M,"mouseenter",f.EventHandlers.mouseenterEvent),g.EventRuler.on(M,"paste",f.EventHandlers.pasteEvent),g.EventRuler.on(M,"cut",f.EventHandlers.cutEvent),g.EventRuler.on(M,"complete",C.oncomplete),g.EventRuler.on(M,"incomplete",C.onincomplete),g.EventRuler.on(M,"cleared",C.oncleared),C.inputEventOnly!==!0&&g.EventRuler.on(M,"keydown",f.EventHandlers.keyEvent),(d.mobile||C.inputEventOnly)&&M.removeAttribute("maxLength"),g.EventRuler.on(M,"input",f.EventHandlers.inputFallBackEvent)),g.EventRuler.on(M,"setvalue",f.EventHandlers.setValueEvent),w.applyMaskHook===void 0||w.applyMaskHook(),E.getBufferTemplate.call(w).join(""),w.undoValue=w._valueGet(!0);var A=(M.inputmask.shadowRoot||M.ownerDocument).activeElement;if(M.inputmask._valueGet(!0)!==""||C.clearMaskOnLostFocus===!1||A===M){(0,y.applyInputValue)(M,M.inputmask._valueGet(!0),C);var N=E.getBuffer.call(w).slice();_.isComplete.call(w,N)===!1&&C.clearIncomplete&&E.resetMaskSet.call(w,!1),C.clearMaskOnLostFocus&&A!==M&&(E.getLastValidPosition.call(w)===-1?N=[]:y.clearOptionalTail.call(w,N)),(C.clearMaskOnLostFocus===!1||C.showMaskOnFocus&&A===M||M.inputmask._valueGet(!0)!=="")&&(0,y.writeBuffer)(M,N),A===M&&E.caret.call(w,M,E.seekNext.call(w,E.getLastValidPosition.call(w)))}}};var d=c(9845),f=c(6030),g=c(9716),y=c(7760),E=c(8711),_=c(7215)},9695:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(c,d,f,g){this.matches=[],this.openGroup=c||!1,this.alternatorGroup=!1,this.isGroup=c||!1,this.isOptional=d||!1,this.isQuantifier=f||!1,this.isAlternator=g||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(l,h){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if(d===0)return!1;for(var f=0|h,g=Math.max(f>=0?f:d-Math.abs(f),0);g<d;){if(c[g]===l)return!0;g++}return!1}})},9302:function(){var l=Function.bind.call(Function.call,Array.prototype.reduce),h=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),c=Function.bind.call(Function.call,Array.prototype.concat),d=Object.keys;Object.entries||(Object.entries=function(f){return l(d(f),function(g,y){return c(g,typeof y=="string"&&h(f,y)?[[y,f[y]]]:[])},[])})},7149:function(){function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(h)}typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=l("test".__proto__)==="object"?function(h){return h.__proto__}:function(h){return h.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(l,h){return typeof h!="number"&&(h=0),!(h+l.length>this.length)&&this.indexOf(l,h)!==-1})},8711:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.caret=function(b,k,A,N,T){var P,R=this,B=this.opts;if(k===void 0)return"selectionStart"in b&&"selectionEnd"in b?(k=b.selectionStart,A=b.selectionEnd):f.default.getSelection?(P=f.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==b&&P.commonAncestorContainer!==b||(k=P.startOffset,A=P.endOffset):document.selection&&document.selection.createRange&&(A=(k=0-(P=document.selection.createRange()).duplicate().moveStart("character",-b.inputmask._valueGet().length))+P.text.length),{begin:N?k:M.call(R,k),end:N?A:M.call(R,A)};if(Array.isArray(k)&&(A=R.isRTL?k[0]:k[1],k=R.isRTL?k[1]:k[0]),k.begin!==void 0&&(A=R.isRTL?k.begin:k.end,k=R.isRTL?k.end:k.begin),typeof k=="number"){k=N?k:M.call(R,k),A=typeof(A=N?A:M.call(R,A))=="number"?A:k;var D=parseInt(((b.ownerDocument.defaultView||f.default).getComputedStyle?(b.ownerDocument.defaultView||f.default).getComputedStyle(b,null):b.currentStyle).fontSize)*A;if(b.scrollLeft=D>b.scrollWidth?D:0,b.inputmask.caretPos={begin:k,end:A},B.insertModeVisual&&B.insertMode===!1&&k===A&&(T||A++),b===(b.inputmask.shadowRoot||b.ownerDocument).activeElement){if("setSelectionRange"in b)b.setSelectionRange(k,A);else if(f.default.getSelection){if(P=document.createRange(),b.firstChild===void 0||b.firstChild===null){var H=document.createTextNode("");b.appendChild(H)}P.setStart(b.firstChild,k<b.inputmask._valueGet().length?k:b.inputmask._valueGet().length),P.setEnd(b.firstChild,A<b.inputmask._valueGet().length?A:b.inputmask._valueGet().length),P.collapse(!0);var $=f.default.getSelection();$.removeAllRanges(),$.addRange(P)}else b.createTextRange&&((P=b.createTextRange()).collapse(!0),P.moveEnd("character",A),P.moveStart("character",k),P.select());b.inputmask.caretHook===void 0||b.inputmask.caretHook.call(R,{begin:k,end:A})}}},h.determineLastRequiredPosition=function(b){var k,A,N=this,T=N.maskset,P=N.dependencyLib,R=_.call(N),B={},D=T.validPositions[R],H=y.getMaskTemplate.call(N,!0,_.call(N),!0,!0),$=H.length,V=D!==void 0?D.locator.slice():void 0;for(k=R+1;k<H.length;k++)V=(A=y.getTestTemplate.call(N,k,V,k-1)).locator.slice(),B[k]=P.extend(!0,{},A);var ee=D&&D.alternation!==void 0?D.locator[D.alternation]:void 0;for(k=$-1;k>R&&((A=B[k]).match.optionality||A.match.optionalQuantifier&&A.match.newBlockMarker||ee&&(ee!==B[k].locator[D.alternation]&&A.match.static!==!0||A.match.static===!0&&A.locator[D.alternation]&&g.checkAlternationMatch.call(N,A.locator[D.alternation].toString().split(","),ee.toString().split(","))&&y.getTests.call(N,k)[0].def!==""))&&H[k]===y.getPlaceholder.call(N,k,A.match);k--)$--;return b?{l:$,def:B[$]?B[$].match:void 0}:$},h.determineNewCaretPosition=function(b,k,A){var N,T,P,R=this,B=R.maskset,D=R.opts;if(k&&(R.isRTL?b.end=b.begin:b.begin=b.end),b.begin===b.end){switch(A=A||D.positionCaretOnClick){case"none":break;case"select":b={begin:0,end:E.call(R).length};break;case"ignore":b.end=b.begin=C.call(R,_.call(R));break;case"radixFocus":if(R.clicked>1&&B.validPositions.length===0)break;if(function(me){if(D.radixPoint!==""&&D.digits!==0){var ie=B.validPositions;if(ie[me]===void 0||ie[me].input===void 0){if(me<C.call(R,-1))return!0;var te=E.call(R).indexOf(D.radixPoint);if(te!==-1){for(var be=0,Y=ie.length;be<Y;be++)if(ie[be]&&te<be&&ie[be].input!==y.getPlaceholder.call(R,be))return!1;return!0}}}return!1}(b.begin)){var H=E.call(R).join("").indexOf(D.radixPoint);b.end=b.begin=D.numericInput?C.call(R,H):H;break}default:if(N=b.begin,T=_.call(R,N,!0),N<=(P=C.call(R,T!==-1||w.call(R,0)?T:-1)))b.end=b.begin=w.call(R,N,!1,!0)?N:C.call(R,N);else{var $=B.validPositions[T],V=y.getTestTemplate.call(R,P,$?$.match.locator:void 0,$),ee=y.getPlaceholder.call(R,P,V.match);if(ee!==""&&E.call(R)[P]!==ee&&V.match.optionalQuantifier!==!0&&V.match.newBlockMarker!==!0||!w.call(R,P,D.keepStatic,!0)&&V.match.def===ee){var fe=C.call(R,P);(N>=fe||N===P)&&(P=fe)}b.end=b.begin=P}}return b}},h.getBuffer=E,h.getBufferTemplate=function(){var b=this.maskset;return b._buffer===void 0&&(b._buffer=y.getMaskTemplate.call(this,!1,1),b.buffer===void 0&&(b.buffer=b._buffer.slice())),b._buffer},h.getLastValidPosition=_,h.isMask=w,h.resetMaskSet=function(b){var k=this.maskset;k.buffer=void 0,b!==!0&&(k.validPositions=[],k.p=0),b===!1&&(k.tests={},k.jitOffset={})},h.seekNext=C,h.seekPrevious=function(b,k){var A=this,N=b-1;if(b<=0)return 0;for(;N>0&&(k===!0&&(y.getTest.call(A,N).match.newBlockMarker!==!0||!w.call(A,N,void 0,!0))||k!==!0&&!w.call(A,N,void 0,!0));)N--;return N},h.translatePosition=M;var d,f=(d=c(9380))&&d.__esModule?d:{default:d},g=c(7215),y=c(4713);function E(b){var k=this,A=k.maskset;return A.buffer!==void 0&&b!==!0||(A.buffer=y.getMaskTemplate.call(k,!0,_.call(k),!0),A._buffer===void 0&&(A._buffer=A.buffer.slice())),A.buffer}function _(b,k,A){var N=this.maskset,T=-1,P=-1,R=A||N.validPositions;b===void 0&&(b=-1);for(var B=0,D=R.length;B<D;B++)R[B]&&(k||R[B].generatedInput!==!0)&&(B<=b&&(T=B),B>=b&&(P=B));return T===-1||T===b?P:P===-1||b-T<P-b?T:P}function w(b,k,A){var N=this,T=this.maskset,P=y.getTestTemplate.call(N,b).match;if(P.def===""&&(P=y.getTest.call(N,b).match),P.static!==!0)return P.fn;if(A===!0&&T.validPositions[b]!==void 0&&T.validPositions[b].generatedInput!==!0)return!0;if(k!==!0&&b>-1){if(A){var R=y.getTests.call(N,b);return R.length>1+(R[R.length-1].match.def===""?1:0)}var B=y.determineTestTemplate.call(N,b,y.getTests.call(N,b)),D=y.getPlaceholder.call(N,b,B.match);return B.match.def!==D}return!1}function C(b,k,A){var N=this;A===void 0&&(A=!0);for(var T=b+1;y.getTest.call(N,T).match.def!==""&&(k===!0&&(y.getTest.call(N,T).match.newBlockMarker!==!0||!w.call(N,T,void 0,!0))||k!==!0&&!w.call(N,T,void 0,A));)T++;return T}function M(b){var k=this.opts,A=this.el;return!this.isRTL||typeof b!="number"||k.greedy&&k.placeholder===""||!A||(b=this._valueGet().length-b)<0&&(b=0),b}},4713:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.determineTestTemplate=M,h.getDecisionTaker=_,h.getMaskTemplate=function(N,T,P,R,B){var D=this,H=this.opts,$=this.maskset,V=H.greedy;B&&H.greedy&&(H.greedy=!1,D.maskset.tests={}),T=T||0;var ee,fe,me,ie,te=[],be=0;do{if(N===!0&&$.validPositions[be])fe=(me=B&&$.validPositions[be].match.optionality&&$.validPositions[be+1]===void 0&&($.validPositions[be].generatedInput===!0||$.validPositions[be].input==H.skipOptionalPartCharacter&&be>0)?M.call(D,be,A.call(D,be,ee,be-1)):$.validPositions[be]).match,ee=me.locator.slice(),te.push(P===!0?me.input:P===!1?fe.nativeDef:w.call(D,be,fe));else{fe=(me=C.call(D,be,ee,be-1)).match,ee=me.locator.slice();var Y=R!==!0&&(H.jitMasking!==!1?H.jitMasking:fe.jit);(ie=(ie||$.validPositions[be-1])&&fe.static&&fe.def!==H.groupSeparator&&fe.fn===null)||Y===!1||Y===void 0||typeof Y=="number"&&isFinite(Y)&&Y>be?te.push(P===!1?fe.nativeDef:w.call(D,te.length,fe)):ie=!1}be++}while(fe.static!==!0||fe.def!==""||T>be);return te[te.length-1]===""&&te.pop(),P===!1&&$.maskLength!==void 0||($.maskLength=be-1),H.greedy=V,te},h.getPlaceholder=w,h.getTest=b,h.getTestTemplate=C,h.getTests=A,h.isSubsetOf=k;var d,f=(d=c(2394))&&d.__esModule?d:{default:d},g=c(8711);function y(N){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},y(N)}function E(N,T){var P=(N.alternation!=null?N.mloc[_(N)]:N.locator).join("");if(P!=="")for(P=P.split(":")[0];P.length<T;)P+="0";return P}function _(N){var T=N.locator[N.alternation];return typeof T=="string"&&T.length>0&&(T=T.split(",")[0]),T!==void 0?T.toString():""}function w(N,T,P){var R=this,B=this.opts,D=this.maskset;if((T=T||b.call(R,N).match).placeholder!==void 0||P===!0){if(T.placeholder!==""&&T.static===!0&&T.generated!==!0){var H=g.getLastValidPosition.call(R,N),$=g.seekNext.call(R,H);return(P?N<=$:N<$)?B.staticDefinitionSymbol&&T.static?T.nativeDef:T.def:typeof T.placeholder=="function"?T.placeholder(B):T.placeholder}return typeof T.placeholder=="function"?T.placeholder(B):T.placeholder}if(T.static===!0){if(N>-1&&D.validPositions[N]===void 0){var V,ee=A.call(R,N),fe=[];if(typeof B.placeholder=="string"&&ee.length>1+(ee[ee.length-1].match.def===""?1:0)){for(var me=0;me<ee.length;me++)if(ee[me].match.def!==""&&ee[me].match.optionality!==!0&&ee[me].match.optionalQuantifier!==!0&&(ee[me].match.static===!0||V===void 0||ee[me].match.fn.test(V.match.def,D,N,!0,B)!==!1)&&(fe.push(ee[me]),ee[me].match.static===!0&&(V=ee[me]),fe.length>1&&/[0-9a-bA-Z]/.test(fe[0].match.def)))return B.placeholder.charAt(N%B.placeholder.length)}}return T.def}return y(B.placeholder)==="object"?T.def:B.placeholder.charAt(N%B.placeholder.length)}function C(N,T,P){return this.maskset.validPositions[N]||M.call(this,N,A.call(this,N,T&&T.slice(),P))}function M(N,T){var P=this.opts,R=0,B=function(ie,te){var be=0,Y=!1;return te.forEach(function(ue){ue.match.optionality&&(be!==0&&be!==ue.match.optionality&&(Y=!0),(be===0||be>ue.match.optionality)&&(be=ue.match.optionality))}),be&&(ie==0||te.length==1?be=0:Y||(be=0)),be}(N,T);N=N>0?N-1:0;var D,H,$,V=E(b.call(this,N));P.greedy&&T.length>1&&T[T.length-1].match.def===""&&(R=1);for(var ee=0;ee<T.length-R;ee++){var fe=T[ee];D=E(fe,V.length);var me=Math.abs(D-V);(fe.unMatchedAlternationStopped!==!0||T.filter(function(ie){return ie.unMatchedAlternationStopped!==!0}).length<=1)&&(H===void 0||D!==""&&me<H||$&&!P.greedy&&$.match.optionality&&$.match.optionality-B>0&&$.match.newBlockMarker==="master"&&(!fe.match.optionality||fe.match.optionality-B<1||!fe.match.newBlockMarker)||$&&!P.greedy&&$.match.optionalQuantifier&&!fe.match.optionalQuantifier)&&(H=me,$=fe)}return $}function b(N,T){var P=this.maskset;return P.validPositions[N]?P.validPositions[N]:(T||A.call(this,N))[0]}function k(N,T,P){function R(B){for(var D,H=[],$=-1,V=0,ee=B.length;V<ee;V++)if(B.charAt(V)==="-")for(D=B.charCodeAt(V+1);++$<D;)H.push(String.fromCharCode($));else $=B.charCodeAt(V),H.push(B.charAt(V));return H.join("")}return N.match.def===T.match.nativeDef||!(!(P.regex||N.match.fn instanceof RegExp&&T.match.fn instanceof RegExp)||N.match.static===!0||T.match.static===!0)&&(T.match.fn.source==="."||R(T.match.fn.source.replace(/[[\]/]/g,"")).indexOf(R(N.match.fn.source.replace(/[[\]/]/g,"")))!==-1)}function A(N,T,P){var R,B,D=this,H=this.dependencyLib,$=this.maskset,V=this.opts,ee=this.el,fe=$.maskToken,me=T?P:0,ie=T?T.slice():[0],te=[],be=!1,Y=T?T.join(""):"",ue=!1;function ke(Fe,Q,oe,ae){function ce(pe,ye,Ae){function Te(O,F){var z=F.matches.indexOf(O)===0;return z||F.matches.every(function(re,_e){return re.isQuantifier===!0?z=Te(O,F.matches[_e-1]):Object.prototype.hasOwnProperty.call(re,"matches")&&(z=Te(O,re)),!z}),z}function De(O,F,z){var re,_e;if(($.tests[O]||$.validPositions[O])&&($.validPositions[O]?[$.validPositions[O]]:$.tests[O]).every(function(He,Ze){if(He.mloc[F])return re=He,!1;var mt=z!==void 0?z:He.alternation,ct=He.locator[mt]!==void 0?He.locator[mt].toString().indexOf(F):-1;return(_e===void 0||ct<_e)&&ct!==-1&&(re=He,_e=ct),!0}),re){var Le=re.locator[re.alternation],Me=re.mloc[F]||re.mloc[Le]||re.locator;return Me[Me.length-1].toString().indexOf(":")!==-1&&Me.pop(),Me.slice((z!==void 0?z:re.alternation)+1)}return z!==void 0?De(O,F):void 0}function ne(O,F){return O.match.static===!0&&F.match.static!==!0&&F.match.fn.test(O.match.def,$,N,!1,V,!1)}function le(O,F){var z=O.alternation,re=F===void 0||z<=F.alternation&&O.locator[z].toString().indexOf(F.locator[z])===-1;if(!re&&z>F.alternation){for(var _e=0;_e<z;_e++)if(O.locator[_e]!==F.locator[_e]){z=_e,re=!0;break}}return!!re&&function(Le){O.mloc=O.mloc||{};var Me=O.locator[Le];if(Me!==void 0){if(typeof Me=="string"&&(Me=Me.split(",")[0]),O.mloc[Me]===void 0&&(O.mloc[Me]=O.locator.slice(),O.mloc[Me].push(":".concat(O.alternation))),F!==void 0){for(var He in F.mloc)typeof He=="string"&&(He=parseInt(He.split(",")[0])),O.mloc[He+0]=F.mloc[He];O.locator[Le]=Object.keys(O.mloc).join(",")}return O.alternation>Le&&(O.alternation=Le),!0}return O.alternation=void 0,!1}(z)}function he(O,F){if(O.locator.length!==F.locator.length)return!1;for(var z=O.alternation+1;z<O.locator.length;z++)if(O.locator[z]!==F.locator[z])return!1;return!0}if(me>N+V._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat($.mask));if(me===N&&pe.matches===void 0){if(te.push({match:pe,locator:ye.reverse(),cd:Y,mloc:{}}),!pe.optionality||Ae!==void 0||!(V.definitions&&V.definitions[pe.nativeDef]&&V.definitions[pe.nativeDef].optional||f.default.prototype.definitions[pe.nativeDef]&&f.default.prototype.definitions[pe.nativeDef].optional))return!0;be=!0,me=N}else if(pe.matches!==void 0){if(pe.isGroup&&Ae!==pe)return function(){if(pe=ce(Fe.matches[Fe.matches.indexOf(pe)+1],ye,Ae))return!0}();if(pe.isOptional)return function(){var O=pe,F=te.length;if(pe=ke(pe,Q,ye,Ae),te.length>0){if(te.forEach(function(z,re){re>=F&&(z.match.optionality=z.match.optionality?z.match.optionality+1:1)}),R=te[te.length-1].match,Ae!==void 0||!Te(R,O))return pe;be=!0,me=N}}();if(pe.isAlternator)return function(){function O(ve){for(var Se,Re=ve.matches[0].matches?ve.matches[0].matches.length:1,Ue=0;Ue<ve.matches.length&&Re===(Se=ve.matches[Ue].matches?ve.matches[Ue].matches.length:1);Ue++);return Re!==Se}D.hasAlternator=!0;var F,z=pe,re=[],_e=te.slice(),Le=ye.length,Me=Q.length>0?Q.shift():-1;if(Me===-1||typeof Me=="string"){var He,Ze=me,mt=Q.slice(),ct=[];if(typeof Me=="string")ct=Me.split(",");else for(He=0;He<z.matches.length;He++)ct.push(He.toString());if($.excludes[N]!==void 0){for(var Vt=ct.slice(),It=0,vt=$.excludes[N].length;It<vt;It++){var bt=$.excludes[N][It].toString().split(":");ye.length==bt[1]&&ct.splice(ct.indexOf(bt[0]),1)}ct.length===0&&(delete $.excludes[N],ct=Vt)}(V.keepStatic===!0||isFinite(parseInt(V.keepStatic))&&Ze>=V.keepStatic)&&(ct=ct.slice(0,1));for(var Ft=0;Ft<ct.length;Ft++){He=parseInt(ct[Ft]),te=[],Q=typeof Me=="string"&&De(me,He,Le)||mt.slice();var ut=z.matches[He];if(ut&&ce(ut,[He].concat(ye),Ae))pe=!0;else if(Ft===0&&(ue=O(z)),ut&&ut.matches&&ut.matches.length>z.matches[0].matches.length)break;F=te.slice(),me=Ze,te=[];for(var sn=0;sn<F.length;sn++){var Bt=F[sn],mn=!1;Bt.alternation=Bt.alternation||Le,le(Bt);for(var un=0;un<re.length;un++){var an=re[un];if(typeof Me!="string"||Bt.alternation!==void 0&&ct.includes(Bt.locator[Bt.alternation].toString())){if(Bt.match.nativeDef===an.match.nativeDef){mn=!0,le(an,Bt);break}if(k(Bt,an,V)){le(Bt,an)&&(mn=!0,re.splice(re.indexOf(an),0,Bt));break}if(k(an,Bt,V)){le(an,Bt);break}if(ne(Bt,an)){he(Bt,an)||ee.inputmask.userOptions.keepStatic!==void 0?le(Bt,an)&&(mn=!0,re.splice(re.indexOf(an),0,Bt)):V.keepStatic=!0;break}if(ne(an,Bt)){le(an,Bt);break}}}mn||re.push(Bt)}}te=_e.concat(re),me=N,be=te.length>0&&ue,pe=re.length>0&&!ue,ue&&be&&!pe&&te.forEach(function(ve,Se){ve.unMatchedAlternationStopped=!0}),Q=mt.slice()}else pe=ce(z.matches[Me]||Fe.matches[Me],[Me].concat(ye),Ae);if(pe)return!0}();if(pe.isQuantifier&&Ae!==Fe.matches[Fe.matches.indexOf(pe)-1])return function(){for(var O=pe,F=!1,z=Q.length>0?Q.shift():0;z<(isNaN(O.quantifier.max)?z+1:O.quantifier.max)&&me<=N;z++){var re=Fe.matches[Fe.matches.indexOf(O)-1];if(pe=ce(re,[z].concat(ye),re)){if(te.forEach(function(_e,Le){(R=xe(re,_e.match)?_e.match:te[te.length-1].match).optionalQuantifier=z>=O.quantifier.min,R.jit=(z+1)*(re.matches.indexOf(R)+1)>O.quantifier.jit,R.optionalQuantifier&&Te(R,re)&&(be=!0,me=N,V.greedy&&$.validPositions[N-1]==null&&z>O.quantifier.min&&["*","+"].indexOf(O.quantifier.max)!=-1&&(te.pop(),Y=void 0),F=!0,pe=!1),!F&&R.jit&&($.jitOffset[N]=re.matches.length-re.matches.indexOf(R))}),F)break;return!0}}}();if(pe=ke(pe,Q,ye,Ae))return!0}else me++}for(var q=Q.length>0?Q.shift():0;q<Fe.matches.length;q++)if(Fe.matches[q].isQuantifier!==!0){var J=ce(Fe.matches[q],[q].concat(oe),ae);if(J&&me===N)return J;if(me>N)break}}function xe(Fe,Q){var oe=Fe.matches.indexOf(Q)!=-1;return oe||Fe.matches.forEach(function(ae,ce){ae.matches===void 0||oe||(oe=xe(ae,Q))}),oe}if(N>-1){if(T===void 0){for(var X,K=N-1;(X=$.validPositions[K]||$.tests[K])===void 0&&K>-1;)K--;X!==void 0&&K>-1&&(ie=function(Fe,Q){var oe,ae=[];return Array.isArray(Q)||(Q=[Q]),Q.length>0&&(Q[0].alternation===void 0||V.keepStatic===!0?(ae=M.call(D,Fe,Q.slice()).locator.slice()).length===0&&(ae=Q[0].locator.slice()):Q.forEach(function(ce){ce.def!==""&&(ae.length===0?(oe=ce.alternation,ae=ce.locator.slice()):ce.locator[oe]&&ae[oe].toString().indexOf(ce.locator[oe])===-1&&(ae[oe]+=","+ce.locator[oe]))})),ae}(K,X),Y=ie.join(""),me=K)}if($.tests[N]&&$.tests[N][0].cd===Y)return $.tests[N];for(var Oe=ie.shift();Oe<fe.length&&!(ke(fe[Oe],ie,[Oe])&&me===N||me>N);Oe++);}return(te.length===0||be)&&te.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:ue&&te.filter(function(Fe){return Fe.unMatchedAlternationStopped!==!0}).length===0?[0]:[],mloc:{},cd:Y}),T!==void 0&&$.tests[N]?B=H.extend(!0,[],te):($.tests[N]=H.extend(!0,[],te),B=$.tests[N]),te.forEach(function(Fe){Fe.match.optionality=Fe.match.defOptionality||!1}),B}},7215:function(l,h,c){Object.defineProperty(h,"__esModule",{value:!0}),h.alternate=E,h.checkAlternationMatch=function(T,P,R){for(var B,D=this.opts.greedy?P:P.slice(0,1),H=!1,$=R!==void 0?R.split(","):[],V=0;V<$.length;V++)(B=T.indexOf($[V]))!==-1&&T.splice(B,1);for(var ee=0;ee<T.length;ee++)if(D.includes(T[ee])){H=!0;break}return H},h.handleRemove=function(T,P,R,B,D){var H=this,$=this.maskset,V=this.opts;if((V.numericInput||H.isRTL)&&(P===f.keys.Backspace?P=f.keys.Delete:P===f.keys.Delete&&(P=f.keys.Backspace),H.isRTL)){var ee=R.end;R.end=R.begin,R.begin=ee}var fe,me=g.getLastValidPosition.call(H,void 0,!0);R.end>=g.getBuffer.call(H).length&&me>=R.end&&(R.end=me+1),P===f.keys.Backspace?R.end-R.begin<1&&(R.begin=g.seekPrevious.call(H,R.begin)):P===f.keys.Delete&&R.begin===R.end&&(R.end=g.isMask.call(H,R.end,!0,!0)?R.end+1:g.seekNext.call(H,R.end)+1),(fe=N.call(H,R))!==!1&&((B!==!0&&V.keepStatic!==!1||V.regex!==null&&y.getTest.call(H,R.begin).match.def.indexOf("|")!==-1)&&E.call(H,!0),B!==!0&&($.p=P===f.keys.Delete?R.begin+fe:R.begin,$.p=g.determineNewCaretPosition.call(H,{begin:$.p,end:$.p},!1,V.insertMode===!1&&P===f.keys.Backspace?"none":void 0).begin))},h.isComplete=w,h.isSelection=C,h.isValid=M,h.refreshFromBuffer=k,h.revalidateMask=N;var d=c(6030),f=c(2839),g=c(8711),y=c(4713);function E(T,P,R,B,D,H){var $=this,V=this.dependencyLib,ee=this.opts,fe=$.maskset;if(!$.hasAlternator)return!1;var me,ie,te,be,Y,ue,ke,xe,X,K,Oe,Fe=V.extend(!0,[],fe.validPositions),Q=V.extend(!0,{},fe.tests),oe=!1,ae=!1,ce=D!==void 0?D:g.getLastValidPosition.call($);if(H&&(K=H.begin,Oe=H.end,H.begin>H.end&&(K=H.end,Oe=H.begin)),ce===-1&&D===void 0)me=0,ie=(be=y.getTest.call($,me)).alternation;else for(;ce>=0;ce--)if((te=fe.validPositions[ce])&&te.alternation!==void 0){if(ce<=(T||0)&&be&&be.locator[te.alternation]!==te.locator[te.alternation])break;me=ce,ie=fe.validPositions[me].alternation,be=te}if(ie!==void 0){ke=parseInt(me),fe.excludes[ke]=fe.excludes[ke]||[],T!==!0&&fe.excludes[ke].push((0,y.getDecisionTaker)(be)+":"+be.alternation);var q=[],J=-1;for(Y=ke;ke<g.getLastValidPosition.call($,void 0,!0)+1;Y++)J===-1&&T<=Y&&P!==void 0&&(q.push(P),J=q.length-1),(ue=fe.validPositions[ke])&&ue.generatedInput!==!0&&(H===void 0||Y<K||Y>=Oe)&&q.push(ue.input),fe.validPositions.splice(ke,1);for(J===-1&&P!==void 0&&(q.push(P),J=q.length-1);fe.excludes[ke]!==void 0&&fe.excludes[ke].length<10;){for(fe.tests={},g.resetMaskSet.call($,!0),oe=!0,Y=0;Y<q.length&&(xe=oe.caret||ee.insertMode==0&&xe!=null?g.seekNext.call($,xe):g.getLastValidPosition.call($,void 0,!0)+1,X=q[Y],oe=M.call($,xe,X,!1,B,!0));Y++)Y===J&&(ae=oe),T==1&&oe&&(ae={caretPos:Y});if(oe)break;if(g.resetMaskSet.call($),be=y.getTest.call($,ke),fe.validPositions=V.extend(!0,[],Fe),fe.tests=V.extend(!0,{},Q),!fe.excludes[ke]){ae=E.call($,T,P,R,B,ke-1,H);break}if(be.alternation!=null){var pe=(0,y.getDecisionTaker)(be);if(fe.excludes[ke].indexOf(pe+":"+be.alternation)!==-1){ae=E.call($,T,P,R,B,ke-1,H);break}for(fe.excludes[ke].push(pe+":"+be.alternation),Y=ke;Y<g.getLastValidPosition.call($,void 0,!0)+1;Y++)fe.validPositions.splice(ke)}else delete fe.excludes[ke]}}return ae&&ee.keepStatic===!1||delete fe.excludes[ke],ae}function _(T,P,R){var B=this.opts,D=this.maskset;switch(B.casing||P.casing){case"upper":T=T.toUpperCase();break;case"lower":T=T.toLowerCase();break;case"title":var H=D.validPositions[R-1];T=R===0||H&&H.input===String.fromCharCode(f.keyCode.Space)?T.toUpperCase():T.toLowerCase();break;default:if(typeof B.casing=="function"){var $=Array.prototype.slice.call(arguments);$.push(D.validPositions),T=B.casing.apply(this,$)}}return T}function w(T){var P=this,R=this.opts,B=this.maskset;if(typeof R.isComplete=="function")return R.isComplete(T,R);if(R.repeat!=="*"){var D=!1,H=g.determineLastRequiredPosition.call(P,!0),$=H.l;if(H.def===void 0||H.def.newBlockMarker||H.def.optionality||H.def.optionalQuantifier){D=!0;for(var V=0;V<=$;V++){var ee=y.getTestTemplate.call(P,V).match;if(ee.static!==!0&&B.validPositions[V]===void 0&&(ee.optionality===!1||ee.optionality===void 0||ee.optionality&&ee.newBlockMarker==0)&&(ee.optionalQuantifier===!1||ee.optionalQuantifier===void 0)||ee.static===!0&&ee.def!=""&&T[V]!==y.getPlaceholder.call(P,V,ee)){D=!1;break}}}return D}}function C(T){var P=this.opts.insertMode?0:1;return this.isRTL?T.begin-T.end>P:T.end-T.begin>P}function M(T,P,R,B,D,H,$){var V=this,ee=this.dependencyLib,fe=this.opts,me=V.maskset;R=R===!0;var ie=T;function te(oe){if(oe!==void 0){if(oe.remove!==void 0&&(Array.isArray(oe.remove)||(oe.remove=[oe.remove]),oe.remove.sort(function(ce,q){return V.isRTL?ce.pos-q.pos:q.pos-ce.pos}).forEach(function(ce){N.call(V,{begin:ce,end:ce+1})}),oe.remove=void 0),oe.insert!==void 0&&(Array.isArray(oe.insert)||(oe.insert=[oe.insert]),oe.insert.sort(function(ce,q){return V.isRTL?q.pos-ce.pos:ce.pos-q.pos}).forEach(function(ce){ce.c!==""&&M.call(V,ce.pos,ce.c,ce.strict===void 0||ce.strict,ce.fromIsValid!==void 0?ce.fromIsValid:B)}),oe.insert=void 0),oe.refreshFromBuffer&&oe.buffer){var ae=oe.refreshFromBuffer;k.call(V,ae===!0?ae:ae.start,ae.end,oe.buffer),oe.refreshFromBuffer=void 0}oe.rewritePosition!==void 0&&(ie=oe.rewritePosition,oe=!0)}return oe}function be(oe,ae,ce){var q=!1;return y.getTests.call(V,oe).every(function(J,pe){var ye=J.match;if(g.getBuffer.call(V,!0),(q=(!ye.jit||me.validPositions[g.seekPrevious.call(V,oe)]!==void 0)&&(ye.fn!=null?ye.fn.test(ae,me,oe,ce,fe,C.call(V,T)):(ae===ye.def||ae===fe.skipOptionalPartCharacter)&&ye.def!==""&&{c:y.getPlaceholder.call(V,oe,ye,!0)||ye.def,pos:oe}))!==!1){var Ae=q.c!==void 0?q.c:ae,Te=oe;return Ae=Ae===fe.skipOptionalPartCharacter&&ye.static===!0?y.getPlaceholder.call(V,oe,ye,!0)||ye.def:Ae,(q=te(q))!==!0&&q.pos!==void 0&&q.pos!==oe&&(Te=q.pos),q!==!0&&q.pos===void 0&&q.c===void 0||N.call(V,T,ee.extend({},J,{input:_.call(V,Ae,ye,Te)}),B,Te)===!1&&(q=!1),!1}return!0}),q}T.begin!==void 0&&(ie=V.isRTL?T.end:T.begin);var Y=!0,ue=ee.extend(!0,[],me.validPositions);if(fe.keepStatic===!1&&me.excludes[ie]!==void 0&&D!==!0&&B!==!0)for(var ke=ie;ke<(V.isRTL?T.begin:T.end);ke++)me.excludes[ke]!==void 0&&(me.excludes[ke]=void 0,delete me.tests[ke]);if(typeof fe.preValidation=="function"&&B!==!0&&H!==!0&&(Y=te(Y=fe.preValidation.call(V,g.getBuffer.call(V),ie,P,C.call(V,T),fe,me,T,R||D))),Y===!0){if(Y=be(ie,P,R),(!R||B===!0)&&Y===!1&&H!==!0){var xe=me.validPositions[ie];if(!xe||xe.match.static!==!0||xe.match.def!==P&&P!==fe.skipOptionalPartCharacter){if(fe.insertMode||me.validPositions[g.seekNext.call(V,ie)]===void 0||T.end>ie){var X=!1;if(me.jitOffset[ie]&&me.validPositions[g.seekNext.call(V,ie)]===void 0&&(Y=M.call(V,ie+me.jitOffset[ie],P,!0,!0))!==!1&&(D!==!0&&(Y.caret=ie),X=!0),T.end>ie&&(me.validPositions[ie]=void 0),!X&&!g.isMask.call(V,ie,fe.keepStatic&&ie===0)){for(var K=ie+1,Oe=g.seekNext.call(V,ie,!1,ie!==0);K<=Oe;K++)if((Y=be(K,P,R))!==!1){Y=A.call(V,ie,Y.pos!==void 0?Y.pos:K)||Y,ie=K;break}}}}else Y={caret:g.seekNext.call(V,ie)}}V.hasAlternator&&D!==!0&&!R&&(D=!0,Y===!1&&fe.keepStatic&&(w.call(V,g.getBuffer.call(V))||ie===0)?Y=E.call(V,ie,P,R,B,void 0,T):(C.call(V,T)&&me.tests[ie]&&me.tests[ie].length>1&&fe.keepStatic||Y==1&&fe.numericInput!==!0&&me.tests[ie]&&me.tests[ie].length>1&&g.getLastValidPosition.call(V,void 0,!0)>ie)&&(Y=E.call(V,!0))),Y===!0&&(Y={pos:ie})}if(typeof fe.postValidation=="function"&&B!==!0&&H!==!0){var Fe=fe.postValidation.call(V,g.getBuffer.call(V,!0),T.begin!==void 0?V.isRTL?T.end:T.begin:T,P,Y,fe,me,R,$);Fe!==void 0&&(Y=Fe===!0?Y:Fe)}Y&&Y.pos===void 0&&(Y.pos=ie),Y===!1||H===!0?(g.resetMaskSet.call(V,!0),me.validPositions=ee.extend(!0,[],ue)):A.call(V,void 0,ie,!0);var Q=te(Y);return V.maxLength!==void 0&&g.getBuffer.call(V).length>V.maxLength&&!B&&(g.resetMaskSet.call(V,!0),me.validPositions=ee.extend(!0,[],ue),Q=!1),Q}function b(T,P,R){for(var B=this.maskset,D=!1,H=y.getTests.call(this,T),$=0;$<H.length;$++){if(H[$].match&&(H[$].match.nativeDef===P.match[R.shiftPositions?"def":"nativeDef"]&&(!R.shiftPositions||!P.match.static)||H[$].match.nativeDef===P.match.nativeDef||R.regex&&!H[$].match.static&&H[$].match.fn.test(P.input,B,T,!1,R))){D=!0;break}if(H[$].match&&H[$].match.def===P.match.nativeDef){D=void 0;break}}return D===!1&&B.jitOffset[T]!==void 0&&(D=b.call(this,T+B.jitOffset[T],P,R)),D}function k(T,P,R){var B,D,H=this,$=this.maskset,V=this.opts,ee=this.dependencyLib,fe=V.skipOptionalPartCharacter,me=H.isRTL?R.slice().reverse():R;if(V.skipOptionalPartCharacter="",T===!0)g.resetMaskSet.call(H,!1),T=0,P=R.length,D=g.determineNewCaretPosition.call(H,{begin:0,end:0},!1).begin;else{for(B=T;B<P;B++)$.validPositions.splice(T,0);D=T}var ie=new ee.Event("keypress");for(B=T;B<P;B++){ie.key=me[B].toString(),H.ignorable=!1;var te=d.EventHandlers.keypressEvent.call(H,ie,!0,!1,!1,D);te!==!1&&te!==void 0&&(D=te.forwardPosition)}V.skipOptionalPartCharacter=fe}function A(T,P,R){var B=this,D=this.maskset,H=this.dependencyLib;if(T===void 0)for(T=P-1;T>0&&!D.validPositions[T];T--);for(var $=T;$<P;$++)if(D.validPositions[$]===void 0&&!g.isMask.call(B,$,!1)&&($==0?y.getTest.call(B,$):D.validPositions[$-1])){var V=y.getTests.call(B,$).slice();V[V.length-1].match.def===""&&V.pop();var ee,fe=y.determineTestTemplate.call(B,$,V);if(fe&&(fe.match.jit!==!0||fe.match.newBlockMarker==="master"&&(ee=D.validPositions[$+1])&&ee.match.optionalQuantifier===!0)&&((fe=H.extend({},fe,{input:y.getPlaceholder.call(B,$,fe.match,!0)||fe.match.def})).generatedInput=!0,N.call(B,$,fe,!0),R!==!0)){var me=D.validPositions[P].input;return D.validPositions[P]=void 0,M.call(B,P,me,!0,!0)}}}function N(T,P,R,B){var D=this,H=this.maskset,$=this.opts,V=this.dependencyLib;function ee(Q,oe,ae){var ce=oe[Q];if(ce!==void 0&&ce.match.static===!0&&ce.match.optionality!==!0&&(oe[0]===void 0||oe[0].alternation===void 0)){var q=ae.begin<=Q-1?oe[Q-1]&&oe[Q-1].match.static===!0&&oe[Q-1]:oe[Q-1],J=ae.end>Q+1?oe[Q+1]&&oe[Q+1].match.static===!0&&oe[Q+1]:oe[Q+1];return q&&J}return!1}var fe=0,me=T.begin!==void 0?T.begin:T,ie=T.end!==void 0?T.end:T,te=!0;if(T.begin>T.end&&(me=T.end,ie=T.begin),B=B!==void 0?B:me,R===void 0&&(me!==ie||$.insertMode&&H.validPositions[B]!==void 0||P===void 0||P.match.optionalQuantifier||P.match.optionality)){var be,Y=V.extend(!0,[],H.validPositions),ue=g.getLastValidPosition.call(D,void 0,!0);H.p=me;var ke=C.call(D,T)?me:B;for(be=ue;be>=ke;be--)H.validPositions.splice(be,1),P===void 0&&delete H.tests[be+1];var xe,X,K=B,Oe=K;for(P&&(H.validPositions[B]=V.extend(!0,{},P),Oe++,K++),Y[ie]==null&&H.jitOffset[ie]&&(ie+=H.jitOffset[ie]+1),be=P?ie:ie-1;be<=ue;be++){if((xe=Y[be])!==void 0&&xe.generatedInput!==!0&&(be>=ie||be>=me&&ee(be,Y,{begin:me,end:ie}))){for(;y.getTest.call(D,Oe).match.def!=="";){if((X=b.call(D,Oe,xe,$))!==!1||xe.match.def==="+"){xe.match.def==="+"&&g.getBuffer.call(D,!0);var Fe=M.call(D,Oe,xe.input,xe.match.def!=="+",!0);if(te=Fe!==!1,K=(Fe.pos||Oe)+1,!te&&X)break}else te=!1;if(te){P===void 0&&xe.match.static&&be===T.begin&&fe++;break}if(!te&&g.getBuffer.call(D),Oe>H.maskLength)break;Oe++}y.getTest.call(D,Oe).match.def==""&&(te=!1),Oe=K}if(!te)break}if(!te)return H.validPositions=V.extend(!0,[],Y),g.resetMaskSet.call(D,!0),!1}else P&&y.getTest.call(D,B).match.cd===P.match.cd&&(H.validPositions[B]=V.extend(!0,{},P));return g.resetMaskSet.call(D,!0),fe}}},r={};function i(l){var h=r[l];if(h!==void 0)return h.exports;var c=r[l]={exports:{}};return t[l](c,c.exports,i),c.exports}var s={};return function(){var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,i(7149),i(3194),i(9302),i(4013),i(3851),i(219),i(207),i(5296);var h,c=(h=i(2394))&&h.__esModule?h:{default:h};l.default=c.default}(),s}()})})(cC);var mH=cC.exports;const gH=cc(mH);class vH extends vn{get mask(){let e=this.data.get("mask");try{return e=JSON.parse(e),e.autoUnmask=e.autoUnmask||e.removeMaskOnSubmit||void 0,e}catch{return e}}connect(){const e=this.element.querySelector("input");let t=this.mask;if(t.length<1)return;(e.form||this.element.closest("form")).addEventListener("orchid:screen-submit",()=>{t.removeMaskOnSubmit&&e.inputmask.remove()}),gH(t).mask(e)}}const yH=Object.freeze(Object.defineProperty({__proto__:null,default:vH},Symbol.toStringTag,{value:"Module"}));class $0 extends vn{constructor(){super(...arguments);$e(this,"debouncedHandleFieldChange",this.debounce(()=>this.handleFieldChange(),200))}connect(){this.watchedValue.forEach(t=>{document.querySelectorAll(`[name="${t}"]`).forEach(r=>r.addEventListener("change",()=>this.debouncedHandleFieldChange()))})}handleFieldChange(){const t=this.element.closest("form");t.classList.add(...this.loadingClasses);const r=new FormData(t);let i=document.getElementById("screen-state").value;i.length>0&&r.append("_state",i),this.loadStream(this.urlValue,r,()=>{t.classList.remove(...this.loadingClasses)})}debounce(t,r){let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>t.apply(this,s),r)}}}$e($0,"classes",["loading"]),$e($0,"values",{url:{type:String},watched:{type:Array,default:[]}});const bH=Object.freeze(Object.defineProperty({__proto__:null,default:$0},Symbol.toStringTag,{value:"Module"}));var H0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(t,r){r(e)})(Kr,function(t){var r="1.9.4";function i(a){var p,S,j,G;for(S=1,j=arguments.length;S<j;S++){G=arguments[S];for(p in G)a[p]=G[p]}return a}var s=Object.create||function(){function a(){}return function(p){return a.prototype=p,new a}}();function l(a,p){var S=Array.prototype.slice;if(a.bind)return a.bind.apply(a,S.call(arguments,1));var j=S.call(arguments,2);return function(){return a.apply(p,j.length?j.concat(S.call(arguments)):arguments)}}var h=0;function c(a){return"_leaflet_id"in a||(a._leaflet_id=++h),a._leaflet_id}function d(a,p,S){var j,G,de,Pe;return Pe=function(){j=!1,G&&(de.apply(S,G),G=!1)},de=function(){j?G=arguments:(a.apply(S,arguments),setTimeout(Pe,p),j=!0)},de}function f(a,p,S){var j=p[1],G=p[0],de=j-G;return a===j&&S?a:((a-G)%de+de)%de+G}function g(){return!1}function y(a,p){if(p===!1)return a;var S=Math.pow(10,p===void 0?6:p);return Math.round(a*S)/S}function E(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function _(a){return E(a).split(/\s+/)}function w(a,p){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var S in p)a.options[S]=p[S];return a.options}function C(a,p,S){var j=[];for(var G in a)j.push(encodeURIComponent(S?G.toUpperCase():G)+"="+encodeURIComponent(a[G]));return(!p||p.indexOf("?")===-1?"?":"&")+j.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function b(a,p){return a.replace(M,function(S,j){var G=p[j];if(G===void 0)throw new Error("No value provided for variable "+S);return typeof G=="function"&&(G=G(p)),G})}var k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function A(a,p){for(var S=0;S<a.length;S++)if(a[S]===p)return S;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var P=0;function R(a){var p=+new Date,S=Math.max(0,16-(p-P));return P=p+S,window.setTimeout(a,S)}var B=window.requestAnimationFrame||T("RequestAnimationFrame")||R,D=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,p,S){if(S&&B===R)a.call(p);else return B.call(window,l(a,p))}function $(a){a&&D.call(window,a)}var V={__proto__:null,extend:i,create:s,bind:l,get lastId(){return h},stamp:c,throttle:d,wrapNum:f,falseFn:g,formatNum:y,trim:E,splitWords:_,setOptions:w,getParamString:C,template:b,isArray:k,indexOf:A,emptyImageUrl:N,requestFn:B,cancelFn:D,requestAnimFrame:H,cancelAnimFrame:$};function ee(){}ee.extend=function(a){var p=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=p.__super__=this.prototype,j=s(S);j.constructor=p,p.prototype=j;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(p[G]=this[G]);return a.statics&&i(p,a.statics),a.includes&&(fe(a.includes),i.apply(null,[j].concat(a.includes))),i(j,a),delete j.statics,delete j.includes,j.options&&(j.options=S.options?s(S.options):{},i(j.options,a.options)),j._initHooks=[],j.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var de=0,Pe=j._initHooks.length;de<Pe;de++)j._initHooks[de].call(this)}},p},ee.include=function(a){var p=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=p,this.mergeOptions(a.options)),this},ee.mergeOptions=function(a){return i(this.prototype.options,a),this},ee.addInitHook=function(a){var p=Array.prototype.slice.call(arguments,1),S=typeof a=="function"?a:function(){this[a].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function fe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=k(a)?a:[a];for(var p=0;p<a.length;p++)a[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(a,p,S){if(typeof a=="object")for(var j in a)this._on(j,a[j],p);else{a=_(a);for(var G=0,de=a.length;G<de;G++)this._on(a[G],p,S)}return this},off:function(a,p,S){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var j in a)this._off(j,a[j],p);else{a=_(a);for(var G=arguments.length===1,de=0,Pe=a.length;de<Pe;de++)G?this._off(a[de]):this._off(a[de],p,S)}return this},_on:function(a,p,S,j){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(a,p,S)===!1){S===this&&(S=void 0);var G={fn:p,ctx:S};j&&(G.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(G)}},_off:function(a,p,S){var j,G,de;if(this._events&&(j=this._events[a],!!j)){if(arguments.length===1){if(this._firingCount)for(G=0,de=j.length;G<de;G++)j[G].fn=g;delete this._events[a];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Pe=this._listens(a,p,S);if(Pe!==!1){var ze=j[Pe];this._firingCount&&(ze.fn=g,this._events[a]=j=j.slice()),j.splice(Pe,1)}}},fire:function(a,p,S){if(!this.listens(a,S))return this;var j=i({},p,{type:a,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var G=this._events[a];if(G){this._firingCount=this._firingCount+1||1;for(var de=0,Pe=G.length;de<Pe;de++){var ze=G[de],qe=ze.fn;ze.once&&this.off(a,qe,ze.ctx),qe.call(ze.ctx||this,j)}this._firingCount--}}return S&&this._propagateEvent(j),this},listens:function(a,p,S,j){typeof a!="string"&&console.warn('"string" type argument expected');var G=p;typeof p!="function"&&(j=!!p,G=void 0,S=void 0);var de=this._events&&this._events[a];if(de&&de.length&&this._listens(a,G,S)!==!1)return!0;if(j){for(var Pe in this._eventParents)if(this._eventParents[Pe].listens(a,p,S,j))return!0}return!1},_listens:function(a,p,S){if(!this._events)return!1;var j=this._events[a]||[];if(!p)return!!j.length;S===this&&(S=void 0);for(var G=0,de=j.length;G<de;G++)if(j[G].fn===p&&j[G].ctx===S)return G;return!1},once:function(a,p,S){if(typeof a=="object")for(var j in a)this._on(j,a[j],p,!0);else{a=_(a);for(var G=0,de=a.length;G<de;G++)this._on(a[G],p,S,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[c(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[c(a)],this},_propagateEvent:function(a){for(var p in this._eventParents)this._eventParents[p].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var ie=ee.extend(me);function te(a,p,S){this.x=S?Math.round(a):a,this.y=S?Math.round(p):p}var be=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(a){return this.clone()._add(Y(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Y(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=be(this.x),this.y=be(this.y),this},distanceTo:function(a){a=Y(a);var p=a.x-this.x,S=a.y-this.y;return Math.sqrt(p*p+S*S)},equals:function(a){return a=Y(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Y(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Y(a,p,S){return a instanceof te?a:k(a)?new te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new te(a.x,a.y):new te(a,p,S)}function ue(a,p){if(a)for(var S=p?[a,p]:a,j=0,G=S.length;j<G;j++)this.extend(S[j])}ue.prototype={extend:function(a){var p,S;if(!a)return this;if(a instanceof te||typeof a[0]=="number"||"x"in a)p=S=Y(a);else if(a=ke(a),p=a.min,S=a.max,!p||!S)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=S.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(a){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var p,S;return typeof a[0]=="number"||a instanceof te?a=Y(a):a=ke(a),a instanceof ue?(p=a.min,S=a.max):p=S=a,p.x>=this.min.x&&S.x<=this.max.x&&p.y>=this.min.y&&S.y<=this.max.y},intersects:function(a){a=ke(a);var p=this.min,S=this.max,j=a.min,G=a.max,de=G.x>=p.x&&j.x<=S.x,Pe=G.y>=p.y&&j.y<=S.y;return de&&Pe},overlaps:function(a){a=ke(a);var p=this.min,S=this.max,j=a.min,G=a.max,de=G.x>p.x&&j.x<S.x,Pe=G.y>p.y&&j.y<S.y;return de&&Pe},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var p=this.min,S=this.max,j=Math.abs(p.x-S.x)*a,G=Math.abs(p.y-S.y)*a;return ke(Y(p.x-j,p.y-G),Y(S.x+j,S.y+G))},equals:function(a){return a?(a=ke(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ke(a,p){return!a||a instanceof ue?a:new ue(a,p)}function xe(a,p){if(a)for(var S=p?[a,p]:a,j=0,G=S.length;j<G;j++)this.extend(S[j])}xe.prototype={extend:function(a){var p=this._southWest,S=this._northEast,j,G;if(a instanceof K)j=a,G=a;else if(a instanceof xe){if(j=a._southWest,G=a._northEast,!j||!G)return this}else return a?this.extend(Oe(a)||X(a)):this;return!p&&!S?(this._southWest=new K(j.lat,j.lng),this._northEast=new K(G.lat,G.lng)):(p.lat=Math.min(j.lat,p.lat),p.lng=Math.min(j.lng,p.lng),S.lat=Math.max(G.lat,S.lat),S.lng=Math.max(G.lng,S.lng)),this},pad:function(a){var p=this._southWest,S=this._northEast,j=Math.abs(p.lat-S.lat)*a,G=Math.abs(p.lng-S.lng)*a;return new xe(new K(p.lat-j,p.lng-G),new K(S.lat+j,S.lng+G))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof K||"lat"in a?a=Oe(a):a=X(a);var p=this._southWest,S=this._northEast,j,G;return a instanceof xe?(j=a.getSouthWest(),G=a.getNorthEast()):j=G=a,j.lat>=p.lat&&G.lat<=S.lat&&j.lng>=p.lng&&G.lng<=S.lng},intersects:function(a){a=X(a);var p=this._southWest,S=this._northEast,j=a.getSouthWest(),G=a.getNorthEast(),de=G.lat>=p.lat&&j.lat<=S.lat,Pe=G.lng>=p.lng&&j.lng<=S.lng;return de&&Pe},overlaps:function(a){a=X(a);var p=this._southWest,S=this._northEast,j=a.getSouthWest(),G=a.getNorthEast(),de=G.lat>p.lat&&j.lat<S.lat,Pe=G.lng>p.lng&&j.lng<S.lng;return de&&Pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,p){return a?(a=X(a),this._southWest.equals(a.getSouthWest(),p)&&this._northEast.equals(a.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(a,p){return a instanceof xe?a:new xe(a,p)}function K(a,p,S){if(isNaN(a)||isNaN(p))throw new Error("Invalid LatLng object: ("+a+", "+p+")");this.lat=+a,this.lng=+p,S!==void 0&&(this.alt=+S)}K.prototype={equals:function(a,p){if(!a)return!1;a=Oe(a);var S=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return S<=(p===void 0?1e-9:p)},toString:function(a){return"LatLng("+y(this.lat,a)+", "+y(this.lng,a)+")"},distanceTo:function(a){return Q.distance(this,Oe(a))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(a){var p=180*a/40075017,S=p/Math.cos(Math.PI/180*this.lat);return X([this.lat-p,this.lng-S],[this.lat+p,this.lng+S])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function Oe(a,p,S){return a instanceof K?a:k(a)&&typeof a[0]!="object"?a.length===3?new K(a[0],a[1],a[2]):a.length===2?new K(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new K(a.lat,"lng"in a?a.lng:a.lon,a.alt):p===void 0?null:new K(a,p,S)}var Fe={latLngToPoint:function(a,p){var S=this.projection.project(a),j=this.scale(p);return this.transformation._transform(S,j)},pointToLatLng:function(a,p){var S=this.scale(p),j=this.transformation.untransform(a,S);return this.projection.unproject(j)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var p=this.projection.bounds,S=this.scale(a),j=this.transformation.transform(p.min,S),G=this.transformation.transform(p.max,S);return new ue(j,G)},infinite:!1,wrapLatLng:function(a){var p=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,S=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,j=a.alt;return new K(S,p,j)},wrapLatLngBounds:function(a){var p=a.getCenter(),S=this.wrapLatLng(p),j=p.lat-S.lat,G=p.lng-S.lng;if(j===0&&G===0)return a;var de=a.getSouthWest(),Pe=a.getNorthEast(),ze=new K(de.lat-j,de.lng-G),qe=new K(Pe.lat-j,Pe.lng-G);return new xe(ze,qe)}},Q=i({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,p){var S=Math.PI/180,j=a.lat*S,G=p.lat*S,de=Math.sin((p.lat-a.lat)*S/2),Pe=Math.sin((p.lng-a.lng)*S/2),ze=de*de+Math.cos(j)*Math.cos(G)*Pe*Pe,qe=2*Math.atan2(Math.sqrt(ze),Math.sqrt(1-ze));return this.R*qe}}),oe=6378137,ae={R:oe,MAX_LATITUDE:85.0511287798,project:function(a){var p=Math.PI/180,S=this.MAX_LATITUDE,j=Math.max(Math.min(S,a.lat),-S),G=Math.sin(j*p);return new te(this.R*a.lng*p,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(a){var p=180/Math.PI;return new K((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*p,a.x*p/this.R)},bounds:function(){var a=oe*Math.PI;return new ue([-a,-a],[a,a])}()};function ce(a,p,S,j){if(k(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=p,this._c=S,this._d=j}ce.prototype={transform:function(a,p){return this._transform(a.clone(),p)},_transform:function(a,p){return p=p||1,a.x=p*(this._a*a.x+this._b),a.y=p*(this._c*a.y+this._d),a},untransform:function(a,p){return p=p||1,new te((a.x/p-this._b)/this._a,(a.y/p-this._d)/this._c)}};function q(a,p,S,j){return new ce(a,p,S,j)}var J=i({},Q,{code:"EPSG:3857",projection:ae,transformation:function(){var a=.5/(Math.PI*ae.R);return q(a,.5,-a,.5)}()}),pe=i({},J,{code:"EPSG:900913"});function ye(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ae(a,p){var S="",j,G,de,Pe,ze,qe;for(j=0,de=a.length;j<de;j++){for(ze=a[j],G=0,Pe=ze.length;G<Pe;G++)qe=ze[G],S+=(G?"L":"M")+qe.x+" "+qe.y;S+=p?it.svg?"z":"x":""}return S||"M0 0"}var Te=document.documentElement.style,De="ActiveXObject"in window,ne=De&&!document.addEventListener,le="msLaunchUri"in navigator&&!("documentMode"in document),he=dt("webkit"),O=dt("android"),F=dt("android 2")||dt("android 3"),z=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=O&&dt("Google")&&z<537&&!("AudioNode"in window),_e=!!window.opera,Le=!le&&dt("chrome"),Me=dt("gecko")&&!he&&!_e&&!De,He=!Le&&dt("safari"),Ze=dt("phantom"),mt="OTransition"in Te,ct=navigator.platform.indexOf("Win")===0,Vt=De&&"transition"in Te,It="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!F,vt="MozPerspective"in Te,bt=!window.L_DISABLE_3D&&(Vt||It||vt)&&!mt&&!Ze,Ft=typeof orientation<"u"||dt("mobile"),ut=Ft&&he,sn=Ft&&It,Bt=!window.PointerEvent&&window.MSPointerEvent,mn=!!(window.PointerEvent||Bt),un="ontouchstart"in window||!!window.TouchEvent,an=!window.L_NO_TOUCH&&(un||mn),ve=Ft&&_e,Se=Ft&&Me,Re=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=function(){var a=!1;try{var p=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,p),window.removeEventListener("testPassiveEventSupport",g,p)}catch{}return a}(),rt=function(){return!!document.createElement("canvas").getContext}(),Xe=!!(document.createElementNS&&ye("svg").createSVGRect),gt=!!Xe&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),at=!Xe&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var p=a.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),xt=navigator.platform.indexOf("Mac")===0,ht=navigator.platform.indexOf("Linux")===0;function dt(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var it={ie:De,ielt9:ne,edge:le,webkit:he,android:O,android23:F,androidStock:re,opera:_e,chrome:Le,gecko:Me,safari:He,phantom:Ze,opera12:mt,win:ct,ie3d:Vt,webkit3d:It,gecko3d:vt,any3d:bt,mobile:Ft,mobileWebkit:ut,mobileWebkit3d:sn,msPointer:Bt,pointer:mn,touch:an,touchNative:un,mobileOpera:ve,mobileGecko:Se,retina:Re,passiveEvents:Ue,canvas:rt,svg:Xe,vml:at,inlineSvg:gt,mac:xt,linux:ht},fn=it.msPointer?"MSPointerDown":"pointerdown",En=it.msPointer?"MSPointerMove":"pointermove",fr=it.msPointer?"MSPointerUp":"pointerup",sr=it.msPointer?"MSPointerCancel":"pointercancel",Xr={touchstart:fn,touchmove:En,touchend:fr,touchcancel:sr},_r={touchstart:Ye,touchmove:Ve,touchend:Ve,touchcancel:Ve},bn={},ii=!1;function yi(a,p,S){return p==="touchstart"&&Ee(),_r[p]?(S=_r[p].bind(this,S),a.addEventListener(Xr[p],S,!1),S):(console.warn("wrong event specified:",p),g)}function Lr(a,p,S){if(!Xr[p]){console.warn("wrong event specified:",p);return}a.removeEventListener(Xr[p],S,!1)}function Dn(a){bn[a.pointerId]=a}function Jr(a){bn[a.pointerId]&&(bn[a.pointerId]=a)}function Rn(a){delete bn[a.pointerId]}function Ee(){ii||(document.addEventListener(fn,Dn,!0),document.addEventListener(En,Jr,!0),document.addEventListener(fr,Rn,!0),document.addEventListener(sr,Rn,!0),ii=!0)}function Ve(a,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var S in bn)p.touches.push(bn[S]);p.changedTouches=[p],a(p)}}function Ye(a,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&rr(p),Ve(a,p)}function Qe(a){var p={},S,j;for(j in a)S=a[j],p[j]=S&&S.bind?S.bind(a):S;return a=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var nt=200;function Rt(a,p){a.addEventListener("dblclick",p);var S=0,j;function G(de){if(de.detail!==1){j=de.detail;return}if(!(de.pointerType==="mouse"||de.sourceCapabilities&&!de.sourceCapabilities.firesTouchEvents)){var Pe=W(de);if(!(Pe.some(function(qe){return qe instanceof HTMLLabelElement&&qe.attributes.for})&&!Pe.some(function(qe){return qe instanceof HTMLInputElement||qe instanceof HTMLSelectElement}))){var ze=Date.now();ze-S<=nt?(j++,j===2&&p(Qe(de))):j=1,S=ze}}}return a.addEventListener("click",G),{dblclick:p,simDblclick:G}}function yt(a,p){a.removeEventListener("dblclick",p.dblclick),a.removeEventListener("click",p.simDblclick)}var tn=oi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=oi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),An=nn==="webkitTransition"||nn==="OTransition"?nn+"End":"transitionend";function qn(a){return typeof a=="string"?document.getElementById(a):a}function et(a,p){var S=a.style[p]||a.currentStyle&&a.currentStyle[p];if((!S||S==="auto")&&document.defaultView){var j=document.defaultView.getComputedStyle(a,null);S=j?j[p]:null}return S==="auto"?null:S}function Ct(a,p,S){var j=document.createElement(a);return j.className=p||"",S&&S.appendChild(j),j}function hn(a){var p=a.parentNode;p&&p.removeChild(a)}function jr(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Vn(a){var p=a.parentNode;p&&p.lastChild!==a&&p.appendChild(a)}function pr(a){var p=a.parentNode;p&&p.firstChild!==a&&p.insertBefore(a,p.firstChild)}function mr(a,p){if(a.classList!==void 0)return a.classList.contains(p);var S=gr(a);return S.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(S)}function zt(a,p){if(a.classList!==void 0)for(var S=_(p),j=0,G=S.length;j<G;j++)a.classList.add(S[j]);else if(!mr(a,p)){var de=gr(a);Oi(a,(de?de+" ":"")+p)}}function Ln(a,p){a.classList!==void 0?a.classList.remove(p):Oi(a,E((" "+gr(a)+" ").replace(" "+p+" "," ")))}function Oi(a,p){a.className.baseVal===void 0?a.className=p:a.className.baseVal=p}function gr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ar(a,p){"opacity"in a.style?a.style.opacity=p:"filter"in a.style&&Hi(a,p)}function Hi(a,p){var S=!1,j="DXImageTransform.Microsoft.Alpha";try{S=a.filters.item(j)}catch{if(p===1)return}p=Math.round(p*100),S?(S.Enabled=p!==100,S.Opacity=p):a.style.filter+=" progid:"+j+"(opacity="+p+")"}function oi(a){for(var p=document.documentElement.style,S=0;S<a.length;S++)if(a[S]in p)return a[S];return!1}function rn(a,p,S){var j=p||new te(0,0);a.style[tn]=(it.ie3d?"translate("+j.x+"px,"+j.y+"px)":"translate3d("+j.x+"px,"+j.y+"px,0)")+(S?" scale("+S+")":"")}function dn(a,p){a._leaflet_pos=p,it.any3d?rn(a,p):(a.style.left=p.x+"px",a.style.top=p.y+"px")}function Hn(a){return a._leaflet_pos||new te(0,0)}var Fn,Mr,Yn;if("onselectstart"in document)Fn=function(){Ut(window,"selectstart",rr)},Mr=function(){Zt(window,"selectstart",rr)};else{var Co=oi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fn=function(){if(Co){var a=document.documentElement.style;Yn=a[Co],a[Co]="none"}},Mr=function(){Co&&(document.documentElement.style[Co]=Yn,Yn=void 0)}}function si(){Ut(window,"dragstart",rr)}function Rs(){Zt(window,"dragstart",rr)}var is,Fs;function Bs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(tr(),is=a,Fs=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",tr))}function tr(){is&&(is.style.outlineStyle=Fs,is=void 0,Fs=void 0,Zt(window,"keydown",tr))}function yn(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function zn(a){var p=a.getBoundingClientRect();return{x:p.width/a.offsetWidth||1,y:p.height/a.offsetHeight||1,boundingClientRect:p}}var nr={__proto__:null,TRANSFORM:tn,TRANSITION:nn,TRANSITION_END:An,get:qn,getStyle:et,create:Ct,remove:hn,empty:jr,toFront:Vn,toBack:pr,hasClass:mr,addClass:zt,removeClass:Ln,setClass:Oi,getClass:gr,setOpacity:ar,testProp:oi,setTransform:rn,setPosition:dn,getPosition:Hn,get disableTextSelection(){return Fn},get enableTextSelection(){return Mr},disableImageDrag:si,enableImageDrag:Rs,preventOutline:Bs,restoreOutline:tr,getSizedParentNode:yn,getScale:zn};function Ut(a,p,S,j){if(p&&typeof p=="object")for(var G in p)ei(a,G,p[G],S);else{p=_(p);for(var de=0,Pe=p.length;de<Pe;de++)ei(a,p[de],S,j)}return this}var vr="_leaflet_events";function Zt(a,p,S,j){if(arguments.length===1)ai(a),delete a[vr];else if(p&&typeof p=="object")for(var G in p)zi(a,G,p[G],S);else if(p=_(p),arguments.length===2)ai(a,function(ze){return A(p,ze)!==-1});else for(var de=0,Pe=p.length;de<Pe;de++)zi(a,p[de],S,j);return this}function ai(a,p){for(var S in a[vr]){var j=S.split(/\d/)[0];(!p||p(j))&&zi(a,j,null,null,S)}}var Qr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ei(a,p,S,j){var G=p+c(S)+(j?"_"+c(j):"");if(a[vr]&&a[vr][G])return this;var de=function(ze){return S.call(j||a,ze||window.event)},Pe=de;!it.touchNative&&it.pointer&&p.indexOf("touch")===0?de=yi(a,p,de):it.touch&&p==="dblclick"?de=Rt(a,de):"addEventListener"in a?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?a.addEventListener(Qr[p]||p,de,it.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(de=function(ze){ze=ze||window.event,Gt(a,ze)&&Pe(ze)},a.addEventListener(Qr[p],de,!1)):a.addEventListener(p,Pe,!1):a.attachEvent("on"+p,de),a[vr]=a[vr]||{},a[vr][G]=de}function zi(a,p,S,j,G){G=G||p+c(S)+(j?"_"+c(j):"");var de=a[vr]&&a[vr][G];if(!de)return this;!it.touchNative&&it.pointer&&p.indexOf("touch")===0?Lr(a,p,de):it.touch&&p==="dblclick"?yt(a,de):"removeEventListener"in a?a.removeEventListener(Qr[p]||p,de,!1):a.detachEvent("on"+p,de),a[vr][G]=null}function xr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Oo(a){return ei(a,"wheel",xr),this}function Ui(a){return Ut(a,"mousedown touchstart dblclick contextmenu",xr),a._leaflet_disable_click=!0,this}function rr(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Wi(a){return rr(a),xr(a),this}function W(a){if(a.composedPath)return a.composedPath();for(var p=[],S=a.target;S;)p.push(S),S=S.parentNode;return p}function ge(a,p){if(!p)return new te(a.clientX,a.clientY);var S=zn(p),j=S.boundingClientRect;return new te((a.clientX-j.left)/S.x-p.clientLeft,(a.clientY-j.top)/S.y-p.clientTop)}var Ne=it.linux&&it.chrome?window.devicePixelRatio:it.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ke(a){return it.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ne:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Gt(a,p){var S=p.relatedTarget;if(!S)return!0;try{for(;S&&S!==a;)S=S.parentNode}catch{return!1}return S!==a}var Tt={__proto__:null,on:Ut,off:Zt,stopPropagation:xr,disableScrollPropagation:Oo,disableClickPropagation:Ui,preventDefault:rr,stop:Wi,getPropagationPath:W,getMousePosition:ge,getWheelDelta:Ke,isExternalTarget:Gt,addListener:Ut,removeListener:Zt},gn=ie.extend({run:function(a,p,S,j){this.stop(),this._el=a,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(j||.5,.2),this._startPos=Hn(a),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var p=+new Date-this._startTime,S=this._duration*1e3;p<S?this._runFrame(this._easeOut(p/S),a):(this._runFrame(1),this._complete())},_runFrame:function(a,p){var S=this._startPos.add(this._offset.multiplyBy(a));p&&S._round(),dn(this._el,S),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),_t=ie.extend({options:{crs:J,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,p){p=w(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Oe(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&it.any3d&&!it.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,An,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,p,S){if(p=p===void 0?this._zoom:this._limitZoom(p),a=this._limitCenter(Oe(a),p,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var j=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,p,S.zoom):this._tryAnimatedPan(a,S.pan);if(j)return clearTimeout(this._sizeTimer),this}return this._resetView(a,p,S.pan&&S.pan.noMoveStart),this},setZoom:function(a,p){return this._loaded?this.setView(this.getCenter(),a,{zoom:p}):(this._zoom=a,this)},zoomIn:function(a,p){return a=a||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,p)},zoomOut:function(a,p){return a=a||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,p)},setZoomAround:function(a,p,S){var j=this.getZoomScale(p),G=this.getSize().divideBy(2),de=a instanceof te?a:this.latLngToContainerPoint(a),Pe=de.subtract(G).multiplyBy(1-1/j),ze=this.containerPointToLatLng(G.add(Pe));return this.setView(ze,p,{zoom:S})},_getBoundsCenterZoom:function(a,p){p=p||{},a=a.getBounds?a.getBounds():X(a);var S=Y(p.paddingTopLeft||p.padding||[0,0]),j=Y(p.paddingBottomRight||p.padding||[0,0]),G=this.getBoundsZoom(a,!1,S.add(j));if(G=typeof p.maxZoom=="number"?Math.min(p.maxZoom,G):G,G===1/0)return{center:a.getCenter(),zoom:G};var de=j.subtract(S).divideBy(2),Pe=this.project(a.getSouthWest(),G),ze=this.project(a.getNorthEast(),G),qe=this.unproject(Pe.add(ze).divideBy(2).add(de),G);return{center:qe,zoom:G}},fitBounds:function(a,p){if(a=X(a),!a.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(a,p);return this.setView(S.center,S.zoom,p)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,p){return this.setView(a,this._zoom,{pan:p})},panBy:function(a,p){if(a=Y(a).round(),p=p||{},!a.x&&!a.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){zt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,S,p.duration||.25,p.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,p,S){if(S=S||{},S.animate===!1||!it.any3d)return this.setView(a,p,S);this._stop();var j=this.project(this.getCenter()),G=this.project(a),de=this.getSize(),Pe=this._zoom;a=Oe(a),p=p===void 0?Pe:p;var ze=Math.max(de.x,de.y),qe=ze*this.getZoomScale(Pe,p),tt=G.distanceTo(j)||1,wt=1.42,Wt=wt*wt;function on(On){var Ro=On?-1:1,Gs=On?qe:ze,Eh=qe*qe-ze*ze+Ro*Wt*Wt*tt*tt,Cn=2*Gs*Wt*tt,wr=Eh/Cn,wl=Math.sqrt(wr*wr+1)-wr,_l=wl<1e-9?-18:Math.log(wl);return _l}function zr(On){return(Math.exp(On)-Math.exp(-On))/2}function yr(On){return(Math.exp(On)+Math.exp(-On))/2}function bi(On){return zr(On)/yr(On)}var Ur=on(0);function fs(On){return ze*(yr(Ur)/yr(Ur+wt*On))}function Vf(On){return ze*(yr(Ur)*bi(Ur+wt*On)-zr(Ur))/Wt}function Lc(On){return 1-Math.pow(1-On,1.5)}var ci=Date.now(),Gf=(on(1)-Ur)/wt,br=S.duration?1e3*S.duration:1e3*Gf*.8;function Sh(){var On=(Date.now()-ci)/br,Ro=Lc(On)*Gf;On<=1?(this._flyToFrame=H(Sh,this),this._move(this.unproject(j.add(G.subtract(j).multiplyBy(Vf(Ro)/tt)),Pe),this.getScaleZoom(ze/fs(Ro),Pe),{flyTo:!0})):this._move(a,p)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Sh.call(this),this},flyToBounds:function(a,p){var S=this._getBoundsCenterZoom(a,p);return this.flyTo(S.center,S.zoom,p)},setMaxBounds:function(a){return a=X(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var p=this.options.minZoom;return this.options.minZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var p=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,p){this._enforcingBounds=!0;var S=this.getCenter(),j=this._limitCenter(S,this._zoom,X(a));return S.equals(j)||this.panTo(j,p),this._enforcingBounds=!1,this},panInside:function(a,p){p=p||{};var S=Y(p.paddingTopLeft||p.padding||[0,0]),j=Y(p.paddingBottomRight||p.padding||[0,0]),G=this.project(this.getCenter()),de=this.project(a),Pe=this.getPixelBounds(),ze=ke([Pe.min.add(S),Pe.max.subtract(j)]),qe=ze.getSize();if(!ze.contains(de)){this._enforcingBounds=!0;var tt=de.subtract(ze.getCenter()),wt=ze.extend(de).getSize().subtract(qe);G.x+=tt.x<0?-wt.x:wt.x,G.y+=tt.y<0?-wt.y:wt.y,this.panTo(this.unproject(G),p),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),j=p.divideBy(2).round(),G=S.divideBy(2).round(),de=j.subtract(G);return!de.x&&!de.y?this:(a.animate&&a.pan?this.panBy(de):(a.pan&&this._rawPanBy(de),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),S=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,S,a):navigator.geolocation.getCurrentPosition(p,S,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var p=a.code,S=a.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var p=a.coords.latitude,S=a.coords.longitude,j=new K(p,S),G=j.toBounds(a.coords.accuracy*2),de=this._locateOptions;if(de.setView){var Pe=this.getBoundsZoom(G);this.setView(j,de.maxZoom?Math.min(Pe,de.maxZoom):Pe)}var ze={latlng:j,bounds:G,timestamp:a.timestamp};for(var qe in a.coords)typeof a.coords[qe]=="number"&&(ze[qe]=a.coords[qe]);this.fire("locationfound",ze)}},addHandler:function(a,p){if(!p)return this;var S=this[a]=new p(this);return this._handlers.push(S),this.options[a]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),hn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)hn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,p){var S="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),j=Ct("div",S,p||this._mapPane);return a&&(this._panes[a]=j),j},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),p=this.unproject(a.getBottomLeft()),S=this.unproject(a.getTopRight());return new xe(p,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,p,S){a=X(a),S=Y(S||[0,0]);var j=this.getZoom()||0,G=this.getMinZoom(),de=this.getMaxZoom(),Pe=a.getNorthWest(),ze=a.getSouthEast(),qe=this.getSize().subtract(S),tt=ke(this.project(ze,j),this.project(Pe,j)).getSize(),wt=it.any3d?this.options.zoomSnap:1,Wt=qe.x/tt.x,on=qe.y/tt.y,zr=p?Math.max(Wt,on):Math.min(Wt,on);return j=this.getScaleZoom(zr,j),wt&&(j=Math.round(j/(wt/100))*(wt/100),j=p?Math.ceil(j/wt)*wt:Math.floor(j/wt)*wt),Math.max(G,Math.min(de,j))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,p){var S=this._getTopLeftPoint(a,p);return new ue(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,p){var S=this.options.crs;return p=p===void 0?this._zoom:p,S.scale(a)/S.scale(p)},getScaleZoom:function(a,p){var S=this.options.crs;p=p===void 0?this._zoom:p;var j=S.zoom(a*S.scale(p));return isNaN(j)?1/0:j},project:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Oe(a),p)},unproject:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(Y(a),p)},layerPointToLatLng:function(a){var p=Y(a).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(a){var p=this.project(Oe(a))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Oe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(X(a))},distance:function(a,p){return this.options.crs.distance(Oe(a),Oe(p))},containerPointToLayerPoint:function(a){return Y(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Y(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var p=this.containerPointToLayerPoint(Y(a));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Oe(a)))},mouseEventToContainerPoint:function(a){return ge(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var p=this._container=qn(a);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&it.any3d,zt(a,"leaflet-container"+(it.touch?" leaflet-touch":"")+(it.retina?" leaflet-retina":"")+(it.ielt9?" leaflet-oldie":"")+(it.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=et(a,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dn(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(zt(a.markerPane,"leaflet-zoom-hide"),zt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,p,S){dn(this._mapPane,new te(0,0));var j=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var G=this._zoom!==p;this._moveStart(G,S)._move(a,p)._moveEnd(G),this.fire("viewreset"),j&&this.fire("load")},_moveStart:function(a,p){return a&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(a,p,S,j){p===void 0&&(p=this._zoom);var G=this._zoom!==p;return this._zoom=p,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),j?S&&S.pinch&&this.fire("zoom",S):((G||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){dn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[c(this._container)]=this;var p=a?Zt:Ut;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),it.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,p){for(var S=[],j,G=p==="mouseout"||p==="mouseover",de=a.target||a.srcElement,Pe=!1;de;){if(j=this._targets[c(de)],j&&(p==="click"||p==="preclick")&&this._draggableMoved(j)){Pe=!0;break}if(j&&j.listens(p,!0)&&(G&&!Gt(de,a)||(S.push(j),G))||de===this._container)break;de=de.parentNode}return!S.length&&!Pe&&!G&&this.listens(p,!0)&&(S=[this]),S},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var p=a.target||a.srcElement;if(!(!this._loaded||p._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(p))){var S=a.type;S==="mousedown"&&Bs(p),this._fireDOMEvent(a,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,p,S){if(a.type==="click"){var j=i({},a);j.type="preclick",this._fireDOMEvent(j,j.type,S)}var G=this._findEventTargets(a,p);if(S){for(var de=[],Pe=0;Pe<S.length;Pe++)S[Pe].listens(p,!0)&&de.push(S[Pe]);G=de.concat(G)}if(G.length){p==="contextmenu"&&rr(a);var ze=G[0],qe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var tt=ze.getLatLng&&(!ze._radius||ze._radius<=10);qe.containerPoint=tt?this.latLngToContainerPoint(ze.getLatLng()):this.mouseEventToContainerPoint(a),qe.layerPoint=this.containerPointToLayerPoint(qe.containerPoint),qe.latlng=tt?ze.getLatLng():this.layerPointToLatLng(qe.layerPoint)}for(Pe=0;Pe<G.length;Pe++)if(G[Pe].fire(p,qe,!0),qe.originalEvent._stopped||G[Pe].options.bubblingMouseEvents===!1&&A(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,p=this._handlers.length;a<p;a++)this._handlers[a].disable()},whenReady:function(a,p){return this._loaded?a.call(p||this,{target:this}):this.on("load",a,p),this},_getMapPanePos:function(){return Hn(this._mapPane)||new te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,p){var S=a&&p!==void 0?this._getNewPixelOrigin(a,p):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,p){var S=this.getSize()._divideBy(2);return this.project(a,p)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,p,S){var j=this._getNewPixelOrigin(S,p);return this.project(a,p)._subtract(j)},_latLngBoundsToNewLayerBounds:function(a,p,S){var j=this._getNewPixelOrigin(S,p);return ke([this.project(a.getSouthWest(),p)._subtract(j),this.project(a.getNorthWest(),p)._subtract(j),this.project(a.getSouthEast(),p)._subtract(j),this.project(a.getNorthEast(),p)._subtract(j)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,p,S){if(!S)return a;var j=this.project(a,p),G=this.getSize().divideBy(2),de=new ue(j.subtract(G),j.add(G)),Pe=this._getBoundsOffset(de,S,p);return Math.abs(Pe.x)<=1&&Math.abs(Pe.y)<=1?a:this.unproject(j.add(Pe),p)},_limitOffset:function(a,p){if(!p)return a;var S=this.getPixelBounds(),j=new ue(S.min.add(a),S.max.add(a));return a.add(this._getBoundsOffset(j,p))},_getBoundsOffset:function(a,p,S){var j=ke(this.project(p.getNorthEast(),S),this.project(p.getSouthWest(),S)),G=j.min.subtract(a.min),de=j.max.subtract(a.max),Pe=this._rebound(G.x,-de.x),ze=this._rebound(G.y,-de.y);return new te(Pe,ze)},_rebound:function(a,p){return a+p>0?Math.round(a-p)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(p))},_limitZoom:function(a){var p=this.getMinZoom(),S=this.getMaxZoom(),j=it.any3d?this.options.zoomSnap:1;return j&&(a=Math.round(a/j)*j),Math.max(p,Math.min(S,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,p){var S=this._getCenterOffset(a)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,p),!0)},_createAnimProxy:function(){var a=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(p){var S=tn,j=this._proxy.style[S];rn(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),j===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){hn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),p=this.getZoom();rn(this._proxy,this.project(a,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,p,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var j=this.getZoomScale(p),G=this._getCenterOffset(a)._divideBy(1-1/j);return S.animate!==!0&&!this.getSize().contains(G)?!1:(H(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(a,p,!0)},this),!0)},_animateZoom:function(a,p,S,j){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=p,zt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:p,noUpdate:j}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kn(a,p){return new _t(a,p)}var ln=ee.extend({options:{position:"topright"},initialize:function(a){w(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var p=this._map;return p&&p.removeControl(this),this.options.position=a,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var p=this._container=this.onAdd(a),S=this.getPosition(),j=a._controlCorners[S];return zt(p,"leaflet-control"),S.indexOf("bottom")!==-1?j.insertBefore(p,j.firstChild):j.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(hn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Zn=function(a){return new ln(a)};_t.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},p="leaflet-",S=this._controlContainer=Ct("div",p+"control-container",this._container);function j(G,de){var Pe=p+G+" "+p+de;a[G+de]=Ct("div",Pe,S)}j("top","left"),j("top","right"),j("bottom","left"),j("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)hn(this._controlCorners[a]);hn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Sr=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,p,S,j){return S<j?-1:j<S?1:0}},initialize:function(a,p,S){w(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var j in a)this._addLayer(a[j],j);for(j in p)this._addLayer(p[j],j,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,p){return this._addLayer(a,p),this._map?this._update():this},addOverlay:function(a,p){return this._addLayer(a,p,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(a));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){zt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(zt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",p=this._container=Ct("div",a),S=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Ui(p),Oo(p);var j=this._section=Ct("section",a+"-list");S&&(this._map.on("click",this.collapse,this),Ut(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Ct("a",a+"-toggle",p);G.href="#",G.title="Layers",G.setAttribute("role","button"),Ut(G,{keydown:function(de){de.keyCode===13&&this._expandSafely()},click:function(de){rr(de),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Ct("div",a+"-base",j),this._separator=Ct("div",a+"-separator",j),this._overlaysList=Ct("div",a+"-overlays",j),p.appendChild(j)},_getLayer:function(a){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===a)return this._layers[p]},_addLayer:function(a,p,S){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:p,overlay:S}),this.options.sortLayers&&this._layers.sort(l(function(j,G){return this.options.sortFunction(j.layer,G.layer,j.name,G.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;jr(this._baseLayersList),jr(this._overlaysList),this._layerControlInputs=[];var a,p,S,j,G=0;for(S=0;S<this._layers.length;S++)j=this._layers[S],this._addItem(j),p=p||j.overlay,a=a||!j.overlay,G+=j.overlay?0:1;return this.options.hideSingleBase&&(a=a&&G>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=p&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var p=this._getLayer(c(a.target)),S=p.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;S&&this._map.fire(S,p)},_createRadioElement:function(a,p){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(p?' checked="checked"':"")+"/>",j=document.createElement("div");return j.innerHTML=S,j.firstChild},_addItem:function(a){var p=document.createElement("label"),S=this._map.hasLayer(a.layer),j;a.overlay?(j=document.createElement("input"),j.type="checkbox",j.className="leaflet-control-layers-selector",j.defaultChecked=S):j=this._createRadioElement("leaflet-base-layers_"+c(this),S),this._layerControlInputs.push(j),j.layerId=c(a.layer),Ut(j,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+a.name;var de=document.createElement("span");p.appendChild(de),de.appendChild(j),de.appendChild(G);var Pe=a.overlay?this._overlaysList:this._baseLayersList;return Pe.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,p,S,j=[],G=[];this._handlingClick=!0;for(var de=a.length-1;de>=0;de--)p=a[de],S=this._getLayer(p.layerId).layer,p.checked?j.push(S):p.checked||G.push(S);for(de=0;de<G.length;de++)this._map.hasLayer(G[de])&&this._map.removeLayer(G[de]);for(de=0;de<j.length;de++)this._map.hasLayer(j[de])||this._map.addLayer(j[de]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,p,S,j=this._map.getZoom(),G=a.length-1;G>=0;G--)p=a[G],S=this._getLayer(p.layerId).layer,p.disabled=S.options.minZoom!==void 0&&j<S.options.minZoom||S.options.maxZoom!==void 0&&j>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",rr),this.expand();var p=this;setTimeout(function(){Zt(a,"click",rr),p._preventClick=!1})}}),Bn=function(a,p,S){return new Sr(a,p,S)},jn=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var p="leaflet-control-zoom",S=Ct("div",p+" leaflet-bar"),j=this.options;return this._zoomInButton=this._createButton(j.zoomInText,j.zoomInTitle,p+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(j.zoomOutText,j.zoomOutTitle,p+"-out",S,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,p,S,j,G){var de=Ct("a",S,j);return de.innerHTML=a,de.href="#",de.title=p,de.setAttribute("role","button"),de.setAttribute("aria-label",p),Ui(de),Ut(de,"click",Wi),Ut(de,"click",G,this),Ut(de,"click",this._refocusOnMap,this),de},_updateDisabled:function(){var a=this._map,p="leaflet-disabled";Ln(this._zoomInButton,p),Ln(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(zt(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(zt(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});_t.mergeOptions({zoomControl:!0}),_t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jn,this.addControl(this.zoomControl))});var lr=function(a){return new jn(a)},li=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var p="leaflet-control-scale",S=Ct("div",p),j=this.options;return this._addScales(j,p+"-line",S),a.on(j.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),S},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,p,S){a.metric&&(this._mScale=Ct("div",p,S)),a.imperial&&(this._iScale=Ct("div",p,S))},_update:function(){var a=this._map,p=a.getSize().y/2,S=a.distance(a.containerPointToLatLng([0,p]),a.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(S)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var p=this._getRoundNum(a),S=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,S,p/a)},_updateImperial:function(a){var p=a*3.2808399,S,j,G;p>5280?(S=p/5280,j=this._getRoundNum(S),this._updateScale(this._iScale,j+" mi",j/S)):(G=this._getRoundNum(p),this._updateScale(this._iScale,G+" ft",G/p))},_updateScale:function(a,p,S){a.style.width=Math.round(this.options.maxWidth*S)+"px",a.innerHTML=p},_getRoundNum:function(a){var p=Math.pow(10,(Math.floor(a)+"").length-1),S=a/p;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,p*S}}),qi=function(a){return new li(a)},Li='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',js=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(it.inlineSvg?Li+" ":"")+"Leaflet</a>"},initialize:function(a){w(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),Ui(this._container);for(var p in a._layers)a._layers[p].getAttribution&&this.addAttribution(a._layers[p].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var p in this._attributions)this._attributions[p]&&a.push(p);var S=[];this.options.prefix&&S.push(this.options.prefix),a.length&&S.push(a.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});_t.mergeOptions({attributionControl:!0}),_t.addInitHook(function(){this.options.attributionControl&&new js().addTo(this)});var ga=function(a){return new js(a)};ln.Layers=Sr,ln.Zoom=jn,ln.Scale=li,ln.Attribution=js,Zn.layers=Bn,Zn.zoom=lr,Zn.scale=qi,Zn.attribution=ga;var $r=ee.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$r.addTo=function(a,p){return a.addHandler(p,this),this};var Jg={Events:me},uh=it.touch?"touchstart mousedown":"mousedown",Lo=ie.extend({options:{clickTolerance:3},initialize:function(a,p,S,j){w(this,j),this._element=a,this._dragStartTarget=p||a,this._preventOutline=S},enable:function(){this._enabled||(Ut(this._dragStartTarget,uh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Lo._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,uh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!mr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Lo._dragging===this&&this.finishDrag();return}if(!(Lo._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Lo._dragging=this,this._preventOutline&&Bs(this._element),si(),Fn(),!this._moving)){this.fire("down");var p=a.touches?a.touches[0]:a,S=yn(this._element);this._startPoint=new te(p.clientX,p.clientY),this._startPos=Hn(this._element),this._parentScale=zn(S);var j=a.type==="mousedown";Ut(document,j?"mousemove":"touchmove",this._onMove,this),Ut(document,j?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var p=a.touches&&a.touches.length===1?a.touches[0]:a,S=new te(p.clientX,p.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,rr(a),this._moved||(this.fire("dragstart"),this._moved=!0,zt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),zt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),dn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ln(document.body,"leaflet-dragging"),this._lastTarget&&(Ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),Rs(),Mr();var p=this._moved&&this._moving;this._moving=!1,Lo._dragging=!1,p&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Of(a,p,S){var j,G=[1,4,2,8],de,Pe,ze,qe,tt,wt,Wt,on;for(de=0,wt=a.length;de<wt;de++)a[de]._code=os(a[de],p);for(ze=0;ze<4;ze++){for(Wt=G[ze],j=[],de=0,wt=a.length,Pe=wt-1;de<wt;Pe=de++)qe=a[de],tt=a[Pe],qe._code&Wt?tt._code&Wt||(on=zs(tt,qe,Wt,p,S),on._code=os(on,p),j.push(on)):(tt._code&Wt&&(on=zs(tt,qe,Wt,p,S),on._code=os(on,p),j.push(on)),j.push(qe));a=j}return a}function yc(a,p){var S,j,G,de,Pe,ze,qe,tt,wt;if(!a||a.length===0)throw new Error("latlngs not passed");Pr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Wt=Oe([0,0]),on=X(a),zr=on.getNorthWest().distanceTo(on.getSouthWest())*on.getNorthEast().distanceTo(on.getNorthWest());zr<1700&&(Wt=$s(a));var yr=a.length,bi=[];for(S=0;S<yr;S++){var Ur=Oe(a[S]);bi.push(p.project(Oe([Ur.lat-Wt.lat,Ur.lng-Wt.lng])))}for(ze=qe=tt=0,S=0,j=yr-1;S<yr;j=S++)G=bi[S],de=bi[j],Pe=G.y*de.x-de.y*G.x,qe+=(G.x+de.x)*Pe,tt+=(G.y+de.y)*Pe,ze+=Pe*3;ze===0?wt=bi[0]:wt=[qe/ze,tt/ze];var fs=p.unproject(Y(wt));return Oe([fs.lat+Wt.lat,fs.lng+Wt.lng])}function $s(a){for(var p=0,S=0,j=0,G=0;G<a.length;G++){var de=Oe(a[G]);p+=de.lat,S+=de.lng,j++}return Oe([p/j,S/j])}var Lf={__proto__:null,clipPolygon:Of,polygonCenter:yc,centroid:$s};function Mf(a,p){if(!p||!a.length)return a.slice();var S=p*p;return a=Nf(a,S),a=Pf(a,S),a}function hh(a,p,S){return Math.sqrt(hl(a,p,S,!0))}function dh(a,p,S){return hl(a,p,S)}function Pf(a,p){var S=a.length,j=typeof Uint8Array!=void 0+""?Uint8Array:Array,G=new j(S);G[0]=G[S-1]=1,fh(a,G,p,0,S-1);var de,Pe=[];for(de=0;de<S;de++)G[de]&&Pe.push(a[de]);return Pe}function fh(a,p,S,j,G){var de=0,Pe,ze,qe;for(ze=j+1;ze<=G-1;ze++)qe=hl(a[ze],a[j],a[G],!0),qe>de&&(Pe=ze,de=qe);de>S&&(p[Pe]=1,fh(a,p,S,j,Pe),fh(a,p,S,Pe,G))}function Nf(a,p){for(var S=[a[0]],j=1,G=0,de=a.length;j<de;j++)ul(a[j],a[G])>p&&(S.push(a[j]),G=j);return G<de-1&&S.push(a[de-1]),S}var Hs;function ph(a,p,S,j,G){var de=j?Hs:os(a,S),Pe=os(p,S),ze,qe,tt;for(Hs=Pe;;){if(!(de|Pe))return[a,p];if(de&Pe)return!1;ze=de||Pe,qe=zs(a,p,ze,S,G),tt=os(qe,S),ze===de?(a=qe,de=tt):(p=qe,Pe=tt)}}function zs(a,p,S,j,G){var de=p.x-a.x,Pe=p.y-a.y,ze=j.min,qe=j.max,tt,wt;return S&8?(tt=a.x+de*(qe.y-a.y)/Pe,wt=qe.y):S&4?(tt=a.x+de*(ze.y-a.y)/Pe,wt=ze.y):S&2?(tt=qe.x,wt=a.y+Pe*(qe.x-a.x)/de):S&1&&(tt=ze.x,wt=a.y+Pe*(ze.x-a.x)/de),new te(tt,wt,G)}function os(a,p){var S=0;return a.x<p.min.x?S|=1:a.x>p.max.x&&(S|=2),a.y<p.min.y?S|=4:a.y>p.max.y&&(S|=8),S}function ul(a,p){var S=p.x-a.x,j=p.y-a.y;return S*S+j*j}function hl(a,p,S,j){var G=p.x,de=p.y,Pe=S.x-G,ze=S.y-de,qe=Pe*Pe+ze*ze,tt;return qe>0&&(tt=((a.x-G)*Pe+(a.y-de)*ze)/qe,tt>1?(G=S.x,de=S.y):tt>0&&(G+=Pe*tt,de+=ze*tt)),Pe=a.x-G,ze=a.y-de,j?Pe*Pe+ze*ze:new te(G,de)}function Pr(a){return!k(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function If(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pr(a)}function Df(a,p){var S,j,G,de,Pe,ze,qe,tt;if(!a||a.length===0)throw new Error("latlngs not passed");Pr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var wt=Oe([0,0]),Wt=X(a),on=Wt.getNorthWest().distanceTo(Wt.getSouthWest())*Wt.getNorthEast().distanceTo(Wt.getNorthWest());on<1700&&(wt=$s(a));var zr=a.length,yr=[];for(S=0;S<zr;S++){var bi=Oe(a[S]);yr.push(p.project(Oe([bi.lat-wt.lat,bi.lng-wt.lng])))}for(S=0,j=0;S<zr-1;S++)j+=yr[S].distanceTo(yr[S+1])/2;if(j===0)tt=yr[0];else for(S=0,de=0;S<zr-1;S++)if(Pe=yr[S],ze=yr[S+1],G=Pe.distanceTo(ze),de+=G,de>j){qe=(de-j)/G,tt=[ze.x-qe*(ze.x-Pe.x),ze.y-qe*(ze.y-Pe.y)];break}var Ur=p.unproject(Y(tt));return Oe([Ur.lat+wt.lat,Ur.lng+wt.lng])}var Qg={__proto__:null,simplify:Mf,pointToSegmentDistance:hh,closestPointOnSegment:dh,clipSegment:ph,_getEdgeIntersection:zs,_getBitCode:os,_sqClosestPointOnSegment:hl,isFlat:Pr,_flat:If,polylineCenter:Df},va={project:function(a){return new te(a.lng,a.lat)},unproject:function(a){return new K(a.y,a.x)},bounds:new ue([-180,-90],[180,90])},dl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var p=Math.PI/180,S=this.R,j=a.lat*p,G=this.R_MINOR/S,de=Math.sqrt(1-G*G),Pe=de*Math.sin(j),ze=Math.tan(Math.PI/4-j/2)/Math.pow((1-Pe)/(1+Pe),de/2);return j=-S*Math.log(Math.max(ze,1e-10)),new te(a.lng*p*S,j)},unproject:function(a){for(var p=180/Math.PI,S=this.R,j=this.R_MINOR/S,G=Math.sqrt(1-j*j),de=Math.exp(-a.y/S),Pe=Math.PI/2-2*Math.atan(de),ze=0,qe=.1,tt;ze<15&&Math.abs(qe)>1e-7;ze++)tt=G*Math.sin(Pe),tt=Math.pow((1-tt)/(1+tt),G/2),qe=Math.PI/2-2*Math.atan(de*tt)-Pe,Pe+=qe;return new K(Pe*p,a.x*p/S)}},ya={__proto__:null,LonLat:va,Mercator:dl,SphericalMercator:ae},bc=i({},Q,{code:"EPSG:3395",projection:dl,transformation:function(){var a=.5/(Math.PI*dl.R);return q(a,.5,-a,.5)}()}),ba=i({},Q,{code:"EPSG:4326",projection:va,transformation:q(1/180,1,-1/180,.5)}),wc=i({},Fe,{projection:va,transformation:q(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,p){var S=p.lng-a.lng,j=p.lat-a.lat;return Math.sqrt(S*S+j*j)},infinite:!0});Fe.Earth=Q,Fe.EPSG3395=bc,Fe.EPSG3857=J,Fe.EPSG900913=pe,Fe.EPSG4326=ba,Fe.Simple=wc;var Hr=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[c(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[c(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var p=a.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var S=this.getEvents();p.on(S,this),this.once("remove",function(){p.off(S,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});_t.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(a);return this._layers[p]?this:(this._layers[p]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var p=c(a);return this._layers[p]?(this._loaded&&a.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return c(a)in this._layers},eachLayer:function(a,p){for(var S in this._layers)a.call(p,this._layers[S]);return this},_addLayers:function(a){a=a?k(a)?a:[a]:[];for(var p=0,S=a.length;p<S;p++)this.addLayer(a[p])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[c(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var p=c(a);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,p=-1/0,S=this._getZoomSpan();for(var j in this._zoomBoundLayers){var G=this._zoomBoundLayers[j].options;a=G.minZoom===void 0?a:Math.min(a,G.minZoom),p=G.maxZoom===void 0?p:Math.max(p,G.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=a===1/0?void 0:a,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ss=Hr.extend({initialize:function(a,p){w(this,p),this._layers={};var S,j;if(a)for(S=0,j=a.length;S<j;S++)this.addLayer(a[S])},addLayer:function(a){var p=this.getLayerId(a);return this._layers[p]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var p=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(a){var p=typeof a=="number"?a:this.getLayerId(a);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var p=Array.prototype.slice.call(arguments,1),S,j;for(S in this._layers)j=this._layers[S],j[a]&&j[a].apply(j,p);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,p){for(var S in this._layers)a.call(p,this._layers[S]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return c(a)}}),Rf=function(a,p){return new ss(a,p)},Dt=ss.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ss.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ss.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new xe;for(var p in this._layers){var S=this._layers[p];a.extend(S.getBounds?S.getBounds():S.getLatLng())}return a}}),ev=function(a,p){return new Dt(a,p)},Mo=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){w(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,p){var S=this._getIconUrl(a);if(!S){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var j=this._createImg(S,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(j,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),j},_setIconStyles:function(a,p){var S=this.options,j=S[p+"Size"];typeof j=="number"&&(j=[j,j]);var G=Y(j),de=Y(p==="shadow"&&S.shadowAnchor||S.iconAnchor||G&&G.divideBy(2,!0));a.className="leaflet-marker-"+p+" "+(S.className||""),de&&(a.style.marginLeft=-de.x+"px",a.style.marginTop=-de.y+"px"),G&&(a.style.width=G.x+"px",a.style.height=G.y+"px")},_createImg:function(a,p){return p=p||document.createElement("img"),p.src=a,p},_getIconUrl:function(a){return it.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function wa(a){return new Mo(a)}var fl=Mo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof fl.imagePath!="string"&&(fl.imagePath=this._detectIconPath()),(this.options.imagePath||fl.imagePath)+Mo.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var p=function(S,j,G){var de=j.exec(S);return de&&de[G]};return a=p(a,/^url\((['"])?(.+)\1\)$/,2),a&&p(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ct("div","leaflet-default-icon-path",document.body),p=et(a,"background-image")||et(a,"backgroundImage");if(document.body.removeChild(a),p=this._stripUrl(p),p)return p;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),mh=$r.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Lo(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),zt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var p=this._marker,S=p._map,j=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,de=Hn(p._icon),Pe=S.getPixelBounds(),ze=S.getPixelOrigin(),qe=ke(Pe.min._subtract(ze).add(G),Pe.max._subtract(ze).subtract(G));if(!qe.contains(de)){var tt=Y((Math.max(qe.max.x,de.x)-qe.max.x)/(Pe.max.x-qe.max.x)-(Math.min(qe.min.x,de.x)-qe.min.x)/(Pe.min.x-qe.min.x),(Math.max(qe.max.y,de.y)-qe.max.y)/(Pe.max.y-qe.max.y)-(Math.min(qe.min.y,de.y)-qe.min.y)/(Pe.min.y-qe.min.y)).multiplyBy(j);S.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),dn(p._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var p=this._marker,S=p._shadow,j=Hn(p._icon),G=p._map.layerPointToLatLng(j);S&&dn(S,j),p._latlng=G,a.latlng=G,a.oldLatLng=this._oldLatLng,p.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),_c=Hr.extend({options:{icon:new fl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,p){w(this,p),this._latlng=Oe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var p=this._latlng;return this._latlng=Oe(a),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=a.icon.createIcon(this._icon),j=!1;S!==this._icon&&(this._icon&&this._removeIcon(),j=!0,a.title&&(S.title=a.title),S.tagName==="IMG"&&(S.alt=a.alt||"")),zt(S,p),a.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(S,"focus",this._panOnFocus,this);var G=a.icon.createShadow(this._shadow),de=!1;G!==this._shadow&&(this._removeShadow(),de=!0),G&&(zt(G,p),G.alt=""),this._shadow=G,a.opacity<1&&this._updateOpacity(),j&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&de&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),hn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&hn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&dn(this._icon,a),this._shadow&&dn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(zt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mh)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mh(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ar(this._icon,a),this._shadow&&ar(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var p=this.options.icon.options,S=p.iconSize?Y(p.iconSize):Y(0,0),j=p.iconAnchor?Y(p.iconAnchor):Y(0,0);a.panInside(this._latlng,{paddingTopLeft:j,paddingBottomRight:S.subtract(j)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tv(a,p){return new _c(a,p)}var Vi=Hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return w(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),as=Vi.extend({options:{fill:!0,radius:10},initialize:function(a,p){w(this,p),this._latlng=Oe(a),this._radius=this.options.radius},setLatLng:function(a){var p=this._latlng;return this._latlng=Oe(a),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var p=a&&a.radius||this._radius;return Vi.prototype.setStyle.call(this,a),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,p=this._radiusY||a,S=this._clickTolerance(),j=[a+S,p+S];this._pxBounds=new ue(this._point.subtract(j),this._point.add(j))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nv(a,p){return new as(a,p)}var gh=as.extend({initialize:function(a,p,S){if(typeof p=="number"&&(p=i({},S,{radius:p})),w(this,p),this._latlng=Oe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Vi.prototype.setStyle,_project:function(){var a=this._latlng.lng,p=this._latlng.lat,S=this._map,j=S.options.crs;if(j.distance===Q.distance){var G=Math.PI/180,de=this._mRadius/Q.R/G,Pe=S.project([p+de,a]),ze=S.project([p-de,a]),qe=Pe.add(ze).divideBy(2),tt=S.unproject(qe).lat,wt=Math.acos((Math.cos(de*G)-Math.sin(p*G)*Math.sin(tt*G))/(Math.cos(p*G)*Math.cos(tt*G)))/G;(isNaN(wt)||wt===0)&&(wt=de/Math.cos(Math.PI/180*p)),this._point=qe.subtract(S.getPixelOrigin()),this._radius=isNaN(wt)?0:qe.x-S.project([tt,a-wt]).x,this._radiusY=qe.y-Pe.y}else{var Wt=j.unproject(j.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Wt).x}this._updateBounds()}});function rv(a,p,S){return new gh(a,p,S)}var Po=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,p){w(this,p),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var p=1/0,S=null,j=hl,G,de,Pe=0,ze=this._parts.length;Pe<ze;Pe++)for(var qe=this._parts[Pe],tt=1,wt=qe.length;tt<wt;tt++){G=qe[tt-1],de=qe[tt];var Wt=j(a,G,de,!0);Wt<p&&(p=Wt,S=j(a,G,de))}return S&&(S.distance=Math.sqrt(p)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Df(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,p){return p=p||this._defaultShape(),a=Oe(a),p.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new xe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Pr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var p=[],S=Pr(a),j=0,G=a.length;j<G;j++)S?(p[j]=Oe(a[j]),this._bounds.extend(p[j])):p[j]=this._convertLatLngs(a[j]);return p},_project:function(){var a=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),p=new te(a,a);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(a,p,S){var j=a[0]instanceof K,G=a.length,de,Pe;if(j){for(Pe=[],de=0;de<G;de++)Pe[de]=this._map.latLngToLayerPoint(a[de]),S.extend(Pe[de]);p.push(Pe)}else for(de=0;de<G;de++)this._projectLatlngs(a[de],p,S)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,S,j,G,de,Pe,ze,qe;for(S=0,G=0,de=this._rings.length;S<de;S++)for(qe=this._rings[S],j=0,Pe=qe.length;j<Pe-1;j++)ze=ph(qe[j],qe[j+1],a,j,!0),ze&&(p[G]=p[G]||[],p[G].push(ze[0]),(ze[1]!==qe[j+1]||j===Pe-2)&&(p[G].push(ze[1]),G++))}},_simplifyPoints:function(){for(var a=this._parts,p=this.options.smoothFactor,S=0,j=a.length;S<j;S++)a[S]=Mf(a[S],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,p){var S,j,G,de,Pe,ze,qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(S=0,de=this._parts.length;S<de;S++)for(ze=this._parts[S],j=0,Pe=ze.length,G=Pe-1;j<Pe;G=j++)if(!(!p&&j===0)&&hh(a,ze[G],ze[j])<=qe)return!0;return!1}});function vh(a,p){return new Po(a,p)}Po._flat=If;var Us=Po.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var p=Po.prototype._convertLatLngs.call(this,a),S=p.length;return S>=2&&p[0]instanceof K&&p[0].equals(p[S-1])&&p.pop(),p},_setLatLngs:function(a){Po.prototype._setLatLngs.call(this,a),Pr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,p=this.options.weight,S=new te(p,p);if(a=new ue(a.min.subtract(S),a.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var j=0,G=this._rings.length,de;j<G;j++)de=Of(this._rings[j],a,!0),de.length&&this._parts.push(de)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var p=!1,S,j,G,de,Pe,ze,qe,tt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(de=0,qe=this._parts.length;de<qe;de++)for(S=this._parts[de],Pe=0,tt=S.length,ze=tt-1;Pe<tt;ze=Pe++)j=S[Pe],G=S[ze],j.y>a.y!=G.y>a.y&&a.x<(G.x-j.x)*(a.y-j.y)/(G.y-j.y)+j.x&&(p=!p);return p||Po.prototype._containsPoint.call(this,a,!0)}});function Ff(a,p){return new Us(a,p)}var No=Dt.extend({initialize:function(a,p){w(this,p),this._layers={},a&&this.addData(a)},addData:function(a){var p=k(a)?a:a.features,S,j,G;if(p){for(S=0,j=p.length;S<j;S++)G=p[S],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var de=this.options;if(de.filter&&!de.filter(a))return this;var Pe=pl(a,de);return Pe?(Pe.feature=ls(a),Pe.defaultOptions=Pe.options,this.resetStyle(Pe),de.onEachFeature&&de.onEachFeature(a,Pe),this.addLayer(Pe)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(p){this._setLayerStyle(p,a)},this)},_setLayerStyle:function(a,p){a.setStyle&&(typeof p=="function"&&(p=p(a.feature)),a.setStyle(p))}});function pl(a,p){var S=a.type==="Feature"?a.geometry:a,j=S?S.coordinates:null,G=[],de=p&&p.pointToLayer,Pe=p&&p.coordsToLatLng||_a,ze,qe,tt,wt;if(!j&&!S)return null;switch(S.type){case"Point":return ze=Pe(j),yh(de,a,ze,p);case"MultiPoint":for(tt=0,wt=j.length;tt<wt;tt++)ze=Pe(j[tt]),G.push(yh(de,a,ze,p));return new Dt(G);case"LineString":case"MultiLineString":return qe=Ws(j,S.type==="LineString"?0:1,Pe),new Po(qe,p);case"Polygon":case"MultiPolygon":return qe=Ws(j,S.type==="Polygon"?1:2,Pe),new Us(qe,p);case"GeometryCollection":for(tt=0,wt=S.geometries.length;tt<wt;tt++){var Wt=pl({geometry:S.geometries[tt],type:"Feature",properties:a.properties},p);Wt&&G.push(Wt)}return new Dt(G);case"FeatureCollection":for(tt=0,wt=S.features.length;tt<wt;tt++){var on=pl(S.features[tt],p);on&&G.push(on)}return new Dt(G);default:throw new Error("Invalid GeoJSON object.")}}function yh(a,p,S,j){return a?a(p,S):new _c(S,j&&j.markersInheritOptions&&j)}function _a(a){return new K(a[1],a[0],a[2])}function Ws(a,p,S){for(var j=[],G=0,de=a.length,Pe;G<de;G++)Pe=p?Ws(a[G],p-1,S):(S||_a)(a[G]),j.push(Pe);return j}function xc(a,p){return a=Oe(a),a.alt!==void 0?[y(a.lng,p),y(a.lat,p),y(a.alt,p)]:[y(a.lng,p),y(a.lat,p)]}function ml(a,p,S,j){for(var G=[],de=0,Pe=a.length;de<Pe;de++)G.push(p?ml(a[de],Pr(a[de])?0:p-1,S,j):xc(a[de],j));return!p&&S&&G.length>0&&G.push(G[0].slice()),G}function qs(a,p){return a.feature?i({},a.feature,{geometry:p}):ls(p)}function ls(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Sc={toGeoJSON:function(a){return qs(this,{type:"Point",coordinates:xc(this.getLatLng(),a)})}};_c.include(Sc),gh.include(Sc),as.include(Sc),Po.include({toGeoJSON:function(a){var p=!Pr(this._latlngs),S=ml(this._latlngs,p?1:0,!1,a);return qs(this,{type:(p?"Multi":"")+"LineString",coordinates:S})}}),Us.include({toGeoJSON:function(a){var p=!Pr(this._latlngs),S=p&&!Pr(this._latlngs[0]),j=ml(this._latlngs,S?2:p?1:0,!0,a);return p||(j=[j]),qs(this,{type:(S?"Multi":"")+"Polygon",coordinates:j})}}),ss.include({toMultiPoint:function(a){var p=[];return this.eachLayer(function(S){p.push(S.toGeoJSON(a).geometry.coordinates)}),qs(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(a){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(a);var S=p==="GeometryCollection",j=[];return this.eachLayer(function(G){if(G.toGeoJSON){var de=G.toGeoJSON(a);if(S)j.push(de.geometry);else{var Pe=ls(de);Pe.type==="FeatureCollection"?j.push.apply(j,Pe.features):j.push(Pe)}}}),S?qs(this,{geometries:j,type:"GeometryCollection"}):{type:"FeatureCollection",features:j}}});function Gi(a,p){return new No(a,p)}var iv=Gi,xa=Hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,p,S){this._url=a,this._bounds=X(p),w(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(zt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){hn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Vn(this._image),this},bringToBack:function(){return this._map&&pr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=X(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",p=this._image=a?this._url:Ct("img");if(zt(p,"leaflet-image-layer"),this._zoomAnimated&&zt(p,"leaflet-zoom-animated"),this.options.className&&zt(p,this.options.className),p.onselectstart=g,p.onmousemove=g,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(a){var p=this._map.getZoomScale(a.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;rn(this._image,S,p)},_reset:function(){var a=this._image,p=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=p.getSize();dn(a,p.min),a.style.width=S.x+"px",a.style.height=S.y+"px"},_updateOpacity:function(){ar(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Bf=function(a,p,S){return new xa(a,p,S)},cs=xa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",p=this._image=a?this._url:Ct("video");if(zt(p,"leaflet-image-layer"),this._zoomAnimated&&zt(p,"leaflet-zoom-animated"),this.options.className&&zt(p,this.options.className),p.onselectstart=g,p.onmousemove=g,p.onloadeddata=l(this.fire,this,"load"),a){for(var S=p.getElementsByTagName("source"),j=[],G=0;G<S.length;G++)j.push(S[G].src);this._url=S.length>0?j:[p.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var de=0;de<this._url.length;de++){var Pe=Ct("source");Pe.src=this._url[de],p.appendChild(Pe)}}});function bh(a,p,S){return new cs(a,p,S)}var wh=xa.extend({_initImage:function(){var a=this._image=this._url;zt(a,"leaflet-image-layer"),this._zoomAnimated&&zt(a,"leaflet-zoom-animated"),this.options.className&&zt(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function gl(a,p,S){return new wh(a,p,S)}var ho=Hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,p){a&&(a instanceof K||k(a))?(this._latlng=Oe(a),w(this,p)):(w(this,a),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ar(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ar(this._container,1),this.bringToFront(),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ar(this._container,0),this._removeTimeout=setTimeout(l(hn,void 0,this._container),200)):hn(this._container),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Oe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vn(this._container),this},bringToBack:function(){return this._map&&pr(this._container),this},_prepareOpen:function(a){var p=this._source;if(!p._map)return!1;if(p instanceof Dt){p=null;var S=this._source._layers;for(var j in S)if(S[j]._map){p=S[j];break}if(!p)return!1;this._source=p}if(!a)if(p.getCenter)a=p.getCenter();else if(p.getLatLng)a=p.getLatLng();else if(p.getBounds)a=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")a.innerHTML=p;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),p=Y(this.options.offset),S=this._getAnchor();this._zoomAnimated?dn(this._container,a.add(S)):p=p.add(a).add(S);var j=this._containerBottom=-p.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=j+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});_t.include({_initOverlay:function(a,p,S,j){var G=p;return G instanceof a||(G=new a(j).setContent(p)),S&&G.setLatLng(S),G}}),Hr.include({_initOverlay:function(a,p,S,j){var G=S;return G instanceof a?(w(G,j),G._source=this):(G=p&&!j?p:new a(j,this),G.setContent(S)),G}});var Ec=ho.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ho.prototype.openOn.call(this,a)},onAdd:function(a){ho.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",xr))},onRemove:function(a){ho.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",xr))},getEvents:function(){var a=ho.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",p=this._container=Ct("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Ct("div",a+"-content-wrapper",p);if(this._contentNode=Ct("div",a+"-content",S),Ui(p),Oo(this._contentNode),Ut(p,"contextmenu",xr),this._tipContainer=Ct("div",a+"-tip-container",p),this._tip=Ct("div",a+"-tip",this._tipContainer),this.options.closeButton){var j=this._closeButton=Ct("a",a+"-close-button",p);j.setAttribute("role","button"),j.setAttribute("aria-label","Close popup"),j.href="#close",j.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(j,"click",function(G){rr(G),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,p=a.style;p.width="",p.whiteSpace="nowrap";var S=a.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),p.width=S+1+"px",p.whiteSpace="",p.height="";var j=a.offsetHeight,G=this.options.maxHeight,de="leaflet-popup-scrolled";G&&j>G?(p.height=G+"px",zt(a,de)):Ln(a,de),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),S=this._getAnchor();dn(this._container,p.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,p=parseInt(et(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+p,j=this._containerWidth,G=new te(this._containerLeft,-S-this._containerBottom);G._add(Hn(this._container));var de=a.layerPointToContainerPoint(G),Pe=Y(this.options.autoPanPadding),ze=Y(this.options.autoPanPaddingTopLeft||Pe),qe=Y(this.options.autoPanPaddingBottomRight||Pe),tt=a.getSize(),wt=0,Wt=0;de.x+j+qe.x>tt.x&&(wt=de.x+j-tt.x+qe.x),de.x-wt-ze.x<0&&(wt=de.x-ze.x),de.y+S+qe.y>tt.y&&(Wt=de.y+S-tt.y+qe.y),de.y-Wt-ze.y<0&&(Wt=de.y-ze.y),(wt||Wt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([wt,Wt]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ov=function(a,p){return new Ec(a,p)};_t.mergeOptions({closePopupOnClick:!0}),_t.include({openPopup:function(a,p,S){return this._initOverlay(Ec,a,p,S).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Hr.include({bindPopup:function(a,p){return this._popup=this._initOverlay(Ec,this._popup,a,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Dt||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Wi(a);var p=a.layer||a.target;if(this._popup._source===p&&!(p instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=p,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var vl=ho.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ho.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ho.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ho.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",p=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var p,S,j=this._map,G=this._container,de=j.latLngToContainerPoint(j.getCenter()),Pe=j.layerPointToContainerPoint(a),ze=this.options.direction,qe=G.offsetWidth,tt=G.offsetHeight,wt=Y(this.options.offset),Wt=this._getAnchor();ze==="top"?(p=qe/2,S=tt):ze==="bottom"?(p=qe/2,S=0):ze==="center"?(p=qe/2,S=tt/2):ze==="right"?(p=0,S=tt/2):ze==="left"?(p=qe,S=tt/2):Pe.x<de.x?(ze="right",p=0,S=tt/2):(ze="left",p=qe+(wt.x+Wt.x)*2,S=tt/2),a=a.subtract(Y(p,S,!0)).add(wt).add(Wt),Ln(G,"leaflet-tooltip-right"),Ln(G,"leaflet-tooltip-left"),Ln(G,"leaflet-tooltip-top"),Ln(G,"leaflet-tooltip-bottom"),zt(G,"leaflet-tooltip-"+ze),dn(G,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ar(this._container,a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(p)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jf=function(a,p){return new vl(a,p)};_t.include({openTooltip:function(a,p,S){return this._initOverlay(vl,a,p,S).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Hr.include({bindTooltip:function(a,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vl,this._tooltip,a,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var p=a?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[p](S),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Dt||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&(Ut(p,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var p=a.latlng,S,j;this._tooltip.options.sticky&&a.originalEvent&&(S=this._map.mouseEventToContainerPoint(a.originalEvent),j=this._map.containerPointToLayerPoint(S),p=this._map.layerPointToLatLng(j)),this._tooltip.setLatLng(p)}});var Ac=Mo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var p=a&&a.tagName==="DIV"?a:document.createElement("div"),S=this.options;if(S.html instanceof Element?(jr(p),p.appendChild(S.html)):p.innerHTML=S.html!==!1?S.html:"",S.bgPos){var j=Y(S.bgPos);p.style.backgroundPosition=-j.x+"px "+-j.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function $f(a){return new Ac(a)}Mo.Default=fl;var Sa=Hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:it.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){w(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),hn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof te?a:new te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var p=this.getPane().children,S=-a(-1/0,1/0),j=0,G=p.length,de;j<G;j++)de=p[j].style.zIndex,p[j]!==this._container&&de&&(S=a(S,+de));isFinite(S)&&(this.options.zIndex=S+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it.ielt9){ar(this._container,this.options.opacity);var a=+new Date,p=!1,S=!1;for(var j in this._tiles){var G=this._tiles[j];if(!(!G.current||!G.loaded)){var de=Math.min(1,(a-G.loaded)/200);ar(G.el,de),de<1?p=!0:(G.active?S=!0:this._onOpaqueTile(G),G.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),p&&($(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,p=this.options.maxZoom;if(a!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===a?(this._levels[S].el.style.zIndex=p-Math.abs(a-S),this._onUpdateLevel(S)):(hn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var j=this._levels[a],G=this._map;return j||(j=this._levels[a]={},j.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),j.el.style.zIndex=p,j.origin=G.project(G.unproject(G.getPixelOrigin()),a).round(),j.zoom=a,this._setZoomTransform(j,G.getCenter(),G.getZoom()),g(j.el.offsetWidth),this._onCreateLevel(j)),this._level=j,j}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,p,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)p=this._tiles[a],p.retain=p.current;for(a in this._tiles)if(p=this._tiles[a],p.current&&!p.active){var j=p.coords;this._retainParent(j.x,j.y,j.z,j.z-5)||this._retainChildren(j.x,j.y,j.z,j.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var p in this._tiles)this._tiles[p].coords.z===a&&this._removeTile(p)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)hn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,p,S,j){var G=Math.floor(a/2),de=Math.floor(p/2),Pe=S-1,ze=new te(+G,+de);ze.z=+Pe;var qe=this._tileCoordsToKey(ze),tt=this._tiles[qe];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),Pe>j?this._retainParent(G,de,Pe,j):!1)},_retainChildren:function(a,p,S,j){for(var G=2*a;G<2*a+2;G++)for(var de=2*p;de<2*p+2;de++){var Pe=new te(G,de);Pe.z=S+1;var ze=this._tileCoordsToKey(Pe),qe=this._tiles[ze];if(qe&&qe.active){qe.retain=!0;continue}else qe&&qe.loaded&&(qe.retain=!0);S+1<j&&this._retainChildren(G,de,S+1,j)}},_resetView:function(a){var p=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var p=this.options;return p.minNativeZoom!==void 0&&a<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<a?p.maxNativeZoom:a},_setView:function(a,p,S,j){var G=Math.round(p);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var de=this.options.updateWhenZooming&&G!==this._tileZoom;(!j||de)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(a),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(a,p)},_setZoomTransforms:function(a,p){for(var S in this._levels)this._setZoomTransform(this._levels[S],a,p)},_setZoomTransform:function(a,p,S){var j=this._map.getZoomScale(S,a.zoom),G=a.origin.multiplyBy(j).subtract(this._map._getNewPixelOrigin(p,S)).round();it.any3d?rn(a.el,G,j):dn(a.el,G)},_resetGrid:function(){var a=this._map,p=a.options.crs,S=this._tileSize=this.getTileSize(),j=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,p.wrapLng[0]],j).x/S.x),Math.ceil(a.project([0,p.wrapLng[1]],j).x/S.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([p.wrapLat[0],0],j).y/S.x),Math.ceil(a.project([p.wrapLat[1],0],j).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var p=this._map,S=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),j=p.getZoomScale(S,this._tileZoom),G=p.project(a,this._tileZoom).floor(),de=p.getSize().divideBy(j*2);return new ue(G.subtract(de),G.add(de))},_update:function(a){var p=this._map;if(p){var S=this._clampZoom(p.getZoom());if(a===void 0&&(a=p.getCenter()),this._tileZoom!==void 0){var j=this._getTiledPixelBounds(a),G=this._pxBoundsToTileRange(j),de=G.getCenter(),Pe=[],ze=this.options.keepBuffer,qe=new ue(G.getBottomLeft().subtract([ze,-ze]),G.getTopRight().add([ze,-ze]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var wt=this._tiles[tt].coords;(wt.z!==this._tileZoom||!qe.contains(new te(wt.x,wt.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(a,S);return}for(var Wt=G.min.y;Wt<=G.max.y;Wt++)for(var on=G.min.x;on<=G.max.x;on++){var zr=new te(on,Wt);if(zr.z=this._tileZoom,!!this._isValidTile(zr)){var yr=this._tiles[this._tileCoordsToKey(zr)];yr?yr.current=!0:Pe.push(zr)}}if(Pe.sort(function(Ur,fs){return Ur.distanceTo(de)-fs.distanceTo(de)}),Pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bi=document.createDocumentFragment();for(on=0;on<Pe.length;on++)this._addTile(Pe[on],bi);this._level.el.appendChild(bi)}}}},_isValidTile:function(a){var p=this._map.options.crs;if(!p.infinite){var S=this._globalTileRange;if(!p.wrapLng&&(a.x<S.min.x||a.x>S.max.x)||!p.wrapLat&&(a.y<S.min.y||a.y>S.max.y))return!1}if(!this.options.bounds)return!0;var j=this._tileCoordsToBounds(a);return X(this.options.bounds).overlaps(j)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var p=this._map,S=this.getTileSize(),j=a.scaleBy(S),G=j.add(S),de=p.unproject(j,a.z),Pe=p.unproject(G,a.z);return[de,Pe]},_tileCoordsToBounds:function(a){var p=this._tileCoordsToNwSe(a),S=new xe(p[0],p[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var p=a.split(":"),S=new te(+p[0],+p[1]);return S.z=+p[2],S},_removeTile:function(a){var p=this._tiles[a];p&&(hn(p.el),delete this._tiles[a],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){zt(a,"leaflet-tile");var p=this.getTileSize();a.style.width=p.x+"px",a.style.height=p.y+"px",a.onselectstart=g,a.onmousemove=g,it.ielt9&&this.options.opacity<1&&ar(a,this.options.opacity)},_addTile:function(a,p){var S=this._getTilePos(a),j=this._tileCoordsToKey(a),G=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(G),this.createTile.length<2&&H(l(this._tileReady,this,a,null,G)),dn(G,S),this._tiles[j]={el:G,coords:a,current:!0},p.appendChild(G),this.fire("tileloadstart",{tile:G,coords:a})},_tileReady:function(a,p,S){p&&this.fire("tileerror",{error:p,tile:S,coords:a});var j=this._tileCoordsToKey(a);S=this._tiles[j],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ar(S.el,0),$(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),p||(zt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var p=new te(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return p.z=a.z,p},_pxBoundsToTileRange:function(a){var p=this.getTileSize();return new ue(a.min.unscaleBy(p).floor(),a.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Hf(a){return new Sa(a)}var Vs=Sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,p){this._url=a,p=w(this,p),p.detectRetina&&it.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,p){return this._url===a&&p===void 0&&(p=!0),this._url=a,p||this.redraw(),this},createTile:function(a,p){var S=document.createElement("img");return Ut(S,"load",l(this._tileOnLoad,this,p,S)),Ut(S,"error",l(this._tileOnError,this,p,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(a),S},getTileUrl:function(a){var p={r:it.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-a.y;this.options.tms&&(p.y=S),p["-y"]=S}return b(this._url,i(p,this.options))},_tileOnLoad:function(a,p){it.ielt9?setTimeout(l(a,this,null,p),0):a(null,p)},_tileOnError:function(a,p,S){var j=this.options.errorTileUrl;j&&p.getAttribute("src")!==j&&(p.src=j),a(S,p)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,p=this.options.maxZoom,S=this.options.zoomReverse,j=this.options.zoomOffset;return S&&(a=p-a),a+j},_getSubdomain:function(a){var p=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var a,p;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(p=this._tiles[a].el,p.onload=g,p.onerror=g,!p.complete)){p.src=N;var S=this._tiles[a].coords;hn(p),delete this._tiles[a],this.fire("tileabort",{tile:p,coords:S})}},_removeTile:function(a){var p=this._tiles[a];if(p)return p.el.setAttribute("src",N),Sa.prototype._removeTile.call(this,a)},_tileReady:function(a,p,S){if(!(!this._map||S&&S.getAttribute("src")===N))return Sa.prototype._tileReady.call(this,a,p,S)}});function Tc(a,p){return new Vs(a,p)}var _h=Vs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,p){this._url=a;var S=i({},this.defaultWmsParams);for(var j in p)j in this.options||(S[j]=p[j]);p=w(this,p);var G=p.detectRetina&&it.retina?2:1,de=this.getTileSize();S.width=de.x*G,S.height=de.y*G,this.wmsParams=S},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Vs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var p=this._tileCoordsToNwSe(a),S=this._crs,j=ke(S.project(p[0]),S.project(p[1])),G=j.min,de=j.max,Pe=(this._wmsVersion>=1.3&&this._crs===ba?[G.y,G.x,de.y,de.x]:[G.x,G.y,de.x,de.y]).join(","),ze=Vs.prototype.getTileUrl.call(this,a);return ze+C(this.wmsParams,ze,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Pe},setParams:function(a,p){return i(this.wmsParams,a),p||this.redraw(),this}});function zf(a,p){return new _h(a,p)}Vs.WMS=_h,Tc.wms=zf;var Io=Hr.extend({options:{padding:.1},initialize:function(a){w(this,a),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),zt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,p){var S=this._map.getZoomScale(p,this._zoom),j=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,p),de=j.multiplyBy(-S).add(G).subtract(this._map._getNewPixelOrigin(a,p));it.any3d?rn(this._container,de,S):dn(this._container,de)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,p=this._map.getSize(),S=this._map.containerPointToLayerPoint(p.multiplyBy(-a)).round();this._bounds=new ue(S,S.add(p.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uf=Io.extend({options:{tolerance:0},getEvents:function(){var a=Io.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,hn(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var p in this._layers)a=this._layers[p],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var a=this._bounds,p=this._container,S=a.getSize(),j=it.retina?2:1;dn(p,a.min),p.width=j*S.x,p.height=j*S.y,p.style.width=S.x+"px",p.style.height=S.y+"px",it.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[c(a)]=a;var p=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var p=a._order,S=p.next,j=p.prev;S?S.prev=j:this._drawLast=j,j?j.next=S:this._drawFirst=S,delete a._order,delete this._layers[c(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var p=a.options.dashArray.split(/[, ]+/),S=[],j,G;for(G=0;G<p.length;G++){if(j=Number(p[G]),isNaN(j))return;S.push(j)}a.options._dashArray=S}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var p=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(a._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(a._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var p=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,p=this._redrawBounds;if(this._ctx.save(),p){var S=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var j=this._drawFirst;j;j=j.next)a=j.layer,(!p||a._pxBounds&&a._pxBounds.intersects(p))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,p){if(this._drawing){var S,j,G,de,Pe=a._parts,ze=Pe.length,qe=this._ctx;if(ze){for(qe.beginPath(),S=0;S<ze;S++){for(j=0,G=Pe[S].length;j<G;j++)de=Pe[S][j],qe[j?"lineTo":"moveTo"](de.x,de.y);p&&qe.closePath()}this._fillStroke(qe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var p=a._point,S=this._ctx,j=Math.max(Math.round(a._radius),1),G=(Math.max(Math.round(a._radiusY),1)||j)/j;G!==1&&(S.save(),S.scale(1,G)),S.beginPath(),S.arc(p.x,p.y/G,j,0,Math.PI*2,!1),G!==1&&S.restore(),this._fillStroke(S,a)}},_fillStroke:function(a,p){var S=p.options;S.fill&&(a.globalAlpha=S.fillOpacity,a.fillStyle=S.fillColor||S.color,a.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(a.setLineDash&&a.setLineDash(p.options&&p.options._dashArray||[]),a.globalAlpha=S.opacity,a.lineWidth=S.weight,a.strokeStyle=S.color,a.lineCap=S.lineCap,a.lineJoin=S.lineJoin,a.stroke())},_onClick:function(a){for(var p=this._map.mouseEventToLayerPoint(a),S,j,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(p)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(S))&&(j=S);this._fireEvent(j?[j]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,p)}},_handleMouseOut:function(a){var p=this._hoveredLayer;p&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([p],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,p){if(!this._mouseHoverThrottled){for(var S,j,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(p)&&(j=S);j!==this._hoveredLayer&&(this._handleMouseOut(a),j&&(zt(this._container,"leaflet-interactive"),this._fireEvent([j],a,"mouseover"),this._hoveredLayer=j)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,p,S){this._map._fireDOMEvent(p,S||p.type,a)},_bringToFront:function(a){var p=a._order;if(p){var S=p.next,j=p.prev;if(S)S.prev=j;else return;j?j.next=S:S&&(this._drawFirst=S),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(a)}},_bringToBack:function(a){var p=a._order;if(p){var S=p.next,j=p.prev;if(j)j.next=S;else return;S?S.prev=j:j&&(this._drawLast=j),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(a)}}});function Wf(a){return it.canvas?new Uf(a):null}var yl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qf={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var p=a._container=yl("shape");zt(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",a._path=yl("path"),p.appendChild(a._path),this._updateStyle(a),this._layers[c(a)]=a},_addPath:function(a){var p=a._container;this._container.appendChild(p),a.options.interactive&&a.addInteractiveTarget(p)},_removePath:function(a){var p=a._container;hn(p),a.removeInteractiveTarget(p),delete this._layers[c(a)]},_updateStyle:function(a){var p=a._stroke,S=a._fill,j=a.options,G=a._container;G.stroked=!!j.stroke,G.filled=!!j.fill,j.stroke?(p||(p=a._stroke=yl("stroke")),G.appendChild(p),p.weight=j.weight+"px",p.color=j.color,p.opacity=j.opacity,j.dashArray?p.dashStyle=k(j.dashArray)?j.dashArray.join(" "):j.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=j.lineCap.replace("butt","flat"),p.joinstyle=j.lineJoin):p&&(G.removeChild(p),a._stroke=null),j.fill?(S||(S=a._fill=yl("fill")),G.appendChild(S),S.color=j.fillColor||j.color,S.opacity=j.fillOpacity):S&&(G.removeChild(S),a._fill=null)},_updateCircle:function(a){var p=a._point.round(),S=Math.round(a._radius),j=Math.round(a._radiusY||S);this._setPath(a,a._empty()?"M0 0":"AL "+p.x+","+p.y+" "+S+","+j+" 0,"+65535*360)},_setPath:function(a,p){a._path.v=p},_bringToFront:function(a){Vn(a._container)},_bringToBack:function(a){pr(a._container)}},kc=it.vml?yl:ye,Ea=Io.extend({_initContainer:function(){this._container=kc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){hn(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var a=this._bounds,p=a.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,S.setAttribute("width",p.x),S.setAttribute("height",p.y)),dn(S,a.min),S.setAttribute("viewBox",[a.min.x,a.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(a){var p=a._path=kc("path");a.options.className&&zt(p,a.options.className),a.options.interactive&&zt(p,"leaflet-interactive"),this._updateStyle(a),this._layers[c(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){hn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[c(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var p=a._path,S=a.options;p&&(S.stroke?(p.setAttribute("stroke",S.color),p.setAttribute("stroke-opacity",S.opacity),p.setAttribute("stroke-width",S.weight),p.setAttribute("stroke-linecap",S.lineCap),p.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?p.setAttribute("stroke-dasharray",S.dashArray):p.removeAttribute("stroke-dasharray"),S.dashOffset?p.setAttribute("stroke-dashoffset",S.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),S.fill?(p.setAttribute("fill",S.fillColor||S.color),p.setAttribute("fill-opacity",S.fillOpacity),p.setAttribute("fill-rule",S.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(a,p){this._setPath(a,Ae(a._parts,p))},_updateCircle:function(a){var p=a._point,S=Math.max(Math.round(a._radius),1),j=Math.max(Math.round(a._radiusY),1)||S,G="a"+S+","+j+" 0 1,0 ",de=a._empty()?"M0 0":"M"+(p.x-S)+","+p.y+G+S*2+",0 "+G+-S*2+",0 ";this._setPath(a,de)},_setPath:function(a,p){a._path.setAttribute("d",p)},_bringToFront:function(a){Vn(a._path)},_bringToBack:function(a){pr(a._path)}});it.vml&&Ea.include(qf);function Cc(a){return it.svg||it.vml?new Ea(a):null}_t.include({getRenderer:function(a){var p=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var p=this._paneRenderers[a];return p===void 0&&(p=this._createRenderer({pane:a}),this._paneRenderers[a]=p),p},_createRenderer:function(a){return this.options.preferCanvas&&Wf(a)||Cc(a)}});var Aa=Us.extend({initialize:function(a,p){Us.prototype.initialize.call(this,this._boundsToLatLngs(a),p)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=X(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function bl(a,p){return new Aa(a,p)}Ea.create=kc,Ea.pointsToPath=Ae,No.geometryToLayer=pl,No.coordsToLatLng=_a,No.coordsToLatLngs=Ws,No.latLngToCoords=xc,No.latLngsToCoords=ml,No.getFeature=qs,No.asFeature=ls,_t.mergeOptions({boxZoom:!0});var us=$r.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){hn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fn(),si(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),zt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var p=new ue(this._point,this._startPoint),S=p.getSize();dn(this._box,p.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(hn(this._box),Ln(this._container,"leaflet-crosshair")),Mr(),Rs(),Zt(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_t.addInitHook("addHandler","boxZoom",us),_t.mergeOptions({doubleClickZoom:!0});var xh=$r.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var p=this._map,S=p.getZoom(),j=p.options.zoomDelta,G=a.originalEvent.shiftKey?S-j:S+j;p.options.doubleClickZoom==="center"?p.setZoom(G):p.setZoomAround(a.containerPoint,G)}});_t.addInitHook("addHandler","doubleClickZoom",xh),_t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mt=$r.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Lo(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}zt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ln(this._map._container,"leaflet-grab"),Ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=X(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var p=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(p),this._prunePositions(p)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,p){return a-(a-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;a.x<p.min.x&&(a.x=this._viscousLimit(a.x,p.min.x)),a.y<p.min.y&&(a.y=this._viscousLimit(a.y,p.min.y)),a.x>p.max.x&&(a.x=this._viscousLimit(a.x,p.max.x)),a.y>p.max.y&&(a.y=this._viscousLimit(a.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,p=Math.round(a/2),S=this._initialWorldOffset,j=this._draggable._newPos.x,G=(j-p+S)%a+p-S,de=(j+p+S)%a-p-S,Pe=Math.abs(G+S)<Math.abs(de+S)?G:de;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Pe},_onDragEnd:function(a){var p=this._map,S=p.options,j=!S.inertia||a.noInertia||this._times.length<2;if(p.fire("dragend",a),j)p.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),de=(this._lastTime-this._times[0])/1e3,Pe=S.easeLinearity,ze=G.multiplyBy(Pe/de),qe=ze.distanceTo([0,0]),tt=Math.min(S.inertiaMaxSpeed,qe),wt=ze.multiplyBy(tt/qe),Wt=tt/(S.inertiaDeceleration*Pe),on=wt.multiplyBy(-Wt/2).round();!on.x&&!on.y?p.fire("moveend"):(on=p._limitOffset(on,p.options.maxBounds),H(function(){p.panBy(on,{duration:Wt,easeLinearity:Pe,noMoveStart:!0,animate:!0})}))}}});_t.addInitHook("addHandler","dragging",Mt),_t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hs=$r.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,p=document.documentElement,S=a.scrollTop||p.scrollTop,j=a.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(j,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var p=this._panKeys={},S=this.keyCodes,j,G;for(j=0,G=S.left.length;j<G;j++)p[S.left[j]]=[-1*a,0];for(j=0,G=S.right.length;j<G;j++)p[S.right[j]]=[a,0];for(j=0,G=S.down.length;j<G;j++)p[S.down[j]]=[0,a];for(j=0,G=S.up.length;j<G;j++)p[S.up[j]]=[0,-1*a]},_setZoomDelta:function(a){var p=this._zoomKeys={},S=this.keyCodes,j,G;for(j=0,G=S.zoomIn.length;j<G;j++)p[S.zoomIn[j]]=a;for(j=0,G=S.zoomOut.length;j<G;j++)p[S.zoomOut[j]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var p=a.keyCode,S=this._map,j;if(p in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(j=this._panKeys[p],a.shiftKey&&(j=Y(j).multiplyBy(3)),S.options.maxBounds&&(j=S._limitOffset(Y(j),S.options.maxBounds)),S.options.worldCopyJump){var G=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(j)));S.panTo(G)}else S.panBy(j)}else if(p in this._zoomKeys)S.setZoom(S.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Wi(a)}}});_t.addInitHook("addHandler","keyboard",hs),_t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Oc=$r.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var p=Ke(a),S=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var j=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),j),Wi(a)},_performZoom:function(){var a=this._map,p=a.getZoom(),S=this._map.options.zoomSnap||0;a._stop();var j=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(j))))/Math.LN2,de=S?Math.ceil(G/S)*S:G,Pe=a._limitZoom(p+(this._delta>0?de:-de))-p;this._delta=0,this._startTime=null,Pe&&(a.options.scrollWheelZoom==="center"?a.setZoom(p+Pe):a.setZoomAround(this._lastMousePos,p+Pe))}});_t.addInitHook("addHandler","scrollWheelZoom",Oc);var fo=600;_t.mergeOptions({tapHold:it.touchNative&&it.safari&&it.mobile,tapTolerance:15});var Mn=$r.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var p=a.touches[0];this._startPos=this._newPos=new te(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",rr),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),fo),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Zt(document,"touchend",rr),Zt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(a){var p=a.touches[0];this._newPos=new te(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,p){var S=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});S._simulated=!0,p.target.dispatchEvent(S)}});_t.addInitHook("addHandler","tapHold",Mn),_t.mergeOptions({touchZoom:it.touch,bounceAtZoomLimits:!0});var ds=$r.extend({addHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var p=this._map;if(!(!a.touches||a.touches.length!==2||p._animatingZoom||this._zooming)){var S=p.mouseEventToContainerPoint(a.touches[0]),j=p.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(S.add(j)._divideBy(2))),this._startDist=S.distanceTo(j),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),rr(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var p=this._map,S=p.mouseEventToContainerPoint(a.touches[0]),j=p.mouseEventToContainerPoint(a.touches[1]),G=S.distanceTo(j)/this._startDist;if(this._zoom=p.getScaleZoom(G,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&G<1||this._zoom>p.getMaxZoom()&&G>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var de=S._add(j)._divideBy(2)._subtract(this._centerPoint);if(G===1&&de.x===0&&de.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(de),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var Pe=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(Pe,this,!0),rr(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_t.addInitHook("addHandler","touchZoom",ds),_t.BoxZoom=us,_t.DoubleClickZoom=xh,_t.Drag=Mt,_t.Keyboard=hs,_t.ScrollWheelZoom=Oc,_t.TapHold=Mn,_t.TouchZoom=ds,t.Bounds=ue,t.Browser=it,t.CRS=Fe,t.Canvas=Uf,t.Circle=gh,t.CircleMarker=as,t.Class=ee,t.Control=ln,t.DivIcon=Ac,t.DivOverlay=ho,t.DomEvent=Tt,t.DomUtil=nr,t.Draggable=Lo,t.Evented=ie,t.FeatureGroup=Dt,t.GeoJSON=No,t.GridLayer=Sa,t.Handler=$r,t.Icon=Mo,t.ImageOverlay=xa,t.LatLng=K,t.LatLngBounds=xe,t.Layer=Hr,t.LayerGroup=ss,t.LineUtil=Qg,t.Map=_t,t.Marker=_c,t.Mixin=Jg,t.Path=Vi,t.Point=te,t.PolyUtil=Lf,t.Polygon=Us,t.Polyline=Po,t.Popup=Ec,t.PosAnimation=gn,t.Projection=ya,t.Rectangle=Aa,t.Renderer=Io,t.SVG=Ea,t.SVGOverlay=wh,t.TileLayer=Vs,t.Tooltip=vl,t.Transformation=ce,t.Util=V,t.VideoOverlay=cs,t.bind=l,t.bounds=ke,t.canvas=Wf,t.circle=rv,t.circleMarker=nv,t.control=Zn,t.divIcon=$f,t.extend=i,t.featureGroup=ev,t.geoJSON=Gi,t.geoJson=iv,t.gridLayer=Hf,t.icon=wa,t.imageOverlay=Bf,t.latLng=Oe,t.latLngBounds=X,t.layerGroup=Rf,t.map=Kn,t.marker=tv,t.point=Y,t.polygon=Ff,t.polyline=vh,t.popup=ov,t.rectangle=bl,t.setOptions=w,t.stamp=c,t.svg=Cc,t.svgOverlay=gl,t.tileLayer=Tc,t.tooltip=jf,t.transformation=q,t.version=r,t.videoOverlay=bh;var Do=window.L;t.noConflict=function(){return window.L=Do,this},window.L=t})})(H0,H0.exports);var wH=H0.exports;const Pa=cc(wH);class uC extends vn{connect(){const e=this.latTarget.value,t=this.lngTarget.value,r=this.data.get("zoom"),i="18";let s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII=",h=Pa.icon({iconUrl:s,iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[1,-34],shadowSize:[41,41],shadowUrl:l});this.leafletMap=Pa.map(this.data.get("id"),{center:[e,t],zoom:r}),this.leafLayer=Pa.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:i}).addTo(this.leafletMap),this.leafletMarker=Pa.marker([e,t],{icon:h,draggable:!0,autoPan:!0,autoPanPadding:Pa.point(100,100)}).addTo(this.leafletMap),this.leafletMarker.on("dragend",()=>{this.updateCoords()}),this.leafletMap.on("click",d=>{this.leafletMarker.setLatLng(d.latlng),this.updateCoords(),this.leafletMap.panTo(d.latlng)});let c=document.querySelector('a[data-bs-toggle="tab"]');c!==null&&c.addEventListener("shown.bs.tab",()=>this.leafletMap.invalidateSize())}updateCoords(){this.latTarget.value=this.leafletMarker.getLatLng().lat,this.lngTarget.value=this.leafletMarker.getLatLng().lng,this.latTarget.dispatchEvent(new Event("change")),this.lngTarget.dispatchEvent(new Event("change"))}search(){const e=this.element.querySelector(".marker-results");this.searchTarget.value.length<=3||axios.get("https://nominatim.openstreetmap.org/search?format=json&limit=5&q="+this.searchTarget.value).then(t=>{let r=[];if(t.data.forEach(i=>{let s=i.boundingbox,l=i.lat,h=i.lon,c=i.display_name;r.push("<li style='cursor:pointer' data-name='"+c+"' data-lat='"+l+"' data-lng='"+h+"' data-lat1='"+s[0]+"' data-lat2='"+s[1]+"' data-lng1='"+s[2]+"' data-lng2='"+s[3]+"' data-type='"+i.osm_type+"' data-action='click->map#chooseAddr'>"+i.display_name+"</li>")}),e.innerHTML=null,r.length!==0){e.innerHTML="<ul class='my-2'>"+r.join("")+"</ul>";return}e.innerHTML="<small>No results found</small>"})}chooseAddr(e){const t=e.target.getAttribute("data-name"),r=e.target.getAttribute("data-lat"),i=e.target.getAttribute("data-lng"),s=e.target.getAttribute("data-lat1"),l=e.target.getAttribute("data-lat2"),h=e.target.getAttribute("data-lng1"),c=e.target.getAttribute("data-lng2"),d=new Pa.LatLng(s,h),f=new Pa.LatLng(l,c),g=new Pa.LatLngBounds(d,f);this.leafletMap.fitBounds(g),this.leafletMarker.setLatLng([r,i]),this.updateCoords(),this.searchTarget.value=t}}$e(uC,"targets",["search","lat","lng"]);const _H=Object.freeze(Object.defineProperty({__proto__:null,default:uC},Symbol.toStringTag,{value:"Module"}));class hC extends vn{connect(){this.template=this.element.querySelector(".matrix-template"),this.keyValueMode=this.data.get("key-value")==="true",this.detectMaxRows()}deleteRow(e){return(e.path||e.composedPath&&e.composedPath()).forEach(r=>{r.tagName==="TR"&&r.parentNode.removeChild(r)}),this.detectMaxRows(),e.preventDefault(),!1}addRow(e){this.index++;let t=this.template.content.querySelector("tr").cloneNode(!0);t.innerHTML=t.innerHTML.replace(/{index}/gi,this.index);let r=this.element.querySelector(".add-row");return this.element.querySelector("tbody").insertBefore(t,r),this.detectMaxRows(),e.preventDefault(),!1}get index(){return parseInt(this.data.get("index"))}set index(e){this.data.set("index",e)}detectMaxRows(){const e=parseInt(this.data.get("rows"));if(e===0)return;let t=this.element.querySelectorAll("tbody tr:not(.add-row)").length,r=this.element.querySelector(".add-row th");r.style.display=e<=t?"none":""}}$e(hC,"targets",["index"]);const xH=Object.freeze(Object.defineProperty({__proto__:null,default:hC},Symbol.toStringTag,{value:"Module"}));class SH extends vn{toggle(e){document.body.classList.toggle("menu-open"),e.preventDefault()}}const EH=Object.freeze(Object.defineProperty({__proto__:null,default:SH},Symbol.toStringTag,{value:"Module"}));class sm extends vn{initialize(){this.show=this.show.bind(this),this.hidden=this.hidden.bind(this)}connect(){this.element.addEventListener("shown.bs.modal",this.show),this.element.addEventListener("hide.bs.modal",this.hidden),this.openValue&&new Ai(this.element).show(),this.openLastModal()}disconnect(){this.element.removeEventListener("shown.bs.modal",this.show),this.element.removeEventListener("hide.bs.modal",this.hidden)}show(e){var t;this.updateTurboCacheControl("no-cache"),(t=this.element.querySelector("[autofocus]"))==null||t.focus()}hidden(e){this.updateTurboCacheControl("cache"),this.clearLastOpenModal()}open(e){e={...e,slug:this.slugValue,validateError:this.element.querySelectorAll(".invalid-feedback").length>0},this.element.querySelector("form").action=e.submit,e.title!==void 0&&(this.titleTarget.textContent=e.title),Object.keys(this.parametersValue).length!==0&&!e.validateError&&this.asyncLoadData(e.params),this.storeLastOpenModal(e),new Ai(this.element).toggle()}openLastModal(){if(this.element.querySelectorAll(".invalid-feedback").length===0)return;const e=this.lastOpenModal();e&&e.slug===this.slugValue&&(this.element.classList.remove("fade","in"),this.open(e))}asyncLoadData(e){var r;this.element.classList.add("modal-loading");let t=new URLSearchParams(e).toString();this.loadStream(`${this.urlValue}?${t}`,{_state:((r=document.getElementById("screen-state"))==null?void 0:r.value)||null,...this.parametersValue}).then(()=>this.element.classList.remove("modal-loading"))}storeLastOpenModal(e){window.sessionStorage.setItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL,JSON.stringify(e))}lastOpenModal(){return JSON.parse(sessionStorage.getItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL))??!1}clearLastOpenModal(){sessionStorage.removeItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL)}}$e(sm,"values",{slug:{type:String,default:""},url:{type:String,default:""},parameters:{type:Object},open:{type:Boolean,default:!1}}),$e(sm,"targets",["title"]),$e(sm,"SESSION_KEY_FOR_LAST_OPEN_MODAL","last-open-modal");const AH=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"}));class dC extends vn{connect(){setTimeout(()=>{this.openValue&&(this.modal.classList.remove("fade","in"),this.targetModal())})}targetModal(e){if(this.application.getControllerForElementAndIdentifier(this.modal,"modal").open({title:this.titleValue||this.modal.dataset.modalTitle,submit:this.actionValue,params:this.parametersValue}),e)return e.preventDefault()}get modal(){let e=document.getElementById(`screen-modal-${this.keyValue}`);return e===null&&this.toast("The modal element does not exist.","warning"),e}}$e(dC,"values",{title:{type:String,default:null},key:{type:String},action:{type:String},parameters:{type:Object},open:{type:Boolean,default:!1}});const TH=Object.freeze(Object.defineProperty({__proto__:null,default:dC},Symbol.toStringTag,{value:"Module"}));class fC extends vn{initialize(){const e=this.data.get("count");localStorage.setItem("profile.notifications",e),window.addEventListener("storage",this.storageChanged())}connect(){this.updateInterval=this.setUpdateInterval(),this.render()}disconnect(){clearInterval(this.updateInterval),window.removeEventListener("storage",this.storageChanged())}storageKey(){return"profile.notifications"}storageChanged(){return e=>{e.key===this.storageKey()&&(r1(),this.render())}}setUpdateInterval(){const e=this.data.get("url"),t=this.data.get("method")||"get",r=this.data.get("interval")||60;return setInterval(()=>{axios({method:t,url:e}).then(i=>{localStorage.setItem("profile.notifications",i.data.total),this.render()})},r*1e3)}render(){const e=localStorage.getItem("profile.notifications");let t=this.element.querySelector("#notification-circle").innerHTML.trim();e<10&&(t=e),(e===null||parseInt(e)===0)&&(t=""),this.badgeTarget.innerHTML=t}}$e(fC,"targets",["badge"]);const kH=Object.freeze(Object.defineProperty({__proto__:null,default:fC},Symbol.toStringTag,{value:"Module"}));class pC extends vn{change(){const e=this.passwordTarget.type;let t="password";e==="text"&&(this.iconLockTarget.classList.add("none"),this.iconShowTarget.classList.remove("none")),e==="password"&&(t="text",this.iconLockTarget.classList.remove("none"),this.iconShowTarget.classList.add("none")),this.passwordTarget.setAttribute("type",t)}}$e(pC,"targets",["password","iconShow","iconLock"]);const CH=Object.freeze(Object.defineProperty({__proto__:null,default:pC},Symbol.toStringTag,{value:"Module"}));class mC extends vn{connect(){let e=this.data.get("url")?this.data.get("url"):this.data.get("value");if(e){this.element.querySelector(".picture-preview").src=e;return}this.element.querySelector(".picture-preview").classList.add("none"),this.element.querySelector(".picture-remove").classList.add("none")}upload(e){if(!e.target.files[0])return;let t=this.data.get("max-file-size");if(e.target.files[0].size/1024/1024>t){this.alert("Validation error",`The download file is too large. Max size: ${t} MB`),e.target.value=null;return}let r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=()=>{const i=new FormData;i.append("file",e.target.files[0]),i.append("storage",this.data.get("storage")),i.append("group",this.data.get("groups")),i.append("path",this.data.get("path")),i.append("acceptedFiles",this.data.get("accepted-files"));let s=this.element;window.axios.post(this.prefix("/systems/files"),i).then(l=>{let h=l.data.url,c=this.data.get("target");s.querySelector(".picture-preview").src=h,s.querySelector(".picture-preview").classList.remove("none"),s.querySelector(".picture-remove").classList.remove("none"),s.querySelector(".picture-path").value=l.data[c],s.querySelector(".picture-path").dispatchEvent(new Event("change"))}).catch(l=>{this.alert("Validation error","File upload error"),console.warn(l)})}}clear(){this.element.querySelector(".picture-path").value="",this.element.querySelector(".picture-input").value="",this.element.querySelector(".picture-preview").src="",this.element.querySelector(".picture-preview").classList.add("none"),this.element.querySelector(".picture-remove").classList.add("none")}}$e(mC,"targets",["source","upload"]);const OH=Object.freeze(Object.defineProperty({__proto__:null,default:mC},Symbol.toStringTag,{value:"Module"}));class LH extends vn{connect(){this.popover=new gf(this.element)}trigger(e){e.preventDefault(),this.popover.toggle()}disconnect(){this.popover.dispose()}}const MH=Object.freeze(Object.defineProperty({__proto__:null,default:LH},Symbol.toStringTag,{value:"Module"}));class PH extends sc{touchstart(e){this.startPageY=e.touches[0].screenY}touchmove(e){if(this.willRefresh)return;const t=document.body.scrollTop,r=e.changedTouches[0].screenY-this.startPageY;t<1&&r>150&&(this.willRefresh=!0,this.element.style="filter: blur(1px);opacity: 0.2;touch-action: none;")}touchend(e){this.willRefresh&&Turbo.visit(window.location.toString(),{action:"replace"})}}const NH=Object.freeze(Object.defineProperty({__proto__:null,default:PH},Symbol.toStringTag,{value:"Module"}));var IH=typeof global=="object"&&global&&global.Object===Object&&global;const gC=IH;var DH=typeof self=="object"&&self&&self.Object===Object&&self,RH=gC||DH||Function("return this")();const Ds=RH;var FH=Ds.Symbol;const rl=FH;var vC=Object.prototype,BH=vC.hasOwnProperty,jH=vC.toString,Yh=rl?rl.toStringTag:void 0;function $H(n){var e=BH.call(n,Yh),t=n[Yh];try{n[Yh]=void 0;var r=!0}catch{}var i=jH.call(n);return r&&(e?n[Yh]=t:delete n[Yh]),i}var HH=Object.prototype,zH=HH.toString;function UH(n){return zH.call(n)}var WH="[object Null]",qH="[object Undefined]",Vx=rl?rl.toStringTag:void 0;function ch(n){return n==null?n===void 0?qH:WH:Vx&&Vx in Object(n)?$H(n):UH(n)}function ca(n){return n!=null&&typeof n=="object"}var VH=Array.isArray;const rc=VH;function ll(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function yC(n){return n}var GH="[object AsyncFunction]",YH="[object Function]",KH="[object GeneratorFunction]",ZH="[object Proxy]";function v1(n){if(!ll(n))return!1;var e=ch(n);return e==YH||e==KH||e==GH||e==ZH}var XH=Ds["__core-js_shared__"];const Cy=XH;var Gx=function(){var n=/[^.]+$/.exec(Cy&&Cy.keys&&Cy.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function JH(n){return!!Gx&&Gx in n}var QH=Function.prototype,e9=QH.toString;function dc(n){if(n!=null){try{return e9.call(n)}catch{}try{return n+""}catch{}}return""}var t9=/[\\^$.*+?()[\]{}|]/g,n9=/^\[object .+?Constructor\]$/,r9=Function.prototype,i9=Object.prototype,o9=r9.toString,s9=i9.hasOwnProperty,a9=RegExp("^"+o9.call(s9).replace(t9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l9(n){if(!ll(n)||JH(n))return!1;var e=v1(n)?a9:n9;return e.test(dc(n))}function c9(n,e){return n==null?void 0:n[e]}function fc(n,e){var t=c9(n,e);return l9(t)?t:void 0}var u9=fc(Ds,"WeakMap");const z0=u9;var Yx=Object.create,h9=function(){function n(){}return function(e){if(!ll(e))return{};if(Yx)return Yx(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const d9=h9;function f9(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function bC(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var p9=800,m9=16,g9=Date.now;function v9(n){var e=0,t=0;return function(){var r=g9(),i=m9-(r-t);if(t=r,i>0){if(++e>=p9)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function y9(n){return function(){return n}}var b9=function(){try{var n=fc(Object,"defineProperty");return n({},"",{}),n}catch{}}();const jm=b9;var w9=jm?function(n,e){return jm(n,"toString",{configurable:!0,enumerable:!1,value:y9(e),writable:!0})}:yC;const _9=w9;var x9=v9(_9);const S9=x9;function E9(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var A9=9007199254740991,T9=/^(?:0|[1-9]\d*)$/;function wC(n,e){var t=typeof n;return e=e??A9,!!e&&(t=="number"||t!="symbol"&&T9.test(n))&&n>-1&&n%1==0&&n<e}function y1(n,e,t){e=="__proto__"&&jm?jm(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function xf(n,e){return n===e||n!==n&&e!==e}var k9=Object.prototype,C9=k9.hasOwnProperty;function _C(n,e,t){var r=n[e];(!(C9.call(n,e)&&xf(r,t))||t===void 0&&!(e in n))&&y1(n,e,t)}function Sf(n,e,t,r){var i=!t;t||(t={});for(var s=-1,l=e.length;++s<l;){var h=e[s],c=r?r(t[h],n[h],h,t,n):void 0;c===void 0&&(c=n[h]),i?y1(t,h,c):_C(t,h,c)}return t}var Kx=Math.max;function O9(n,e,t){return e=Kx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=Kx(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var h=Array(e+1);++i<e;)h[i]=r[i];return h[e]=t(l),f9(n,this,h)}}function L9(n,e){return S9(O9(n,e,yC),n+"")}var M9=9007199254740991;function xC(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=M9}function $g(n){return n!=null&&xC(n.length)&&!v1(n)}function P9(n,e,t){if(!ll(t))return!1;var r=typeof e;return(r=="number"?$g(t)&&wC(e,t.length):r=="string"&&e in t)?xf(t[e],n):!1}function N9(n){return L9(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,l=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,l&&P9(t[0],t[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var h=t[r];h&&n(e,h,r,s)}return e})}var I9=Object.prototype;function b1(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||I9;return n===t}function D9(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var R9="[object Arguments]";function Zx(n){return ca(n)&&ch(n)==R9}var SC=Object.prototype,F9=SC.hasOwnProperty,B9=SC.propertyIsEnumerable,j9=Zx(function(){return arguments}())?Zx:function(n){return ca(n)&&F9.call(n,"callee")&&!B9.call(n,"callee")};const U0=j9;function $9(){return!1}var EC=typeof oo=="object"&&oo&&!oo.nodeType&&oo,Xx=EC&&typeof so=="object"&&so&&!so.nodeType&&so,H9=Xx&&Xx.exports===EC,Jx=H9?Ds.Buffer:void 0,z9=Jx?Jx.isBuffer:void 0,U9=z9||$9;const Nd=U9;var W9="[object Arguments]",q9="[object Array]",V9="[object Boolean]",G9="[object Date]",Y9="[object Error]",K9="[object Function]",Z9="[object Map]",X9="[object Number]",J9="[object Object]",Q9="[object RegExp]",ez="[object Set]",tz="[object String]",nz="[object WeakMap]",rz="[object ArrayBuffer]",iz="[object DataView]",oz="[object Float32Array]",sz="[object Float64Array]",az="[object Int8Array]",lz="[object Int16Array]",cz="[object Int32Array]",uz="[object Uint8Array]",hz="[object Uint8ClampedArray]",dz="[object Uint16Array]",fz="[object Uint32Array]",Gn={};Gn[oz]=Gn[sz]=Gn[az]=Gn[lz]=Gn[cz]=Gn[uz]=Gn[hz]=Gn[dz]=Gn[fz]=!0;Gn[W9]=Gn[q9]=Gn[rz]=Gn[V9]=Gn[iz]=Gn[G9]=Gn[Y9]=Gn[K9]=Gn[Z9]=Gn[X9]=Gn[J9]=Gn[Q9]=Gn[ez]=Gn[tz]=Gn[nz]=!1;function pz(n){return ca(n)&&xC(n.length)&&!!Gn[ch(n)]}function w1(n){return function(e){return n(e)}}var AC=typeof oo=="object"&&oo&&!oo.nodeType&&oo,bd=AC&&typeof so=="object"&&so&&!so.nodeType&&so,mz=bd&&bd.exports===AC,Oy=mz&&gC.process,gz=function(){try{var n=bd&&bd.require&&bd.require("util").types;return n||Oy&&Oy.binding&&Oy.binding("util")}catch{}}();const Gu=gz;var Qx=Gu&&Gu.isTypedArray,vz=Qx?w1(Qx):pz;const _1=vz;var yz=Object.prototype,bz=yz.hasOwnProperty;function TC(n,e){var t=rc(n),r=!t&&U0(n),i=!t&&!r&&Nd(n),s=!t&&!r&&!i&&_1(n),l=t||r||i||s,h=l?D9(n.length,String):[],c=h.length;for(var d in n)(e||bz.call(n,d))&&!(l&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||wC(d,c)))&&h.push(d);return h}function kC(n,e){return function(t){return n(e(t))}}var wz=kC(Object.keys,Object);const _z=wz;var xz=Object.prototype,Sz=xz.hasOwnProperty;function Ez(n){if(!b1(n))return _z(n);var e=[];for(var t in Object(n))Sz.call(n,t)&&t!="constructor"&&e.push(t);return e}function x1(n){return $g(n)?TC(n):Ez(n)}function Az(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Tz=Object.prototype,kz=Tz.hasOwnProperty;function Cz(n){if(!ll(n))return Az(n);var e=b1(n),t=[];for(var r in n)r=="constructor"&&(e||!kz.call(n,r))||t.push(r);return t}function Ef(n){return $g(n)?TC(n,!0):Cz(n)}var Oz=fc(Object,"create");const Id=Oz;function Lz(){this.__data__=Id?Id(null):{},this.size=0}function Mz(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Pz="__lodash_hash_undefined__",Nz=Object.prototype,Iz=Nz.hasOwnProperty;function Dz(n){var e=this.__data__;if(Id){var t=e[n];return t===Pz?void 0:t}return Iz.call(e,n)?e[n]:void 0}var Rz=Object.prototype,Fz=Rz.hasOwnProperty;function Bz(n){var e=this.__data__;return Id?e[n]!==void 0:Fz.call(e,n)}var jz="__lodash_hash_undefined__";function $z(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Id&&e===void 0?jz:e,this}function ic(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ic.prototype.clear=Lz;ic.prototype.delete=Mz;ic.prototype.get=Dz;ic.prototype.has=Bz;ic.prototype.set=$z;function Hz(){this.__data__=[],this.size=0}function Hg(n,e){for(var t=n.length;t--;)if(xf(n[t][0],e))return t;return-1}var zz=Array.prototype,Uz=zz.splice;function Wz(n){var e=this.__data__,t=Hg(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Uz.call(e,t,1),--this.size,!0}function qz(n){var e=this.__data__,t=Hg(e,n);return t<0?void 0:e[t][1]}function Vz(n){return Hg(this.__data__,n)>-1}function Gz(n,e){var t=this.__data__,r=Hg(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function pa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pa.prototype.clear=Hz;pa.prototype.delete=Wz;pa.prototype.get=qz;pa.prototype.has=Vz;pa.prototype.set=Gz;var Yz=fc(Ds,"Map");const Dd=Yz;function Kz(){this.size=0,this.__data__={hash:new ic,map:new(Dd||pa),string:new ic}}function Zz(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function zg(n,e){var t=n.__data__;return Zz(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Xz(n){var e=zg(this,n).delete(n);return this.size-=e?1:0,e}function Jz(n){return zg(this,n).get(n)}function Qz(n){return zg(this,n).has(n)}function e7(n,e){var t=zg(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function pc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pc.prototype.clear=Kz;pc.prototype.delete=Xz;pc.prototype.get=Jz;pc.prototype.has=Qz;pc.prototype.set=e7;function CC(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var t7=kC(Object.getPrototypeOf,Object);const S1=t7;var n7="[object Object]",r7=Function.prototype,i7=Object.prototype,OC=r7.toString,o7=i7.hasOwnProperty,s7=OC.call(Object);function a7(n){if(!ca(n)||ch(n)!=n7)return!1;var e=S1(n);if(e===null)return!0;var t=o7.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&OC.call(t)==s7}function l7(){this.__data__=new pa,this.size=0}function c7(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function u7(n){return this.__data__.get(n)}function h7(n){return this.__data__.has(n)}var d7=200;function f7(n,e){var t=this.__data__;if(t instanceof pa){var r=t.__data__;if(!Dd||r.length<d7-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new pc(r)}return t.set(n,e),this.size=t.size,this}function Cs(n){var e=this.__data__=new pa(n);this.size=e.size}Cs.prototype.clear=l7;Cs.prototype.delete=c7;Cs.prototype.get=u7;Cs.prototype.has=h7;Cs.prototype.set=f7;function p7(n,e){return n&&Sf(e,x1(e),n)}function m7(n,e){return n&&Sf(e,Ef(e),n)}var LC=typeof oo=="object"&&oo&&!oo.nodeType&&oo,eS=LC&&typeof so=="object"&&so&&!so.nodeType&&so,g7=eS&&eS.exports===LC,tS=g7?Ds.Buffer:void 0,nS=tS?tS.allocUnsafe:void 0;function MC(n,e){if(e)return n.slice();var t=n.length,r=nS?nS(t):new n.constructor(t);return n.copy(r),r}function v7(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var l=n[t];e(l,t,n)&&(s[i++]=l)}return s}function PC(){return[]}var y7=Object.prototype,b7=y7.propertyIsEnumerable,rS=Object.getOwnPropertySymbols,w7=rS?function(n){return n==null?[]:(n=Object(n),v7(rS(n),function(e){return b7.call(n,e)}))}:PC;const E1=w7;function _7(n,e){return Sf(n,E1(n),e)}var x7=Object.getOwnPropertySymbols,S7=x7?function(n){for(var e=[];n;)CC(e,E1(n)),n=S1(n);return e}:PC;const NC=S7;function E7(n,e){return Sf(n,NC(n),e)}function IC(n,e,t){var r=e(n);return rc(n)?r:CC(r,t(n))}function W0(n){return IC(n,x1,E1)}function A7(n){return IC(n,Ef,NC)}var T7=fc(Ds,"DataView");const q0=T7;var k7=fc(Ds,"Promise");const V0=k7;var C7=fc(Ds,"Set");const G0=C7;var iS="[object Map]",O7="[object Object]",oS="[object Promise]",sS="[object Set]",aS="[object WeakMap]",lS="[object DataView]",L7=dc(q0),M7=dc(Dd),P7=dc(V0),N7=dc(G0),I7=dc(z0),Bl=ch;(q0&&Bl(new q0(new ArrayBuffer(1)))!=lS||Dd&&Bl(new Dd)!=iS||V0&&Bl(V0.resolve())!=oS||G0&&Bl(new G0)!=sS||z0&&Bl(new z0)!=aS)&&(Bl=function(n){var e=ch(n),t=e==O7?n.constructor:void 0,r=t?dc(t):"";if(r)switch(r){case L7:return lS;case M7:return iS;case P7:return oS;case N7:return sS;case I7:return aS}return e});const Rd=Bl;var D7=Object.prototype,R7=D7.hasOwnProperty;function F7(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&R7.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var B7=Ds.Uint8Array;const $m=B7;function A1(n){var e=new n.constructor(n.byteLength);return new $m(e).set(new $m(n)),e}function j7(n,e){var t=e?A1(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var $7=/\w*$/;function H7(n){var e=new n.constructor(n.source,$7.exec(n));return e.lastIndex=n.lastIndex,e}var cS=rl?rl.prototype:void 0,uS=cS?cS.valueOf:void 0;function z7(n){return uS?Object(uS.call(n)):{}}function DC(n,e){var t=e?A1(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var U7="[object Boolean]",W7="[object Date]",q7="[object Map]",V7="[object Number]",G7="[object RegExp]",Y7="[object Set]",K7="[object String]",Z7="[object Symbol]",X7="[object ArrayBuffer]",J7="[object DataView]",Q7="[object Float32Array]",eU="[object Float64Array]",tU="[object Int8Array]",nU="[object Int16Array]",rU="[object Int32Array]",iU="[object Uint8Array]",oU="[object Uint8ClampedArray]",sU="[object Uint16Array]",aU="[object Uint32Array]";function lU(n,e,t){var r=n.constructor;switch(e){case X7:return A1(n);case U7:case W7:return new r(+n);case J7:return j7(n,t);case Q7:case eU:case tU:case nU:case rU:case iU:case oU:case sU:case aU:return DC(n,t);case q7:return new r;case V7:case K7:return new r(n);case G7:return H7(n);case Y7:return new r;case Z7:return z7(n)}}function RC(n){return typeof n.constructor=="function"&&!b1(n)?d9(S1(n)):{}}var cU="[object Map]";function uU(n){return ca(n)&&Rd(n)==cU}var hS=Gu&&Gu.isMap,hU=hS?w1(hS):uU;const dU=hU;var fU="[object Set]";function pU(n){return ca(n)&&Rd(n)==fU}var dS=Gu&&Gu.isSet,mU=dS?w1(dS):pU;const gU=mU;var vU=1,yU=2,bU=4,FC="[object Arguments]",wU="[object Array]",_U="[object Boolean]",xU="[object Date]",SU="[object Error]",BC="[object Function]",EU="[object GeneratorFunction]",AU="[object Map]",TU="[object Number]",jC="[object Object]",kU="[object RegExp]",CU="[object Set]",OU="[object String]",LU="[object Symbol]",MU="[object WeakMap]",PU="[object ArrayBuffer]",NU="[object DataView]",IU="[object Float32Array]",DU="[object Float64Array]",RU="[object Int8Array]",FU="[object Int16Array]",BU="[object Int32Array]",jU="[object Uint8Array]",$U="[object Uint8ClampedArray]",HU="[object Uint16Array]",zU="[object Uint32Array]",Wn={};Wn[FC]=Wn[wU]=Wn[PU]=Wn[NU]=Wn[_U]=Wn[xU]=Wn[IU]=Wn[DU]=Wn[RU]=Wn[FU]=Wn[BU]=Wn[AU]=Wn[TU]=Wn[jC]=Wn[kU]=Wn[CU]=Wn[OU]=Wn[LU]=Wn[jU]=Wn[$U]=Wn[HU]=Wn[zU]=!0;Wn[SU]=Wn[BC]=Wn[MU]=!1;function am(n,e,t,r,i,s){var l,h=e&vU,c=e&yU,d=e&bU;if(t&&(l=i?t(n,r,i,s):t(n)),l!==void 0)return l;if(!ll(n))return n;var f=rc(n);if(f){if(l=F7(n),!h)return bC(n,l)}else{var g=Rd(n),y=g==BC||g==EU;if(Nd(n))return MC(n,h);if(g==jC||g==FC||y&&!i){if(l=c||y?{}:RC(n),!h)return c?E7(n,m7(l,n)):_7(n,p7(l,n))}else{if(!Wn[g])return i?n:{};l=lU(n,g,h)}}s||(s=new Cs);var E=s.get(n);if(E)return E;s.set(n,l),gU(n)?n.forEach(function(C){l.add(am(C,e,t,C,n,s))}):dU(n)&&n.forEach(function(C,M){l.set(M,am(C,e,t,M,n,s))});var _=d?c?A7:W0:c?Ef:x1,w=f?void 0:_(n);return E9(w||n,function(C,M){w&&(M=C,C=n[M]),_C(l,M,am(C,e,t,M,n,s))}),l}var UU=1,WU=4;function Tu(n){return am(n,UU|WU)}var qU="__lodash_hash_undefined__";function VU(n){return this.__data__.set(n,qU),this}function GU(n){return this.__data__.has(n)}function Hm(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new pc;++e<t;)this.add(n[e])}Hm.prototype.add=Hm.prototype.push=VU;Hm.prototype.has=GU;function YU(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function KU(n,e){return n.has(e)}var ZU=1,XU=2;function $C(n,e,t,r,i,s){var l=t&ZU,h=n.length,c=e.length;if(h!=c&&!(l&&c>h))return!1;var d=s.get(n),f=s.get(e);if(d&&f)return d==e&&f==n;var g=-1,y=!0,E=t&XU?new Hm:void 0;for(s.set(n,e),s.set(e,n);++g<h;){var _=n[g],w=e[g];if(r)var C=l?r(w,_,g,e,n,s):r(_,w,g,n,e,s);if(C!==void 0){if(C)continue;y=!1;break}if(E){if(!YU(e,function(M,b){if(!KU(E,b)&&(_===M||i(_,M,t,r,s)))return E.push(b)})){y=!1;break}}else if(!(_===w||i(_,w,t,r,s))){y=!1;break}}return s.delete(n),s.delete(e),y}function JU(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function QU(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var eW=1,tW=2,nW="[object Boolean]",rW="[object Date]",iW="[object Error]",oW="[object Map]",sW="[object Number]",aW="[object RegExp]",lW="[object Set]",cW="[object String]",uW="[object Symbol]",hW="[object ArrayBuffer]",dW="[object DataView]",fS=rl?rl.prototype:void 0,Ly=fS?fS.valueOf:void 0;function fW(n,e,t,r,i,s,l){switch(t){case dW:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case hW:return!(n.byteLength!=e.byteLength||!s(new $m(n),new $m(e)));case nW:case rW:case sW:return xf(+n,+e);case iW:return n.name==e.name&&n.message==e.message;case aW:case cW:return n==e+"";case oW:var h=JU;case lW:var c=r&eW;if(h||(h=QU),n.size!=e.size&&!c)return!1;var d=l.get(n);if(d)return d==e;r|=tW,l.set(n,e);var f=$C(h(n),h(e),r,i,s,l);return l.delete(n),f;case uW:if(Ly)return Ly.call(n)==Ly.call(e)}return!1}var pW=1,mW=Object.prototype,gW=mW.hasOwnProperty;function vW(n,e,t,r,i,s){var l=t&pW,h=W0(n),c=h.length,d=W0(e),f=d.length;if(c!=f&&!l)return!1;for(var g=c;g--;){var y=h[g];if(!(l?y in e:gW.call(e,y)))return!1}var E=s.get(n),_=s.get(e);if(E&&_)return E==e&&_==n;var w=!0;s.set(n,e),s.set(e,n);for(var C=l;++g<c;){y=h[g];var M=n[y],b=e[y];if(r)var k=l?r(b,M,y,e,n,s):r(M,b,y,n,e,s);if(!(k===void 0?M===b||i(M,b,t,r,s):k)){w=!1;break}C||(C=y=="constructor")}if(w&&!C){var A=n.constructor,N=e.constructor;A!=N&&"constructor"in n&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(n),s.delete(e),w}var yW=1,pS="[object Arguments]",mS="[object Array]",Op="[object Object]",bW=Object.prototype,gS=bW.hasOwnProperty;function wW(n,e,t,r,i,s){var l=rc(n),h=rc(e),c=l?mS:Rd(n),d=h?mS:Rd(e);c=c==pS?Op:c,d=d==pS?Op:d;var f=c==Op,g=d==Op,y=c==d;if(y&&Nd(n)){if(!Nd(e))return!1;l=!0,f=!1}if(y&&!f)return s||(s=new Cs),l||_1(n)?$C(n,e,t,r,i,s):fW(n,e,c,t,r,i,s);if(!(t&yW)){var E=f&&gS.call(n,"__wrapped__"),_=g&&gS.call(e,"__wrapped__");if(E||_){var w=E?n.value():n,C=_?e.value():e;return s||(s=new Cs),i(w,C,t,r,s)}}return y?(s||(s=new Cs),vW(n,e,t,r,i,s)):!1}function HC(n,e,t,r,i){return n===e?!0:n==null||e==null||!ca(n)&&!ca(e)?n!==n&&e!==e:wW(n,e,t,r,HC,i)}function _W(n){return function(e,t,r){for(var i=-1,s=Object(e),l=r(e),h=l.length;h--;){var c=l[n?h:++i];if(t(s[c],c,s)===!1)break}return e}}var xW=_W();const SW=xW;function Y0(n,e,t){(t!==void 0&&!xf(n[e],t)||t===void 0&&!(e in n))&&y1(n,e,t)}function EW(n){return ca(n)&&$g(n)}function K0(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function AW(n){return Sf(n,Ef(n))}function TW(n,e,t,r,i,s,l){var h=K0(n,t),c=K0(e,t),d=l.get(c);if(d){Y0(n,t,d);return}var f=s?s(h,c,t+"",n,e,l):void 0,g=f===void 0;if(g){var y=rc(c),E=!y&&Nd(c),_=!y&&!E&&_1(c);f=c,y||E||_?rc(h)?f=h:EW(h)?f=bC(h):E?(g=!1,f=MC(c,!0)):_?(g=!1,f=DC(c,!0)):f=[]:a7(c)||U0(c)?(f=h,U0(h)?f=AW(h):(!ll(h)||v1(h))&&(f=RC(c))):g=!1}g&&(l.set(c,f),i(f,c,r,s,l),l.delete(c)),Y0(n,t,f)}function zC(n,e,t,r,i){n!==e&&SW(e,function(s,l){if(i||(i=new Cs),ll(s))TW(n,e,l,t,zC,r,i);else{var h=r?r(K0(n,l),s,l+"",n,e,i):void 0;h===void 0&&(h=s),Y0(n,l,h)}},Ef)}function T1(n,e){return HC(n,e)}var kW=N9(function(n,e,t){zC(n,e,t)});const Xa=kW;var Lt=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Lt||{});class Ns{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=Lt.TYPE&Lt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Lt.LEVEL|i:Lt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class ku extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const UC=class Z0{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new ku(`Unable to create ${t} blot`);const s=i,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:s.create(r),h=new s(e,l,r);return Z0.blots.set(h.domNode,h),h}find(e,t=!1){return Z0.find(e,t)}query(e,t=Lt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Lt.LEVEL&Lt.BLOCK?r=this.types.block:e&Lt.LEVEL&Lt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Lt.LEVEL&r.scope&&t&Lt.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new ku("Invalid definition");if(r&&t.blotName==="abstract")throw new ku("Cannot register abstract class");const s=r?t.blotName:i?t.attrName:void 0;return this.types[s]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};UC.blots=new WeakMap;let Yu=UC;function vS(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class CW extends Ns{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){vS(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(vS(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ts=CW;function My(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class OW extends Ns{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[My(this.keyName)]=t,!0):!1}remove(e){e.style[My(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[My(this.keyName)];return this.canAdd(e,t)?t:""}}const cl=OW;class LW{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Yu.find(this.domNode);if(e==null)return;const t=Ns.keys(this.domNode),r=ts.keys(this.domNode),i=cl.keys(this.domNode);t.concat(r).concat(i).forEach(s=>{const l=e.scroll.query(s,Lt.ATTRIBUTE);l instanceof Ns&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Ug=LW,WC=class{constructor(e,t){this.scroll=e,this.domNode=t,Yu.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ku("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Yu.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const s=this.isolate(e,t);if(this.scroll.query(r,Lt.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,Lt.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);s.wrap(l),l.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new ku(`Cannot wrap ${e}`);return r.appendChild(this),r}};WC.blotName="abstract";let qC=WC;const VC=class extends qC{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};VC.scope=Lt.INLINE_BLOT;let MW=VC;const mi=MW;class PW{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||t&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,s]=this.find(e);let l=e-s;const h=this.iterator(i);let c=h();for(;c&&l<e+t;){const d=c.length();e>l?r(c,e-l,Math.min(t,l+d-e)):r(c,0,Math.min(d,e+t-l)),l+=d,c=h()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function yS(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Lt.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const GC=class Ia extends qC{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Ia.uiClass&&this.uiNode.classList.add(Ia.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new PW,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=yS(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof ku)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof Ia?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(t,r,(l,h,c)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&i.push(l),l instanceof Ia&&(i=i.concat(l.descendants(e,h,s))),s-=c}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Lt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Ia?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(s,l,h)=>{s.formatAt(l,h,r,i)})}insertAt(e,t,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,t,r);else{const l=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),s=[[this,e]];return r instanceof Ia?s.concat(r.path(i,t)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof Ia&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,l)=>{const h=i.split(s,t);h!=null&&r.appendChild(h)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(s);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,l)=>s===l?0:s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let l=null;s.nextSibling!=null&&(l=this.scroll.find(s.nextSibling));const h=yS(s,this.scroll);(h.next!==l||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,l||void 0))}),this.enforceAllowedChildren()}};GC.uiClass="";let NW=GC;const Xo=NW;function IW(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const iu=class ou extends Xo{static create(e){return super.create(e)}static formats(e,t){const r=t.query(ou.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Ug(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof ou||(r=r.wrap(ou.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Lt.INLINE);if(r==null)return;r instanceof Ns?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Lt.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof ou&&r.prev===this&&IW(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof ou&&this.attributes.move(r),r}};iu.allowedChildren=[iu,mi],iu.blotName="inline",iu.scope=Lt.INLINE_BLOT,iu.tagName="SPAN";let DW=iu;const k1=DW,su=class X0 extends Xo{static create(e){return super.create(e)}static formats(e,t){const r=t.query(X0.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Ug(this.domNode)}format(e,t){const r=this.scroll.query(e,Lt.BLOCK);r!=null&&(r instanceof Ns?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(X0.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,Lt.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Lt.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(t,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};su.blotName="block",su.scope=Lt.BLOCK_BLOT,su.tagName="P",su.allowedChildren=[k1,su,mi];let RW=su;const Fd=RW,J0=class extends Xo{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};J0.blotName="container",J0.scope=Lt.BLOCK_BLOT;let FW=J0;const Wg=FW;class BW extends mi{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const uo=BW,jW={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},$W=100,au=class extends Xo{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,jW),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Lt.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),d&&s(c.parent))},l=c=>{r.has(c.domNode)&&(c instanceof Xo&&c.children.forEach(l),r.delete(c.domNode),c.optimize(t))};let h=e;for(let c=0;h.length>0;c+=1){if(c>=$W)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(d=>{const f=this.find(d.target,!0);f!=null&&(f.domNode===d.target&&(d.type==="childList"?(s(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const y=this.find(g,!1);s(y,!1),y instanceof Xo&&y.children.forEach(E=>{s(E,!1)})})):d.type==="attributes"&&s(f.prev)),s(f))}),this.children.forEach(l),h=Array.from(this.observer.takeRecords()),i=h.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};au.blotName="scroll",au.defaultChild=Fd,au.allowedChildren=[Fd,Wg],au.scope=Lt.BLOCK_BLOT,au.tagName="DIV";let HW=au;const C1=HW,Q0=class YC extends mi{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof YC&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Q0.blotName="text",Q0.scope=Lt.INLINE_BLOT;let zW=Q0;const zm=zW,UW=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ns,AttributorStore:Ug,BlockBlot:Fd,ClassAttributor:ts,ContainerBlot:Wg,EmbedBlot:uo,InlineBlot:k1,LeafBlot:mi,ParentBlot:Xo,Registry:Yu,Scope:Lt,ScrollBlot:C1,StyleAttributor:cl,TextBlot:zm},Symbol.toStringTag,{value:"Module"}));var eb={exports:{}},io=-1,Ti=1,Fr=0;function Bd(n,e,t,r,i){if(n===e)return n?[[Fr,n]]:[];if(t!=null){var s=JW(n,e,t);if(s)return s}var l=O1(n,e),h=n.substring(0,l);n=n.substring(l),e=e.substring(l),l=qg(n,e);var c=n.substring(n.length-l);n=n.substring(0,n.length-l),e=e.substring(0,e.length-l);var d=WW(n,e);return h&&d.unshift([Fr,h]),c&&d.push([Fr,c]),L1(d,i),r&&GW(d),d}function WW(n,e){var t;if(!n)return[[Ti,e]];if(!e)return[[io,n]];var r=n.length>e.length?n:e,i=n.length>e.length?e:n,s=r.indexOf(i);if(s!==-1)return t=[[Ti,r.substring(0,s)],[Fr,i],[Ti,r.substring(s+i.length)]],n.length>e.length&&(t[0][0]=t[2][0]=io),t;if(i.length===1)return[[io,n],[Ti,e]];var l=VW(n,e);if(l){var h=l[0],c=l[1],d=l[2],f=l[3],g=l[4],y=Bd(h,d),E=Bd(c,f);return y.concat([[Fr,g]],E)}return qW(n,e)}function qW(n,e){for(var t=n.length,r=e.length,i=Math.ceil((t+r)/2),s=i,l=2*i,h=new Array(l),c=new Array(l),d=0;d<l;d++)h[d]=-1,c[d]=-1;h[s+1]=0,c[s+1]=0;for(var f=t-r,g=f%2!==0,y=0,E=0,_=0,w=0,C=0;C<i;C++){for(var M=-C+y;M<=C-E;M+=2){var b=s+M,k;M===-C||M!==C&&h[b-1]<h[b+1]?k=h[b+1]:k=h[b-1]+1;for(var A=k-M;k<t&&A<r&&n.charAt(k)===e.charAt(A);)k++,A++;if(h[b]=k,k>t)E+=2;else if(A>r)y+=2;else if(g){var N=s+f-M;if(N>=0&&N<l&&c[N]!==-1){var T=t-c[N];if(k>=T)return bS(n,e,k,A)}}}for(var P=-C+_;P<=C-w;P+=2){var N=s+P,T;P===-C||P!==C&&c[N-1]<c[N+1]?T=c[N+1]:T=c[N-1]+1;for(var R=T-P;T<t&&R<r&&n.charAt(t-T-1)===e.charAt(r-R-1);)T++,R++;if(c[N]=T,T>t)w+=2;else if(R>r)_+=2;else if(!g){var b=s+f-P;if(b>=0&&b<l&&h[b]!==-1){var k=h[b],A=s+k-b;if(T=t-T,k>=T)return bS(n,e,k,A)}}}}return[[io,n],[Ti,e]]}function bS(n,e,t,r){var i=n.substring(0,t),s=e.substring(0,r),l=n.substring(t),h=e.substring(r),c=Bd(i,s),d=Bd(l,h);return c.concat(d)}function O1(n,e){if(!n||!e||n.charAt(0)!==e.charAt(0))return 0;for(var t=0,r=Math.min(n.length,e.length),i=r,s=0;t<i;)n.substring(s,i)==e.substring(s,i)?(t=i,s=t):r=i,i=Math.floor((r-t)/2+t);return KC(n.charCodeAt(i-1))&&i--,i}function wS(n,e){var t=n.length,r=e.length;if(t==0||r==0)return 0;t>r?n=n.substring(t-r):t<r&&(e=e.substring(0,t));var i=Math.min(t,r);if(n==e)return i;for(var s=0,l=1;;){var h=n.substring(i-l),c=e.indexOf(h);if(c==-1)return s;l+=c,(c==0||n.substring(i-l)==e.substring(0,l))&&(s=l,l++)}}function qg(n,e){if(!n||!e||n.slice(-1)!==e.slice(-1))return 0;for(var t=0,r=Math.min(n.length,e.length),i=r,s=0;t<i;)n.substring(n.length-i,n.length-s)==e.substring(e.length-i,e.length-s)?(t=i,s=t):r=i,i=Math.floor((r-t)/2+t);return ZC(n.charCodeAt(n.length-i))&&i--,i}function VW(n,e){var t=n.length>e.length?n:e,r=n.length>e.length?e:n;if(t.length<4||r.length*2<t.length)return null;function i(E,_,w){for(var C=E.substring(w,w+Math.floor(E.length/4)),M=-1,b="",k,A,N,T;(M=_.indexOf(C,M+1))!==-1;){var P=O1(E.substring(w),_.substring(M)),R=qg(E.substring(0,w),_.substring(0,M));b.length<R+P&&(b=_.substring(M-R,M)+_.substring(M,M+P),k=E.substring(0,w-R),A=E.substring(w+P),N=_.substring(0,M-R),T=_.substring(M+P))}return b.length*2>=E.length?[k,A,N,T,b]:null}var s=i(t,r,Math.ceil(t.length/4)),l=i(t,r,Math.ceil(t.length/2)),h;if(!s&&!l)return null;l?s?h=s[4].length>l[4].length?s:l:h=l:h=s;var c,d,f,g;n.length>e.length?(c=h[0],d=h[1],f=h[2],g=h[3]):(f=h[0],g=h[1],c=h[2],d=h[3]);var y=h[4];return[c,d,f,g,y]}function GW(n){for(var e=!1,t=[],r=0,i=null,s=0,l=0,h=0,c=0,d=0;s<n.length;)n[s][0]==Fr?(t[r++]=s,l=c,h=d,c=0,d=0,i=n[s][1]):(n[s][0]==Ti?c+=n[s][1].length:d+=n[s][1].length,i&&i.length<=Math.max(l,h)&&i.length<=Math.max(c,d)&&(n.splice(t[r-1],0,[io,i]),n[t[r-1]+1][0]=Ti,r--,r--,s=r>0?t[r-1]:-1,l=0,h=0,c=0,d=0,i=null,e=!0)),s++;for(e&&L1(n),ZW(n),s=1;s<n.length;){if(n[s-1][0]==io&&n[s][0]==Ti){var f=n[s-1][1],g=n[s][1],y=wS(f,g),E=wS(g,f);y>=E?(y>=f.length/2||y>=g.length/2)&&(n.splice(s,0,[Fr,g.substring(0,y)]),n[s-1][1]=f.substring(0,f.length-y),n[s+1][1]=g.substring(y),s++):(E>=f.length/2||E>=g.length/2)&&(n.splice(s,0,[Fr,f.substring(0,E)]),n[s-1][0]=Ti,n[s-1][1]=g.substring(0,g.length-E),n[s+1][0]=io,n[s+1][1]=f.substring(E),s++),s++}s++}}var _S=/[^a-zA-Z0-9]/,xS=/\s/,SS=/[\r\n]/,YW=/\n\r?\n$/,KW=/^\r?\n\r?\n/;function ZW(n){function e(E,_){if(!E||!_)return 6;var w=E.charAt(E.length-1),C=_.charAt(0),M=w.match(_S),b=C.match(_S),k=M&&w.match(xS),A=b&&C.match(xS),N=k&&w.match(SS),T=A&&C.match(SS),P=N&&E.match(YW),R=T&&_.match(KW);return P||R?5:N||T?4:M&&!k&&A?3:k||A?2:M||b?1:0}for(var t=1;t<n.length-1;){if(n[t-1][0]==Fr&&n[t+1][0]==Fr){var r=n[t-1][1],i=n[t][1],s=n[t+1][1],l=qg(r,i);if(l){var h=i.substring(i.length-l);r=r.substring(0,r.length-l),i=h+i.substring(0,i.length-l),s=h+s}for(var c=r,d=i,f=s,g=e(r,i)+e(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var y=e(r,i)+e(i,s);y>=g&&(g=y,c=r,d=i,f=s)}n[t-1][1]!=c&&(c?n[t-1][1]=c:(n.splice(t-1,1),t--),n[t][1]=d,f?n[t+1][1]=f:(n.splice(t+1,1),t--))}t++}}function L1(n,e){n.push([Fr,""]);for(var t=0,r=0,i=0,s="",l="",h;t<n.length;){if(t<n.length-1&&!n[t][1]){n.splice(t,1);continue}switch(n[t][0]){case Ti:i++,l+=n[t][1],t++;break;case io:r++,s+=n[t][1],t++;break;case Fr:var c=t-i-r-1;if(e){if(c>=0&&JC(n[c][1])){var d=n[c][1].slice(-1);if(n[c][1]=n[c][1].slice(0,-1),s=d+s,l=d+l,!n[c][1]){n.splice(c,1),t--;var f=c-1;n[f]&&n[f][0]===Ti&&(i++,l=n[f][1]+l,f--),n[f]&&n[f][0]===io&&(r++,s=n[f][1]+s,f--),c=f}}if(XC(n[t][1])){var d=n[t][1].charAt(0);n[t][1]=n[t][1].slice(1),s+=d,l+=d}}if(t<n.length-1&&!n[t][1]){n.splice(t,1);break}if(s.length>0||l.length>0){s.length>0&&l.length>0&&(h=O1(l,s),h!==0&&(c>=0?n[c][1]+=l.substring(0,h):(n.splice(0,0,[Fr,l.substring(0,h)]),t++),l=l.substring(h),s=s.substring(h)),h=qg(l,s),h!==0&&(n[t][1]=l.substring(l.length-h)+n[t][1],l=l.substring(0,l.length-h),s=s.substring(0,s.length-h)));var g=i+r;s.length===0&&l.length===0?(n.splice(t-g,g),t=t-g):s.length===0?(n.splice(t-g,g,[Ti,l]),t=t-g+1):l.length===0?(n.splice(t-g,g,[io,s]),t=t-g+1):(n.splice(t-g,g,[io,s],[Ti,l]),t=t-g+2)}t!==0&&n[t-1][0]===Fr?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,i=0,r=0,s="",l="";break}}n[n.length-1][1]===""&&n.pop();var y=!1;for(t=1;t<n.length-1;)n[t-1][0]===Fr&&n[t+1][0]===Fr&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)===n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),y=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),y=!0)),t++;y&&L1(n,e)}function KC(n){return n>=55296&&n<=56319}function ZC(n){return n>=56320&&n<=57343}function XC(n){return ZC(n.charCodeAt(0))}function JC(n){return KC(n.charCodeAt(n.length-1))}function XW(n){for(var e=[],t=0;t<n.length;t++)n[t][1].length>0&&e.push(n[t]);return e}function Py(n,e,t,r){return JC(n)||XC(r)?null:XW([[Fr,n],[io,e],[Ti,t],[Fr,r]])}function JW(n,e,t){var r=typeof t=="number"?{index:t,length:0}:t.oldRange,i=typeof t=="number"?null:t.newRange,s=n.length,l=e.length;if(r.length===0&&(i===null||i.length===0)){var h=r.index,c=n.slice(0,h),d=n.slice(h),f=i?i.index:null;e:{var g=h+l-s;if(f!==null&&f!==g||g<0||g>l)break e;var y=e.slice(0,g),E=e.slice(g);if(E!==d)break e;var _=Math.min(h,g),w=c.slice(0,_),C=y.slice(0,_);if(w!==C)break e;var M=c.slice(_),b=y.slice(_);return Py(w,M,b,d)}e:{if(f!==null&&f!==h)break e;var k=h,y=e.slice(0,k),E=e.slice(k);if(y!==c)break e;var A=Math.min(s-k,l-k),N=d.slice(d.length-A),T=E.slice(E.length-A);if(N!==T)break e;var M=d.slice(0,d.length-A),b=E.slice(0,E.length-A);return Py(c,M,b,N)}}if(r.length>0&&i&&i.length===0)e:{var w=n.slice(0,r.index),N=n.slice(r.index+r.length),_=w.length,A=N.length;if(l<_+A)break e;var C=e.slice(0,_),T=e.slice(l-A);if(w!==C||N!==T)break e;var M=n.slice(_,s-A),b=e.slice(_,l-A);return Py(w,M,b,N)}return null}function Vg(n,e,t,r){return Bd(n,e,t,r,!0)}Vg.INSERT=Ti;Vg.DELETE=io;Vg.EQUAL=Fr;var QW=Vg,Um={exports:{}};Um.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",l="[object Array]",h="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",g="[object GeneratorFunction]",y="[object Map]",E="[object Number]",_="[object Object]",w="[object Promise]",C="[object RegExp]",M="[object Set]",b="[object String]",k="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",T="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",B="[object Int8Array]",D="[object Int16Array]",H="[object Int32Array]",$="[object Uint8Array]",V="[object Uint8ClampedArray]",ee="[object Uint16Array]",fe="[object Uint32Array]",me=/[\\^$.*+?()[\]{}|]/g,ie=/\w*$/,te=/^\[object .+?Constructor\]$/,be=/^(?:0|[1-9]\d*)$/,Y={};Y[s]=Y[l]=Y[N]=Y[T]=Y[h]=Y[c]=Y[P]=Y[R]=Y[B]=Y[D]=Y[H]=Y[y]=Y[E]=Y[_]=Y[C]=Y[M]=Y[b]=Y[k]=Y[$]=Y[V]=Y[ee]=Y[fe]=!0,Y[d]=Y[f]=Y[A]=!1;var ue=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,ke=typeof self=="object"&&self&&self.Object===Object&&self,xe=ue||ke||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&!0&&n&&!n.nodeType&&n,Oe=K&&K.exports===X;function Fe(W,ge){return W.set(ge[0],ge[1]),W}function Q(W,ge){return W.add(ge),W}function oe(W,ge){for(var Ne=-1,Ke=W?W.length:0;++Ne<Ke&&ge(W[Ne],Ne,W)!==!1;);return W}function ae(W,ge){for(var Ne=-1,Ke=ge.length,Gt=W.length;++Ne<Ke;)W[Gt+Ne]=ge[Ne];return W}function ce(W,ge,Ne,Ke){var Gt=-1,Tt=W?W.length:0;for(Ke&&Tt&&(Ne=W[++Gt]);++Gt<Tt;)Ne=ge(Ne,W[Gt],Gt,W);return Ne}function q(W,ge){for(var Ne=-1,Ke=Array(W);++Ne<W;)Ke[Ne]=ge(Ne);return Ke}function J(W,ge){return W==null?void 0:W[ge]}function pe(W){var ge=!1;if(W!=null&&typeof W.toString!="function")try{ge=!!(W+"")}catch{}return ge}function ye(W){var ge=-1,Ne=Array(W.size);return W.forEach(function(Ke,Gt){Ne[++ge]=[Gt,Ke]}),Ne}function Ae(W,ge){return function(Ne){return W(ge(Ne))}}function Te(W){var ge=-1,Ne=Array(W.size);return W.forEach(function(Ke){Ne[++ge]=Ke}),Ne}var De=Array.prototype,ne=Function.prototype,le=Object.prototype,he=xe["__core-js_shared__"],O=function(){var W=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),F=ne.toString,z=le.hasOwnProperty,re=le.toString,_e=RegExp("^"+F.call(z).replace(me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=Oe?xe.Buffer:void 0,Me=xe.Symbol,He=xe.Uint8Array,Ze=Ae(Object.getPrototypeOf,Object),mt=Object.create,ct=le.propertyIsEnumerable,Vt=De.splice,It=Object.getOwnPropertySymbols,vt=Le?Le.isBuffer:void 0,bt=Ae(Object.keys,Object),Ft=Fn(xe,"DataView"),ut=Fn(xe,"Map"),sn=Fn(xe,"Promise"),Bt=Fn(xe,"Set"),mn=Fn(xe,"WeakMap"),un=Fn(Object,"create"),an=yn(Ft),ve=yn(ut),Se=yn(sn),Re=yn(Bt),Ue=yn(mn),rt=Me?Me.prototype:void 0,Xe=rt?rt.valueOf:void 0;function gt(W){var ge=-1,Ne=W?W.length:0;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function at(){this.__data__=un?un(null):{}}function xt(W){return this.has(W)&&delete this.__data__[W]}function ht(W){var ge=this.__data__;if(un){var Ne=ge[W];return Ne===r?void 0:Ne}return z.call(ge,W)?ge[W]:void 0}function dt(W){var ge=this.__data__;return un?ge[W]!==void 0:z.call(ge,W)}function it(W,ge){var Ne=this.__data__;return Ne[W]=un&&ge===void 0?r:ge,this}gt.prototype.clear=at,gt.prototype.delete=xt,gt.prototype.get=ht,gt.prototype.has=dt,gt.prototype.set=it;function fn(W){var ge=-1,Ne=W?W.length:0;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function En(){this.__data__=[]}function fr(W){var ge=this.__data__,Ne=tn(ge,W);if(Ne<0)return!1;var Ke=ge.length-1;return Ne==Ke?ge.pop():Vt.call(ge,Ne,1),!0}function sr(W){var ge=this.__data__,Ne=tn(ge,W);return Ne<0?void 0:ge[Ne][1]}function Xr(W){return tn(this.__data__,W)>-1}function _r(W,ge){var Ne=this.__data__,Ke=tn(Ne,W);return Ke<0?Ne.push([W,ge]):Ne[Ke][1]=ge,this}fn.prototype.clear=En,fn.prototype.delete=fr,fn.prototype.get=sr,fn.prototype.has=Xr,fn.prototype.set=_r;function bn(W){var ge=-1,Ne=W?W.length:0;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function ii(){this.__data__={hash:new gt,map:new(ut||fn),string:new gt}}function yi(W){return Hn(this,W).delete(W)}function Lr(W){return Hn(this,W).get(W)}function Dn(W){return Hn(this,W).has(W)}function Jr(W,ge){return Hn(this,W).set(W,ge),this}bn.prototype.clear=ii,bn.prototype.delete=yi,bn.prototype.get=Lr,bn.prototype.has=Dn,bn.prototype.set=Jr;function Rn(W){this.__data__=new fn(W)}function Ee(){this.__data__=new fn}function Ve(W){return this.__data__.delete(W)}function Ye(W){return this.__data__.get(W)}function Qe(W){return this.__data__.has(W)}function nt(W,ge){var Ne=this.__data__;if(Ne instanceof fn){var Ke=Ne.__data__;if(!ut||Ke.length<t-1)return Ke.push([W,ge]),this;Ne=this.__data__=new bn(Ke)}return Ne.set(W,ge),this}Rn.prototype.clear=Ee,Rn.prototype.delete=Ve,Rn.prototype.get=Ye,Rn.prototype.has=Qe,Rn.prototype.set=nt;function Rt(W,ge){var Ne=vr(W)||Ut(W)?q(W.length,String):[],Ke=Ne.length,Gt=!!Ke;for(var Tt in W)(ge||z.call(W,Tt))&&!(Gt&&(Tt=="length"||is(Tt,Ke)))&&Ne.push(Tt);return Ne}function yt(W,ge,Ne){var Ke=W[ge];(!(z.call(W,ge)&&nr(Ke,Ne))||Ne===void 0&&!(ge in W))&&(W[ge]=Ne)}function tn(W,ge){for(var Ne=W.length;Ne--;)if(nr(W[Ne][0],ge))return Ne;return-1}function nn(W,ge){return W&&oi(ge,Ui(ge),W)}function An(W,ge,Ne,Ke,Gt,Tt,gn){var _t;if(Ke&&(_t=Tt?Ke(W,Gt,Tt,gn):Ke(W)),_t!==void 0)return _t;if(!xr(W))return W;var Kn=vr(W);if(Kn){if(_t=Co(W),!ge)return Hi(W,_t)}else{var ln=Yn(W),Zn=ln==f||ln==g;if(Qr(W))return Vn(W,ge);if(ln==_||ln==s||Zn&&!Tt){if(pe(W))return Tt?W:{};if(_t=si(Zn?{}:W),!ge)return rn(W,nn(_t,W))}else{if(!Y[ln])return Tt?W:{};_t=Rs(W,ln,An,ge)}}gn||(gn=new Rn);var Sr=gn.get(W);if(Sr)return Sr;if(gn.set(W,_t),!Kn)var Bn=Ne?dn(W):Ui(W);return oe(Bn||W,function(jn,lr){Bn&&(lr=jn,jn=W[lr]),yt(_t,lr,An(jn,ge,Ne,Ke,lr,W,gn))}),_t}function qn(W){return xr(W)?mt(W):{}}function et(W,ge,Ne){var Ke=ge(W);return vr(W)?Ke:ae(Ke,Ne(W))}function Ct(W){return re.call(W)}function hn(W){if(!xr(W)||Bs(W))return!1;var ge=ei(W)||pe(W)?_e:te;return ge.test(yn(W))}function jr(W){if(!tr(W))return bt(W);var ge=[];for(var Ne in Object(W))z.call(W,Ne)&&Ne!="constructor"&&ge.push(Ne);return ge}function Vn(W,ge){if(ge)return W.slice();var Ne=new W.constructor(W.length);return W.copy(Ne),Ne}function pr(W){var ge=new W.constructor(W.byteLength);return new He(ge).set(new He(W)),ge}function mr(W,ge){var Ne=ge?pr(W.buffer):W.buffer;return new W.constructor(Ne,W.byteOffset,W.byteLength)}function zt(W,ge,Ne){var Ke=ge?Ne(ye(W),!0):ye(W);return ce(Ke,Fe,new W.constructor)}function Ln(W){var ge=new W.constructor(W.source,ie.exec(W));return ge.lastIndex=W.lastIndex,ge}function Oi(W,ge,Ne){var Ke=ge?Ne(Te(W),!0):Te(W);return ce(Ke,Q,new W.constructor)}function gr(W){return Xe?Object(Xe.call(W)):{}}function ar(W,ge){var Ne=ge?pr(W.buffer):W.buffer;return new W.constructor(Ne,W.byteOffset,W.length)}function Hi(W,ge){var Ne=-1,Ke=W.length;for(ge||(ge=Array(Ke));++Ne<Ke;)ge[Ne]=W[Ne];return ge}function oi(W,ge,Ne,Ke){Ne||(Ne={});for(var Gt=-1,Tt=ge.length;++Gt<Tt;){var gn=ge[Gt],_t=Ke?Ke(Ne[gn],W[gn],gn,Ne,W):void 0;yt(Ne,gn,_t===void 0?W[gn]:_t)}return Ne}function rn(W,ge){return oi(W,Mr(W),ge)}function dn(W){return et(W,Ui,Mr)}function Hn(W,ge){var Ne=W.__data__;return Fs(ge)?Ne[typeof ge=="string"?"string":"hash"]:Ne.map}function Fn(W,ge){var Ne=J(W,ge);return hn(Ne)?Ne:void 0}var Mr=It?Ae(It,Object):rr,Yn=Ct;(Ft&&Yn(new Ft(new ArrayBuffer(1)))!=T||ut&&Yn(new ut)!=y||sn&&Yn(sn.resolve())!=w||Bt&&Yn(new Bt)!=M||mn&&Yn(new mn)!=A)&&(Yn=function(W){var ge=re.call(W),Ne=ge==_?W.constructor:void 0,Ke=Ne?yn(Ne):void 0;if(Ke)switch(Ke){case an:return T;case ve:return y;case Se:return w;case Re:return M;case Ue:return A}return ge});function Co(W){var ge=W.length,Ne=W.constructor(ge);return ge&&typeof W[0]=="string"&&z.call(W,"index")&&(Ne.index=W.index,Ne.input=W.input),Ne}function si(W){return typeof W.constructor=="function"&&!tr(W)?qn(Ze(W)):{}}function Rs(W,ge,Ne,Ke){var Gt=W.constructor;switch(ge){case N:return pr(W);case h:case c:return new Gt(+W);case T:return mr(W,Ke);case P:case R:case B:case D:case H:case $:case V:case ee:case fe:return ar(W,Ke);case y:return zt(W,Ke,Ne);case E:case b:return new Gt(W);case C:return Ln(W);case M:return Oi(W,Ke,Ne);case k:return gr(W)}}function is(W,ge){return ge=ge??i,!!ge&&(typeof W=="number"||be.test(W))&&W>-1&&W%1==0&&W<ge}function Fs(W){var ge=typeof W;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?W!=="__proto__":W===null}function Bs(W){return!!O&&O in W}function tr(W){var ge=W&&W.constructor,Ne=typeof ge=="function"&&ge.prototype||le;return W===Ne}function yn(W){if(W!=null){try{return F.call(W)}catch{}try{return W+""}catch{}}return""}function zn(W){return An(W,!0,!0)}function nr(W,ge){return W===ge||W!==W&&ge!==ge}function Ut(W){return ai(W)&&z.call(W,"callee")&&(!ct.call(W,"callee")||re.call(W)==s)}var vr=Array.isArray;function Zt(W){return W!=null&&zi(W.length)&&!ei(W)}function ai(W){return Oo(W)&&Zt(W)}var Qr=vt||Wi;function ei(W){var ge=xr(W)?re.call(W):"";return ge==f||ge==g}function zi(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=i}function xr(W){var ge=typeof W;return!!W&&(ge=="object"||ge=="function")}function Oo(W){return!!W&&typeof W=="object"}function Ui(W){return Zt(W)?Rt(W):jr(W)}function rr(){return[]}function Wi(){return!1}n.exports=zn})(Um,Um.exports);var QC=Um.exports,Wm={exports:{}};Wm.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,s=2,l=9007199254740991,h="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",y="[object Error]",E="[object Function]",_="[object GeneratorFunction]",w="[object Map]",C="[object Number]",M="[object Null]",b="[object Object]",k="[object Promise]",A="[object Proxy]",N="[object RegExp]",T="[object Set]",P="[object String]",R="[object Symbol]",B="[object Undefined]",D="[object WeakMap]",H="[object ArrayBuffer]",$="[object DataView]",V="[object Float32Array]",ee="[object Float64Array]",fe="[object Int8Array]",me="[object Int16Array]",ie="[object Int32Array]",te="[object Uint8Array]",be="[object Uint8ClampedArray]",Y="[object Uint16Array]",ue="[object Uint32Array]",ke=/[\\^$.*+?()[\]{}|]/g,xe=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,K={};K[V]=K[ee]=K[fe]=K[me]=K[ie]=K[te]=K[be]=K[Y]=K[ue]=!0,K[h]=K[c]=K[H]=K[f]=K[$]=K[g]=K[y]=K[E]=K[w]=K[C]=K[b]=K[N]=K[T]=K[P]=K[D]=!1;var Oe=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,Fe=typeof self=="object"&&self&&self.Object===Object&&self,Q=Oe||Fe||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&!0&&n&&!n.nodeType&&n,ce=ae&&ae.exports===oe,q=ce&&Oe.process,J=function(){try{return q&&q.binding&&q.binding("util")}catch{}}(),pe=J&&J.isTypedArray;function ye(W,ge){for(var Ne=-1,Ke=W==null?0:W.length,Gt=0,Tt=[];++Ne<Ke;){var gn=W[Ne];ge(gn,Ne,W)&&(Tt[Gt++]=gn)}return Tt}function Ae(W,ge){for(var Ne=-1,Ke=ge.length,Gt=W.length;++Ne<Ke;)W[Gt+Ne]=ge[Ne];return W}function Te(W,ge){for(var Ne=-1,Ke=W==null?0:W.length;++Ne<Ke;)if(ge(W[Ne],Ne,W))return!0;return!1}function De(W,ge){for(var Ne=-1,Ke=Array(W);++Ne<W;)Ke[Ne]=ge(Ne);return Ke}function ne(W){return function(ge){return W(ge)}}function le(W,ge){return W.has(ge)}function he(W,ge){return W==null?void 0:W[ge]}function O(W){var ge=-1,Ne=Array(W.size);return W.forEach(function(Ke,Gt){Ne[++ge]=[Gt,Ke]}),Ne}function F(W,ge){return function(Ne){return W(ge(Ne))}}function z(W){var ge=-1,Ne=Array(W.size);return W.forEach(function(Ke){Ne[++ge]=Ke}),Ne}var re=Array.prototype,_e=Function.prototype,Le=Object.prototype,Me=Q["__core-js_shared__"],He=_e.toString,Ze=Le.hasOwnProperty,mt=function(){var W=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),ct=Le.toString,Vt=RegExp("^"+He.call(Ze).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=ce?Q.Buffer:void 0,vt=Q.Symbol,bt=Q.Uint8Array,Ft=Le.propertyIsEnumerable,ut=re.splice,sn=vt?vt.toStringTag:void 0,Bt=Object.getOwnPropertySymbols,mn=It?It.isBuffer:void 0,un=F(Object.keys,Object),an=Mr(Q,"DataView"),ve=Mr(Q,"Map"),Se=Mr(Q,"Promise"),Re=Mr(Q,"Set"),Ue=Mr(Q,"WeakMap"),rt=Mr(Object,"create"),Xe=yn(an),gt=yn(ve),at=yn(Se),xt=yn(Re),ht=yn(Ue),dt=vt?vt.prototype:void 0,it=dt?dt.valueOf:void 0;function fn(W){var ge=-1,Ne=W==null?0:W.length;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function En(){this.__data__=rt?rt(null):{},this.size=0}function fr(W){var ge=this.has(W)&&delete this.__data__[W];return this.size-=ge?1:0,ge}function sr(W){var ge=this.__data__;if(rt){var Ne=ge[W];return Ne===r?void 0:Ne}return Ze.call(ge,W)?ge[W]:void 0}function Xr(W){var ge=this.__data__;return rt?ge[W]!==void 0:Ze.call(ge,W)}function _r(W,ge){var Ne=this.__data__;return this.size+=this.has(W)?0:1,Ne[W]=rt&&ge===void 0?r:ge,this}fn.prototype.clear=En,fn.prototype.delete=fr,fn.prototype.get=sr,fn.prototype.has=Xr,fn.prototype.set=_r;function bn(W){var ge=-1,Ne=W==null?0:W.length;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function ii(){this.__data__=[],this.size=0}function yi(W){var ge=this.__data__,Ne=Vn(ge,W);if(Ne<0)return!1;var Ke=ge.length-1;return Ne==Ke?ge.pop():ut.call(ge,Ne,1),--this.size,!0}function Lr(W){var ge=this.__data__,Ne=Vn(ge,W);return Ne<0?void 0:ge[Ne][1]}function Dn(W){return Vn(this.__data__,W)>-1}function Jr(W,ge){var Ne=this.__data__,Ke=Vn(Ne,W);return Ke<0?(++this.size,Ne.push([W,ge])):Ne[Ke][1]=ge,this}bn.prototype.clear=ii,bn.prototype.delete=yi,bn.prototype.get=Lr,bn.prototype.has=Dn,bn.prototype.set=Jr;function Rn(W){var ge=-1,Ne=W==null?0:W.length;for(this.clear();++ge<Ne;){var Ke=W[ge];this.set(Ke[0],Ke[1])}}function Ee(){this.size=0,this.__data__={hash:new fn,map:new(ve||bn),string:new fn}}function Ve(W){var ge=Fn(this,W).delete(W);return this.size-=ge?1:0,ge}function Ye(W){return Fn(this,W).get(W)}function Qe(W){return Fn(this,W).has(W)}function nt(W,ge){var Ne=Fn(this,W),Ke=Ne.size;return Ne.set(W,ge),this.size+=Ne.size==Ke?0:1,this}Rn.prototype.clear=Ee,Rn.prototype.delete=Ve,Rn.prototype.get=Ye,Rn.prototype.has=Qe,Rn.prototype.set=nt;function Rt(W){var ge=-1,Ne=W==null?0:W.length;for(this.__data__=new Rn;++ge<Ne;)this.add(W[ge])}function yt(W){return this.__data__.set(W,r),this}function tn(W){return this.__data__.has(W)}Rt.prototype.add=Rt.prototype.push=yt,Rt.prototype.has=tn;function nn(W){var ge=this.__data__=new bn(W);this.size=ge.size}function An(){this.__data__=new bn,this.size=0}function qn(W){var ge=this.__data__,Ne=ge.delete(W);return this.size=ge.size,Ne}function et(W){return this.__data__.get(W)}function Ct(W){return this.__data__.has(W)}function hn(W,ge){var Ne=this.__data__;if(Ne instanceof bn){var Ke=Ne.__data__;if(!ve||Ke.length<t-1)return Ke.push([W,ge]),this.size=++Ne.size,this;Ne=this.__data__=new Rn(Ke)}return Ne.set(W,ge),this.size=Ne.size,this}nn.prototype.clear=An,nn.prototype.delete=qn,nn.prototype.get=et,nn.prototype.has=Ct,nn.prototype.set=hn;function jr(W,ge){var Ne=Ut(W),Ke=!Ne&&nr(W),Gt=!Ne&&!Ke&&Zt(W),Tt=!Ne&&!Ke&&!Gt&&Oo(W),gn=Ne||Ke||Gt||Tt,_t=gn?De(W.length,String):[],Kn=_t.length;for(var ln in W)(ge||Ze.call(W,ln))&&!(gn&&(ln=="length"||Gt&&(ln=="offset"||ln=="parent")||Tt&&(ln=="buffer"||ln=="byteLength"||ln=="byteOffset")||Rs(ln,Kn)))&&_t.push(ln);return _t}function Vn(W,ge){for(var Ne=W.length;Ne--;)if(zn(W[Ne][0],ge))return Ne;return-1}function pr(W,ge,Ne){var Ke=ge(W);return Ut(W)?Ke:Ae(Ke,Ne(W))}function mr(W){return W==null?W===void 0?B:M:sn&&sn in Object(W)?Yn(W):tr(W)}function zt(W){return xr(W)&&mr(W)==h}function Ln(W,ge,Ne,Ke,Gt){return W===ge?!0:W==null||ge==null||!xr(W)&&!xr(ge)?W!==W&&ge!==ge:Oi(W,ge,Ne,Ke,Ln,Gt)}function Oi(W,ge,Ne,Ke,Gt,Tt){var gn=Ut(W),_t=Ut(ge),Kn=gn?c:si(W),ln=_t?c:si(ge);Kn=Kn==h?b:Kn,ln=ln==h?b:ln;var Zn=Kn==b,Sr=ln==b,Bn=Kn==ln;if(Bn&&Zt(W)){if(!Zt(ge))return!1;gn=!0,Zn=!1}if(Bn&&!Zn)return Tt||(Tt=new nn),gn||Oo(W)?oi(W,ge,Ne,Ke,Gt,Tt):rn(W,ge,Kn,Ne,Ke,Gt,Tt);if(!(Ne&i)){var jn=Zn&&Ze.call(W,"__wrapped__"),lr=Sr&&Ze.call(ge,"__wrapped__");if(jn||lr){var li=jn?W.value():W,qi=lr?ge.value():ge;return Tt||(Tt=new nn),Gt(li,qi,Ne,Ke,Tt)}}return Bn?(Tt||(Tt=new nn),dn(W,ge,Ne,Ke,Gt,Tt)):!1}function gr(W){if(!zi(W)||Fs(W))return!1;var ge=Qr(W)?Vt:xe;return ge.test(yn(W))}function ar(W){return xr(W)&&ei(W.length)&&!!K[mr(W)]}function Hi(W){if(!Bs(W))return un(W);var ge=[];for(var Ne in Object(W))Ze.call(W,Ne)&&Ne!="constructor"&&ge.push(Ne);return ge}function oi(W,ge,Ne,Ke,Gt,Tt){var gn=Ne&i,_t=W.length,Kn=ge.length;if(_t!=Kn&&!(gn&&Kn>_t))return!1;var ln=Tt.get(W);if(ln&&Tt.get(ge))return ln==ge;var Zn=-1,Sr=!0,Bn=Ne&s?new Rt:void 0;for(Tt.set(W,ge),Tt.set(ge,W);++Zn<_t;){var jn=W[Zn],lr=ge[Zn];if(Ke)var li=gn?Ke(lr,jn,Zn,ge,W,Tt):Ke(jn,lr,Zn,W,ge,Tt);if(li!==void 0){if(li)continue;Sr=!1;break}if(Bn){if(!Te(ge,function(qi,Li){if(!le(Bn,Li)&&(jn===qi||Gt(jn,qi,Ne,Ke,Tt)))return Bn.push(Li)})){Sr=!1;break}}else if(!(jn===lr||Gt(jn,lr,Ne,Ke,Tt))){Sr=!1;break}}return Tt.delete(W),Tt.delete(ge),Sr}function rn(W,ge,Ne,Ke,Gt,Tt,gn){switch(Ne){case $:if(W.byteLength!=ge.byteLength||W.byteOffset!=ge.byteOffset)return!1;W=W.buffer,ge=ge.buffer;case H:return!(W.byteLength!=ge.byteLength||!Tt(new bt(W),new bt(ge)));case f:case g:case C:return zn(+W,+ge);case y:return W.name==ge.name&&W.message==ge.message;case N:case P:return W==ge+"";case w:var _t=O;case T:var Kn=Ke&i;if(_t||(_t=z),W.size!=ge.size&&!Kn)return!1;var ln=gn.get(W);if(ln)return ln==ge;Ke|=s,gn.set(W,ge);var Zn=oi(_t(W),_t(ge),Ke,Gt,Tt,gn);return gn.delete(W),Zn;case R:if(it)return it.call(W)==it.call(ge)}return!1}function dn(W,ge,Ne,Ke,Gt,Tt){var gn=Ne&i,_t=Hn(W),Kn=_t.length,ln=Hn(ge),Zn=ln.length;if(Kn!=Zn&&!gn)return!1;for(var Sr=Kn;Sr--;){var Bn=_t[Sr];if(!(gn?Bn in ge:Ze.call(ge,Bn)))return!1}var jn=Tt.get(W);if(jn&&Tt.get(ge))return jn==ge;var lr=!0;Tt.set(W,ge),Tt.set(ge,W);for(var li=gn;++Sr<Kn;){Bn=_t[Sr];var qi=W[Bn],Li=ge[Bn];if(Ke)var js=gn?Ke(Li,qi,Bn,ge,W,Tt):Ke(qi,Li,Bn,W,ge,Tt);if(!(js===void 0?qi===Li||Gt(qi,Li,Ne,Ke,Tt):js)){lr=!1;break}li||(li=Bn=="constructor")}if(lr&&!li){var ga=W.constructor,$r=ge.constructor;ga!=$r&&"constructor"in W&&"constructor"in ge&&!(typeof ga=="function"&&ga instanceof ga&&typeof $r=="function"&&$r instanceof $r)&&(lr=!1)}return Tt.delete(W),Tt.delete(ge),lr}function Hn(W){return pr(W,Ui,Co)}function Fn(W,ge){var Ne=W.__data__;return is(ge)?Ne[typeof ge=="string"?"string":"hash"]:Ne.map}function Mr(W,ge){var Ne=he(W,ge);return gr(Ne)?Ne:void 0}function Yn(W){var ge=Ze.call(W,sn),Ne=W[sn];try{W[sn]=void 0;var Ke=!0}catch{}var Gt=ct.call(W);return Ke&&(ge?W[sn]=Ne:delete W[sn]),Gt}var Co=Bt?function(W){return W==null?[]:(W=Object(W),ye(Bt(W),function(ge){return Ft.call(W,ge)}))}:rr,si=mr;(an&&si(new an(new ArrayBuffer(1)))!=$||ve&&si(new ve)!=w||Se&&si(Se.resolve())!=k||Re&&si(new Re)!=T||Ue&&si(new Ue)!=D)&&(si=function(W){var ge=mr(W),Ne=ge==b?W.constructor:void 0,Ke=Ne?yn(Ne):"";if(Ke)switch(Ke){case Xe:return $;case gt:return w;case at:return k;case xt:return T;case ht:return D}return ge});function Rs(W,ge){return ge=ge??l,!!ge&&(typeof W=="number"||X.test(W))&&W>-1&&W%1==0&&W<ge}function is(W){var ge=typeof W;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?W!=="__proto__":W===null}function Fs(W){return!!mt&&mt in W}function Bs(W){var ge=W&&W.constructor,Ne=typeof ge=="function"&&ge.prototype||Le;return W===Ne}function tr(W){return ct.call(W)}function yn(W){if(W!=null){try{return He.call(W)}catch{}try{return W+""}catch{}}return""}function zn(W,ge){return W===ge||W!==W&&ge!==ge}var nr=zt(function(){return arguments}())?zt:function(W){return xr(W)&&Ze.call(W,"callee")&&!Ft.call(W,"callee")},Ut=Array.isArray;function vr(W){return W!=null&&ei(W.length)&&!Qr(W)}var Zt=mn||Wi;function ai(W,ge){return Ln(W,ge)}function Qr(W){if(!zi(W))return!1;var ge=mr(W);return ge==E||ge==_||ge==d||ge==A}function ei(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=l}function zi(W){var ge=typeof W;return W!=null&&(ge=="object"||ge=="function")}function xr(W){return W!=null&&typeof W=="object"}var Oo=pe?ne(pe):ar;function Ui(W){return vr(W)?jr(W):Hi(W)}function rr(){return[]}function Wi(){return!1}n.exports=ai})(Wm,Wm.exports);var eO=Wm.exports,M1={};Object.defineProperty(M1,"__esModule",{value:!0});const eq=QC,tq=eO;var tb;(function(n){function e(s={},l={},h=!1){typeof s!="object"&&(s={}),typeof l!="object"&&(l={});let c=eq(l);h||(c=Object.keys(c).reduce((d,f)=>(c[f]!=null&&(d[f]=c[f]),d),{}));for(const d in s)s[d]!==void 0&&l[d]===void 0&&(c[d]=s[d]);return Object.keys(c).length>0?c:void 0}n.compose=e;function t(s={},l={}){typeof s!="object"&&(s={}),typeof l!="object"&&(l={});const h=Object.keys(s).concat(Object.keys(l)).reduce((c,d)=>(tq(s[d],l[d])||(c[d]=l[d]===void 0?null:l[d]),c),{});return Object.keys(h).length>0?h:void 0}n.diff=t;function r(s={},l={}){s=s||{};const h=Object.keys(l).reduce((c,d)=>(l[d]!==s[d]&&s[d]!==void 0&&(c[d]=l[d]),c),{});return Object.keys(s).reduce((c,d)=>(s[d]!==l[d]&&l[d]===void 0&&(c[d]=null),c),h)}n.invert=r;function i(s,l,h=!1){if(typeof s!="object")return l;if(typeof l!="object")return;if(!h)return l;const c=Object.keys(l).reduce((d,f)=>(s[f]===void 0&&(d[f]=l[f]),d),{});return Object.keys(c).length>0?c:void 0}n.transform=i})(tb||(tb={}));M1.default=tb;var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});var nb;(function(n){function e(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.retain=="object"&&t.retain!==null?1:typeof t.insert=="string"?t.insert.length:1}n.length=e})(nb||(nb={}));Gg.default=nb;var P1={};Object.defineProperty(P1,"__esModule",{value:!0});const ES=Gg;class nq{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const r=this.offset,i=ES.default.length(t);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,typeof t.delete=="number")return{delete:e};{const s={};return t.attributes&&(s.attributes=t.attributes),typeof t.retain=="number"?s.retain=e:typeof t.retain=="object"&&t.retain!==null?s.retain=t.retain:typeof t.insert=="string"?s.insert=t.insert.substr(r,e):s.insert=t.insert,s}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?ES.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,t=this.index,r=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(i)}}else return[]}}P1.default=nq;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=QW,r=QC,i=eO,s=M1;e.AttributeMap=s.default;const l=Gg;e.Op=l.default;const h=P1;e.OpIterator=h.default;const c=String.fromCharCode(0),d=(g,y)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof y!="object"||y===null)throw new Error(`cannot retain a ${typeof y}`);const E=Object.keys(g)[0];if(!E||E!==Object.keys(y)[0])throw new Error(`embed types not matched: ${E} != ${Object.keys(y)[0]}`);return[E,g[E],y[E]]};class f{constructor(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]}static registerEmbed(y,E){this.handlers[y]=E}static unregisterEmbed(y){delete this.handlers[y]}static getHandler(y){const E=this.handlers[y];if(!E)throw new Error(`no handlers for embed type "${y}"`);return E}insert(y,E){const _={};return typeof y=="string"&&y.length===0?this:(_.insert=y,E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(_.attributes=E),this.push(_))}delete(y){return y<=0?this:this.push({delete:y})}retain(y,E){if(typeof y=="number"&&y<=0)return this;const _={retain:y};return E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(_.attributes=E),this.push(_)}push(y){let E=this.ops.length,_=this.ops[E-1];if(y=r(y),typeof _=="object"){if(typeof y.delete=="number"&&typeof _.delete=="number")return this.ops[E-1]={delete:_.delete+y.delete},this;if(typeof _.delete=="number"&&y.insert!=null&&(E-=1,_=this.ops[E-1],typeof _!="object"))return this.ops.unshift(y),this;if(i(y.attributes,_.attributes)){if(typeof y.insert=="string"&&typeof _.insert=="string")return this.ops[E-1]={insert:_.insert+y.insert},typeof y.attributes=="object"&&(this.ops[E-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof _.retain=="number")return this.ops[E-1]={retain:_.retain+y.retain},typeof y.attributes=="object"&&(this.ops[E-1].attributes=y.attributes),this}}return E===this.ops.length?this.ops.push(y):this.ops.splice(E,0,y),this}chop(){const y=this.ops[this.ops.length-1];return y&&typeof y.retain=="number"&&!y.attributes&&this.ops.pop(),this}filter(y){return this.ops.filter(y)}forEach(y){this.ops.forEach(y)}map(y){return this.ops.map(y)}partition(y){const E=[],_=[];return this.forEach(w=>{(y(w)?E:_).push(w)}),[E,_]}reduce(y,E){return this.ops.reduce(y,E)}changeLength(){return this.reduce((y,E)=>E.insert?y+l.default.length(E):E.delete?y-E.delete:y,0)}length(){return this.reduce((y,E)=>y+l.default.length(E),0)}slice(y=0,E=1/0){const _=[],w=new h.default(this.ops);let C=0;for(;C<E&&w.hasNext();){let M;C<y?M=w.next(y-C):(M=w.next(E-C),_.push(M)),C+=l.default.length(M)}return new f(_)}compose(y){const E=new h.default(this.ops),_=new h.default(y.ops),w=[],C=_.peek();if(C!=null&&typeof C.retain=="number"&&C.attributes==null){let b=C.retain;for(;E.peekType()==="insert"&&E.peekLength()<=b;)b-=E.peekLength(),w.push(E.next());C.retain-b>0&&_.next(C.retain-b)}const M=new f(w);for(;E.hasNext()||_.hasNext();)if(_.peekType()==="insert")M.push(_.next());else if(E.peekType()==="delete")M.push(E.next());else{const b=Math.min(E.peekLength(),_.peekLength()),k=E.next(b),A=_.next(b);if(A.retain){const N={};if(typeof k.retain=="number")N.retain=typeof A.retain=="number"?b:A.retain;else if(typeof A.retain=="number")k.retain==null?N.insert=k.insert:N.retain=k.retain;else{const P=k.retain==null?"insert":"retain",[R,B,D]=d(k[P],A.retain),H=f.getHandler(R);N[P]={[R]:H.compose(B,D,P==="retain")}}const T=s.default.compose(k.attributes,A.attributes,typeof k.retain=="number");if(T&&(N.attributes=T),M.push(N),!_.hasNext()&&i(M.ops[M.ops.length-1],N)){const P=new f(E.rest());return M.concat(P).chop()}}else typeof A.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&M.push(A)}return M.chop()}concat(y){const E=new f(this.ops.slice());return y.ops.length>0&&(E.push(y.ops[0]),E.ops=E.ops.concat(y.ops.slice(1))),E}diff(y,E){if(this.ops===y.ops)return new f;const _=[this,y].map(k=>k.map(A=>{if(A.insert!=null)return typeof A.insert=="string"?A.insert:c;const N=k===y?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")),w=new f,C=t(_[0],_[1],E,!0),M=new h.default(this.ops),b=new h.default(y.ops);return C.forEach(k=>{let A=k[1].length;for(;A>0;){let N=0;switch(k[0]){case t.INSERT:N=Math.min(b.peekLength(),A),w.push(b.next(N));break;case t.DELETE:N=Math.min(A,M.peekLength()),M.next(N),w.delete(N);break;case t.EQUAL:N=Math.min(M.peekLength(),b.peekLength(),A);const T=M.next(N),P=b.next(N);i(T.insert,P.insert)?w.retain(N,s.default.diff(T.attributes,P.attributes)):w.push(P).delete(N);break}A-=N}}),w.chop()}eachLine(y,E=`
`){const _=new h.default(this.ops);let w=new f,C=0;for(;_.hasNext();){if(_.peekType()!=="insert")return;const M=_.peek(),b=l.default.length(M)-_.peekLength(),k=typeof M.insert=="string"?M.insert.indexOf(E,b)-b:-1;if(k<0)w.push(_.next());else if(k>0)w.push(_.next(k));else{if(y(w,_.next(1).attributes||{},C)===!1)return;C+=1,w=new f}}w.length()>0&&y(w,{},C)}invert(y){const E=new f;return this.reduce((_,w)=>{if(w.insert)E.delete(l.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return E.retain(w.retain),_+w.retain;if(w.delete||typeof w.retain=="number"){const C=w.delete||w.retain;return y.slice(_,_+C).forEach(b=>{w.delete?E.push(b):w.retain&&w.attributes&&E.retain(l.default.length(b),s.default.invert(w.attributes,b.attributes))}),_+C}else if(typeof w.retain=="object"&&w.retain!==null){const C=y.slice(_,_+1),M=new h.default(C.ops).next(),[b,k,A]=d(w.retain,M.insert),N=f.getHandler(b);return E.retain({[b]:N.invert(k,A)},s.default.invert(w.attributes,M.attributes)),_+1}}return _},0),E.chop()}transform(y,E=!1){if(E=!!E,typeof y=="number")return this.transformPosition(y,E);const _=y,w=new h.default(this.ops),C=new h.default(_.ops),M=new f;for(;w.hasNext()||C.hasNext();)if(w.peekType()==="insert"&&(E||C.peekType()!=="insert"))M.retain(l.default.length(w.next()));else if(C.peekType()==="insert")M.push(C.next());else{const b=Math.min(w.peekLength(),C.peekLength()),k=w.next(b),A=C.next(b);if(k.delete)continue;if(A.delete)M.push(A);else{const N=k.retain,T=A.retain;let P=typeof T=="object"&&T!==null?T:b;if(typeof N=="object"&&N!==null&&typeof T=="object"&&T!==null){const R=Object.keys(N)[0];if(R===Object.keys(T)[0]){const B=f.getHandler(R);B&&(P={[R]:B.transform(N[R],T[R],E)})}}M.retain(P,s.default.transform(k.attributes,A.attributes,E))}}return M.chop()}transformPosition(y,E=!1){E=!!E;const _=new h.default(this.ops);let w=0;for(;_.hasNext()&&w<=y;){const C=_.peekLength(),M=_.peekType();if(_.next(),M==="delete"){y-=Math.min(C,y-w);continue}else M==="insert"&&(w<y||!E)&&(y+=C);w+=C}return y}}f.Op=l.default,f.OpIterator=h.default,f.AttributeMap=s.default,f.handlers={},e.default=f,n.exports=f,n.exports.default=f})(eb,eb.exports);var _o=eb.exports;const kt=cc(_o);class ns extends uo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ns.blotName="break";ns.tagName="BR";let Jo=class extends zm{};const rq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Yg(n){return n.replace(/[&<>"']/g,e=>rq[e])}const ws=class ws extends k1{static compare(e,t){const r=ws.order.indexOf(e),i=ws.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(ws.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Lt.BLOT)){const s=this.isolate(e,t);i&&s.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof ws&&ws.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};$e(ws,"allowedChildren",[ws,ns,uo,Jo]),$e(ws,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Is=ws;const AS=1;class ri extends Fd{constructor(){super(...arguments);$e(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=tO(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,s){r<=0||(this.scroll.query(i,Lt.BLOCK)?t+r===this.length()&&this.format(i,s):super.formatAt(t,Math.min(r,this.length()-t-1),i,s),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),l=s.shift();l.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let h=this;s.reduce((c,d)=>(h=h.split(c,!0),h.insertAt(0,d),d.length),t+l.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof ns&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+AS),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-AS)){const s=this.clone();return t===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(t,r);return this.cache={},i}}ri.blotName="block";ri.tagName="P";ri.defaultChild=ns;ri.allowedChildren=[ns,Is,uo,Jo];class wo extends uo{attach(){super.attach(),this.attributes=new Ug(this.domNode)}delta(){return new kt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Lt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),s=i.pop(),l=i.map(c=>{const d=this.scroll.create(ri.blotName);return d.insertAt(0,c),d}),h=this.split(e);l.forEach(c=>{this.parent.insertBefore(c,h)}),s&&this.parent.insertBefore(this.scroll.create("text",s),h)}}wo.scope=Lt.BLOCK_BLOT;function tO(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(mi).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),yo(r,{},e)),new kt).insert(`
`,yo(n))}function yo(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:yo(n.parent,e,t)}const go=class go extends uo{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(go.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Lt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=go.CONTENTS.length,r.optimize(),r.formatAt(i,go.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Jo?this.prev:null,r=t?t.length():0,i=this.next instanceof Jo?this.next:null,s=i?i.text:"",{textNode:l}=this,h=l.data.split(go.CONTENTS).join("");l.data=go.CONTENTS;let c;if(t)c=t,(h||i)&&(t.insertAt(t.length(),h+s),i&&i.remove());else if(i)c=i,i.insertAt(0,h);else{const d=document.createTextNode(h);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),e){const d=(y,E)=>t&&y===t.domNode?E:y===l?r+E-1:i&&y===i.domNode?r+h.length+E:null,f=d(e.start.node,e.start.offset),g=d(e.end.node,e.end.offset);if(f!==null&&g!==null)return{startNode:c.domNode,startOffset:f,endNode:c.domNode,endOffset:g}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=go.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};$e(go,"blotName","cursor"),$e(go,"className","ql-cursor"),$e(go,"tagName","span"),$e(go,"CONTENTS","\uFEFF");let Ku=go;var nO={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,g,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var E=new i(f,g||c,y),_=t?t+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],E]:c._events[_].push(E):(c._events[_]=E,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)e.call(f,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},h.prototype.listeners=function(d){var f=t?t+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,E=g.length,_=new Array(E);y<E;y++)_[y]=g[y].fn;return _},h.prototype.listenerCount=function(d){var f=t?t+d:d,g=this._events[f];return g?g.fn?1:g.length:0},h.prototype.emit=function(d,f,g,y,E,_){var w=t?t+d:d;if(!this._events[w])return!1;var C=this._events[w],M=arguments.length,b,k;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),M){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,f),!0;case 3:return C.fn.call(C.context,f,g),!0;case 4:return C.fn.call(C.context,f,g,y),!0;case 5:return C.fn.call(C.context,f,g,y,E),!0;case 6:return C.fn.call(C.context,f,g,y,E,_),!0}for(k=1,b=new Array(M-1);k<M;k++)b[k-1]=arguments[k];C.fn.apply(C.context,b)}else{var A=C.length,N;for(k=0;k<A;k++)switch(C[k].once&&this.removeListener(d,C[k].fn,void 0,!0),M){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,f);break;case 3:C[k].fn.call(C[k].context,f,g);break;case 4:C[k].fn.call(C[k].context,f,g,y);break;default:if(!b)for(N=1,b=new Array(M-1);N<M;N++)b[N-1]=arguments[N];C[k].fn.apply(C[k].context,b)}}return!0},h.prototype.on=function(d,f,g){return s(this,d,f,g,!1)},h.prototype.once=function(d,f,g){return s(this,d,f,g,!0)},h.prototype.removeListener=function(d,f,g,y){var E=t?t+d:d;if(!this._events[E])return this;if(!f)return l(this,E),this;var _=this._events[E];if(_.fn)_.fn===f&&(!y||_.once)&&(!g||_.context===g)&&l(this,E);else{for(var w=0,C=[],M=_.length;w<M;w++)(_[w].fn!==f||y&&!_[w].once||g&&_[w].context!==g)&&C.push(_[w]);C.length?this._events[E]=C.length===1?C[0]:C:l(this,E)}return this},h.prototype.removeAllListeners=function(d){var f;return d?(f=t?t+d:d,this._events[f]&&l(this,f)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h})(nO);var iq=nO.exports;const oq=cc(iq),rb=new WeakMap,ib=["error","warn","log","info"];let ob="warn";function rO(n){if(ob&&ib.indexOf(n)<=ib.indexOf(ob)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function ma(n){return ib.reduce((e,t)=>(e[t]=rO.bind(console,t,n),e),{})}ma.level=n=>{ob=n};rO.level=ma.level;const Ny=ma("quill:events"),sq=["selectionchange","mousedown","mouseup","click"];sq.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=rb.get(i);s&&s.emitter&&s.emitter.handleDOM(...t)})})});class St extends oq{constructor(){super(),this.domListeners={},this.on("error",Ny.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ny.log.call(Ny,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:l,handler:h}=s;(e.target===l||l.contains(e.target))&&h(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}$e(St,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),$e(St,"sources",{API:"api",SILENT:"silent",USER:"user"});const Iy=ma("quill:selection");class oc{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class aq{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new oc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,St.sources.USER),1)}),this.emitter.on(St.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(St.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=s.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(l?St.sources.SILENT:i)}catch{}})}),this.emitter.on(St.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:l,endNode:h,endOffset:c}=i.range;this.setNativeRange(s,l,h,c),this.update(St.sources.SILENT)}}),this.update(St.sources.SILENT)}handleComposition(){this.emitter.on(St.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(St.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(St.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Lt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof mi){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[s,l]=this.scroll.leaf(e);if(s==null)return null;if(t>0&&l===s.length()){const[f]=this.scroll.leaf(e+1);if(f){const[g]=this.scroll.line(e),[y]=this.scroll.line(e+1);g===y&&(s=f,l=0)}}[i,l]=s.position(l,!0);const h=document.createRange();if(t>0)return h.setStart(i,l),[s,l]=this.scroll.leaf(e+t),s==null?null:([i,l]=s.position(l,!0),h.setEnd(i,l),h.getBoundingClientRect());let c="left",d;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(h.setStart(i,l),h.setEnd(i,l+1)):(h.setStart(i,l-1),h.setEnd(i,l),c="right"),d=h.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;d=s.domNode.getBoundingClientRect(),l>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Iy.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Dy(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(l=>{const[h,c]=l,d=this.scroll.find(h,!0),f=d.offset(this.scroll);return c===0?f:d instanceof mi?f+d.index(h,c):f+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new oc(s,i-s)}normalizeNative(e){if(!Dy(this.root,e.startContainer)||!e.collapsed&&!Dy(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,s)=>{i=Math.min(t-1,i);const[l,h]=this.scroll.leaf(i);return l?l.position(h,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Iy.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||s||e!==h.startContainer||t!==h.startOffset||r!==h.endContainer||i!==h.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(e,t),c.setEnd(r,i),l.removeAllRanges(),l.addRange(c)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;if(typeof t=="string"&&(r=t,t=!1),Iy.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!T1(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const s=[St.events.SELECTION_CHANGE,Tu(this.lastRange),Tu(t),e];this.emitter.emit(St.events.EDITOR_CHANGE,...s),e!==St.sources.SILENT&&this.emitter.emit(...s)}}}function Dy(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const lq=/^[ -~]*$/;class cq{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=TS(e),i=new kt;return hq(r.ops.slice()).reduce((l,h)=>{const c=_o.Op.length(h);let d=h.attributes||{},f=!1,g=!1;if(h.insert!=null){if(i.retain(c),typeof h.insert=="string"){const _=h.insert;g=!_.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(wo,l)[0]),this.scroll.insertAt(l,_);const[w,C]=this.scroll.line(l);let M=Xa({},yo(w));if(w instanceof ri){const[b]=w.descendant(mi,C);b&&(M=Xa(M,yo(b)))}d=_o.AttributeMap.diff(M,d)||{}}else if(typeof h.insert=="object"){const _=Object.keys(h.insert)[0];if(_==null)return l;const w=this.scroll.query(_,Lt.INLINE)!=null;if(w)(t<=l||this.scroll.descendant(wo,l)[0])&&(g=!0);else if(l>0){const[C,M]=this.scroll.descendant(mi,l-1);C instanceof Jo?C.value()[M]!==`
`&&(f=!0):C instanceof uo&&C.statics.scope===Lt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(l,_,h.insert[_]),w){const[C]=this.scroll.descendant(mi,l);if(C){const M=Xa({},yo(C));d=_o.AttributeMap.diff(M,d)||{}}}}t+=c}else if(i.push(h),h.retain!==null&&typeof h.retain=="object"){const _=Object.keys(h.retain)[0];if(_==null)return l;this.scroll.updateEmbedAt(l,_,h.retain[_])}Object.keys(d).forEach(_=>{this.scroll.formatAt(l,c,_,d[_])});const y=f?1:0,E=g?1:0;return t+=y+E,i.retain(y),i.delete(E),l+c+y+E},0),i.reduce((l,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(l,h.delete),l):l+_o.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new kt().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(s,r[s])})}),this.scroll.optimize();const i=new kt().retain(e).retain(t,Tu(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,t,s,r[s])});const i=new kt().retain(e).retain(t,Tu(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new kt)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(h=>{const[c]=h;c instanceof ri?r.push(c):c instanceof mi&&i.push(c)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(mi,e,t));const[s,l]=[r,i].map(h=>{const c=h.shift();if(c==null)return{};let d=yo(c);for(;Object.keys(d).length>0;){const f=h.shift();if(f==null)return d;d=uq(yo(f),d)}return d});return{...s,...l}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+t&&!(i===0&&t===s)?jd(r,i,t,!0):jd(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=TS(t),i=new kt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new kt().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new kt().retain(e).insert(t,Tu(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==ri.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ns}removeFormat(e,t){const r=this.getText(e,t),[i,s]=this.scroll.line(e+t);let l=0,h=new kt;i!=null&&(l=i.length()-s,h=i.delta().slice(s,s+l-1).insert(`
`));const d=this.getContents(e,t+l).diff(new kt().insert(r).concat(h)),f=new kt().retain(e).concat(d);return this.applyDelta(f)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(lq)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),l=yo(s),h=s.offset(this.scroll),c=t[0].oldValue.replace(Ku.CONTENTS,""),d=new kt().insert(c),f=new kt().insert(s.value()),g=r&&{oldRange:kS(r.oldRange,-h),newRange:kS(r.newRange,-h)};e=new kt().retain(h).concat(d.diff(f,g)).reduce((E,_)=>_.insert?E.insert(_.insert,l):E.push(_),new kt),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!T1(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function lu(n,e,t){if(n.length===0){const[E]=Ry(t.pop());return e<=0?`</li></${E}>`:`</li></${E}>${lu([],e-1,t)}`}const[{child:r,offset:i,length:s,indent:l,type:h},...c]=n,[d,f]=Ry(h);if(l>e)return t.push(h),l===e+1?`<${d}><li${f}>${jd(r,i,s)}${lu(c,l,t)}`:`<${d}><li>${lu(n,e+1,t)}`;const g=t[t.length-1];if(l===e&&h===g)return`</li><li${f}>${jd(r,i,s)}${lu(c,l,t)}`;const[y]=Ry(t.pop());return`</li></${y}>${lu(n,e-1,t)}`}function jd(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Jo)return Yg(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Xo){if(n.statics.blotName==="list-container"){const d=[];return n.children.forEachAt(e,t,(f,g,y)=>{const E="formats"in f&&typeof f.formats=="function"?f.formats():{};d.push({child:f,offset:g,length:y,indent:E.indent||0,type:E.list})}),lu(d,-1,[])}const i=[];if(n.children.forEachAt(e,t,(d,f,g)=>{i.push(jd(d,f,g))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:l}=n.domNode,[h,c]=s.split(`>${l}<`);return h==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${h}>${i.join("")}<${c}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function uq(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function Ry(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function TS(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new kt)}function kS(n,e){let{index:t,length:r}=n;return new oc(t+e,r)}function hq(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class rs{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}$e(rs,"DEFAULTS",{});const Lp="\uFEFF";class N1 extends uo{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Lp),this.rightGuard=document.createTextNode(Lp),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(Lp).join("");if(e===this.leftGuard)if(this.prev instanceof Jo){const s=this.prev.length();this.prev.insertAt(s,i),t={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Jo?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=Lp,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class dq{constructor(e,t){$e(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof N1)&&(this.emitter.emit(St.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(St.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(St.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(St.events.COMPOSITION_END,e),this.isComposing=!1}}const _d=class _d{constructor(e,t){$e(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};$e(_d,"DEFAULTS",{modules:{}}),$e(_d,"themes",{default:_d});let Zu=_d;const fq=n=>n.parentElement||n.getRootNode().host||null,pq=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Mp=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},CS=(n,e,t,r,i,s)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+s:0,mq=(n,e)=>{var s,l,h;const t=n.ownerDocument;let r=e,i=n;for(;i;){const c=i===t.body,d=c?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??t.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??t.documentElement.clientHeight,left:0}:pq(i),f=getComputedStyle(i),g=CS(r.left,r.right,d.left,d.right,Mp(f.scrollPaddingLeft),Mp(f.scrollPaddingRight)),y=CS(r.top,r.bottom,d.top,d.bottom,Mp(f.scrollPaddingTop),Mp(f.scrollPaddingBottom));if(g||y)if(c)(h=t.defaultView)==null||h.scrollBy(g,y);else{const{scrollLeft:E,scrollTop:_}=i;y&&(i.scrollTop+=y),g&&(i.scrollLeft+=g);const w=i.scrollLeft-E,C=i.scrollTop-_;r={left:r.left-w,top:r.top-C,right:r.right-w,bottom:r.bottom-C}}i=c||f.position==="fixed"?null:fq(i)}},gq=100,vq=["block","break","cursor","inline","scroll","text"],yq=(n,e,t)=>{const r=new Yu;return vq.forEach(i=>{const s=e.query(i);s&&r.register(s)}),n.forEach(i=>{let s=e.query(i);s||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,l+=1,l>gq){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Cu=ma("quill"),Pp=new Yu;Xo.uiClass="ql-ui";const Vo=class Vo{static debug(e){e===!0&&(e="log"),ma.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return rb.get(e)||Pp.find(e,t)}static import(e){return this.imports[e]==null&&Cu.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Cu.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Pp.register(t),typeof t.register=="function"&&t.register(Pp)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=bq(e,t),this.container=this.options.container,this.container==null){Cu.error("Invalid Quill container",e);return}this.options.debug&&Vo.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",rb.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new St;const i=C1.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new cq(this.scroll),this.selection=new aq(this.scroll,this.emitter),this.composition=new dq(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(St.events.EDITOR_CHANGE,l=>{l===St.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(St.events.SCROLL_UPDATE,(l,h)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),f=c&&d?{oldRange:c,newRange:d}:void 0;Uo.call(this,()=>this.editor.update(null,h,f),l)}),this.emitter.on(St.events.SCROLL_EMBED_UPDATE,(l,h)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),f=c&&d?{oldRange:c,newRange:d}:void 0;Uo.call(this,()=>{const g=new kt().retain(l.offset(this)).retain({[l.statics.blotName]:h});return this.editor.update(g,[],f)},Vo.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=Js(e,t,r),Uo.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;return Uo.call(this,()=>{const i=this.getSelection(!0);let s=new kt;if(i==null)return s;if(this.scroll.query(e,Lt.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),s;s=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,St.sources.SILENT),s},r)}formatLine(e,t,r,i,s){let l;return[e,t,l,s]=Js(e,t,r,i,s),Uo.call(this,()=>this.editor.formatLine(e,t,l),s,e,0)}formatText(e,t,r,i,s){let l;return[e,t,l,s]=Js(e,t,r,i,s),Uo.call(this,()=>this.editor.formatText(e,t,l),s,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Js(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Js(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Js(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vo.sources.API;return Uo.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,s){let l;return[e,,l,s]=Js(e,0,r,i,s),Uo.call(this,()=>this.editor.insertText(e,t,l),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=Js(e,t,r),Uo.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){mq(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return Uo.call(this,()=>{e=new kt(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(l)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||Vo.sources.API):([e,t,,r]=Js(e,t,r),this.selection.setRange(new oc(Math.max(0,e),t),r),r!==St.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;const r=new kt().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St.sources.API;return Uo.call(this,()=>(e=new kt(e),this.editor.applyDelta(e)),t,!0)}};$e(Vo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Pp,theme:"default"}),$e(Vo,"events",St.events),$e(Vo,"sources",St.sources),$e(Vo,"version","2.0.3"),$e(Vo,"imports",{delta:kt,parchment:UW,"core/module":rs,"core/theme":Zu});let Je=Vo;function OS(n){return typeof n=="string"?document.querySelector(n):n}function Fy(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function LS(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function bq(n,e){const t=OS(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===Je.DEFAULTS.theme?Zu:Je.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...l}=Je.DEFAULTS,{modules:h,...c}=i.DEFAULTS;let d=Fy(e.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const f=Xa({},Fy(s),Fy(h),d),g={...l,...LS(c),...LS(e)};let y=e.registry;return y?e.formats&&Cu.warn('Ignoring "formats" option because "registry" is specified'):y=e.formats?yq(e.formats,g.registry,Cu):g.registry,{...g,registry:y,container:t,theme:i,modules:Object.entries(f).reduce((E,_)=>{let[w,C]=_;if(!C)return E;const M=Je.import(`modules/${w}`);return M==null?(Cu.error(`Cannot load ${w} module. Are you sure you registered it?`),E):{...E,[w]:Xa({},M.DEFAULTS||{},C)}},{}),bounds:OS(g.bounds)}}function Uo(n,e,t,r){if(!this.isEnabled()&&e===St.sources.USER&&!this.allowReadOnlyEdits)return new kt;let i=t==null?null:this.getSelection();const s=this.editor.delta,l=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=MS(i,l,e):r!==0&&(i=MS(i,t,r,e)),this.setSelection(i,St.sources.SILENT)),l.length()>0){const h=[St.events.TEXT_CHANGE,l,s,e];this.emitter.emit(St.events.EDITOR_CHANGE,...h),e!==St.sources.SILENT&&this.emitter.emit(...h)}return l}function Js(n,e,t,r,i){let s={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(s=t,i=r):typeof t=="string"&&(r!=null?s[t]=r:i=t),i=i||St.sources.API,[n,e,s,i]}function MS(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let s,l;return e&&typeof e.transformPosition=="function"?[s,l]=[n.index,n.index+n.length].map(h=>e.transformPosition(h,r!==St.sources.USER)):[s,l]=[n.index,n.index+n.length].map(h=>h<e||h===e&&r===St.sources.USER?h:i>=0?h+i:Math.max(e,h+i)),new oc(s,l-s)}class mc extends Wg{}function PS(n){return n instanceof ri||n instanceof wo}function NS(n){return typeof n.updateContent=="function"}class cu extends C1{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(St.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(St.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(St.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),s!=null&&r!==s&&i>0){if(r instanceof wo||s instanceof wo){this.optimize();return}const l=s.children.head instanceof ns?null:s.children.head;r.moveChildren(s,l),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Lt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Lt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new kt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const c=s.type==="block"&&(s.delta.length()===0||!this.descendant(wo,e)[0]&&e<this.length()),d=s.type==="block"?s.delta:new kt().insert({[s.key]:s.value});By(this,e,d);const f=s.type==="block"?1:0,g=e+d.length()+f;c&&this.insertAt(g-1,`
`);const y=yo(this.line(e)[0]),E=_o.AttributeMap.diff(y,s.attributes)||{};Object.keys(E).forEach(_=>{this.formatAt(g-1,1,_,E[_])}),e=g}let[l,h]=this.children.find(e);if(r.length&&(l&&(l=l.split(h),h=0),r.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,l||void 0);By(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,l||void 0),Object.keys(c.attributes).forEach(f=>{d.format(f,c.attributes[f])})}})),i.type==="block"&&i.delta.length()){const c=l?l.offset(l.scroll)+h:this.length();By(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof mi?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(PS,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,l)=>{let h=[],c=l;return i.children.forEachAt(s,l,(d,f,g)=>{PS(d)?h.push(d):d instanceof Wg&&(h=h.concat(r(d,f,c))),c-=g}),h};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(St.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=St.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!NS(s)}),e.length>0&&this.emitter.emit(St.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(St.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(s=>s instanceof wo,e);i&&i.statics.blotName===t&&NS(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new kt;return e.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const l=s.split(`
`);l.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new kt});const h=l[l.length-1];h&&r.insert(h,i.attributes)}else{const l=Object.keys(s)[0];if(!l)return;this.query(l,Lt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new kt,t.push({type:"blockEmbed",key:l,value:s[l],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(h=>{let[c,d]=h;this.query(c,Lt.BLOCK&Lt.BLOT)!=null?r=c:i[c]=d});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,t||void 0);const l=s.length();return Object.entries(i).forEach(h=>{let[c,d]=h;s.formatAt(0,l,c,d)}),s}}$e(cu,"blotName","scroll"),$e(cu,"className","ql-editor"),$e(cu,"tagName","DIV"),$e(cu,"defaultChild",ri),$e(cu,"allowedChildren",[ri,wo,mc]);function By(n,e,t){t.reduce((r,i)=>{const s=_o.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const h=i.insert;n.insertAt(r,h);const[c]=n.descendant(mi,r),d=yo(c);l=_o.AttributeMap.diff(d,l)||{}}else if(typeof i.insert=="object"){const h=Object.keys(i.insert)[0];if(h==null)return r;if(n.insertAt(r,h,i.insert[h]),n.scroll.query(h,Lt.INLINE)!=null){const[d]=n.descendant(mi,r),f=yo(d);l=_o.AttributeMap.diff(f,l)||{}}}}return Object.keys(l).forEach(h=>{n.formatAt(r,s,h,l[h])}),r+s},e)}const I1={scope:Lt.BLOCK,whitelist:["right","center","justify"]},wq=new Ns("align","align",I1),iO=new ts("align","ql-align",I1),oO=new cl("align","text-align",I1);class sO extends cl{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const _q=new ts("color","ql-color",{scope:Lt.INLINE}),D1=new sO("color","color",{scope:Lt.INLINE}),xq=new ts("background","ql-bg",{scope:Lt.INLINE}),R1=new sO("background","background-color",{scope:Lt.INLINE});class gc extends mc{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Yg(this.code(e,t))}
</pre>`}}class gi extends ri{static register(){Je.register(gc)}}$e(gi,"TAB","  ");class F1 extends Is{}F1.blotName="code";F1.tagName="CODE";gi.blotName="code-block";gi.className="ql-code-block";gi.tagName="DIV";gc.blotName="code-block-container";gc.className="ql-code-block-container";gc.tagName="DIV";gc.allowedChildren=[gi];gi.allowedChildren=[Jo,ns,Ku];gi.requiredContainer=gc;const B1={scope:Lt.BLOCK,whitelist:["rtl"]},aO=new Ns("direction","dir",B1),lO=new ts("direction","ql-direction",B1),cO=new cl("direction","direction",B1),uO={scope:Lt.INLINE,whitelist:["serif","monospace"]},hO=new ts("font","ql-font",uO);class Sq extends cl{value(e){return super.value(e).replace(/["']/g,"")}}const dO=new Sq("font","font-family",uO),fO=new ts("size","ql-size",{scope:Lt.INLINE,whitelist:["small","large","huge"]}),pO=new cl("size","font-size",{scope:Lt.INLINE,whitelist:["10px","18px","32px"]}),Eq=ma("quill:keyboard"),Aq=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Kg extends rs{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=kq(e);if(i==null){Eq.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const h={...i,key:l,...t,...r};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(M=>Kg.match(e,M));if(i.length===0)return;const s=Je.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[h,c]=this.quill.getLine(l.index),[d,f]=this.quill.getLeaf(l.index),[g,y]=l.length===0?[d,f]:this.quill.getLeaf(l.index+l.length),E=d instanceof zm?d.value().slice(0,f):"",_=g instanceof zm?g.value().slice(y):"",w={collapsed:l.length===0,empty:l.length===0&&h.length()<=1,format:this.quill.getFormat(l),line:h,offset:c,prefix:E,suffix:_,event:e};i.some(M=>{if(M.collapsed!=null&&M.collapsed!==w.collapsed||M.empty!=null&&M.empty!==w.empty||M.offset!=null&&M.offset!==w.offset)return!1;if(Array.isArray(M.format)){if(M.format.every(b=>w.format[b]==null))return!1}else if(typeof M.format=="object"&&!Object.keys(M.format).every(b=>M.format[b]===!0?w.format[b]!=null:M.format[b]===!1?w.format[b]==null:T1(M.format[b],w.format[b])))return!1;return M.prefix!=null&&!M.prefix.test(w.prefix)||M.suffix!=null&&!M.suffix.test(w.suffix)?!1:M.handler.call(this,l,w,M)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let l=new kt().retain(e.index-r).delete(r);if(t.offset===0){const[h]=this.quill.getLine(e.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const d=s.formats(),f=this.quill.getFormat(e.index-1,1);if(i=_o.AttributeMap.diff(d,f)||{},Object.keys(i).length>0){const g=new kt().retain(e.index+s.length()-2).retain(1,i);l=l.compose(g)}}}this.quill.updateContents(l,Je.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let l=new kt().retain(e.index).delete(r);if(t.offset>=s.length()-1){const[h]=this.quill.getLine(e.index+1);if(h){const c=s.formats(),d=this.quill.getFormat(e.index,1);i=_o.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(l=l.retain(h.length()-1).retain(1,i))}}this.quill.updateContents(l,Je.sources.USER),this.quill.focus()}handleDeleteRange(e){j1({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((s,l)=>(this.quill.scroll.query(l,Lt.BLOCK)&&!Array.isArray(t.format[l])&&(s[l]=t.format[l]),s),{}),i=new kt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,Je.sources.USER),this.quill.setSelection(e.index+1,Je.sources.SILENT),this.quill.focus()}}const Tq={bindings:{bold:jy("bold"),italic:jy("italic"),underline:jy("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Je.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Je.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",Je.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Je.sources.USER)}},"indent code-block":IS(!0),"outdent code-block":IS(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,Je.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new kt().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,Je.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,Je.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Je.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,Je.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new kt().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,Je.sources.USER),this.quill.setSelection(n.index+1,Je.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new kt().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,Je.sources.USER),this.quill.setSelection(n.index+1,Je.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,s]=e.getTable(n),l=Cq(t,r,i,s);if(l==null)return;let h=t.offset();if(l<0){const c=new kt().retain(h).insert(`
`);this.quill.updateContents(c,Je.sources.USER),this.quill.setSelection(n.index+1,n.length,Je.sources.SILENT)}else if(l>0){h+=t.length();const c=new kt().retain(h).insert(`
`);this.quill.updateContents(c,Je.sources.USER),this.quill.setSelection(h,Je.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,Je.sources.USER):this.quill.setSelection(i+r.length(),Je.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",Je.sources.USER),this.quill.history.cutoff();const l=new kt().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(l,Je.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,Je.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new kt().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,Je.sources.USER),this.quill.setSelection(n.index-1,Je.sources.SILENT),!1}return!0}},"embed left":Np("ArrowLeft",!1),"embed left shift":Np("ArrowLeft",!0),"embed right":Np("ArrowRight",!1),"embed right shift":Np("ArrowRight",!0),"table down":DS(!1),"table up":DS(!0)}};Kg.DEFAULTS=Tq;function IS(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,Je.sources.USER),this.quill.setSelection(e.index+s.length,Je.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:h,length:c}=e;l.forEach((d,f)=>{n?(d.insertAt(0,s),f===0?h+=s.length:c+=s.length):d.domNode.textContent.startsWith(s)&&(d.deleteAt(0,s.length),f===0?h-=s.length:c-=s.length)}),this.quill.update(Je.sources.USER),this.quill.setSelection(h,c,Je.sources.SILENT)}}}function Np(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof uo?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,Je.sources.USER):this.quill.setSelection(r.index-1,Je.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Je.sources.USER):this.quill.setSelection(r.index+r.length+1,Je.sources.USER),!1):!0}}}function jy(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],Je.sources.USER)}}}function DS(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let l=s.children.head,h=i;for(;h.prev!=null;)h=h.prev,l=l.next;const c=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(c,0,Je.sources.USER)}}else{const l=i.table()[r];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,Je.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,Je.sources.USER))}return!1}}}function kq(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Tu(n);else return null;return n.shortKey&&(n[Aq]=n.shortKey,delete n.shortKey),n}function j1(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const s=r[0].formats(),l=r[r.length-1].formats();i=_o.AttributeMap.diff(l,s)||{}}e.deleteText(t,Je.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,Je.sources.USER),e.setSelection(t.index,Je.sources.SILENT)}function Cq(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Oq=/font-weight:\s*normal/,Lq=["P","OL","UL"],RS=n=>n&&Lq.includes(n.tagName),Mq=n=>{Array.from(n.querySelectorAll("br")).filter(e=>RS(e.previousElementSibling)&&RS(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},Pq=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(Oq)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function Nq(n){n.querySelector('[id^="docs-internal-guid-"]')&&(Pq(n),Mq(n))}const Iq=/\bmso-list:[^;]*ignore/i,Dq=/\bmso-list:[^;]*\bl(\d+)/i,Rq=/\bmso-list:[^;]*\blevel(\d+)/i,Fq=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(Dq);if(!r)return null;const i=Number(r[1]),s=t==null?void 0:t.match(Rq),l=s?Number(s[1]):1,h=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=e.match(h),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:d,element:n}},Bq=n=>{var l,h;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(c=>{(c.getAttribute("style")||"").match(Iq)?t.push(c):r.push(c)}),t.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const i=n.documentElement.innerHTML,s=r.map(c=>Fq(c,i)).filter(c=>c);for(;s.length;){const c=[];let d=s.shift();for(;d;)c.push(d),d=s.length&&((l=s[0])==null?void 0:l.element)===d.element.nextElementSibling&&s[0].id===d.id?s.shift():null;const f=document.createElement("ul");c.forEach(E=>{const _=document.createElement("li");_.setAttribute("data-list",E.type),E.indent>1&&_.setAttribute("class",`ql-indent-${E.indent-1}`),_.innerHTML=E.element.innerHTML,f.appendChild(_)});const g=(h=c[0])==null?void 0:h.element,{parentNode:y}=g??{};g&&(y==null||y.replaceChild(f,g)),c.slice(1).forEach(E=>{let{element:_}=E;y==null||y.removeChild(_)})}};function jq(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Bq(n)}const $q=[jq,Nq],Hq=n=>{n.documentElement&&$q.forEach(e=>{e(n)})},zq=ma("quill:clipboard"),Uq=[[Node.TEXT_NODE,tV],[Node.TEXT_NODE,BS],["br",Yq],[Node.ELEMENT_NODE,BS],[Node.ELEMENT_NODE,Gq],[Node.ELEMENT_NODE,Vq],[Node.ELEMENT_NODE,Qq],["li",Xq],["ol, ul",Jq],["pre",Kq],["tr",eV],["b",$y("bold")],["i",$y("italic")],["strike",$y("strike")],["style",Zq]],Wq=[wq,aO].reduce((n,e)=>(n[e.keyName]=e,n),{}),FS=[oO,R1,D1,cO,dO,pO].reduce((n,e)=>(n[e.keyName]=e,n),{});class mO extends rs{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Uq.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[gi.blotName])return new kt().insert(r||"",{[gi.blotName]:i[gi.blotName]});if(!t)return new kt().insert(r||"",i);const s=this.convertHTML(t);return Af(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new kt().retain(s.length()-1).delete(1)):s}normalizeHTML(e){Hq(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[s,l]=this.prepareMatching(r,i);return $1(this.quill.scroll,r,s,l,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Je.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,Je.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new kt().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),Je.sources.SILENT)}}onCaptureCopy(e){var l,h;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,t);(l=e.clipboardData)==null||l.setData("text/plain",s),(h=e.clipboardData)==null||h.setData("text/html",i),t&&j1({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var l,h,c,d,f;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(l=e.clipboardData)==null?void 0:l.getData("text/html");let i=(h=e.clipboardData)==null?void 0:h.getData("text/plain");if(!r&&!i){const g=(c=e.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const s=Array.from(((d=e.clipboardData)==null?void 0:d.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(t,s);return}if(r&&s.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((f=g.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(t,s);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const s=this.quill.getFormat(e.index),l=this.convert({text:r,html:i},s);zq.log("onPaste",l,{text:r,html:i});const h=new kt().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(h,Je.sources.USER),this.quill.setSelection(h.length()-e.length,Je.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(s=>{const[l,h]=s;switch(l){case Node.TEXT_NODE:i.push(h);break;case Node.ELEMENT_NODE:r.push(h);break;default:Array.from(e.querySelectorAll(l)).forEach(c=>{if(t.has(c)){const d=t.get(c);d==null||d.push(h)}else t.set(c,[h])});break}}),[r,i]}}$e(mO,"DEFAULTS",{matchers:[]});function vc(n,e,t,r){return r.query(e)?n.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const l=t?{[e]:t}:{};return i.insert(s.insert,{...l,...s.attributes})},new kt):n}function Af(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function Ya(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof uo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function qq(n,e){return n.previousElementSibling&&n.nextElementSibling&&!Ya(n.previousElementSibling,e)&&!Ya(n.nextElementSibling,e)}const Ip=new WeakMap;function gO(n){return n==null?!1:(Ip.has(n)||(n.tagName==="PRE"?Ip.set(n,!0):Ip.set(n,gO(n.parentNode))),Ip.get(n))}function $1(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,l)=>l(e,s,n),new kt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,l)=>{let h=$1(n,l,t,r,i);return l.nodeType===e.ELEMENT_NODE&&(h=t.reduce((c,d)=>d(l,c,n),h),h=(i.get(l)||[]).reduce((c,d)=>d(l,c,n),h)),s.concat(h)},new kt):new kt}function $y(n){return(e,t,r)=>vc(t,n,!0,r)}function Vq(n,e,t){const r=Ns.keys(n),i=ts.keys(n),s=cl.keys(n),l={};return r.concat(i).concat(s).forEach(h=>{let c=t.query(h,Lt.ATTRIBUTE);c!=null&&(l[c.attrName]=c.value(n),l[c.attrName])||(c=Wq[h],c!=null&&(c.attrName===h||c.keyName===h)&&(l[c.attrName]=c.value(n)||void 0),c=FS[h],c!=null&&(c.attrName===h||c.keyName===h)&&(c=FS[h],l[c.attrName]=c.value(n)||void 0))}),Object.entries(l).reduce((h,c)=>{let[d,f]=c;return vc(h,d,f,t)},e)}function Gq(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof uo){const i={},s=r.value(n);if(s!=null)return i[r.blotName]=s,new kt().insert(i,r.formats(n,t))}else if(r.prototype instanceof Fd&&!Af(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return vc(e,r.blotName,r.formats(n,t),t);return e}function Yq(n,e){return Af(e,`
`)||e.insert(`
`),e}function Kq(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return vc(e,"code-block",i,t)}function Zq(){return new kt}function Xq(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Af(e,`
`))return e;let i=-1,s=n.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((l,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?l.push(h):l.insert(h.insert,{indent:i,...h.attributes||{}}):l,new kt)}function Jq(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),vc(e,"list",i,t)}function BS(n,e,t){if(!Af(e,`
`)){if(Ya(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(Ya(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof wo)return e.insert(`
`);r=r.firstChild}}}return e}function Qq(n,e,t){var s;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,h)=>{let[c,d]=h;return vc(l,c,d,t)},e),parseFloat(i.textIndent||0)>0?new kt().insert("	").concat(e):e}function eV(n,e,t){var i,s;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(s=n.parentElement)==null?void 0:s.parentElement;if(r!=null){const h=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return vc(e,"table",h,t)}return e}function tV(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!gO(n)){if(r.trim().length===0&&r.includes(`
`)&&!qq(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Ya(n.parentElement,t)||n.previousSibling instanceof Element&&Ya(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Ya(n.parentElement,t)||n.nextSibling instanceof Element&&Ya(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return e.insert(r)}class vO extends rs{constructor(t,r){super(t,r);$e(this,"lastRecorded",0);$e(this,"ignoreChange",!1);$e(this,"stack",{undo:[],redo:[]});$e(this,"currentRange",null);this.quill.on(Je.events.EDITOR_CHANGE,(i,s,l,h)=>{i===Je.events.SELECTION_CHANGE?s&&h!==Je.sources.SILENT&&(this.currentRange=s):i===Je.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||h===Je.sources.USER?this.record(s,l):this.transform(s)),this.currentRange=sb(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const s=this.quill.getContents(),l=i.delta.invert(s);this.stack[r].push({delta:l,range:sb(i.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,Je.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),s=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const h=this.stack.undo.pop();h&&(i=i.compose(h.delta),s=h.range)}else this.lastRecorded=l;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){jS(this.stack.undo,t),jS(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Je.sources.USER);else{const r=rV(this.quill.scroll,t.delta);this.quill.setSelection(r,Je.sources.USER)}}}$e(vO,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function jS(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&sb(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function nV(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Lt.BLOCK)!=null):!1}function rV(n,e){const t=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-t;return nV(n,e)&&(r-=1),r}function sb(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class yO extends rs{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var l;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const h=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const h=e.selection.normalizedToRange(s);(l=r.dataTransfer)!=null&&l.files&&this.upload(h,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}yO.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((s,l)=>s.insert({image:l}),new kt().retain(n.index).delete(n.length));this.quill.updateContents(i,St.sources.USER),this.quill.setSelection(n.index+r.length,St.sources.SILENT)})}};const iV=["insertText","insertReplacementText"];class oV extends rs{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(Je.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){j1({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new kt().retain(e.index).insert(t,r),Je.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,Je.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!iV.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=sV(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function sV(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const aV=/Mac/i.test(navigator.platform),lV=100,cV=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||aV&&n.key==="a"&&n.ctrlKey===!0);class uV extends rs{constructor(t,r){super(t,r);$e(this,"isListening",!1);$e(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:s}=r;if(!(i instanceof Xo)||!i.uiNode)return!0;const l=getComputedStyle(i.domNode).direction==="rtl";return l&&s.key!=="ArrowRight"||!l&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(s.shiftKey?1:0),Je.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&cV(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+lV,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Xo)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(s)}}Je.register({"blots/block":ri,"blots/block/embed":wo,"blots/break":ns,"blots/container":mc,"blots/cursor":Ku,"blots/embed":N1,"blots/inline":Is,"blots/scroll":cu,"blots/text":Jo,"modules/clipboard":mO,"modules/history":vO,"modules/keyboard":Kg,"modules/uploader":yO,"modules/input":oV,"modules/uiNode":uV});class hV extends ts{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const dV=new hV("indent","ql-indent",{scope:Lt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ab extends ri{}$e(ab,"blotName","blockquote"),$e(ab,"tagName","blockquote");class lb extends ri{static formats(e){return this.tagName.indexOf(e.tagName)+1}}$e(lb,"blotName","header"),$e(lb,"tagName",["H1","H2","H3","H4","H5","H6"]);class Tf extends mc{}Tf.blotName="list-container";Tf.tagName="OL";class kf extends ri{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Je.register(Tf)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),s.preventDefault()):l==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}kf.blotName="list";kf.tagName="LI";Tf.allowedChildren=[kf];kf.requiredContainer=Tf;class $d extends Is{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}$e($d,"blotName","bold"),$e($d,"tagName",["STRONG","B"]);class cb extends $d{}$e(cb,"blotName","italic"),$e(cb,"tagName",["EM","I"]);class Ka extends Is{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return bO(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}$e(Ka,"blotName","link"),$e(Ka,"tagName","A"),$e(Ka,"SANITIZED_URL","about:blank"),$e(Ka,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function bO(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class ub extends Is{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}$e(ub,"blotName","script"),$e(ub,"tagName",["SUB","SUP"]);class hb extends $d{}$e(hb,"blotName","strike"),$e(hb,"tagName",["S","STRIKE"]);class db extends Is{}$e(db,"blotName","underline"),$e(db,"tagName","U");class lm extends N1{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}$e(lm,"blotName","formula"),$e(lm,"className","ql-formula"),$e(lm,"tagName","SPAN");const $S=["alt","height","width"];class fb extends uo{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return $S.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return bO(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){$S.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}$e(fb,"blotName","image"),$e(fb,"tagName","IMG");const HS=["height","width"];class cm extends wo{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return HS.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Ka.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){HS.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}$e(cm,"blotName","video"),$e(cm,"className","ql-video"),$e(cm,"tagName","IFRAME");const rd=new ts("code-token","hljs",{scope:Lt.INLINE});class ua extends Is{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(gi.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),rd.add(this.domNode,r)}format(e,t){e!==ua.blotName?super.format(e,t):t?rd.add(this.domNode,t):(rd.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),rd.value(this.domNode)||this.unwrap()}}ua.blotName="code-token";ua.className="ql-token";class bo extends gi{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),ua.blotName,!1),super.replaceWith(e,t)}}class wd extends gc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===bo.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===bo.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,s=bo.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((c,d)=>c.concat(tO(d,!1)),new kt),h=e(i,s);l.diff(h).reduce((c,d)=>{let{retain:f,attributes:g}=d;return f?(g&&Object.keys(g).forEach(y=>{[bo.blotName,ua.blotName].includes(y)&&this.formatAt(c,f,y,g[y])}),c+f):c},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?bo.formats(r.domNode):"plain"}">
${Yg(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=bo.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}wd.allowedChildren=[bo];bo.requiredContainer=wd;bo.allowedChildren=[ua,Ku,Jo,ns];const fV=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class wO extends rs{static register(){Je.register(ua,!0),Je.register(bo,!0),Je.register(wd,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Je.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof wd))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const l=t.ownerDocument.createElement("option");l.textContent=s,l.setAttribute("value",i),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(bo.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=bo.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Je.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Je.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(wd):[e]).forEach(s=>{s.highlight(this.highlightBlot,t)}),this.quill.update(Je.sources.SILENT),r!=null&&this.quill.setSelection(r,Je.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Yg(e).split(`
`).reduce((i,s,l)=>(l!==0&&i.insert(`
`,{[gi.blotName]:t}),i.insert(s)),new kt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(gi.className),r.innerHTML=fV(this.options.hljs,t,e),$1(this.quill.scroll,r,[(i,s)=>{const l=rd.value(i);return l?s.compose(new kt().retain(s.length(),{[ua.blotName]:l})):s}],[(i,s)=>i.data.split(`
`).reduce((l,h,c)=>(c!==0&&l.insert(`
`,{[gi.blotName]:t}),l.insert(h)),s)],new WeakMap)}}wO.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const xd=class xd extends ri{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",H1()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===xd.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};$e(xd,"blotName","table"),$e(xd,"tagName","TD");let Yo=xd;class ha extends mc{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const s=this.splitAfter(t);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}$e(ha,"blotName","table-row"),$e(ha,"tagName","TR");class Os extends mc{}$e(Os,"blotName","table-body"),$e(Os,"tagName","TBODY");class Xu extends mc{balanceCells(){const e=this.descendants(ha),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Yo.formats(r.children.head.domNode));const s=this.scroll.create(Yo.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Os);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Os);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),s=Yo.formats(r.children.head.domNode),l=this.scroll.create(Yo.blotName,s);r.insertBefore(l,i)})}insertRow(e){const[t]=this.descendant(Os);if(t==null||t.children.head==null)return;const r=H1(),i=this.scroll.create(ha.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Yo.blotName,r);i.appendChild(l)});const s=t.children.at(e);t.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}$e(Xu,"blotName","table-container"),$e(Xu,"tagName","TABLE");Xu.allowedChildren=[Os];Os.requiredContainer=Xu;Os.allowedChildren=[ha];ha.requiredContainer=Os;ha.allowedChildren=[Yo];Yo.requiredContainer=ha;function H1(){return`row-${Math.random().toString(36).slice(2,6)}`}class pV extends rs{static register(){Je.register(Yo),Je.register(ha),Je.register(Os),Je.register(Xu)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Xu).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(Je.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Je.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(Je.sources.USER),this.quill.setSelection(t,Je.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Yo.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const l=s.cellOffset();r.insertColumn(l+e),this.quill.update(Je.sources.USER);let h=i.rowOffset();e===0&&(h+=1),this.quill.setSelection(t.index+h,t.length,Je.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const l=i.rowOffset();r.insertRow(l+e),this.quill.update(Je.sources.USER),e>0?this.quill.setSelection(t,Je.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,Je.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const l=new Array(t).fill(`
`).join("");return s.insert(l,{table:H1()})},new kt().retain(r.index));this.quill.updateContents(i,Je.sources.USER),this.quill.setSelection(r.index,Je.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Je.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(Je.events.TEXT_CHANGE,(r,i,s)=>{s===Je.sources.USER&&this.balanceTables()}),!0):!1)})}}const zS=ma("quill:toolbar");class z1 extends rs{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),mV(s,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){zS.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var h;const l=(h=this.options.handlers)==null?void 0:h[s];l&&this.addHandler(s,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(Je.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){zS.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const h=e.options[e.selectedIndex];h.hasAttribute("selected")?s=!1:s=h.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,s);else if(this.quill.scroll.query(t).prototype instanceof uo){if(s=prompt(`Enter ${t}`),!s)return;this.quill.updateContents(new kt().retain(l.index).delete(l.length).insert({[t]:s}),Je.sources.USER)}else this.quill.format(t,s,Je.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[i]==null)l=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let h=t[i];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),l=s.querySelector(`option[value="${h}"]`)}l==null?(s.value="",s.selectedIndex=-1):l.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const l=t[i],h=l===s.getAttribute("value")||l!=null&&l.toString()===s.getAttribute("value")||l==null&&!s.getAttribute("value");s.classList.toggle("ql-active",h),s.setAttribute("aria-pressed",h.toString())}else{const l=t[i]!=null;s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}})}}z1.DEFAULTS={};function US(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function mV(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")US(r,i);else{const s=Object.keys(i)[0],l=i[s];Array.isArray(l)?gV(r,s,l):US(r,s,l)}}),n.appendChild(r)})}function gV(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),n.appendChild(r)}z1.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Lt.INLINE)!=null&&this.quill.format(t,!1,Je.sources.USER)})}else this.quill.removeFormat(n.index,n.length,Je.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",Je.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,Je.sources.USER),this.quill.format("direction",n,Je.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,Je.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,Je.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,Je.sources.USER):this.quill.format("list","unchecked",Je.sources.USER):this.quill.format("list",n,Je.sources.USER)}}};const vV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',yV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',bV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',wV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',_V='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',xV='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',SV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',EV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',WS='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',AV='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',TV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',kV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',CV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',OV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',LV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',MV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',PV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',NV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',IV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',DV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',RV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',FV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',BV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',jV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',$V='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',HV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',zV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',UV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',WV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',qV='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',VV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',GV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',YV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Hd={align:{"":vV,center:yV,right:bV,justify:wV},background:_V,blockquote:xV,bold:SV,clean:EV,code:WS,"code-block":WS,color:AV,direction:{"":TV,rtl:kV},formula:CV,header:{1:OV,2:LV,3:MV,4:PV,5:NV,6:IV},italic:DV,image:RV,indent:{"+1":FV,"-1":BV},link:jV,list:{bullet:$V,check:HV,ordered:zV},script:{sub:UV,super:WV},strike:qV,table:VV,underline:GV,video:YV},KV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let qS=0;function VS(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Zg{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),VS(this.label,"aria-expanded"),VS(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=KV,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${qS}`,qS+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class _O extends Zg{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class xO extends Zg{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const ZV=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class SO{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,ZV(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let l=0;if(s.right>i.right&&(l=i.right-s.right,this.root.style.left=`${t+l}px`),s.left<i.left&&(l=i.left-s.left,this.root.style.left=`${t+l}px`),s.bottom>i.bottom){const h=s.bottom-s.top,c=e.bottom-e.top+h;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const XV=[!1,"center","right","justify"],JV=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],QV=[!1,"serif","monospace"],eG=["1","2","3",!1],tG=["small",!1,"large","huge"];class Cf extends Zu{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),t[s]!=null))if(s==="direction")r.innerHTML=t[s][""]+t[s].rtl;else if(typeof t[s]=="string")r.innerHTML=t[s];else{const l=r.value||"";l!=null&&t[s][l]&&(r.innerHTML=t[s][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Kh(i,XV),typeof t.align=="object"))return new xO(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Kh(i,JV,s==="background"?"#ffffff":"#000000"),new _O(i,t[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Kh(i,QV):i.classList.contains("ql-header")?Kh(i,eG):i.classList.contains("ql-size")&&Kh(i,tG)),new Zg(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(St.events.EDITOR_CHANGE,r)}}Cf.DEFAULTS=Xa({},Zu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class EO extends SO{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,St.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,St.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=nG(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,St.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",St.sources.USER),this.quill.setSelection(r+2,St.sources.USER)}break}}this.textbox.value="",this.hide()}}function nG(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Kh(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const rG=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class AO extends EO{constructor(e,t){super(e,t),this.quill.on(St.events.EDITOR_CHANGE,(r,i,s,l)=>{if(r===St.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===St.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(i.index,i.length);if(h.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=h[h.length-1],d=this.quill.getIndex(c),f=Math.min(c.length()-1,i.index+i.length-d),g=this.quill.getBounds(new oc(d,f));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(St.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}$e(AO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class TO extends Cf{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=rG),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new AO(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Hd),this.buildPickers(e.container.querySelectorAll("select"),Hd))}}TO.DEFAULTS=Xa({},Cf.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Je.sources.USER)}}}}});const iG=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class kO extends EO{constructor(){super(...arguments);$e(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,St.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(St.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===St.sources.USER){const[s,l]=this.quill.scroll.descendant(Ka,t.index);if(s!=null){this.linkRange=new oc(t.index-l,s.length());const h=Ka.formats(s.domNode);this.preview.textContent=h,this.preview.setAttribute("href",h),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}$e(kO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class CO extends Cf{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=iG),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Hd),this.buildPickers(e.container.querySelectorAll("select"),Hd),this.tooltip=new kO(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}CO.DEFAULTS=Xa({},Cf.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,Je.sources.USER)}}}}});Je.register({"attributors/attribute/direction":aO,"attributors/class/align":iO,"attributors/class/background":xq,"attributors/class/color":_q,"attributors/class/direction":lO,"attributors/class/font":hO,"attributors/class/size":fO,"attributors/style/align":oO,"attributors/style/background":R1,"attributors/style/color":D1,"attributors/style/direction":cO,"attributors/style/font":dO,"attributors/style/size":pO},!0);Je.register({"formats/align":iO,"formats/direction":lO,"formats/indent":dV,"formats/background":R1,"formats/color":D1,"formats/font":hO,"formats/size":fO,"formats/blockquote":ab,"formats/code-block":gi,"formats/header":lb,"formats/list":kf,"formats/bold":$d,"formats/code":F1,"formats/italic":cb,"formats/link":Ka,"formats/script":ub,"formats/strike":hb,"formats/underline":db,"formats/formula":lm,"formats/image":fb,"formats/video":cm,"modules/syntax":wO,"modules/table":pV,"modules/toolbar":z1,"themes/bubble":TO,"themes/snow":CO,"ui/icons":Hd,"ui/picker":Zg,"ui/icon-picker":xO,"ui/color-picker":_O,"ui/tooltip":SO},!0);class oG extends vn{constructor(){super(...arguments);$e(this,"customColor",t=>t==="custom-color"?window.prompt("Enter Color Code (#c0ffee or rgba(255, 0, 0, 0.5))"):t)}connect(){const t=Je,r=this.element.querySelector(".quill").id,i=this.element.querySelector("textarea"),s={placeholder:i.placeholder,readOnly:i.readOnly||i.disabled,theme:"snow",modules:{toolbar:{container:this.containerToolbar()}}};document.dispatchEvent(new CustomEvent("orchid:quill",{detail:{quill:t,options:s}})),this.editor=new t(`#${r}`,s),JSON.parse(this.data.get("base64"))||this.editor.getModule("toolbar").addHandler("image",()=>{this.selectLocalImage()});let h=JSON.parse(this.data.get("value"));this.editor.root.innerHTML=i.value=h,this.editor.on("text-change",()=>{i.value=this.element.querySelector(".ql-editor").innerHTML||"",i.dispatchEvent(new Event("change"))}),this.editor.getModule("toolbar").addHandler("color",c=>{this.editor.format("color",this.customColor(c))}),this.editor.getModule("toolbar").addHandler("background",c=>{this.editor.format("background",this.customColor(c))})}colors(){return["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466","custom-color"]}containerToolbar(){const t={text:["bold","italic","underline","strike","link","clean"],quote:["blockquote","code-block"],color:[{color:this.colors()},{background:this.colors()}],header:[{header:"1"},{header:"2"}],list:[{list:"ordered"},{list:"bullet"}],format:[{indent:"-1"},{indent:"+1"},{align:[]}],media:["image","video"]};return JSON.parse(this.data.get("toolbar")).map(r=>t[r])}selectLocalImage(){const t=document.createElement("input");t.setAttribute("type","file"),t.click(),t.onchange=()=>{const r=t.files[0];/^image\//.test(r.type)?this.saveToServer(r):(this.alert("Validation error","You could only upload images.","danger"),console.warn("You could only upload images."))}}saveToServer(t){const r=new FormData;r.append("image",t),this.data.get("groups")&&r.append("group",this.data.get("groups")),axios.post(this.prefix("/systems/files"),r).then(i=>{this.insertToEditor(i.data.url)}).catch(i=>{this.alert("Validation error","Quill image upload failed"),console.warn("quill image upload failed"),console.warn(i)})}insertToEditor(t){const r=this.editor.getSelection();this.editor.insertEmbed(r.index,"image",t)}}const sG=Object.freeze(Object.defineProperty({__proto__:null,default:oG},Symbol.toStringTag,{value:"Module"}));class aG extends vn{checked(e){e.target.offsetParent.querySelectorAll("input").forEach(t=>{t.removeAttribute("checked")}),e.target.offsetParent.querySelectorAll("label").forEach(t=>{t.classList.remove("active")}),e.target.classList.add("active"),e.target.setAttribute("checked","checked"),e.target.dispatchEvent(new Event("change"))}}const lG=Object.freeze(Object.defineProperty({__proto__:null,default:aG},Symbol.toStringTag,{value:"Module"}));function Hy(n,e){n.split(/\s+/).forEach(t=>{e(t)})}class cG{constructor(){this._events={}}on(e,t){Hy(e,r=>{const i=this._events[r]||[];i.push(t),this._events[r]=i})}off(e,t){var r=arguments.length;if(r===0){this._events={};return}Hy(e,i=>{if(r===1){delete this._events[i];return}const s=this._events[i];s!==void 0&&(s.splice(s.indexOf(t),1),this._events[i]=s)})}trigger(e,...t){var r=this;Hy(e,i=>{const s=r._events[i];s!==void 0&&s.forEach(l=>{l.apply(r,t)})})}}function uG(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,t){n.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,r;const i=this,s=[];if(Array.isArray(e))e.forEach(l=>{typeof l=="string"?s.push(l):(i.plugins.settings[l.name]=l.options,s.push(l.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(i.plugins.settings[t]=e[t],s.push(t));for(;r=s.shift();)i.require(r)}loadPlugin(e){var t=this,r=t.plugins,i=n.plugins[e];if(!n.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');r.requested[e]=!0,r.loaded[e]=i.fn.apply(t,[t.plugins.settings[e]||{}]),r.names.push(e)}require(e){var t=this,r=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(r.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return r.loaded[e]}}}const Xg=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":dG(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),OO=n=>{if(!hG(n))return n.join("");let e="",t=0;const r=()=>{t>1&&(e+="{"+t+"}")};return n.forEach((i,s)=>{if(i===n[s-1]){t++;return}r(),e+=i,t=1}),r(),e},LO=n=>{let e=Array.from(n);return Xg(e)},hG=n=>new Set(n).size!==n.length,zd=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),dG=n=>n.reduce((e,t)=>Math.max(e,fG(t)),0),fG=n=>Array.from(n).length,MO=n=>{if(n.length===1)return[[n]];let e=[];const t=n.substring(1);return MO(t).forEach(function(i){let s=i.slice(0);s[0]=n.charAt(0)+s[0],e.push(s),s=i.slice(0),s.unshift(n.charAt(0)),e.push(s)}),e},pG=[[0,65535]],mG="[̀-ͯ·ʾʼ]";let qm,PO;const gG=3,U1={},GS={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in GS){let e=GS[n]||"";for(let t=0;t<e.length;t++){let r=e.substring(t,t+1);U1[r]=n}}const vG=new RegExp(Object.keys(U1).join("|")+"|"+mG,"gu"),yG=n=>{qm===void 0&&(qm=xG(n||pG))},YS=(n,e="NFKD")=>n.normalize(e),Vm=n=>Array.from(n).reduce((e,t)=>e+bG(t),""),bG=n=>(n=YS(n).toLowerCase().replace(vG,e=>U1[e]||""),YS(n,"NFC"));function*wG(n){for(const[e,t]of n)for(let r=e;r<=t;r++){let i=String.fromCharCode(r),s=Vm(i);s!=i.toLowerCase()&&(s.length>gG||s.length!=0&&(yield{folded:s,composed:i,code_point:r}))}}const _G=n=>{const e={},t=(r,i)=>{const s=e[r]||new Set,l=new RegExp("^"+LO(s)+"$","iu");i.match(l)||(s.add(zd(i)),e[r]=s)};for(let r of wG(n))t(r.folded,r.folded),t(r.folded,r.composed);return e},xG=n=>{const e=_G(n),t={};let r=[];for(let s in e){let l=e[s];l&&(t[s]=LO(l)),s.length>1&&r.push(zd(s))}r.sort((s,l)=>l.length-s.length);const i=Xg(r);return PO=new RegExp("^"+i,"u"),t},SG=(n,e=1)=>{let t=0;return n=n.map(r=>(qm[r]&&(t+=r.length),qm[r]||r)),t>=e?OO(n):""},EG=(n,e=1)=>(e=Math.max(e,n.length-1),Xg(MO(n).map(t=>SG(t,e)))),KS=(n,e=!0)=>{let t=n.length>1?1:0;return Xg(n.map(r=>{let i=[];const s=e?r.length():r.length()-1;for(let l=0;l<s;l++)i.push(EG(r.substrs[l]||"",t));return OO(i)}))},AG=(n,e)=>{for(const t of e){if(t.start!=n.start||t.end!=n.end||t.substrs.join("")!==n.substrs.join(""))continue;let r=n.parts;const i=l=>{for(const h of r){if(h.start===l.start&&h.substr===l.substr)return!1;if(!(l.length==1||h.length==1)&&(l.start<h.start&&l.end>h.start||h.start<l.start&&h.end>l.start))return!0}return!1};if(!(t.parts.filter(i).length>0))return!0}return!1};class Gm{constructor(){$e(this,"parts");$e(this,"substrs");$e(this,"start");$e(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let r=new Gm,i=JSON.parse(JSON.stringify(this.parts)),s=i.pop();for(const c of i)r.add(c);let l=t.substr.substring(0,e-s.start),h=l.length;return r.add({start:s.start,end:s.start+h,length:h,substr:l}),r}}const TG=n=>{yG(),n=Vm(n);let e="",t=[new Gm];for(let r=0;r<n.length;r++){let s=n.substring(r).match(PO);const l=n.substring(r,r+1),h=s?s[0]:null;let c=[],d=new Set;for(const f of t){const g=f.last();if(!g||g.length==1||g.end<=r)if(h){const y=h.length;f.add({start:r,end:r+y,length:y,substr:h}),d.add("1")}else f.add({start:r,end:r+1,length:1,substr:l}),d.add("2");else if(h){let y=f.clone(r,g);const E=h.length;y.add({start:r,end:r+E,length:E,substr:h}),c.push(y)}else d.add("3")}if(c.length>0){c=c.sort((f,g)=>f.length()-g.length());for(let f of c)AG(f,t)||t.push(f);continue}if(r>0&&d.size==1&&!d.has("3")){e+=KS(t,!1);let f=new Gm;const g=t[0];g&&f.add(g.last()),t=[f]}}return e+=KS(t,!0),e},kG=(n,e)=>{if(n)return n[e]},CG=(n,e)=>{if(n){for(var t,r=e.split(".");(t=r.shift())&&(n=n[t]););return n}},zy=(n,e,t)=>{var r,i;return!n||(n=n+"",e.regex==null)||(i=n.search(e.regex),i===-1)?0:(r=e.string.length/n.length,i===0&&(r+=.5),r*t)},Uy=(n,e)=>{var t=n[e];if(typeof t=="function")return t;t&&!Array.isArray(t)&&(n[e]=[t])},Dp=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},OG=(n,e)=>typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=Vm(n+"").toLowerCase(),e=Vm(e+"").toLowerCase(),n>e?1:e>n?-1:0);class LG{constructor(e,t){$e(this,"items");$e(this,"settings");this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,r){if(!e||!e.length)return[];const i=[],s=e.split(/\s+/);var l;return r&&(l=new RegExp("^("+Object.keys(r).map(zd).join("|")+"):(.*)$")),s.forEach(h=>{let c,d=null,f=null;l&&(c=h.match(l))&&(d=c[1],h=c[2]),h.length>0&&(this.settings.diacritics?f=TG(h)||null:f=zd(h),f&&t&&(f="\\b"+f)),i.push({string:h,regex:f?new RegExp(f,"iu"):null,field:d})}),i}getScoreFunction(e,t){var r=this.prepareSearch(e,t);return this._getScoreFunction(r)}_getScoreFunction(e){const t=e.tokens,r=t.length;if(!r)return function(){return 0};const i=e.options.fields,s=e.weights,l=i.length,h=e.getAttrFn;if(!l)return function(){return 1};const c=function(){return l===1?function(d,f){const g=i[0].field;return zy(h(f,g),d,s[g]||1)}:function(d,f){var g=0;if(d.field){const y=h(f,d.field);!d.regex&&y?g+=1/l:g+=zy(y,d,1)}else Dp(s,(y,E)=>{g+=zy(h(f,E),d,y)});return g/l}}();return r===1?function(d){return c(t[0],d)}:e.options.conjunction==="and"?function(d){var f,g=0;for(let y of t){if(f=c(y,d),f<=0)return 0;g+=f}return g/r}:function(d){var f=0;return Dp(t,g=>{f+=c(g,d)}),f/r}}getSortFunction(e,t){var r=this.prepareSearch(e,t);return this._getSortFunction(r)}_getSortFunction(e){var t,r=[];const i=this,s=e.options,l=!e.query&&s.sort_empty?s.sort_empty:s.sort;if(typeof l=="function")return l.bind(this);const h=function(d,f){return d==="$score"?f.score:e.getAttrFn(i.items[f.id],d)};if(l)for(let d of l)(e.query||d.field!=="$score")&&r.push(d);if(e.query){t=!0;for(let d of r)if(d.field==="$score"){t=!1;break}t&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(d=>d.field!=="$score");return r.length?function(d,f){var g,y;for(let E of r)if(y=E.field,g=(E.direction==="desc"?-1:1)*OG(h(y,d),h(y,f)),g)return g;return 0}:null}prepareSearch(e,t){const r={};var i=Object.assign({},t);if(Uy(i,"sort"),Uy(i,"sort_empty"),i.fields){Uy(i,"fields");const s=[];i.fields.forEach(l=>{typeof l=="string"&&(l={field:l,weight:1}),s.push(l),r[l.field]="weight"in l?l.weight:1}),i.fields=s}return{options:i,query:e.toLowerCase().trim(),tokens:this.tokenize(e,i.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:i.nesting?CG:kG}}search(e,t){var r=this,i,s;s=this.prepareSearch(e,t),t=s.options,e=s.query;const l=t.score||r._getScoreFunction(s);e.length?Dp(r.items,(c,d)=>{i=l(c),(t.filter===!1||i>0)&&s.items.push({score:i,id:d})}):Dp(r.items,(c,d)=>{s.items.push({score:1,id:d})});const h=r._getSortFunction(s);return h&&s.items.sort(h),s.total=s.items.length,typeof t.limit=="number"&&(s.items=s.items.slice(0,t.limit)),s}}const qo=n=>typeof n>"u"||n===null?null:um(n),um=n=>typeof n=="boolean"?n?"1":"0":n+"",Wy=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),MG=(n,e)=>e>0?window.setTimeout(n,e):(n.call(null),null),PG=(n,e)=>{var t;return function(r,i){var s=this;t&&(s.loading=Math.max(s.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,s.loadedSearches[r]=!0,n.call(s,r,i)},e)}},ZS=(n,e,t)=>{var r,i=n.trigger,s={};n.trigger=function(){var l=arguments[0];if(e.indexOf(l)!==-1)s[l]=arguments;else return i.apply(n,arguments)},t.apply(n,[]),n.trigger=i;for(r of e)r in s&&i.apply(n,s[r])},NG=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),cr=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},xi=(n,e,t,r)=>{n.addEventListener(e,t,r)},Il=(n,e)=>{if(!e||!e[n])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},qy=(n,e)=>{const t=n.getAttribute("id");return t||(n.setAttribute("id",e),e)},XS=n=>n.replace(/[\\"']/g,"\\$&"),Dl=(n,e)=>{e&&n.append(e)},ni=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},bs=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(NO(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},NO=n=>typeof n=="string"&&n.indexOf("<")>-1,IG=n=>n.replace(/['"\\]/g,"\\$&"),Vy=(n,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),n.dispatchEvent(t)},Rp=(n,e)=>{Object.assign(n.style,e)},Qi=(n,...e)=>{var t=IO(e);n=DO(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},Na=(n,...e)=>{var t=IO(e);n=DO(n),n.map(r=>{t.map(i=>{r.classList.remove(i)})})},IO=n=>{var e=[];return ni(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},DO=n=>(Array.isArray(n)||(n=[n]),n),Gy=(n,e,t)=>{if(!(t&&!t.contains(n)))for(;n&&n.matches;){if(n.matches(e))return n;n=n.parentNode}},JS=(n,e=0)=>e>0?n[n.length-1]:n[0],DG=n=>Object.keys(n).length===0,QS=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t},Xn=(n,e)=>{ni(e,(t,r)=>{t==null?n.removeAttribute(r):n.setAttribute(r,""+t)})},pb=(n,e)=>{n.parentNode&&n.parentNode.replaceChild(e,n)},RG=(n,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const t=s=>{var l=s.data.match(e);if(l&&s.data.length>0){var h=document.createElement("span");h.className="highlight";var c=s.splitText(l.index);c.splitText(l[0].length);var d=c.cloneNode(!0);return h.appendChild(d),pb(c,h),1}return 0},r=s=>{s.nodeType===1&&s.childNodes&&!/(script|style)/i.test(s.tagName)&&(s.className!=="highlight"||s.tagName!=="SPAN")&&Array.from(s.childNodes).forEach(l=>{i(l)})},i=s=>s.nodeType===3?t(s):(r(s),0);i(n)},FG=n=>{var e=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var r=t.parentNode;r.replaceChild(t.firstChild,t),r.normalize()})},BG=65,jG=13,$G=27,HG=37,zG=38,UG=39,WG=40,eE=8,qG=46,tE=9,VG=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Fp=VG?"metaKey":"ctrlKey",nE={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function rE(n,e){var t=Object.assign({},nE,e),r=t.dataAttr,i=t.labelField,s=t.valueField,l=t.disabledField,h=t.optgroupField,c=t.optgroupLabelField,d=t.optgroupValueField,f=n.tagName.toLowerCase(),g=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!g&&!t.allowEmptyOption){let w=n.querySelector('option[value=""]');w&&(g=w.textContent)}var y={placeholder:g,options:[],optgroups:[],items:[],maxItems:null},E=()=>{var w,C=y.options,M={},b=1;let k=0;var A=P=>{var R=Object.assign({},P.dataset),B=r&&R[r];return typeof B=="string"&&B.length&&(R=Object.assign(R,JSON.parse(B))),R},N=(P,R)=>{var B=qo(P.value);if(B!=null&&!(!B&&!t.allowEmptyOption)){if(M.hasOwnProperty(B)){if(R){var D=M[B][h];D?Array.isArray(D)?D.push(R):M[B][h]=[D,R]:M[B][h]=R}}else{var H=A(P);H[i]=H[i]||P.textContent,H[s]=H[s]||B,H[l]=H[l]||P.disabled,H[h]=H[h]||R,H.$option=P,H.$order=H.$order||++k,M[B]=H,C.push(H)}P.selected&&y.items.push(B)}},T=P=>{var R,B;B=A(P),B[c]=B[c]||P.getAttribute("label")||"",B[d]=B[d]||b++,B[l]=B[l]||P.disabled,B.$order=B.$order||++k,y.optgroups.push(B),R=B[d],ni(P.children,D=>{N(D,R)})};y.maxItems=n.hasAttribute("multiple")?null:1,ni(n.children,P=>{w=P.tagName.toLowerCase(),w==="optgroup"?T(P):w==="option"&&N(P)})},_=()=>{const w=n.getAttribute(r);if(w)y.options=JSON.parse(w),ni(y.options,M=>{y.items.push(M[s])});else{var C=n.value.trim()||"";if(!t.allowEmptyOption&&!C.length)return;const M=C.split(t.delimiter);ni(M,b=>{const k={};k[i]=b,k[s]=b,y.options.push(k)}),y.items=M}};return f==="select"?E():_(),Object.assign({},nE,y,e)}var iE=0;class vi extends uG(cG){constructor(e,t){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,iE++;var r,i=bs(e);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var s=window.getComputedStyle&&window.getComputedStyle(i,null);r=s.getPropertyValue("direction");const l=rE(i,t);this.settings=l,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=qy(i,"tomselect-"+iE),this.isRequired=i.required,this.sifter=new LG(this.options,{diacritics:l.diacritics}),l.mode=l.mode||(l.maxItems===1?"single":"multi"),typeof l.hideSelected!="boolean"&&(l.hideSelected=l.mode==="multi"),typeof l.hidePlaceholder!="boolean"&&(l.hidePlaceholder=l.mode!=="multi");var h=l.createFilter;typeof h!="function"&&(typeof h=="string"&&(h=new RegExp(h)),h instanceof RegExp?l.createFilter=C=>h.test(C):l.createFilter=C=>this.settings.duplicates||!this.options[C]),this.initializePlugins(l.plugins),this.setupCallbacks(),this.setupTemplates();const c=bs("<div>"),d=bs("<div>"),f=this._render("dropdown"),g=bs('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",E=l.mode;var _;if(Qi(c,l.wrapperClass,y,E),Qi(d,l.controlClass),Dl(c,d),Qi(f,l.dropdownClass,E),l.copyClassesToDropdown&&Qi(f,y),Qi(g,l.dropdownContentClass),Dl(f,g),bs(l.dropdownParent||c).appendChild(f),NO(l.controlInput)){_=bs(l.controlInput);var w=["autocorrect","autocapitalize","autocomplete","spellcheck"];ni(w,C=>{i.getAttribute(C)&&Xn(_,{[C]:i.getAttribute(C)})}),_.tabIndex=-1,d.appendChild(_),this.focus_node=_}else l.controlInput?(_=bs(l.controlInput),this.focus_node=_):(_=bs("<input/>"),this.focus_node=d);this.wrapper=c,this.dropdown=f,this.dropdown_content=g,this.control=d,this.control_input=_,this.setup()}setup(){const e=this,t=e.settings,r=e.control_input,i=e.dropdown,s=e.dropdown_content,l=e.wrapper,h=e.control,c=e.input,d=e.focus_node,f={passive:!0},g=e.inputId+"-ts-dropdown";Xn(s,{id:g}),Xn(d,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":g});const y=qy(d,e.inputId+"-ts-control"),E="label[for='"+IG(e.inputId)+"']",_=document.querySelector(E),w=e.focus.bind(e);if(_){xi(_,"click",w),Xn(_,{for:y});const b=qy(_,e.inputId+"-ts-label");Xn(d,{"aria-labelledby":b}),Xn(s,{"aria-labelledby":b})}if(l.style.width=c.style.width,e.plugins.names.length){const b="plugin-"+e.plugins.names.join(" plugin-");Qi([l,i],b)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&Xn(c,{multiple:"multiple"}),t.placeholder&&Xn(r,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+zd(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=PG(t.load,t.loadThrottle)),xi(i,"mousemove",()=>{e.ignoreHover=!1}),xi(i,"mouseenter",b=>{var k=Gy(b.target,"[data-selectable]",i);k&&e.onOptionHover(b,k)},{capture:!0}),xi(i,"click",b=>{const k=Gy(b.target,"[data-selectable]");k&&(e.onOptionSelect(b,k),cr(b,!0))}),xi(h,"click",b=>{var k=Gy(b.target,"[data-ts-item]",h);if(k&&e.onItemSelect(b,k)){cr(b,!0);return}r.value==""&&(e.onClick(),cr(b,!0))}),xi(d,"keydown",b=>e.onKeyDown(b)),xi(r,"keypress",b=>e.onKeyPress(b)),xi(r,"input",b=>e.onInput(b)),xi(d,"blur",b=>e.onBlur(b)),xi(d,"focus",b=>e.onFocus(b)),xi(r,"paste",b=>e.onPaste(b));const C=b=>{const k=b.composedPath()[0];if(!l.contains(k)&&!i.contains(k)){e.isFocused&&e.blur(),e.inputState();return}k==r&&e.isOpen?b.stopPropagation():cr(b,!0)},M=()=>{e.isOpen&&e.positionDropdown()};xi(document,"mousedown",C),xi(window,"scroll",M,f),xi(window,"resize",M,f),this._destroy=()=>{document.removeEventListener("mousedown",C),window.removeEventListener("scroll",M),window.removeEventListener("resize",M),_&&_.removeEventListener("click",w)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,xi(c,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,c.disabled?e.disable():c.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),Qi(c,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),ni(t,r=>{this.registerOptionGroup(r)})}setupTemplates(){var e=this,t=e.settings.labelField,r=e.settings.optgroupLabelField,i={optgroup:s=>{let l=document.createElement("div");return l.className="optgroup",l.appendChild(s.options),l},optgroup_header:(s,l)=>'<div class="optgroup-header">'+l(s[r])+"</div>",option:(s,l)=>"<div>"+l(s[t])+"</div>",item:(s,l)=>"<div>"+l(s[t])+"</div>",option_create:(s,l)=>'<div class="create">Add <strong>'+l(s.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},i,e.settings.render)}setupCallbacks(){var e,t,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in r)t=this.settings[r[e]],t&&this.on(e,t)}sync(e=!0){const t=this,r=e?rE(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(r.options,r.optgroups),t.setValue(r.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){Vy(this.input,"input"),Vy(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){cr(e);return}t.settings.splitOn&&setTimeout(()=>{var r=t.inputValue();if(r.match(t.settings.splitOn)){var i=r.trim().split(t.settings.splitOn);ni(i,s=>{qo(s)&&(this.options[s]?t.addItem(s):t.createItem(s))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){cr(e);return}var r=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&r===t.settings.delimiter){t.createItem(),cr(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==tE&&cr(e);return}switch(e.keyCode){case BG:if(Il(Fp,e)&&t.control_input.value==""){cr(e),t.selectAll();return}break;case $G:t.isOpen&&(cr(e,!0),t.close()),t.clearActiveItems();return;case WG:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let r=t.getAdjacent(t.activeOption,1);r&&t.setActiveOption(r)}cr(e);return;case zG:if(t.activeOption){let r=t.getAdjacent(t.activeOption,-1);r&&t.setActiveOption(r)}cr(e);return;case jG:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),cr(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&cr(e);return;case HG:t.advanceSelection(-1,e);return;case UG:t.advanceSelection(1,e);return;case tE:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),cr(e)),t.settings.create&&t.createItem()&&cr(e));return;case eE:case qG:t.deleteSelection(e);return}t.isInputHidden&&!Il(Fp,e)&&cr(e)}onInput(e){if(this.isLocked)return;const t=this.inputValue();if(this.lastValue!==t){if(this.lastValue=t,t==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=MG(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,r=t.isFocused;if(t.isDisabled||t.isReadOnly){t.blur(),cr(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),r||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var r=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,r):r()}}}onOptionSelect(e,t){var r,i=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(r=t.dataset.value,typeof r<"u"&&(i.lastQuery=null,i.addItem(r),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&e.type&&/click/.test(e.type)&&i.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(cr(e),r.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const t=this;if(!t.canLoad(e))return;Qi(t.wrapper,t.settings.loadingClass),t.loading++;const r=t.loadCallback.bind(t);t.settings.load.call(t,e,r)}loadCallback(e,t){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(e,t),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||Na(r.wrapper,r.settings.loadingClass),r.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,r=t.value!==e;r&&(t.value=e,Vy(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var r=t?[]:["change"];ZS(this,r,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var r=this,i,s,l,h,c,d;if(r.settings.mode!=="single"){if(!e){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(i=t&&t.type.toLowerCase(),i==="click"&&Il("shiftKey",t)&&r.activeItems.length){for(d=r.getLastActive(),l=Array.prototype.indexOf.call(r.control.children,d),h=Array.prototype.indexOf.call(r.control.children,e),l>h&&(c=l,l=h,h=c),s=l;s<=h;s++)e=r.control.children[s],r.activeItems.indexOf(e)===-1&&r.setActiveItemClass(e);cr(t)}else i==="click"&&Il(Fp,t)||i==="keydown"&&Il("shiftKey",t)?e.classList.contains("active")?r.removeActiveItem(e):r.setActiveItemClass(e):(r.clearActiveItems(),r.setActiveItemClass(e));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(e){const t=this,r=t.control.querySelector(".last-active");r&&Na(r,"last-active"),Qi(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),Na(e,"active")}clearActiveItems(){Na(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,Xn(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),Xn(e,{"aria-selected":"true"}),Qi(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const r=this.dropdown_content,i=r.clientHeight,s=r.scrollTop||0,l=e.offsetHeight,h=e.getBoundingClientRect().top-r.getBoundingClientRect().top+s;h+l>i+s?this.scroll(h-i+l,t):h<s&&this.scroll(h,t)}scroll(e,t){const r=this.dropdown_content;t&&(r.style.scrollBehavior=t),r.scrollTop=e,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Na(this.activeOption,"active"),Xn(this.activeOption,{"aria-selected":null})),this.activeOption=null,Xn(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,ni(t,r=>{e.setActiveItemClass(r)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(Xn(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&Xn(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,r,i=this,s=this.getSearchOptions();if(i.settings.score&&(r=i.settings.score.call(i,e),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==i.lastQuery?(i.lastQuery=e,t=i.sifter.search(e,Object.assign(s,{score:r})),i.currentResults=t):t=Object.assign({},i.currentResults),i.settings.hideSelected&&(t.items=t.items.filter(l=>{let h=qo(l.id);return!(h&&i.items.indexOf(h)!==-1)})),t}refreshOptions(e=!0){var t,r,i,s,l,h,c,d,f,g;const y={},E=[];var _=this,w=_.inputValue();const C=w===_.lastQuery||w==""&&_.lastQuery==null;var M=_.search(w),b=null,k=_.settings.shouldOpen||!1,A=_.dropdown_content;C&&(b=_.activeOption,b&&(f=b.closest("[data-group]"))),s=M.items.length,typeof _.settings.maxOptions=="number"&&(s=Math.min(s,_.settings.maxOptions)),s>0&&(k=!0);const N=(P,R)=>{let B=y[P];if(B!==void 0){let H=E[B];if(H!==void 0)return[B,H.fragment]}let D=document.createDocumentFragment();return B=E.length,E.push({fragment:D,order:R,optgroup:P}),[B,D]};for(t=0;t<s;t++){let P=M.items[t];if(!P)continue;let R=P.id,B=_.options[R];if(B===void 0)continue;let D=um(R),H=_.getOption(D,!0);for(_.settings.hideSelected||H.classList.toggle("selected",_.items.includes(D)),l=B[_.settings.optgroupField]||"",h=Array.isArray(l)?l:[l],r=0,i=h&&h.length;r<i;r++){l=h[r];let $=B.$order,V=_.optgroups[l];V===void 0?l="":$=V.$order;const[ee,fe]=N(l,$);r>0&&(H=H.cloneNode(!0),Xn(H,{id:B.$id+"-clone-"+r,"aria-selected":null}),H.classList.add("ts-cloned"),Na(H,"active"),_.activeOption&&_.activeOption.dataset.value==R&&f&&f.dataset.group===l.toString()&&(b=H)),fe.appendChild(H),l!=""&&(y[l]=ee)}}_.settings.lockOptgroupOrder&&E.sort((P,R)=>P.order-R.order),c=document.createDocumentFragment(),ni(E,P=>{let R=P.fragment,B=P.optgroup;if(!R||!R.children.length)return;let D=_.optgroups[B];if(D!==void 0){let H=document.createDocumentFragment(),$=_.render("optgroup_header",D);Dl(H,$),Dl(H,R);let V=_.render("optgroup",{group:D,options:H});Dl(c,V)}else Dl(c,R)}),A.innerHTML="",Dl(A,c),_.settings.highlight&&(FG(A),M.query.length&&M.tokens.length&&ni(M.tokens,P=>{RG(A,P.regex)}));var T=P=>{let R=_.render(P,{input:w});return R&&(k=!0,A.insertBefore(R,A.firstChild)),R};if(_.loading?T("loading"):_.settings.shouldLoad.call(_,w)?M.items.length===0&&T("no_results"):T("not_loading"),d=_.canCreate(w),d&&(g=T("option_create")),_.hasOptions=M.items.length>0||d,k){if(M.items.length>0){if(!b&&_.settings.mode==="single"&&_.items[0]!=null&&(b=_.getOption(_.items[0])),!A.contains(b)){let P=0;g&&!_.settings.addPrecedence&&(P=1),b=_.selectable()[P]}}else g&&(b=g);e&&!_.isOpen&&(_.open(),_.scrollToOption(b,"auto")),_.setActiveOption(b)}else _.clearActiveOption(),e&&_.isOpen&&_.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const r=this;if(Array.isArray(e))return r.addOptions(e,t),!1;const i=qo(e[r.settings.valueField]);return i===null||r.options.hasOwnProperty(i)?!1:(e.$order=e.$order||++r.order,e.$id=r.inputId+"-opt-"+e.$order,r.options[i]=e,r.lastQuery=null,t&&(r.userOptions[i]=t,r.trigger("option_add",i,e)),i)}addOptions(e,t=!1){ni(e,r=>{this.addOption(r,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=qo(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var r;t[this.settings.optgroupValueField]=e,(r=this.registerOptionGroup(t))&&this.trigger("optgroup_add",r,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const r=this;var i,s;const l=qo(e),h=qo(t[r.settings.valueField]);if(l===null)return;const c=r.options[l];if(c==null)return;if(typeof h!="string")throw new Error("Value must be set in option data");const d=r.getOption(l),f=r.getItem(l);if(t.$order=t.$order||c.$order,delete r.options[l],r.uncacheValue(h),r.options[h]=t,d){if(r.dropdown_content.contains(d)){const g=r._render("option",t);pb(d,g),r.activeOption===d&&r.setActiveOption(g)}d.remove()}f&&(s=r.items.indexOf(l),s!==-1&&r.items.splice(s,1,h),i=r._render("item",t),f.classList.contains("active")&&Qi(i,"active"),pb(f,i)),r.lastQuery=null}removeOption(e,t){const r=this;e=um(e),r.uncacheValue(e),delete r.userOptions[e],delete r.options[e],r.lastQuery=null,r.trigger("option_remove",e),r.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};ni(this.options,(i,s)=>{t(i,s)&&(r[s]=i)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const r=qo(e);if(r===null)return null;const i=this.options[r];if(i!=null){if(i.$div)return i.$div;if(t)return this._render("option",i)}return null}getAdjacent(e,t,r="option"){var i=this,s;if(!e)return null;r=="item"?s=i.controlChildren():s=i.dropdown_content.querySelectorAll("[data-selectable]");for(let l=0;l<s.length;l++)if(s[l]==e)return t>0?s[l+1]:s[l-1];return null}getItem(e){if(typeof e=="object")return e;var t=qo(e);return t!==null?this.control.querySelector(`[data-value="${XS(t)}"]`):null}addItems(e,t){var r=this,i=Array.isArray(e)?e:[e];i=i.filter(l=>r.items.indexOf(l)===-1);const s=i[i.length-1];i.forEach(l=>{r.isPending=l!==s,r.addItem(l,t)})}addItem(e,t){var r=t?[]:["change","dropdown_close"];ZS(this,r,()=>{var i,s;const l=this,h=l.settings.mode,c=qo(e);if(!(c&&l.items.indexOf(c)!==-1&&(h==="single"&&l.close(),h==="single"||!l.settings.duplicates))&&!(c===null||!l.options.hasOwnProperty(c))&&(h==="single"&&l.clear(t),!(h==="multi"&&l.isFull()))){if(i=l._render("item",l.options[c]),l.control.contains(i)&&(i=i.cloneNode(!0)),s=l.isFull(),l.items.splice(l.caretPos,0,c),l.insertAtCaret(i),l.isSetup){if(!l.isPending&&l.settings.hideSelected){let d=l.getOption(c),f=l.getAdjacent(d,1);f&&l.setActiveOption(f)}!l.isPending&&!l.settings.closeAfterSelect&&l.refreshOptions(l.isFocused&&h!=="single"),l.settings.closeAfterSelect!=!1&&l.isFull()?l.close():l.isPending||l.positionDropdown(),l.trigger("item_add",c,i),l.isPending||l.updateOriginalInput({silent:t})}(!l.isPending||!s&&l.isFull())&&(l.inputState(),l.refreshState())}})}removeItem(e=null,t){const r=this;if(e=r.getItem(e),!e)return;var i,s;const l=e.dataset.value;i=QS(e),e.remove(),e.classList.contains("active")&&(s=r.activeItems.indexOf(e),r.activeItems.splice(s,1),Na(e,"active")),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(l)&&r.removeOption(l,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:t}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",l,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var r=this,i=r.caretPos,s;if(e=e||r.inputValue(),!r.canCreate(e))return t(),!1;r.lock();var l=!1,h=c=>{if(r.unlock(),!c||typeof c!="object")return t();var d=qo(c[r.settings.valueField]);if(typeof d!="string")return t();r.setTextboxValue(),r.addOption(c,!0),r.setCaret(i),r.addItem(d),t(c),l=!0};return typeof r.settings.create=="function"?s=r.settings.create.call(this,e,h):s={[r.settings.labelField]:e,[r.settings.valueField]:e},l||h(s),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),r=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const i=e.wrapper.classList;i.toggle("focus",e.isFocused),i.toggle("disabled",e.isDisabled),i.toggle("readonly",e.isReadOnly),i.toggle("required",e.isRequired),i.toggle("invalid",!e.isValid),i.toggle("locked",r),i.toggle("full",t),i.toggle("input-active",e.isFocused&&!e.isInputHidden),i.toggle("dropdown-active",e.isOpen),i.toggle("has-options",DG(e.options)),i.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var r,i;const s=t.input.querySelector('option[value=""]');if(t.is_select_tag){let d=function(f,g,y){return f||(f=bs('<option value="'+Wy(g)+'">'+Wy(y)+"</option>")),f!=s&&t.input.append(f),h.push(f),(f!=s||c>0)&&(f.selected=!0),f};var l=d;const h=[],c=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(f=>{f.selected=!1}),t.items.length==0&&t.settings.mode=="single"?d(s,"",""):t.items.forEach(f=>{if(r=t.options[f],i=r[t.settings.labelField]||"",h.includes(r.$option)){const g=t.input.querySelector(`option[value="${XS(f)}"]:not(:checked)`);d(g,f,i)}else r.$option=d(r.$option,f,i)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,Xn(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),Rp(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),Rp(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,r=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.inputState()),t.isOpen=!1,Xn(t.focus_node,{"aria-expanded":"false"}),Rp(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),r&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),r=e.offsetHeight+t.top+window.scrollY,i=t.left+window.scrollX;Rp(this.dropdown,{width:t.width+"px",top:r+"px",left:i+"px"})}}clear(e){var t=this;if(t.items.length){var r=t.controlChildren();ni(r,i=>{t.removeItem(i,!0)}),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,r=t.caretPos,i=t.control;i.insertBefore(e,i.children[r]||null),t.setCaret(r+1)}deleteSelection(e){var t,r,i,s,l=this;t=e&&e.keyCode===eE?-1:1,r=NG(l.control_input);const h=[];if(l.activeItems.length)s=JS(l.activeItems,t),i=QS(s),t>0&&i++,ni(l.activeItems,c=>h.push(c));else if((l.isFocused||l.settings.mode==="single")&&l.items.length){const c=l.controlChildren();let d;t<0&&r.start===0&&r.length===0?d=c[l.caretPos-1]:t>0&&r.start===l.inputValue().length&&(d=c[l.caretPos]),d!==void 0&&h.push(d)}if(!l.shouldDelete(h,e))return!1;for(cr(e,!0),typeof i<"u"&&l.setCaret(i);h.length;)l.removeItem(h.pop());return l.inputState(),l.positionDropdown(),l.refreshOptions(!1),!0}shouldDelete(e,t){const r=e.map(i=>i.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,t)===!1)}advanceSelection(e,t){var r,i,s=this;s.rtl&&(e*=-1),!s.inputValue().length&&(Il(Fp,t)||Il("shiftKey",t)?(r=s.getLastActive(e),r?r.classList.contains("active")?i=s.getAdjacent(r,e,"item"):i=r:e>0?i=s.control_input.nextElementSibling:i=s.control_input.previousElementSibling,i&&(i.classList.contains("active")&&s.removeActiveItem(r),s.setActiveItemClass(i))):s.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var r=this.control.querySelectorAll(".active");if(r)return JS(r,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,Na(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var r,i;const s=this;if(typeof this.settings.render[e]!="function"||(i=s.settings.render[e].call(this,t,Wy),!i))return null;if(i=bs(i),e==="option"||e==="option_create"?t[s.settings.disabledField]?Xn(i,{"aria-disabled":"true"}):Xn(i,{"data-selectable":""}):e==="optgroup"&&(r=t.group[s.settings.optgroupValueField],Xn(i,{"data-group":r}),t.group[s.settings.disabledField]&&Xn(i,{"data-disabled":""})),e==="option"||e==="item"){const l=um(t[s.settings.valueField]);Xn(i,{"data-value":l}),e==="item"?(Qi(i,s.settings.itemClass),Xn(i,{"data-ts-item":""})):(Qi(i,s.settings.optionClass),Xn(i,{role:"option",id:t.$id}),t.$div=i,s.options[l]=t)}return i}_render(e,t){const r=this.render(e,t);if(r==null)throw"HTMLElement expected";return r}clearCache(){ni(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,r){var i=this,s=i[t];i[t]=function(){var l,h;return e==="after"&&(l=s.apply(i,arguments)),h=r.apply(i,arguments),e==="instead"?h:(e==="before"&&(l=s.apply(i,arguments)),l)}}}const GG=(n,e,t,r)=>{n.addEventListener(e,t,r)};function YG(){GG(this.input,"change",()=>{this.sync()})}const KG=n=>typeof n>"u"||n===null?null:ZG(n),ZG=n=>typeof n=="boolean"?n?"1":"0":n+"",oE=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},XG=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(JG(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},JG=n=>typeof n=="string"&&n.indexOf("<")>-1;function QG(n){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(h,c){c?(h.checked=!0,r.uncheckedClassNames&&h.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&h.classList.add(...r.checkedClassNames)):(h.checked=!1,r.checkedClassNames&&h.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&h.classList.add(...r.uncheckedClassNames))},s=function(h){setTimeout(()=>{var c=h.querySelector("input."+r.className);c instanceof HTMLInputElement&&i(c,h.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var l=e.settings.render.option;e.settings.render.option=(h,c)=>{var d=XG(l.call(e,h,c)),f=document.createElement("input");r.className&&f.classList.add(r.className),f.addEventListener("click",function(y){oE(y)}),f.type="checkbox";const g=KG(h[e.settings.valueField]);return i(f,!!(g&&e.items.indexOf(g)>-1)),d.prepend(f),d}}),e.on("item_remove",l=>{var h=e.getOption(l);h&&(h.classList.remove("selected"),s(h))}),e.on("item_add",l=>{var h=e.getOption(l);h&&s(h)}),e.hook("instead","onOptionSelect",(l,h)=>{if(h.classList.contains("selected")){h.classList.remove("selected"),e.removeItem(h.dataset.value),e.refreshOptions(),oE(l,!0);return}t.call(e,l,h),s(h)})}const eY=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(tY(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},tY=n=>typeof n=="string"&&n.indexOf("<")>-1;function nY(n){const e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},n);e.on("initialize",()=>{var r=eY(t.html(t));r.addEventListener("click",i=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),i.preventDefault(),i.stopPropagation())}),e.control.appendChild(r)})}const rY=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},Yc=(n,e,t,r)=>{n.addEventListener(e,t,r)},iY=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},oY=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(sY(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},sY=n=>typeof n=="string"&&n.indexOf("<")>-1,aY=(n,e)=>{iY(e,(t,r)=>{t==null?n.removeAttribute(r):n.setAttribute(r,""+t)})},lY=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n.nextSibling)},cY=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n)},uY=(n,e)=>{do{var t;if(e=(t=e)==null?void 0:t.previousElementSibling,n==e)return!0}while(e&&e.previousElementSibling);return!1};function hY(){var n=this;if(n.settings.mode!=="multi")return;var e=n.lock,t=n.unlock;let r=!0,i;n.hook("after","setupTemplates",()=>{var s=n.settings.render.item;n.settings.render.item=(l,h)=>{const c=oY(s.call(n,l,h));aY(c,{draggable:"true"});const d=w=>{r||rY(w),w.stopPropagation()},f=w=>{i=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},g=w=>{w.preventDefault(),c.classList.add("ts-drag-over"),E(c,i)},y=()=>{c.classList.remove("ts-drag-over")},E=(w,C)=>{C!==void 0&&(uY(C,c)?lY(w,C):cY(w,C))},_=()=>{var w;document.querySelectorAll(".ts-drag-over").forEach(M=>M.classList.remove("ts-drag-over")),(w=i)==null||w.classList.remove("ts-dragging"),i=void 0;var C=[];n.control.querySelectorAll("[data-value]").forEach(M=>{if(M.dataset.value){let b=M.dataset.value;b&&C.push(b)}}),n.setValue(C)};return Yc(c,"mousedown",d),Yc(c,"dragstart",f),Yc(c,"dragenter",g),Yc(c,"dragover",g),Yc(c,"dragleave",y),Yc(c,"dragend",_),c}}),n.hook("instead","lock",()=>(r=!1,e.call(n))),n.hook("instead","unlock",()=>(r=!0,t.call(n)))}const dY=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},fY=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(pY(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},pY=n=>typeof n=="string"&&n.indexOf("<")>-1;function mY(n){const e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},n);e.on("initialize",()=>{var r=fY(t.html(t)),i=r.querySelector("."+t.closeClass);i&&i.addEventListener("click",s=>{dY(s,!0),e.close()}),e.dropdown.insertBefore(r,e.dropdown.firstChild)})}const gY=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},vY=(n,...e)=>{var t=yY(e);n=bY(n),n.map(r=>{t.map(i=>{r.classList.remove(i)})})},yY=n=>{var e=[];return gY(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},bY=n=>(Array.isArray(n)||(n=[n]),n),wY=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t};function _Y(){var n=this;n.hook("instead","setCaret",e=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?e=n.items.length:(e=Math.max(0,Math.min(n.items.length,e)),e!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((t,r)=>{r<e?n.control_input.insertAdjacentElement("beforebegin",t):n.control.appendChild(t)})),n.caretPos=e}),n.hook("instead","moveCaret",e=>{if(!n.isFocused)return;const t=n.getLastActive(e);if(t){const r=wY(t);n.setCaret(e>0?r+1:r),n.setActiveItem(),vY(t,"last-active")}else n.setCaret(n.caretPos+e)})}const xY=27,SY=9,EY=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},AY=(n,e,t,r)=>{n.addEventListener(e,t,r)},TY=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},sE=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(kY(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},kY=n=>typeof n=="string"&&n.indexOf("<")>-1,CY=(n,...e)=>{var t=OY(e);n=LY(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},OY=n=>{var e=[];return TY(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},LY=n=>(Array.isArray(n)||(n=[n]),n);function MY(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,CY(n.control_input,"dropdown-input");const e=sE('<div class="dropdown-input-wrap">');e.append(n.control_input),n.dropdown.insertBefore(e,n.dropdown.firstChild);const t=sE('<input class="items-placeholder" tabindex="-1" />');t.placeholder=n.settings.placeholder||"",n.control.append(t)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case xY:n.isOpen&&(EY(t,!0),n.close()),n.clearActiveItems();return;case SY:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,t)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const e=n.onBlur;n.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==n.control_input))return e.call(n)}),AY(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const Bp=(n,e,t,r)=>{n.addEventListener(e,t,r)};function PY(){var n=this;n.on("initialize",()=>{var e=document.createElement("span"),t=n.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(e);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const s of r)e.style[s]=t.style[s];var i=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};i(),n.on("update item_add item_remove",i),Bp(t,"input",i),Bp(t,"keyup",i),Bp(t,"blur",i),Bp(t,"update",i)})}function NY(){var n=this,e=n.deleteSelection;this.hook("instead","deleteSelection",t=>n.activeItems.length?e.call(n,t):!1)}function IY(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const aE=37,DY=39,RY=(n,e,t)=>{for(;n&&n.matches;){if(n.matches(e))return n;n=n.parentNode}},FY=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t};function BY(){var n=this,e=n.onKeyDown;n.hook("instead","onKeyDown",t=>{var r,i,s,l;if(!n.isOpen||!(t.keyCode===aE||t.keyCode===DY))return e.call(n,t);n.ignoreHover=!0,l=RY(n.activeOption,"[data-group]"),r=FY(n.activeOption,"[data-selectable]"),l&&(t.keyCode===aE?l=l.previousSibling:l=l.nextSibling,l&&(s=l.querySelectorAll("[data-selectable]"),i=s[Math.min(s.length-1,r)],i&&n.setActiveOption(i)))})}const jY=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),lE=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},cE=(n,e,t,r)=>{n.addEventListener(e,t,r)},uE=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if($Y(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},$Y=n=>typeof n=="string"&&n.indexOf("<")>-1;function HY(n){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var t=this;if(e.append){var r='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+jY(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var i=t.settings.render.item;t.settings.render.item=(s,l)=>{var h=uE(i.call(t,s,l)),c=uE(r);return h.appendChild(c),cE(c,"mousedown",d=>{lE(d,!0)}),cE(c,"click",d=>{t.isLocked||(lE(d,!0),!t.isLocked&&t.shouldDelete([h],d)&&(t.removeItem(h),t.refreshOptions(!1),t.inputState()))}),h}})}}function zY(n){const e=this,t=Object.assign({text:r=>r[e.settings.labelField]},n);e.on("item_remove",function(r){if(e.isFocused&&e.control_input.value.trim()===""){var i=e.options[r];i&&e.setTextboxValue(t.text.call(e,i))}})}const UY=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},WY=(n,...e)=>{var t=qY(e);n=VY(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},qY=n=>{var e=[];return UY(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},VY=n=>(Array.isArray(n)||(n=[n]),n);function GY(){const n=this,e=n.canLoad,t=n.clearActiveOption,r=n.loadCallback;var i={},s,l=!1,h,c=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(s.clientHeight/(s.scrollHeight-s.scrollTop)>.9)return!0;if(n.activeOption){var y=n.selectable(),E=Array.from(y).indexOf(n.activeOption);if(E>=y.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const d=g=>typeof n.settings.maxOptions=="number"&&s.children.length>=n.settings.maxOptions?!1:!!(g in i&&i[g]),f=(g,y)=>n.items.indexOf(y)>=0||c.indexOf(y)>=0;n.setNextUrl=(g,y)=>{i[g]=y},n.getUrl=g=>{if(g in i){const y=i[g];return i[g]=!1,y}return n.clearPagination(),n.settings.firstUrl.call(n,g)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!l)return t.call(n)}),n.hook("instead","canLoad",g=>g in i?d(g):e.call(n,g)),n.hook("instead","loadCallback",(g,y)=>{if(!l)n.clearOptions(f);else if(h){const E=g[0];E!==void 0&&(h.dataset.value=E[n.settings.valueField])}r.call(n,g,y),l=!1}),n.hook("after","refreshOptions",()=>{const g=n.lastValue;var y;d(g)?(y=n.render("loading_more",{query:g}),y&&(y.setAttribute("data-selectable",""),h=y)):g in i&&!s.querySelector(".no-results")&&(y=n.render("no_more_results",{query:g})),y&&(WY(y,n.settings.optionClass),s.append(y))}),n.on("initialize",()=>{c=Object.keys(n.options),s=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),s.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&d(n.lastValue)&&(l||(l=!0,n.load.call(n,n.lastValue)))})})}vi.define("change_listener",YG);vi.define("checkbox_options",QG);vi.define("clear_button",nY);vi.define("drag_drop",hY);vi.define("dropdown_header",mY);vi.define("caret_position",_Y);vi.define("dropdown_input",MY);vi.define("input_autogrow",PY);vi.define("no_backspace_delete",NY);vi.define("no_active_items",IY);vi.define("optgroup_columns",BY);vi.define("remove_button",HY);vi.define("restore_on_backspace",zY);vi.define("virtual_scroll",GY);class YY extends vn{static get targets(){return["select"]}connect(){if(document.documentElement.hasAttribute("data-turbo-preview"))return;const e=this.selectTarget,t=["change_listener"];e.hasAttribute("multiple")&&(t.push("remove_button"),t.push("clear_button")),this.choices=new vi(e,{create:this.data.get("allow-add")==="true",allowEmptyOption:!0,placeholder:e.getAttribute("placeholder")==="false"?"":e.getAttribute("placeholder"),preload:"focus",plugins:t,maxOptions:this.data.get("chunk"),maxItems:e.getAttribute("maximumSelectionLength")||e.hasAttribute("multiple")?null:1,valueField:"value",labelField:"label",searchField:[],sortField:[{field:"$order"},{field:"$score"}],render:{option_create:(r,i)=>`<div class="create">${this.data.get("message-add")} <strong>${i(r.input)}</strong>&hellip;</div>`,no_results:()=>`<div class="no-results">${this.data.get("message-notfound")}</div>`},onDelete:()=>!!this.data.get("allow-empty"),load:(r,i)=>this.search(r,i),onItemAdd:function(){this.setTextboxValue(""),this.refreshOptions(!1)}})}search(e,t){const r=this.data.get("model"),i=this.data.get("name"),s=this.data.get("key"),l=this.data.get("scope"),h=this.data.get("append"),c=this.data.get("search-columns"),d=this.data.get("chunk");axios.post(this.data.get("route"),{search:e,model:r,name:i,key:s,scope:l,append:h,searchColumns:c,chunk:d}).then(f=>{this.choices.clearOptions(),t(f.data)})}disconnect(){var e;(e=this.choices)==null||e.destroy()}}const KY=Object.freeze(Object.defineProperty({__proto__:null,default:YY},Symbol.toStringTag,{value:"Module"}));class ZY extends vn{connect(){const e=this.data.get("url"),t=this.data.get("method")||"get",r=this.data.get("interval")||1e3;setInterval(()=>{axios({method:t,url:e}).then(i=>{this.element.innerHTML=i.data})},r)}}const XY=Object.freeze(Object.defineProperty({__proto__:null,default:ZY},Symbol.toStringTag,{value:"Module"}));class RO extends vn{get getResultElement(){return document.getElementById("search-result")}query(e){const t=this.getResultElement,r=this.queryTarget.value;if(e.target.value===""){t.classList.remove("show");return}e.keyCode===13&&Ld(this.prefix(`/search/${encodeURIComponent(this.queryTarget.value)}`)),this.showResultQuery(r)}blur(){const e=this.getResultElement;setTimeout(()=>{e.classList.remove("show")},140)}focus(e){e.target.value!==""&&this.showResultQuery(e.target.value)}showResultQuery(e){const t=this.getResultElement;setTimeout(()=>{e===this.queryTarget.value&&axios.post(this.prefix(`/search/${encodeURIComponent(e)}/compact`)).then(r=>{t.classList.add("show"),t.innerHTML=r.data})},200)}}$e(RO,"targets",["query"]);const JY=Object.freeze(Object.defineProperty({__proto__:null,default:RO},Symbol.toStringTag,{value:"Module"}));class QY extends vn{connect(){if(document.documentElement.hasAttribute("data-turbo-preview"))return;const e=this.element.querySelector("select"),t=["change_listener"];e.hasAttribute("multiple")&&(t.push("remove_button"),t.push("clear_button")),this.choices=new vi(e,{create:this.data.get("allow-add")==="true",allowEmptyOption:!0,maxOptions:"null",placeholder:e.getAttribute("placeholder")==="false"?"":e.getAttribute("placeholder"),preload:!0,plugins:t,maxItems:e.getAttribute("maximumSelectionLength")||(e.hasAttribute("multiple")?null:1),render:{option_create:(r,i)=>`<div class="create">${this.data.get("message-add")} <strong>${i(r.input)}</strong>&hellip;</div>`,no_results:()=>`<div class="no-results">${this.data.get("message-notfound")}</div>`},onDelete:()=>!!this.data.get("allow-empty"),onItemAdd:function(){this.setTextboxValue(""),this.refreshOptions(!1)}})}disconnect(){var e;(e=this.choices)==null||e.destroy()}}const eK=Object.freeze(Object.defineProperty({__proto__:null,default:QY},Symbol.toStringTag,{value:"Module"}));function jp(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FO={exports:{}};/**
 * simplemde v1.11.2
 * Copyright Next Step Webs, Inc.
 * @link https://github.com/NextStepWebs/simplemde-markdown-editor
 * @license MIT
 */(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function l(d,f){if(!i[d]){if(!r[d]){var g=typeof jp=="function"&&jp;if(!f&&g)return g(d,!0);if(h)return h(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var E=i[d]={exports:{}};r[d][0].call(E.exports,function(_){var w=r[d][1][_];return l(w||_)},E,E.exports,t,r,i,s)}return i[d].exports}for(var h=typeof jp=="function"&&jp,c=0;c<s.length;c++)l(s[c]);return l}({1:[function(t,r,i){function s(){for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,w=E.length;w>_;++_)f[_]=E[_],g[E.charCodeAt(_)]=_;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63}function l(E){var _,w,C,M,b,k,A=E.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");b=E[A-2]==="="?2:E[A-1]==="="?1:0,k=new y(3*A/4-b),C=b>0?A-4:A;var N=0;for(_=0,w=0;C>_;_+=4,w+=3)M=g[E.charCodeAt(_)]<<18|g[E.charCodeAt(_+1)]<<12|g[E.charCodeAt(_+2)]<<6|g[E.charCodeAt(_+3)],k[N++]=M>>16&255,k[N++]=M>>8&255,k[N++]=255&M;return b===2?(M=g[E.charCodeAt(_)]<<2|g[E.charCodeAt(_+1)]>>4,k[N++]=255&M):b===1&&(M=g[E.charCodeAt(_)]<<10|g[E.charCodeAt(_+1)]<<4|g[E.charCodeAt(_+2)]>>2,k[N++]=M>>8&255,k[N++]=255&M),k}function h(E){return f[E>>18&63]+f[E>>12&63]+f[E>>6&63]+f[63&E]}function c(E,_,w){for(var C,M=[],b=_;w>b;b+=3)C=(E[b]<<16)+(E[b+1]<<8)+E[b+2],M.push(h(C));return M.join("")}function d(E){for(var _,w=E.length,C=w%3,M="",b=[],k=16383,A=0,N=w-C;N>A;A+=k)b.push(c(E,A,A+k>N?N:A+k));return C===1?(_=E[w-1],M+=f[_>>2],M+=f[_<<4&63],M+="=="):C===2&&(_=(E[w-2]<<8)+E[w-1],M+=f[_>>10],M+=f[_>>4&63],M+=f[_<<2&63],M+="="),b.push(M),b.join("")}i.toByteArray=l,i.fromByteArray=d;var f=[],g=[],y=typeof Uint8Array<"u"?Uint8Array:Array;s()},{}],2:[function(t,r,i){},{}],3:[function(t,r,i){(function(s){function l(){try{var O=new Uint8Array(1);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"&&O.subarray(1,1).byteLength===0}catch{return!1}}function h(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(O,F){if(h()<F)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(O=new Uint8Array(F),O.__proto__=d.prototype):(O===null&&(O=new d(F)),O.length=F),O}function d(O,F,z){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(O,F,z);if(typeof O=="number"){if(typeof F=="string")throw new Error("If encoding is specified then the first argument must be a string");return E(this,O)}return f(this,O,F,z)}function f(O,F,z,re){if(typeof F=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&F instanceof ArrayBuffer?C(O,F,z,re):typeof F=="string"?_(O,F,z):M(O,F)}function g(O){if(typeof O!="number")throw new TypeError('"size" argument must be a number')}function y(O,F,z,re){return g(F),0>=F?c(O,F):z!==void 0?typeof re=="string"?c(O,F).fill(z,re):c(O,F).fill(z):c(O,F)}function E(O,F){if(g(F),O=c(O,0>F?0:0|b(F)),!d.TYPED_ARRAY_SUPPORT)for(var z=0;F>z;z++)O[z]=0;return O}function _(O,F,z){if(typeof z=="string"&&z!==""||(z="utf8"),!d.isEncoding(z))throw new TypeError('"encoding" must be a valid string encoding');var re=0|A(F,z);return O=c(O,re),O.write(F,z),O}function w(O,F){var z=0|b(F.length);O=c(O,z);for(var re=0;z>re;re+=1)O[re]=255&F[re];return O}function C(O,F,z,re){if(F.byteLength,0>z||F.byteLength<z)throw new RangeError("'offset' is out of bounds");if(F.byteLength<z+(re||0))throw new RangeError("'length' is out of bounds");return F=re===void 0?new Uint8Array(F,z):new Uint8Array(F,z,re),d.TYPED_ARRAY_SUPPORT?(O=F,O.__proto__=d.prototype):O=w(O,F),O}function M(O,F){if(d.isBuffer(F)){var z=0|b(F.length);return O=c(O,z),O.length===0||F.copy(O,0,0,z),O}if(F){if(typeof ArrayBuffer<"u"&&F.buffer instanceof ArrayBuffer||"length"in F)return typeof F.length!="number"||Ae(F.length)?c(O,0):w(O,F);if(F.type==="Buffer"&&ne(F.data))return w(O,F.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(O){if(O>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|O}function k(O){return+O!=O&&(O=0),d.alloc(+O)}function A(O,F){if(d.isBuffer(O))return O.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(O)||O instanceof ArrayBuffer))return O.byteLength;typeof O!="string"&&(O=""+O);var z=O.length;if(z===0)return 0;for(var re=!1;;)switch(F){case"ascii":case"binary":case"raw":case"raws":return z;case"utf8":case"utf-8":case void 0:return ce(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return pe(O).length;default:if(re)return ce(O).length;F=(""+F).toLowerCase(),re=!0}}function N(O,F,z){var re=!1;if((F===void 0||0>F)&&(F=0),F>this.length||((z===void 0||z>this.length)&&(z=this.length),0>=z)||(z>>>=0,F>>>=0,F>=z))return"";for(O||(O="utf8");;)switch(O){case"hex":return be(this,F,z);case"utf8":case"utf-8":return fe(this,F,z);case"ascii":return ie(this,F,z);case"binary":return te(this,F,z);case"base64":return ee(this,F,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,F,z);default:if(re)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),re=!0}}function T(O,F,z){var re=O[F];O[F]=O[z],O[z]=re}function P(O,F,z,re){function _e(ct,Vt){return Le===1?ct[Vt]:ct.readUInt16BE(Vt*Le)}var Le=1,Me=O.length,He=F.length;if(re!==void 0&&(re=String(re).toLowerCase(),re==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(O.length<2||F.length<2)return-1;Le=2,Me/=2,He/=2,z/=2}for(var Ze=-1,mt=0;Me>z+mt;mt++)if(_e(O,z+mt)===_e(F,Ze===-1?0:mt-Ze)){if(Ze===-1&&(Ze=mt),mt-Ze+1===He)return(z+Ze)*Le}else Ze!==-1&&(mt-=mt-Ze),Ze=-1;return-1}function R(O,F,z,re){z=Number(z)||0;var _e=O.length-z;re?(re=Number(re),re>_e&&(re=_e)):re=_e;var Le=F.length;if(Le%2!==0)throw new Error("Invalid hex string");re>Le/2&&(re=Le/2);for(var Me=0;re>Me;Me++){var He=parseInt(F.substr(2*Me,2),16);if(isNaN(He))return Me;O[z+Me]=He}return Me}function B(O,F,z,re){return ye(ce(F,O.length-z),O,z,re)}function D(O,F,z,re){return ye(q(F),O,z,re)}function H(O,F,z,re){return D(O,F,z,re)}function $(O,F,z,re){return ye(pe(F),O,z,re)}function V(O,F,z,re){return ye(J(F,O.length-z),O,z,re)}function ee(O,F,z){return F===0&&z===O.length?Te.fromByteArray(O):Te.fromByteArray(O.slice(F,z))}function fe(O,F,z){z=Math.min(O.length,z);for(var re=[],_e=F;z>_e;){var Le=O[_e],Me=null,He=Le>239?4:Le>223?3:Le>191?2:1;if(z>=_e+He){var Ze,mt,ct,Vt;switch(He){case 1:128>Le&&(Me=Le);break;case 2:Ze=O[_e+1],(192&Ze)===128&&(Vt=(31&Le)<<6|63&Ze,Vt>127&&(Me=Vt));break;case 3:Ze=O[_e+1],mt=O[_e+2],(192&Ze)===128&&(192&mt)===128&&(Vt=(15&Le)<<12|(63&Ze)<<6|63&mt,Vt>2047&&(55296>Vt||Vt>57343)&&(Me=Vt));break;case 4:Ze=O[_e+1],mt=O[_e+2],ct=O[_e+3],(192&Ze)===128&&(192&mt)===128&&(192&ct)===128&&(Vt=(15&Le)<<18|(63&Ze)<<12|(63&mt)<<6|63&ct,Vt>65535&&1114112>Vt&&(Me=Vt))}}Me===null?(Me=65533,He=1):Me>65535&&(Me-=65536,re.push(Me>>>10&1023|55296),Me=56320|1023&Me),re.push(Me),_e+=He}return me(re)}function me(O){var F=O.length;if(le>=F)return String.fromCharCode.apply(String,O);for(var z="",re=0;F>re;)z+=String.fromCharCode.apply(String,O.slice(re,re+=le));return z}function ie(O,F,z){var re="";z=Math.min(O.length,z);for(var _e=F;z>_e;_e++)re+=String.fromCharCode(127&O[_e]);return re}function te(O,F,z){var re="";z=Math.min(O.length,z);for(var _e=F;z>_e;_e++)re+=String.fromCharCode(O[_e]);return re}function be(O,F,z){var re=O.length;(!F||0>F)&&(F=0),(!z||0>z||z>re)&&(z=re);for(var _e="",Le=F;z>Le;Le++)_e+=ae(O[Le]);return _e}function Y(O,F,z){for(var re=O.slice(F,z),_e="",Le=0;Le<re.length;Le+=2)_e+=String.fromCharCode(re[Le]+256*re[Le+1]);return _e}function ue(O,F,z){if(O%1!==0||0>O)throw new RangeError("offset is not uint");if(O+F>z)throw new RangeError("Trying to access beyond buffer length")}function ke(O,F,z,re,_e,Le){if(!d.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>_e||Le>F)throw new RangeError('"value" argument is out of bounds');if(z+re>O.length)throw new RangeError("Index out of range")}function xe(O,F,z,re){0>F&&(F=65535+F+1);for(var _e=0,Le=Math.min(O.length-z,2);Le>_e;_e++)O[z+_e]=(F&255<<8*(re?_e:1-_e))>>>8*(re?_e:1-_e)}function X(O,F,z,re){0>F&&(F=4294967295+F+1);for(var _e=0,Le=Math.min(O.length-z,4);Le>_e;_e++)O[z+_e]=F>>>8*(re?_e:3-_e)&255}function K(O,F,z,re,_e,Le){if(z+re>O.length)throw new RangeError("Index out of range");if(0>z)throw new RangeError("Index out of range")}function Oe(O,F,z,re,_e){return _e||K(O,F,z,4),De.write(O,F,z,re,23,4),z+4}function Fe(O,F,z,re,_e){return _e||K(O,F,z,8),De.write(O,F,z,re,52,8),z+8}function Q(O){if(O=oe(O).replace(he,""),O.length<2)return"";for(;O.length%4!==0;)O+="=";return O}function oe(O){return O.trim?O.trim():O.replace(/^\s+|\s+$/g,"")}function ae(O){return 16>O?"0"+O.toString(16):O.toString(16)}function ce(O,F){F=F||1/0;for(var z,re=O.length,_e=null,Le=[],Me=0;re>Me;Me++){if(z=O.charCodeAt(Me),z>55295&&57344>z){if(!_e){if(z>56319){(F-=3)>-1&&Le.push(239,191,189);continue}if(Me+1===re){(F-=3)>-1&&Le.push(239,191,189);continue}_e=z;continue}if(56320>z){(F-=3)>-1&&Le.push(239,191,189),_e=z;continue}z=(_e-55296<<10|z-56320)+65536}else _e&&(F-=3)>-1&&Le.push(239,191,189);if(_e=null,128>z){if((F-=1)<0)break;Le.push(z)}else if(2048>z){if((F-=2)<0)break;Le.push(z>>6|192,63&z|128)}else if(65536>z){if((F-=3)<0)break;Le.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(1114112>z))throw new Error("Invalid code point");if((F-=4)<0)break;Le.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return Le}function q(O){for(var F=[],z=0;z<O.length;z++)F.push(255&O.charCodeAt(z));return F}function J(O,F){for(var z,re,_e,Le=[],Me=0;Me<O.length&&!((F-=2)<0);Me++)z=O.charCodeAt(Me),re=z>>8,_e=z%256,Le.push(_e),Le.push(re);return Le}function pe(O){return Te.toByteArray(Q(O))}function ye(O,F,z,re){for(var _e=0;re>_e&&!(_e+z>=F.length||_e>=O.length);_e++)F[_e+z]=O[_e];return _e}function Ae(O){return O!==O}var Te=t("base64-js"),De=t("ieee754"),ne=t("isarray");i.Buffer=d,i.SlowBuffer=k,i.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:l(),i.kMaxLength=h(),d.poolSize=8192,d._augment=function(O){return O.__proto__=d.prototype,O},d.from=function(O,F,z){return f(null,O,F,z)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(O,F,z){return y(null,O,F,z)},d.allocUnsafe=function(O){return E(null,O)},d.allocUnsafeSlow=function(O){return E(null,O)},d.isBuffer=function(O){return!(O==null||!O._isBuffer)},d.compare=function(O,F){if(!d.isBuffer(O)||!d.isBuffer(F))throw new TypeError("Arguments must be Buffers");if(O===F)return 0;for(var z=O.length,re=F.length,_e=0,Le=Math.min(z,re);Le>_e;++_e)if(O[_e]!==F[_e]){z=O[_e],re=F[_e];break}return re>z?-1:z>re?1:0},d.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(O,F){if(!ne(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return d.alloc(0);var z;if(F===void 0)for(F=0,z=0;z<O.length;z++)F+=O[z].length;var re=d.allocUnsafe(F),_e=0;for(z=0;z<O.length;z++){var Le=O[z];if(!d.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(re,_e),_e+=Le.length}return re},d.byteLength=A,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;O>F;F+=2)T(this,F,F+1);return this},d.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;O>F;F+=4)T(this,F,F+3),T(this,F+1,F+2);return this},d.prototype.toString=function(){var O=0|this.length;return O===0?"":arguments.length===0?fe(this,0,O):N.apply(this,arguments)},d.prototype.equals=function(O){if(!d.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:d.compare(this,O)===0},d.prototype.inspect=function(){var O="",F=i.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,F).match(/.{2}/g).join(" "),this.length>F&&(O+=" ... ")),"<Buffer "+O+">"},d.prototype.compare=function(O,F,z,re,_e){if(!d.isBuffer(O))throw new TypeError("Argument must be a Buffer");if(F===void 0&&(F=0),z===void 0&&(z=O?O.length:0),re===void 0&&(re=0),_e===void 0&&(_e=this.length),0>F||z>O.length||0>re||_e>this.length)throw new RangeError("out of range index");if(re>=_e&&F>=z)return 0;if(re>=_e)return-1;if(F>=z)return 1;if(F>>>=0,z>>>=0,re>>>=0,_e>>>=0,this===O)return 0;for(var Le=_e-re,Me=z-F,He=Math.min(Le,Me),Ze=this.slice(re,_e),mt=O.slice(F,z),ct=0;He>ct;++ct)if(Ze[ct]!==mt[ct]){Le=Ze[ct],Me=mt[ct];break}return Me>Le?-1:Le>Me?1:0},d.prototype.indexOf=function(O,F,z){if(typeof F=="string"?(z=F,F=0):F>2147483647?F=2147483647:-2147483648>F&&(F=-2147483648),F>>=0,this.length===0||F>=this.length)return-1;if(0>F&&(F=Math.max(this.length+F,0)),typeof O=="string"&&(O=d.from(O,z)),d.isBuffer(O))return O.length===0?-1:P(this,O,F,z);if(typeof O=="number")return d.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,O,F):P(this,[O],F,z);throw new TypeError("val must be string, number or Buffer")},d.prototype.includes=function(O,F,z){return this.indexOf(O,F,z)!==-1},d.prototype.write=function(O,F,z,re){if(F===void 0)re="utf8",z=this.length,F=0;else if(z===void 0&&typeof F=="string")re=F,z=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F=0|F,isFinite(z)?(z=0|z,re===void 0&&(re="utf8")):(re=z,z=void 0)}var _e=this.length-F;if((z===void 0||z>_e)&&(z=_e),O.length>0&&(0>z||0>F)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var Le=!1;;)switch(re){case"hex":return R(this,O,F,z);case"utf8":case"utf-8":return B(this,O,F,z);case"ascii":return D(this,O,F,z);case"binary":return H(this,O,F,z);case"base64":return $(this,O,F,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,O,F,z);default:if(Le)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),Le=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var le=4096;d.prototype.slice=function(O,F){var z=this.length;O=~~O,F=F===void 0?z:~~F,0>O?(O+=z,0>O&&(O=0)):O>z&&(O=z),0>F?(F+=z,0>F&&(F=0)):F>z&&(F=z),O>F&&(F=O);var re;if(d.TYPED_ARRAY_SUPPORT)re=this.subarray(O,F),re.__proto__=d.prototype;else{var _e=F-O;re=new d(_e,void 0);for(var Le=0;_e>Le;Le++)re[Le]=this[Le+O]}return re},d.prototype.readUIntLE=function(O,F,z){O=0|O,F=0|F,z||ue(O,F,this.length);for(var re=this[O],_e=1,Le=0;++Le<F&&(_e*=256);)re+=this[O+Le]*_e;return re},d.prototype.readUIntBE=function(O,F,z){O=0|O,F=0|F,z||ue(O,F,this.length);for(var re=this[O+--F],_e=1;F>0&&(_e*=256);)re+=this[O+--F]*_e;return re},d.prototype.readUInt8=function(O,F){return F||ue(O,1,this.length),this[O]},d.prototype.readUInt16LE=function(O,F){return F||ue(O,2,this.length),this[O]|this[O+1]<<8},d.prototype.readUInt16BE=function(O,F){return F||ue(O,2,this.length),this[O]<<8|this[O+1]},d.prototype.readUInt32LE=function(O,F){return F||ue(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},d.prototype.readUInt32BE=function(O,F){return F||ue(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},d.prototype.readIntLE=function(O,F,z){O=0|O,F=0|F,z||ue(O,F,this.length);for(var re=this[O],_e=1,Le=0;++Le<F&&(_e*=256);)re+=this[O+Le]*_e;return _e*=128,re>=_e&&(re-=Math.pow(2,8*F)),re},d.prototype.readIntBE=function(O,F,z){O=0|O,F=0|F,z||ue(O,F,this.length);for(var re=F,_e=1,Le=this[O+--re];re>0&&(_e*=256);)Le+=this[O+--re]*_e;return _e*=128,Le>=_e&&(Le-=Math.pow(2,8*F)),Le},d.prototype.readInt8=function(O,F){return F||ue(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},d.prototype.readInt16LE=function(O,F){F||ue(O,2,this.length);var z=this[O]|this[O+1]<<8;return 32768&z?4294901760|z:z},d.prototype.readInt16BE=function(O,F){F||ue(O,2,this.length);var z=this[O+1]|this[O]<<8;return 32768&z?4294901760|z:z},d.prototype.readInt32LE=function(O,F){return F||ue(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},d.prototype.readInt32BE=function(O,F){return F||ue(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},d.prototype.readFloatLE=function(O,F){return F||ue(O,4,this.length),De.read(this,O,!0,23,4)},d.prototype.readFloatBE=function(O,F){return F||ue(O,4,this.length),De.read(this,O,!1,23,4)},d.prototype.readDoubleLE=function(O,F){return F||ue(O,8,this.length),De.read(this,O,!0,52,8)},d.prototype.readDoubleBE=function(O,F){return F||ue(O,8,this.length),De.read(this,O,!1,52,8)},d.prototype.writeUIntLE=function(O,F,z,re){if(O=+O,F=0|F,z=0|z,!re){var _e=Math.pow(2,8*z)-1;ke(this,O,F,z,_e,0)}var Le=1,Me=0;for(this[F]=255&O;++Me<z&&(Le*=256);)this[F+Me]=O/Le&255;return F+z},d.prototype.writeUIntBE=function(O,F,z,re){if(O=+O,F=0|F,z=0|z,!re){var _e=Math.pow(2,8*z)-1;ke(this,O,F,z,_e,0)}var Le=z-1,Me=1;for(this[F+Le]=255&O;--Le>=0&&(Me*=256);)this[F+Le]=O/Me&255;return F+z},d.prototype.writeUInt8=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,1,255,0),d.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),this[F]=255&O,F+1},d.prototype.writeUInt16LE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[F]=255&O,this[F+1]=O>>>8):xe(this,O,F,!0),F+2},d.prototype.writeUInt16BE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[F]=O>>>8,this[F+1]=255&O):xe(this,O,F,!1),F+2},d.prototype.writeUInt32LE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[F+3]=O>>>24,this[F+2]=O>>>16,this[F+1]=O>>>8,this[F]=255&O):X(this,O,F,!0),F+4},d.prototype.writeUInt32BE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[F]=O>>>24,this[F+1]=O>>>16,this[F+2]=O>>>8,this[F+3]=255&O):X(this,O,F,!1),F+4},d.prototype.writeIntLE=function(O,F,z,re){if(O=+O,F=0|F,!re){var _e=Math.pow(2,8*z-1);ke(this,O,F,z,_e-1,-_e)}var Le=0,Me=1,He=0;for(this[F]=255&O;++Le<z&&(Me*=256);)0>O&&He===0&&this[F+Le-1]!==0&&(He=1),this[F+Le]=(O/Me>>0)-He&255;return F+z},d.prototype.writeIntBE=function(O,F,z,re){if(O=+O,F=0|F,!re){var _e=Math.pow(2,8*z-1);ke(this,O,F,z,_e-1,-_e)}var Le=z-1,Me=1,He=0;for(this[F+Le]=255&O;--Le>=0&&(Me*=256);)0>O&&He===0&&this[F+Le+1]!==0&&(He=1),this[F+Le]=(O/Me>>0)-He&255;return F+z},d.prototype.writeInt8=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,1,127,-128),d.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),0>O&&(O=255+O+1),this[F]=255&O,F+1},d.prototype.writeInt16LE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[F]=255&O,this[F+1]=O>>>8):xe(this,O,F,!0),F+2},d.prototype.writeInt16BE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[F]=O>>>8,this[F+1]=255&O):xe(this,O,F,!1),F+2},d.prototype.writeInt32LE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[F]=255&O,this[F+1]=O>>>8,this[F+2]=O>>>16,this[F+3]=O>>>24):X(this,O,F,!0),F+4},d.prototype.writeInt32BE=function(O,F,z){return O=+O,F=0|F,z||ke(this,O,F,4,2147483647,-2147483648),0>O&&(O=4294967295+O+1),d.TYPED_ARRAY_SUPPORT?(this[F]=O>>>24,this[F+1]=O>>>16,this[F+2]=O>>>8,this[F+3]=255&O):X(this,O,F,!1),F+4},d.prototype.writeFloatLE=function(O,F,z){return Oe(this,O,F,!0,z)},d.prototype.writeFloatBE=function(O,F,z){return Oe(this,O,F,!1,z)},d.prototype.writeDoubleLE=function(O,F,z){return Fe(this,O,F,!0,z)},d.prototype.writeDoubleBE=function(O,F,z){return Fe(this,O,F,!1,z)},d.prototype.copy=function(O,F,z,re){if(z||(z=0),re||re===0||(re=this.length),F>=O.length&&(F=O.length),F||(F=0),re>0&&z>re&&(re=z),re===z||O.length===0||this.length===0)return 0;if(0>F)throw new RangeError("targetStart out of bounds");if(0>z||z>=this.length)throw new RangeError("sourceStart out of bounds");if(0>re)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),O.length-F<re-z&&(re=O.length-F+z);var _e,Le=re-z;if(this===O&&F>z&&re>F)for(_e=Le-1;_e>=0;_e--)O[_e+F]=this[_e+z];else if(1e3>Le||!d.TYPED_ARRAY_SUPPORT)for(_e=0;Le>_e;_e++)O[_e+F]=this[_e+z];else Uint8Array.prototype.set.call(O,this.subarray(z,z+Le),F);return Le},d.prototype.fill=function(O,F,z,re){if(typeof O=="string"){if(typeof F=="string"?(re=F,F=0,z=this.length):typeof z=="string"&&(re=z,z=this.length),O.length===1){var _e=O.charCodeAt(0);256>_e&&(O=_e)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!d.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof O=="number"&&(O=255&O);if(0>F||this.length<F||this.length<z)throw new RangeError("Out of range index");if(F>=z)return this;F>>>=0,z=z===void 0?this.length:z>>>0,O||(O=0);var Le;if(typeof O=="number")for(Le=F;z>Le;Le++)this[Le]=O;else{var Me=d.isBuffer(O)?O:ce(new d(O,re).toString()),He=Me.length;for(Le=0;z-F>Le;Le++)this[Le+F]=Me[Le%He]}return this};var he=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof Kr<"u"?Kr:typeof self<"u"?self:typeof window<"u"?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(t,r,i){function s(h){return h=h||{},typeof h.codeMirrorInstance!="function"||typeof h.codeMirrorInstance.defineMode!="function"?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),void h.codeMirrorInstance.defineMode("spell-checker",function(c){if(!s.aff_loading){s.aff_loading=!0;var d=new XMLHttpRequest;d.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),d.onload=function(){d.readyState===4&&d.status===200&&(s.aff_data=d.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},d.send(null)}if(!s.dic_loading){s.dic_loading=!0;var f=new XMLHttpRequest;f.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),f.onload=function(){f.readyState===4&&f.status===200&&(s.dic_data=f.responseText,s.num_loaded++,s.num_loaded==2&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},f.send(null)}var g='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',y={token:function(_){var w=_.peek(),C="";if(g.includes(w))return _.next(),null;for(;(w=_.peek())!=null&&!g.includes(w);)C+=w,_.next();return s.typo&&!s.typo.check(C)?"spell-error":null}},E=h.codeMirrorInstance.getMode(c,c.backdrop||"text/plain");return h.codeMirrorInstance.overlayMode(E,y,!0)}))}var l=t("typo-js");s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data="",s.dic_data="",s.typo,r.exports=s},{"typo-js":18}],5:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){function l(c){var d=c.getWrapperElement();c.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:d.style.width,height:d.style.height},d.style.width="",d.style.height="auto",d.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",c.refresh()}function h(c){var d=c.getWrapperElement();d.className=d.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var f=c.state.fullScreenRestore;d.style.width=f.width,d.style.height=f.height,window.scrollTo(f.scrollLeft,f.scrollTop),c.refresh()}s.defineOption("fullScreen",!1,function(c,d,f){f==s.Init&&(f=!1),!f!=!d&&(d?l(c):h(c))})})},{"../../lib/codemirror":10}],6:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){function l(g){g.state.placeholder&&(g.state.placeholder.parentNode.removeChild(g.state.placeholder),g.state.placeholder=null)}function h(g){l(g);var y=g.state.placeholder=document.createElement("pre");y.style.cssText="height: 0; overflow: visible",y.className="CodeMirror-placeholder";var E=g.getOption("placeholder");typeof E=="string"&&(E=document.createTextNode(E)),y.appendChild(E),g.display.lineSpace.insertBefore(y,g.display.lineSpace.firstChild)}function c(g){f(g)&&h(g)}function d(g){var y=g.getWrapperElement(),E=f(g);y.className=y.className.replace(" CodeMirror-empty","")+(E?" CodeMirror-empty":""),E?h(g):l(g)}function f(g){return g.lineCount()===1&&g.getLine(0)===""}s.defineOption("placeholder","",function(g,y,E){var _=E&&E!=s.Init;if(y&&!_)g.on("blur",c),g.on("change",d),g.on("swapDoc",d),d(g);else if(!y&&_){g.off("blur",c),g.off("change",d),g.off("swapDoc",d),l(g);var w=g.getWrapperElement();w.className=w.className.replace(" CodeMirror-empty","")}y&&!g.hasFocus()&&c(g)})})},{"../../lib/codemirror":10}],7:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){var l=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,h=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,c=/[*+-]\s/;s.commands.newlineAndIndentContinueMarkdownList=function(d){if(d.getOption("disableInput"))return s.Pass;for(var f=d.listSelections(),g=[],y=0;y<f.length;y++){var E=f[y].head,_=d.getStateAfter(E.line),w=_.list!==!1,C=_.quote!==0,M=d.getLine(E.line),b=l.exec(M);if(!f[y].empty()||!w&&!C||!b)return void d.execCommand("newlineAndIndent");if(h.test(M))d.replaceRange("",{line:E.line,ch:0},{line:E.line,ch:E.ch+1}),g[y]=`
`;else{var k=b[1],A=b[5],N=c.test(b[2])||b[2].indexOf(">")>=0?b[2]:parseInt(b[3],10)+1+b[4];g[y]=`
`+k+N+A}}d.replaceSelections(g)}})},{"../../lib/codemirror":10}],8:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){s.overlayMode=function(l,h,c){return{startState:function(){return{base:s.startState(l),overlay:s.startState(h),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(d){return{base:s.copyState(l,d.base),overlay:s.copyState(h,d.overlay),basePos:d.basePos,baseCur:null,overlayPos:d.overlayPos,overlayCur:null}},token:function(d,f){return(d!=f.streamSeen||Math.min(f.basePos,f.overlayPos)<d.start)&&(f.streamSeen=d,f.basePos=f.overlayPos=d.start),d.start==f.basePos&&(f.baseCur=l.token(d,f.base),f.basePos=d.pos),d.start==f.overlayPos&&(d.pos=d.start,f.overlayCur=h.token(d,f.overlay),f.overlayPos=d.pos),d.pos=Math.min(f.basePos,f.overlayPos),f.overlayCur==null?f.baseCur:f.baseCur!=null&&f.overlay.combineTokens||c&&f.overlay.combineTokens==null?f.baseCur+" "+f.overlayCur:f.overlayCur},indent:l.indent&&function(d,f){return l.indent(d.base,f)},electricChars:l.electricChars,innerMode:function(d){return{state:d.base,mode:l}},blankLine:function(d){l.blankLine&&l.blankLine(d.base),h.blankLine&&h.blankLine(d.overlay)}}}})},{"../../lib/codemirror":10}],9:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){function l(w){w.operation(function(){g(w)})}function h(w){w.state.markedSelection.length&&w.operation(function(){d(w)})}function c(w,C,M,b){if(_(C,M)!=0)for(var k=w.state.markedSelection,A=w.state.markedSelectionStyle,N=C.line;;){var T=N==C.line?C:E(N,0),P=N+y,R=P>=M.line,B=R?M:E(P,0),D=w.markText(T,B,{className:A});if(b==null?k.push(D):k.splice(b++,0,D),R)break;N=P}}function d(w){for(var C=w.state.markedSelection,M=0;M<C.length;++M)C[M].clear();C.length=0}function f(w){d(w);for(var C=w.listSelections(),M=0;M<C.length;M++)c(w,C[M].from(),C[M].to())}function g(w){if(!w.somethingSelected())return d(w);if(w.listSelections().length>1)return f(w);var C=w.getCursor("start"),M=w.getCursor("end"),b=w.state.markedSelection;if(!b.length)return c(w,C,M);var k=b[0].find(),A=b[b.length-1].find();if(!k||!A||M.line-C.line<y||_(C,A.to)>=0||_(M,k.from)<=0)return f(w);for(;_(C,k.from)>0;)b.shift().clear(),k=b[0].find();for(_(C,k.from)<0&&(k.to.line-C.line<y?(b.shift().clear(),c(w,C,k.to,0)):c(w,C,k.from,0));_(M,A.to)<0;)b.pop().clear(),A=b[b.length-1].find();_(M,A.to)>0&&(M.line-A.from.line<y?(b.pop().clear(),c(w,A.from,M)):c(w,A.to,M))}s.defineOption("styleSelectedText",!1,function(w,C,M){var b=M&&M!=s.Init;C&&!b?(w.state.markedSelection=[],w.state.markedSelectionStyle=typeof C=="string"?C:"CodeMirror-selectedtext",f(w),w.on("cursorActivity",l),w.on("change",h)):!C&&b&&(w.off("cursorActivity",l),w.off("change",h),d(w),w.state.markedSelection=w.state.markedSelectionStyle=null)});var y=8,E=s.Pos,_=s.cmpPos})},{"../../lib/codemirror":10}],10:[function(t,r,i){(function(s){typeof i=="object"&&typeof r=="object"?r.exports=s():(this||window).CodeMirror=s()})(function(){function s(o,u){if(!(this instanceof s))return new s(o,u);this.options=u=u?Fo(u):{},Fo(sL,u,!1),b(u);var m=u.value;typeof m=="string"&&(m=new Pi(m,u.mode,null,u.lineSeparator)),this.doc=m;var v=new s.inputStyles[u.inputStyle](this),x=this.display=new l(o,m,v);x.wrapper.CodeMirror=this,_(this),y(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),u.autofocus&&!Ch&&x.input.focus(),T(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Gs,keySeq:null,specialChars:null};var I=this;_n&&11>Un&&setTimeout(function(){I.display.input.reset(!0)},20),Ui(this),WO(),Fn(this),this.curOp.forceUpdate=!0,xh(this,m),u.autofocus&&!Ch||I.hasFocus()?setTimeout(Ah(yc,this),20):$s(this);for(var U in Nc)Nc.hasOwnProperty(U)&&Nc[U](this,u[U],ow);H(this),u.finishInit&&u.finishInit(this);for(var Z=0;Z<pv.length;++Z)pv[Z](this);Yn(this),Wr&&u.lineWrapping&&getComputedStyle(x.lineDiv).textRendering=="optimizelegibility"&&(x.lineDiv.style.textRendering="auto")}function l(o,u,m){var v=this;this.input=m,v.scrollbarFiller=Pt("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=Pt("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=Pt("div",null,"CodeMirror-code"),v.selectionDiv=Pt("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=Pt("div",null,"CodeMirror-cursors"),v.measure=Pt("div",null,"CodeMirror-measure"),v.lineMeasure=Pt("div",null,"CodeMirror-measure"),v.lineSpace=Pt("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none"),v.mover=Pt("div",[Pt("div",[v.lineSpace],"CodeMirror-lines")],null,"position: relative"),v.sizer=Pt("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=Pt("div",null,null,"position: absolute; height: "+lw+"px; width: 1px;"),v.gutters=Pt("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=Pt("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=Pt("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),_n&&8>Un&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),Wr||Ta&&Ch||(v.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(v.wrapper):o(v.wrapper)),v.viewFrom=v.viewTo=u.first,v.reportedViewFrom=v.reportedViewTo=u.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,m.init(v)}function h(o){o.doc.mode=s.getMode(o.options,o.doc.modeOption),c(o)}function c(o){o.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),o.doc.frontier=o.doc.first,bn(o,100),o.state.modeGen++,o.curOp&&Zt(o)}function d(o){o.options.lineWrapping?(Rh(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(Dh(o.display.wrapper,"CodeMirror-wrap"),M(o)),g(o),Zt(o),Vn(o),setTimeout(function(){P(o)},100)}function f(o){var u=dn(o.display),m=o.options.lineWrapping,v=m&&Math.max(5,o.display.scroller.clientWidth/Hn(o.display)-3);return function(x){if(cs(o.doc,x))return 0;var I=0;if(x.widgets)for(var U=0;U<x.widgets.length;U++)x.widgets[U].height&&(I+=x.widgets[U].height);return m?I+(Math.ceil(x.text.length/v)||1)*u:I+u}}function g(o){var u=o.doc,m=f(o);u.iter(function(v){var x=m(v);x!=v.height&&fo(v,x)})}function y(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Vn(o)}function E(o){_(o),Zt(o),setTimeout(function(){D(o)},20)}function _(o){var u=o.display.gutters,m=o.options.gutters;xl(u);for(var v=0;v<m.length;++v){var x=m[v],I=u.appendChild(Pt("div",null,"CodeMirror-gutter "+x));x=="CodeMirror-linenumbers"&&(o.display.lineGutter=I,I.style.width=(o.display.lineNumWidth||1)+"px")}u.style.display=v?"":"none",w(o)}function w(o){var u=o.display.gutters.offsetWidth;o.display.sizer.style.marginLeft=u+"px"}function C(o){if(o.height==0)return 0;for(var u,m=o.text.length,v=o;u=qs(v);){var x=u.find(0,!0);v=x.from.line,m+=x.from.ch-x.to.ch}for(v=o;u=ls(v);){var x=u.find(0,!0);m-=v.text.length-x.from.ch,v=x.to.line,m+=v.text.length-x.to.ch}return m}function M(o){var u=o.display,m=o.doc;u.maxLine=Mt(m,m.first),u.maxLineLength=C(u.maxLine),u.maxLineChanged=!0,m.iter(function(v){var x=C(v);x>u.maxLineLength&&(u.maxLineLength=x,u.maxLine=v)})}function b(o){var u=wr(o.gutters,"CodeMirror-linenumbers");u==-1&&o.lineNumbers?o.gutters=o.gutters.concat(["CodeMirror-linenumbers"]):u>-1&&!o.lineNumbers&&(o.gutters=o.gutters.slice(0),o.gutters.splice(u,1))}function k(o){var u=o.display,m=u.gutters.offsetWidth,v=Math.round(o.doc.height+Jr(o.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:o.options.fixedGutter?m:0,docHeight:v,scrollHeight:v+Ee(o)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:m}}function A(o,u,m){this.cm=m;var v=this.vert=Pt("div",[Pt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=Pt("div",[Pt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o(v),o(x),Xt(v,"scroll",function(){v.clientHeight&&u(v.scrollTop,"vertical")}),Xt(x,"scroll",function(){x.clientWidth&&u(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,_n&&8>Un&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function N(){}function T(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&Dh(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new s.scrollbarModel[o.options.scrollbarStyle](function(u){o.display.wrapper.insertBefore(u,o.display.scrollbarFiller),Xt(u,"mousedown",function(){o.state.focused&&setTimeout(function(){o.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,m){m=="horizontal"?jn(o,u):Bn(o,u)},o),o.display.scrollbars.addClass&&Rh(o.display.wrapper,o.display.scrollbars.addClass)}function P(o,u){u||(u=k(o));var m=o.display.barWidth,v=o.display.barHeight;R(o,u);for(var x=0;4>x&&m!=o.display.barWidth||v!=o.display.barHeight;x++)m!=o.display.barWidth&&o.options.lineWrapping&&Y(o),R(o,k(o)),m=o.display.barWidth,v=o.display.barHeight}function R(o,u){var m=o.display,v=m.scrollbars.update(u);m.sizer.style.paddingRight=(m.barWidth=v.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=v.bottom)+"px",m.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=v.bottom+"px",m.scrollbarFiller.style.width=v.right+"px"):m.scrollbarFiller.style.display="",v.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=v.bottom+"px",m.gutterFiller.style.width=u.gutterWidth+"px"):m.gutterFiller.style.display=""}function B(o,u,m){var v=m&&m.top!=null?Math.max(0,m.top):o.scroller.scrollTop;v=Math.floor(v-Dn(o));var x=m&&m.bottom!=null?m.bottom:v+o.wrapper.clientHeight,I=ds(u,v),U=ds(u,x);if(m&&m.ensure){var Z=m.ensure.from.line,se=m.ensure.to.line;I>Z?(I=Z,U=ds(u,Do(Mt(u,Z))+o.wrapper.clientHeight)):Math.min(se,u.lastLine())>=U&&(I=ds(u,Do(Mt(u,se))-o.wrapper.clientHeight),U=se)}return{from:I,to:Math.max(U,I+1)}}function D(o){var u=o.display,m=u.view;if(u.alignWidgets||u.gutters.firstChild&&o.options.fixedGutter){for(var v=V(u)-u.scroller.scrollLeft+o.doc.scrollLeft,x=u.gutters.offsetWidth,I=v+"px",U=0;U<m.length;U++)if(!m[U].hidden){o.options.fixedGutter&&m[U].gutter&&(m[U].gutter.style.left=I);var Z=m[U].alignable;if(Z)for(var se=0;se<Z.length;se++)Z[se].style.left=I}o.options.fixedGutter&&(u.gutters.style.left=v+x+"px")}}function H(o){if(!o.options.lineNumbers)return!1;var u=o.doc,m=$(o.options,u.first+u.size-1),v=o.display;if(m.length!=v.lineNumChars){var x=v.measure.appendChild(Pt("div",[Pt("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),I=x.firstChild.offsetWidth,U=x.offsetWidth-I;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(I,v.lineGutter.offsetWidth-U)+1,v.lineNumWidth=v.lineNumInnerWidth+U,v.lineNumChars=v.lineNumInnerWidth?m.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",w(o),!0}return!1}function $(o,u){return String(o.lineNumberFormatter(u+o.firstLineNumber))}function V(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function ee(o,u,m){var v=o.display;this.viewport=u,this.visible=B(v,o.doc,u),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Ve(o),this.force=m,this.dims=ke(o),this.events=[]}function fe(o){var u=o.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Ee(o)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Ee(o)+"px",u.scrollbarsClipped=!0)}function me(o,u){var m=o.display,v=o.doc;if(u.editorIsHidden)return Qr(o),!1;if(!u.force&&u.visible.from>=m.viewFrom&&u.visible.to<=m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&Oo(o)==0)return!1;H(o)&&(Qr(o),u.dims=ke(o));var x=v.first+v.size,I=Math.max(u.visible.from-o.options.viewportMargin,v.first),U=Math.min(x,u.visible.to+o.options.viewportMargin);m.viewFrom<I&&I-m.viewFrom<20&&(I=Math.max(v.first,m.viewFrom)),m.viewTo>U&&m.viewTo-U<20&&(U=Math.min(x,m.viewTo)),ka&&(I=xa(o.doc,I),U=Bf(o.doc,U));var Z=I!=m.viewFrom||U!=m.viewTo||m.lastWrapHeight!=u.wrapperHeight||m.lastWrapWidth!=u.wrapperWidth;xr(o,I,U),m.viewOffset=Do(Mt(o.doc,m.viewFrom)),o.display.mover.style.top=m.viewOffset+"px";var se=Oo(o);if(!Z&&se==0&&!u.force&&m.renderedView==m.view&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo))return!1;var we=ps();return se>4&&(m.lineDiv.style.display="none"),xe(o,m.updateLineNumbers,u.dims),se>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,we&&ps()!=we&&we.offsetHeight&&we.focus(),xl(m.cursorDiv),xl(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,Z&&(m.lastWrapHeight=u.wrapperHeight,m.lastWrapWidth=u.wrapperWidth,bn(o,400)),m.updateLineNumbers=null,!0}function ie(o,u){for(var m=u.viewport,v=!0;(v&&o.options.lineWrapping&&u.oldDisplayWidth!=Ve(o)||(m&&m.top!=null&&(m={top:Math.min(o.doc.height+Jr(o.display)-Ye(o),m.top)}),u.visible=B(o.display,o.doc,m),!(u.visible.from>=o.display.viewFrom&&u.visible.to<=o.display.viewTo)))&&me(o,u);v=!1){Y(o);var x=k(o);En(o),P(o,x),be(o,x)}u.signal(o,"update",o),o.display.viewFrom==o.display.reportedViewFrom&&o.display.viewTo==o.display.reportedViewTo||(u.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function te(o,u){var m=new ee(o,u);if(me(o,m)){Y(o),ie(o,m);var v=k(o);En(o),P(o,v),be(o,v),m.finish()}}function be(o,u){o.display.sizer.style.minHeight=u.docHeight+"px",o.display.heightForcer.style.top=u.docHeight+"px",o.display.gutters.style.height=u.docHeight+o.display.barHeight+Ee(o)+"px"}function Y(o){for(var u=o.display,m=u.lineDiv.offsetTop,v=0;v<u.view.length;v++){var x,I=u.view[v];if(!I.hidden){if(_n&&8>Un){var U=I.node.offsetTop+I.node.offsetHeight;x=U-m,m=U}else{var Z=I.node.getBoundingClientRect();x=Z.bottom-Z.top}var se=I.line.height-x;if(2>x&&(x=dn(u)),(se>.001||-.001>se)&&(fo(I.line,x),ue(I.line),I.rest))for(var we=0;we<I.rest.length;we++)ue(I.rest[we])}}}function ue(o){if(o.widgets)for(var u=0;u<o.widgets.length;++u)o.widgets[u].height=o.widgets[u].node.parentNode.offsetHeight}function ke(o){for(var u=o.display,m={},v={},x=u.gutters.clientLeft,I=u.gutters.firstChild,U=0;I;I=I.nextSibling,++U)m[o.options.gutters[U]]=I.offsetLeft+I.clientLeft+x,v[o.options.gutters[U]]=I.clientWidth;return{fixedPos:V(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:m,gutterWidth:v,wrapperWidth:u.wrapper.clientWidth}}function xe(o,u,m){function v(Be){var lt=Be.nextSibling;return Wr&&jo&&o.display.currentWheelTarget==Be?Be.style.display="none":Be.parentNode.removeChild(Be),lt}for(var x=o.display,I=o.options.lineNumbers,U=x.lineDiv,Z=U.firstChild,se=x.view,we=x.viewFrom,Ie=0;Ie<se.length;Ie++){var Ce=se[Ie];if(!Ce.hidden)if(Ce.node&&Ce.node.parentNode==U){for(;Z!=Ce.node;)Z=v(Z);var je=I&&u!=null&&we>=u&&Ce.lineNumber;Ce.changes&&(wr(Ce.changes,"gutter")>-1&&(je=!1),X(o,Ce,we,m)),je&&(xl(Ce.lineNumber),Ce.lineNumber.appendChild(document.createTextNode($(o.options,we)))),Z=Ce.node.nextSibling}else{var We=q(o,Ce,we,m);U.insertBefore(We,Z)}we+=Ce.size}for(;Z;)Z=v(Z)}function X(o,u,m,v){for(var x=0;x<u.changes.length;x++){var I=u.changes[x];I=="text"?Q(o,u):I=="gutter"?ae(o,u,m,v):I=="class"?oe(u):I=="widget"&&ce(o,u,v)}u.changes=null}function K(o){return o.node==o.text&&(o.node=Pt("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),_n&&8>Un&&(o.node.style.zIndex=2)),o.node}function Oe(o){var u=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(u&&(u+=" CodeMirror-linebackground"),o.background)u?o.background.className=u:(o.background.parentNode.removeChild(o.background),o.background=null);else if(u){var m=K(o);o.background=m.insertBefore(Pt("div",null,u),m.firstChild)}}function Fe(o,u){var m=o.display.externalMeasured;return m&&m.line==u.line?(o.display.externalMeasured=null,u.measure=m.measure,m.built):zf(o,u)}function Q(o,u){var m=u.text.className,v=Fe(o,u);u.text==u.node&&(u.node=v.pre),u.text.parentNode.replaceChild(v.pre,u.text),u.text=v.pre,v.bgClass!=u.bgClass||v.textClass!=u.textClass?(u.bgClass=v.bgClass,u.textClass=v.textClass,oe(u)):m&&(u.text.className=m)}function oe(o){Oe(o),o.line.wrapClass?K(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var u=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=u||""}function ae(o,u,m,v){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var x=K(u);u.gutterBackground=Pt("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(o.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),x.insertBefore(u.gutterBackground,u.text)}var I=u.line.gutterMarkers;if(o.options.lineNumbers||I){var x=K(u),U=u.gutter=Pt("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(o.display.input.setUneditable(U),x.insertBefore(U,u.text),u.line.gutterClass&&(U.className+=" "+u.line.gutterClass),!o.options.lineNumbers||I&&I["CodeMirror-linenumbers"]||(u.lineNumber=U.appendChild(Pt("div",$(o.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),I)for(var Z=0;Z<o.options.gutters.length;++Z){var se=o.options.gutters[Z],we=I.hasOwnProperty(se)&&I[se];we&&U.appendChild(Pt("div",[we],"CodeMirror-gutter-elt","left: "+v.gutterLeft[se]+"px; width: "+v.gutterWidth[se]+"px"))}}}function ce(o,u,m){u.alignable&&(u.alignable=null);for(var v,x=u.node.firstChild;x;x=v){var v=x.nextSibling;x.className=="CodeMirror-linewidget"&&u.node.removeChild(x)}J(o,u,m)}function q(o,u,m,v){var x=Fe(o,u);return u.text=u.node=x.pre,x.bgClass&&(u.bgClass=x.bgClass),x.textClass&&(u.textClass=x.textClass),oe(u),ae(o,u,m,v),J(o,u,v),u.node}function J(o,u,m){if(pe(o,u.line,u,m,!0),u.rest)for(var v=0;v<u.rest.length;v++)pe(o,u.rest[v],u,m,!1)}function pe(o,u,m,v,x){if(u.widgets)for(var I=K(m),U=0,Z=u.widgets;U<Z.length;++U){var se=Z[U],we=Pt("div",[se.node],"CodeMirror-linewidget");se.handleMouseEvents||we.setAttribute("cm-ignore-events","true"),ye(se,we,m,v),o.display.input.setUneditable(we),x&&se.above?I.insertBefore(we,m.gutter||m.text):I.appendChild(we),ci(se,"redraw")}}function ye(o,u,m,v){if(o.noHScroll){(m.alignable||(m.alignable=[])).push(u);var x=v.wrapperWidth;u.style.left=v.fixedPos+"px",o.coverGutter||(x-=v.gutterTotalWidth,u.style.paddingLeft=v.gutterTotalWidth+"px"),u.style.width=x+"px"}o.coverGutter&&(u.style.zIndex=5,u.style.position="relative",o.noHScroll||(u.style.marginLeft=-v.gutterTotalWidth+"px"))}function Ae(o){return st(o.line,o.ch)}function Te(o,u){return Jt(o,u)<0?u:o}function De(o,u){return Jt(o,u)<0?o:u}function ne(o){o.state.focused||(o.display.input.focus(),yc(o))}function le(o,u,m,v,x){var I=o.doc;o.display.shift=!1,v||(v=I.sel);var U=o.state.pasteIncoming||x=="paste",Z=I.splitLines(u),se=null;if(U&&v.ranges.length>1)if(wi&&wi.text.join(`
`)==u){if(v.ranges.length%wi.text.length==0){se=[];for(var we=0;we<wi.text.length;we++)se.push(I.splitLines(wi.text[we]))}}else Z.length==v.ranges.length&&(se=wl(Z,function(lt){return[lt]}));for(var we=v.ranges.length-1;we>=0;we--){var Ie=v.ranges[we],Ce=Ie.from(),je=Ie.to();Ie.empty()&&(m&&m>0?Ce=st(Ce.line,Ce.ch-m):o.state.overwrite&&!U?je=st(je.line,Math.min(Mt(I,je.line).text.length,je.ch+Cn(Z).length)):wi&&wi.lineWise&&wi.text.join(`
`)==u&&(Ce=je=st(Ce.line,0)));var We=o.curOp.updateInput,Be={from:Ce,to:je,text:se?se[we%se.length]:Z,origin:x||(U?"paste":o.state.cutIncoming?"cut":"+input")};Hs(o.doc,Be),ci(o,"inputRead",o,Be)}u&&!U&&O(o,u),ya(o),o.curOp.updateInput=We,o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=!1}function he(o,u){var m=o.clipboardData&&o.clipboardData.getData("text/plain");return m?(o.preventDefault(),u.isReadOnly()||u.options.disableInput||tr(u,function(){le(u,m,0,null,"paste")}),!0):void 0}function O(o,u){if(o.options.electricChars&&o.options.smartIndent)for(var m=o.doc.sel,v=m.ranges.length-1;v>=0;v--){var x=m.ranges[v];if(!(x.head.ch>100||v&&m.ranges[v-1].head.line==x.head.line)){var I=o.getModeAt(x.head),U=!1;if(I.electricChars){for(var Z=0;Z<I.electricChars.length;Z++)if(u.indexOf(I.electricChars.charAt(Z))>-1){U=ba(o,x.head.line,"smart");break}}else I.electricInput&&I.electricInput.test(Mt(o.doc,x.head.line).text.slice(0,x.head.ch))&&(U=ba(o,x.head.line,"smart"));U&&ci(o,"electricInput",o,x.head.line)}}}function F(o){for(var u=[],m=[],v=0;v<o.doc.sel.ranges.length;v++){var x=o.doc.sel.ranges[v].head.line,I={anchor:st(x,0),head:st(x+1,0)};m.push(I),u.push(o.getRange(I.anchor,I.head))}return{text:u,ranges:m}}function z(o){o.setAttribute("autocorrect","off"),o.setAttribute("autocapitalize","off"),o.setAttribute("spellcheck","false")}function re(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Gs,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function _e(){var o=Pt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),u=Pt("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Wr?o.style.width="1000px":o.setAttribute("wrap","off"),Mc&&(o.style.border="1px solid black"),z(o),u}function Le(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Gs,this.gracePeriod=!1}function Me(o,u){var m=tn(o,u.line);if(!m||m.hidden)return null;var v=Mt(o.doc,u.line),x=nt(m,v,u.line),I=a(v),U="left";if(I){var Z=Xf(I,u.ch);U=Z%2?"right":"left"}var se=qn(x.map,u.ch,U);return se.offset=se.collapse=="right"?se.end:se.start,se}function He(o,u){return u&&(o.bad=!0),o}function Ze(o,u,m){var v;if(u==o.display.lineDiv){if(v=o.display.lineDiv.childNodes[m],!v)return He(o.clipPos(st(o.display.viewTo-1)),!0);u=null,m=0}else for(v=u;;v=v.parentNode){if(!v||v==o.display.lineDiv)return null;if(v.parentNode&&v.parentNode==o.display.lineDiv)break}for(var x=0;x<o.display.view.length;x++){var I=o.display.view[x];if(I.node==v)return mt(I,u,m)}}function mt(o,u,m){function v(lt,ft,Et){for(var Nt=-1;Nt<(Ie?Ie.length:0);Nt++)for(var Ot=0>Nt?we.map:Ie[Nt],Tn=0;Tn<Ot.length;Tn+=3){var At=Ot[Tn+2];if(At==lt||At==ft){var jt=Mn(0>Nt?o.line:o.rest[Nt]),Yt=Ot[Tn]+Et;return(0>Et||At!=lt)&&(Yt=Ot[Tn+(Et?1:0)]),st(jt,Yt)}}}var x=o.text.firstChild,I=!1;if(!u||!vv(x,u))return He(st(Mn(o.line),0),!0);if(u==x&&(I=!0,u=x.childNodes[m],m=0,!u)){var U=o.rest?Cn(o.rest):o.line;return He(st(Mn(U),U.text.length),I)}var Z=u.nodeType==3?u:null,se=u;for(Z||u.childNodes.length!=1||u.firstChild.nodeType!=3||(Z=u.firstChild,m&&(m=Z.nodeValue.length));se.parentNode!=x;)se=se.parentNode;var we=o.measure,Ie=we.maps,Ce=v(Z,se,m);if(Ce)return He(Ce,I);for(var je=se.nextSibling,We=Z?Z.nodeValue.length-m:0;je;je=je.nextSibling){if(Ce=v(je,je.firstChild,0))return He(st(Ce.line,Ce.ch-We),I);We+=je.textContent.length}for(var Be=se.previousSibling,We=m;Be;Be=Be.previousSibling){if(Ce=v(Be,Be.firstChild,-1))return He(st(Ce.line,Ce.ch+We),I);We+=je.textContent.length}}function ct(o,u,m,v,x){function I(Ie){return function(Ce){return Ce.id==Ie}}function U(Ie){if(Ie.nodeType==1){var Ce=Ie.getAttribute("cm-text");if(Ce!=null)return Ce==""&&(Ce=Ie.textContent.replace(/\u200b/g,"")),void(Z+=Ce);var je,We=Ie.getAttribute("cm-marker");if(We){var Be=o.findMarks(st(v,0),st(x+1,0),I(+We));return void(Be.length&&(je=Be[0].find())&&(Z+=hs(o.doc,je.from,je.to).join(we)))}if(Ie.getAttribute("contenteditable")=="false")return;for(var lt=0;lt<Ie.childNodes.length;lt++)U(Ie.childNodes[lt]);/^(pre|div|p)$/i.test(Ie.nodeName)&&(se=!0)}else if(Ie.nodeType==3){var ft=Ie.nodeValue;if(!ft)return;se&&(Z+=we,se=!1),Z+=ft}}for(var Z="",se=!1,we=o.doc.lineSeparator();U(u),u!=m;)u=u.nextSibling;return Z}function Vt(o,u){this.ranges=o,this.primIndex=u}function It(o,u){this.anchor=o,this.head=u}function vt(o,u){var m=o[u];o.sort(function(we,Ie){return Jt(we.from(),Ie.from())}),u=wr(o,m);for(var v=1;v<o.length;v++){var x=o[v],I=o[v-1];if(Jt(I.to(),x.from())>=0){var U=De(I.from(),x.from()),Z=Te(I.to(),x.to()),se=I.empty()?x.from()==x.head:I.from()==I.head;u>=v&&--u,o.splice(--v,2,new It(se?Z:U,se?U:Z))}}return new Vt(o,u)}function bt(o,u){return new Vt([new It(o,u||o)],0)}function Ft(o,u){return Math.max(o.first,Math.min(u,o.first+o.size-1))}function ut(o,u){if(u.line<o.first)return st(o.first,0);var m=o.first+o.size-1;return u.line>m?st(m,Mt(o,m).text.length):sn(u,Mt(o,u.line).text.length)}function sn(o,u){var m=o.ch;return m==null||m>u?st(o.line,u):0>m?st(o.line,0):o}function Bt(o,u){return u>=o.first&&u<o.first+o.size}function mn(o,u){for(var m=[],v=0;v<u.length;v++)m[v]=ut(o,u[v]);return m}function un(o,u,m,v){if(o.cm&&o.cm.display.shift||o.extend){var x=u.anchor;if(v){var I=Jt(m,x)<0;I!=Jt(v,x)<0?(x=m,m=v):I!=Jt(m,v)<0&&(m=v)}return new It(x,m)}return new It(v||m,m)}function an(o,u,m,v){Xe(o,new Vt([un(o,o.sel.primary(),u,m)],0),v)}function ve(o,u,m){for(var v=[],x=0;x<o.sel.ranges.length;x++)v[x]=un(o,o.sel.ranges[x],u[x],null);var I=vt(v,o.sel.primIndex);Xe(o,I,m)}function Se(o,u,m,v){var x=o.sel.ranges.slice(0);x[u]=m,Xe(o,vt(x,o.sel.primIndex),v)}function Re(o,u,m,v){Xe(o,bt(u,m),v)}function Ue(o,u,m){var v={ranges:u.ranges,update:function(x){this.ranges=[];for(var I=0;I<x.length;I++)this.ranges[I]=new It(ut(o,x[I].anchor),ut(o,x[I].head))},origin:m&&m.origin};return Nr(o,"beforeSelectionChange",o,v),o.cm&&Nr(o.cm,"beforeSelectionChange",o.cm,v),v.ranges!=u.ranges?vt(v.ranges,v.ranges.length-1):u}function rt(o,u,m){var v=o.history.done,x=Cn(v);x&&x.ranges?(v[v.length-1]=u,gt(o,u,m)):Xe(o,u,m)}function Xe(o,u,m){gt(o,u,m),ze(o,o.sel,o.cm?o.cm.curOp.id:NaN,m)}function gt(o,u,m){(On(o,"beforeSelectionChange")||o.cm&&On(o.cm,"beforeSelectionChange"))&&(u=Ue(o,u,m));var v=m&&m.bias||(Jt(u.primary().head,o.sel.primary().head)<0?-1:1);at(o,ht(o,u,v,!0)),m&&m.scroll===!1||!o.cm||ya(o.cm)}function at(o,u){u.equals(o.sel)||(o.sel=u,o.cm&&(o.cm.curOp.updateInput=o.cm.curOp.selectionChanged=!0,Sh(o.cm)),ci(o,"cursorActivity",o))}function xt(o){at(o,ht(o,o.sel,null,!1))}function ht(o,u,m,v){for(var x,I=0;I<u.ranges.length;I++){var U=u.ranges[I],Z=u.ranges.length==o.sel.ranges.length&&o.sel.ranges[I],se=it(o,U.anchor,Z&&Z.anchor,m,v),we=it(o,U.head,Z&&Z.head,m,v);(x||se!=U.anchor||we!=U.head)&&(x||(x=u.ranges.slice(0,I)),x[I]=new It(se,we))}return x?vt(x,u.primIndex):u}function dt(o,u,m,v,x){var I=Mt(o,u.line);if(I.markedSpans)for(var U=0;U<I.markedSpans.length;++U){var Z=I.markedSpans[U],se=Z.marker;if((Z.from==null||(se.inclusiveLeft?Z.from<=u.ch:Z.from<u.ch))&&(Z.to==null||(se.inclusiveRight?Z.to>=u.ch:Z.to>u.ch))){if(x&&(Nr(se,"beforeCursorEnter"),se.explicitlyCleared)){if(I.markedSpans){--U;continue}break}if(!se.atomic)continue;if(m){var we,Ie=se.find(0>v?1:-1);if((0>v?se.inclusiveRight:se.inclusiveLeft)&&(Ie=fn(o,Ie,-v,Ie&&Ie.line==u.line?I:null)),Ie&&Ie.line==u.line&&(we=Jt(Ie,m))&&(0>v?0>we:we>0))return dt(o,Ie,u,v,x)}var Ce=se.find(0>v?-1:1);return(0>v?se.inclusiveLeft:se.inclusiveRight)&&(Ce=fn(o,Ce,v,Ce.line==u.line?I:null)),Ce?dt(o,Ce,u,v,x):null}}return u}function it(o,u,m,v,x){var I=v||1,U=dt(o,u,m,I,x)||!x&&dt(o,u,m,I,!0)||dt(o,u,m,-I,x)||!x&&dt(o,u,m,-I,!0);return U||(o.cantEdit=!0,st(o.first,0))}function fn(o,u,m,v){return 0>m&&u.ch==0?u.line>o.first?ut(o,st(u.line-1)):null:m>0&&u.ch==(v||Mt(o,u.line)).text.length?u.line<o.first+o.size-1?st(u.line+1,0):null:new st(u.line,u.ch+m)}function En(o){o.display.input.showSelection(o.display.input.prepareSelection())}function fr(o,u){for(var m=o.doc,v={},x=v.cursors=document.createDocumentFragment(),I=v.selection=document.createDocumentFragment(),U=0;U<m.sel.ranges.length;U++)if(u!==!1||U!=m.sel.primIndex){var Z=m.sel.ranges[U];if(!(Z.from().line>=o.display.viewTo||Z.to().line<o.display.viewFrom)){var se=Z.empty();(se||o.options.showCursorWhenSelecting)&&sr(o,Z.head,x),se||Xr(o,Z,I)}}return v}function sr(o,u,m){var v=gr(o,u,"div",null,null,!o.options.singleCursorHeightPerLine),x=m.appendChild(Pt("div"," ","CodeMirror-cursor"));if(x.style.left=v.left+"px",x.style.top=v.top+"px",x.style.height=Math.max(0,v.bottom-v.top)*o.options.cursorHeight+"px",v.other){var I=m.appendChild(Pt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));I.style.display="",I.style.left=v.other.left+"px",I.style.top=v.other.top+"px",I.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function Xr(o,u,m){function v(Nt,Ot,Tn,At){0>Ot&&(Ot=0),Ot=Math.round(Ot),At=Math.round(At),Z.appendChild(Pt("div",null,"CodeMirror-selected","position: absolute; left: "+Nt+"px; top: "+Ot+"px; width: "+(Tn??Ie-Nt)+"px; height: "+(At-Ot)+"px"))}function x(Nt,Ot,Tn){function At(qr,gs){return Oi(o,st(Nt,qr),"div",Ir,gs)}var jt,Yt,Ir=Mt(U,Nt),Er=Ir.text.length;return KO(a(Ir),Ot||0,Tn??Er,function(qr,gs,Ks){var hi,Ni,Zs,Vr=At(qr,"left");if(qr==gs)hi=Vr,Ni=Zs=Vr.left;else{if(hi=At(gs-1,"right"),Ks=="rtl"){var Rc=Vr;Vr=hi,hi=Rc}Ni=Vr.left,Zs=hi.right}Ot==null&&qr==0&&(Ni=we),hi.top-Vr.top>3&&(v(Ni,Vr.top,null,Vr.bottom),Ni=we,Vr.bottom<hi.top&&v(Ni,Vr.bottom,null,hi.top)),Tn==null&&gs==Er&&(Zs=Ie),(!jt||Vr.top<jt.top||Vr.top==jt.top&&Vr.left<jt.left)&&(jt=Vr),(!Yt||hi.bottom>Yt.bottom||hi.bottom==Yt.bottom&&hi.right>Yt.right)&&(Yt=hi),we+1>Ni&&(Ni=we),v(Ni,hi.top,Zs-Ni,hi.bottom)}),{start:jt,end:Yt}}var I=o.display,U=o.doc,Z=document.createDocumentFragment(),se=Rn(o.display),we=se.left,Ie=Math.max(I.sizerWidth,Ve(o)-I.sizer.offsetLeft)-se.right,Ce=u.from(),je=u.to();if(Ce.line==je.line)x(Ce.line,Ce.ch,je.ch);else{var We=Mt(U,Ce.line),Be=Mt(U,je.line),lt=Gi(We)==Gi(Be),ft=x(Ce.line,Ce.ch,lt?We.text.length+1:null).end,Et=x(je.line,lt?0:null,je.ch).start;lt&&(ft.top<Et.top-2?(v(ft.right,ft.top,null,ft.bottom),v(we,Et.top,Et.left,Et.bottom)):v(ft.right,ft.top,Et.left-ft.right,ft.bottom)),ft.bottom<Et.top&&v(we,ft.bottom,null,Et.top)}m.appendChild(Z)}function _r(o){if(o.state.focused){var u=o.display;clearInterval(u.blinker);var m=!0;u.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?u.blinker=setInterval(function(){u.cursorDiv.style.visibility=(m=!m)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function bn(o,u){o.doc.mode.startState&&o.doc.frontier<o.display.viewTo&&o.state.highlight.set(u,Ah(ii,o))}function ii(o){var u=o.doc;if(u.frontier<u.first&&(u.frontier=u.first),!(u.frontier>=o.display.viewTo)){var m=+new Date+o.options.workTime,v=Ca(u.mode,Lr(o,u.frontier)),x=[];u.iter(u.frontier,Math.min(u.first+u.size,o.display.viewTo+500),function(I){if(u.frontier>=o.display.viewFrom){var U=I.styles,Z=I.text.length>o.options.maxHighlightLength,se=Hf(o,I,Z?Ca(u.mode,v):v,!0);I.styles=se.styles;var we=I.styleClasses,Ie=se.classes;Ie?I.styleClasses=Ie:we&&(I.styleClasses=null);for(var Ce=!U||U.length!=I.styles.length||we!=Ie&&(!we||!Ie||we.bgClass!=Ie.bgClass||we.textClass!=Ie.textClass),je=0;!Ce&&je<U.length;++je)Ce=U[je]!=I.styles[je];Ce&&x.push(u.frontier),I.stateAfter=Z?v:Ca(u.mode,v)}else I.text.length<=o.options.maxHighlightLength&&Tc(o,I.text,v),I.stateAfter=u.frontier%5==0?Ca(u.mode,v):null;return++u.frontier,+new Date>m?(bn(o,o.options.workDelay),!0):void 0}),x.length&&tr(o,function(){for(var I=0;I<x.length;I++)ai(o,x[I],"text")})}}function yi(o,u,m){for(var v,x,I=o.doc,U=m?-1:u-(o.doc.mode.innerMode?1e3:100),Z=u;Z>U;--Z){if(Z<=I.first)return I.first;var se=Mt(I,Z-1);if(se.stateAfter&&(!m||Z<=I.frontier))return Z;var we=$o(se.text,null,o.options.tabSize);(x==null||v>we)&&(x=Z-1,v=we)}return x}function Lr(o,u,m){var v=o.doc,x=o.display;if(!v.mode.startState)return!0;var I=yi(o,u,m),U=I>v.first&&Mt(v,I-1).stateAfter;return U=U?Ca(v.mode,U):aL(v.mode),v.iter(I,u,function(Z){Tc(o,Z.text,U);var se=I==u-1||I%5==0||I>=x.viewFrom&&I<x.viewTo;Z.stateAfter=se?Ca(v.mode,U):null,++I}),m&&(v.frontier=I),U}function Dn(o){return o.lineSpace.offsetTop}function Jr(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Rn(o){if(o.cachedPaddingH)return o.cachedPaddingH;var u=Yi(o.measure,Pt("pre","x")),m=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,v={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return isNaN(v.left)||isNaN(v.right)||(o.cachedPaddingH=v),v}function Ee(o){return lw-o.display.nativeBarWidth}function Ve(o){return o.display.scroller.clientWidth-Ee(o)-o.display.barWidth}function Ye(o){return o.display.scroller.clientHeight-Ee(o)-o.display.barHeight}function Qe(o,u,m){var v=o.options.lineWrapping,x=v&&Ve(o);if(!u.measure.heights||v&&u.measure.width!=x){var I=u.measure.heights=[];if(v){u.measure.width=x;for(var U=u.text.firstChild.getClientRects(),Z=0;Z<U.length-1;Z++){var se=U[Z],we=U[Z+1];Math.abs(se.bottom-we.bottom)>2&&I.push((se.bottom+we.top)/2-m.top)}}I.push(m.bottom-m.top)}}function nt(o,u,m){if(o.line==u)return{map:o.measure.map,cache:o.measure.cache};for(var v=0;v<o.rest.length;v++)if(o.rest[v]==u)return{map:o.measure.maps[v],cache:o.measure.caches[v]};for(var v=0;v<o.rest.length;v++)if(Mn(o.rest[v])>m)return{map:o.measure.maps[v],cache:o.measure.caches[v],before:!0}}function Rt(o,u){u=Gi(u);var m=Mn(u),v=o.display.externalMeasured=new Ut(o.doc,u,m);v.lineN=m;var x=v.built=zf(o,v);return v.text=x.pre,Yi(o.display.lineMeasure,x.pre),v}function yt(o,u,m,v){return An(o,nn(o,u),m,v)}function tn(o,u){if(u>=o.display.viewFrom&&u<o.display.viewTo)return o.display.view[ei(o,u)];var m=o.display.externalMeasured;return m&&u>=m.lineN&&u<m.lineN+m.size?m:void 0}function nn(o,u){var m=Mn(u),v=tn(o,m);v&&!v.text?v=null:v&&v.changes&&(X(o,v,m,ke(o)),o.curOp.forceUpdate=!0),v||(v=Rt(o,u));var x=nt(v,u,m);return{line:u,view:v,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function An(o,u,m,v,x){u.before&&(m=-1);var I,U=m+(v||"");return u.cache.hasOwnProperty(U)?I=u.cache[U]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(Qe(o,u.view,u.rect),u.hasHeights=!0),I=et(o,u,m,v),I.bogus||(u.cache[U]=I)),{left:I.left,right:I.right,top:x?I.rtop:I.top,bottom:x?I.rbottom:I.bottom}}function qn(o,u,m){for(var v,x,I,U,Z=0;Z<o.length;Z+=3){var se=o[Z],we=o[Z+1];if(se>u?(x=0,I=1,U="left"):we>u?(x=u-se,I=x+1):(Z==o.length-3||u==we&&o[Z+3]>u)&&(I=we-se,x=I-1,u>=we&&(U="right")),x!=null){if(v=o[Z+2],se==we&&m==(v.insertLeft?"left":"right")&&(U=m),m=="left"&&x==0)for(;Z&&o[Z-2]==o[Z-3]&&o[Z-1].insertLeft;)v=o[(Z-=3)+2],U="left";if(m=="right"&&x==we-se)for(;Z<o.length-3&&o[Z+3]==o[Z+4]&&!o[Z+5].insertLeft;)v=o[(Z+=3)+2],U="right";break}}return{node:v,start:x,end:I,collapse:U,coverStart:se,coverEnd:we}}function et(o,u,m,v){var x,I=qn(u.map,m,v),U=I.node,Z=I.start,se=I.end,we=I.collapse;if(U.nodeType==3){for(var Ie=0;4>Ie;Ie++){for(;Z&&Th(u.line.text.charAt(I.coverStart+Z));)--Z;for(;I.coverStart+se<I.coverEnd&&Th(u.line.text.charAt(I.coverStart+se));)++se;if(_n&&9>Un&&Z==0&&se==I.coverEnd-I.coverStart)x=U.parentNode.getBoundingClientRect();else if(_n&&o.options.lineWrapping){var Ce=kl(U,Z,se).getClientRects();x=Ce.length?Ce[v=="right"?Ce.length-1:0]:dv}else x=kl(U,Z,se).getBoundingClientRect()||dv;if(x.left||x.right||Z==0)break;se=Z,Z-=1,we="right"}_n&&11>Un&&(x=Ct(o.display.measure,x))}else{Z>0&&(we=v="right");var Ce;x=o.options.lineWrapping&&(Ce=U.getClientRects()).length>1?Ce[v=="right"?Ce.length-1:0]:U.getBoundingClientRect()}if(_n&&9>Un&&!Z&&(!x||!x.left&&!x.right)){var je=U.parentNode.getClientRects()[0];x=je?{left:je.left,right:je.left+Hn(o.display),top:je.top,bottom:je.bottom}:dv}for(var We=x.top-u.rect.top,Be=x.bottom-u.rect.top,lt=(We+Be)/2,ft=u.view.measure.heights,Ie=0;Ie<ft.length-1&&!(lt<ft[Ie]);Ie++);var Et=Ie?ft[Ie-1]:0,Nt=ft[Ie],Ot={left:(we=="right"?x.right:x.left)-u.rect.left,right:(we=="left"?x.left:x.right)-u.rect.left,top:Et,bottom:Nt};return x.left||x.right||(Ot.bogus=!0),o.options.singleCursorHeightPerLine||(Ot.rtop=We,Ot.rbottom=Be),Ot}function Ct(o,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!YO(o))return u;var m=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*m,right:u.right*m,top:u.top*v,bottom:u.bottom*v}}function hn(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var u=0;u<o.rest.length;u++)o.measure.caches[u]={}}function jr(o){o.display.externalMeasure=null,xl(o.display.lineMeasure);for(var u=0;u<o.display.view.length;u++)hn(o.display.view[u])}function Vn(o){jr(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function pr(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function mr(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function zt(o,u,m,v){if(u.widgets){for(var x=0;x<u.widgets.length;++x)if(u.widgets[x].above){var I=gl(u.widgets[x]);m.top+=I,m.bottom+=I}}if(v=="line")return m;v||(v="local");var U=Do(u);if(v=="local"?U+=Dn(o.display):U-=o.display.viewOffset,v=="page"||v=="window"){var Z=o.display.lineSpace.getBoundingClientRect();U+=Z.top+(v=="window"?0:mr());var se=Z.left+(v=="window"?0:pr());m.left+=se,m.right+=se}return m.top+=U,m.bottom+=U,m}function Ln(o,u,m){if(m=="div")return u;var v=u.left,x=u.top;if(m=="page")v-=pr(),x-=mr();else if(m=="local"||!m){var I=o.display.sizer.getBoundingClientRect();v+=I.left,x+=I.top}var U=o.display.lineSpace.getBoundingClientRect();return{left:v-U.left,top:x-U.top}}function Oi(o,u,m,v,x){return v||(v=Mt(o.doc,u.line)),zt(o,v,yt(o,v,u.ch,x),m)}function gr(o,u,m,v,x,I){function U(je,We){var Be=An(o,x,je,We?"right":"left",I);return We?Be.left=Be.right:Be.right=Be.left,zt(o,v,Be,m)}function Z(je,We){var Be=se[We],lt=Be.level%2;return je==av(Be)&&We&&Be.level<se[We-1].level?(Be=se[--We],je=lv(Be)-(Be.level%2?0:1),lt=!0):je==lv(Be)&&We<se.length-1&&Be.level<se[We+1].level&&(Be=se[++We],je=av(Be)-Be.level%2,lt=!1),lt&&je==Be.to&&je>Be.from?U(je-1):U(je,lt)}v=v||Mt(o.doc,u.line),x||(x=nn(o,v));var se=a(v),we=u.ch;if(!se)return U(we);var Ie=Xf(se,we),Ce=Z(we,Ie);return Fh!=null&&(Ce.other=Z(we,Fh)),Ce}function ar(o,v){var m=0,v=ut(o.doc,v);o.options.lineWrapping||(m=Hn(o.display)*v.ch);var x=Mt(o.doc,v.line),I=Do(x)+Dn(o.display);return{left:m,right:m,top:I,bottom:I+x.height}}function Hi(o,u,m,v){var x=st(o,u);return x.xRel=v,m&&(x.outside=!0),x}function oi(o,u,m){var v=o.doc;if(m+=o.display.viewOffset,0>m)return Hi(v.first,0,!0,-1);var x=ds(v,m),I=v.first+v.size-1;if(x>I)return Hi(v.first+v.size-1,Mt(v,I).text.length,!0,1);0>u&&(u=0);for(var U=Mt(v,x);;){var Z=rn(o,U,x,u,m),se=ls(U),we=se&&se.find(0,!0);if(!se||!(Z.ch>we.from.ch||Z.ch==we.from.ch&&Z.xRel>0))return Z;x=Mn(U=we.to.line)}}function rn(o,u,m,v,x){function I(Er){var qr=gr(o,st(m,Er),"line",u,we);return Z=!0,U>qr.bottom?qr.left-se:U<qr.top?qr.left+se:(Z=!1,qr.left)}var U=x-Do(u),Z=!1,se=2*o.display.wrapper.clientWidth,we=nn(o,u),Ie=a(u),Ce=u.text.length,je=Kf(u),We=Zf(u),Be=I(je),lt=Z,ft=I(We),Et=Z;if(v>ft)return Hi(m,We,Et,1);for(;;){if(Ie?We==je||We==uv(u,je,1):1>=We-je){for(var Nt=Be>v||ft-v>=v-Be?je:We,Ot=v-(Nt==je?Be:ft);Th(u.text.charAt(Nt));)++Nt;var Tn=Hi(m,Nt,Nt==je?lt:Et,-1>Ot?-1:Ot>1?1:0);return Tn}var At=Math.ceil(Ce/2),jt=je+At;if(Ie){jt=je;for(var Yt=0;At>Yt;++Yt)jt=uv(u,jt,1)}var Ir=I(jt);Ir>v?(We=jt,ft=Ir,(Et=Z)&&(ft+=1e3),Ce=At):(je=jt,Be=Ir,lt=Z,Ce-=At)}}function dn(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(El==null){El=Pt("pre");for(var u=0;49>u;++u)El.appendChild(document.createTextNode("x")),El.appendChild(Pt("br"));El.appendChild(document.createTextNode("x"))}Yi(o.measure,El);var m=El.offsetHeight/50;return m>3&&(o.cachedTextHeight=m),xl(o.measure),m||1}function Hn(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var u=Pt("span","xxxxxxxxxx"),m=Pt("pre",[u]);Yi(o.measure,m);var v=u.getBoundingClientRect(),x=(v.right-v.left)/10;return x>2&&(o.cachedCharWidth=x),x||10}function Fn(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++iL},Pc?Pc.ops.push(o.curOp):o.curOp.ownsGroup=Pc={ops:[o.curOp],delayedCallbacks:[]}}function Mr(o){var u=o.delayedCallbacks,m=0;do{for(;m<u.length;m++)u[m].call(null);for(var v=0;v<o.ops.length;v++){var x=o.ops[v];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(m<u.length)}function Yn(o){var u=o.curOp,m=u.ownsGroup;if(m)try{Mr(m)}finally{Pc=null;for(var v=0;v<m.ops.length;v++)m.ops[v].cm.curOp=null;Co(m)}}function Co(o){for(var u=o.ops,m=0;m<u.length;m++)si(u[m]);for(var m=0;m<u.length;m++)Rs(u[m]);for(var m=0;m<u.length;m++)is(u[m]);for(var m=0;m<u.length;m++)Fs(u[m]);for(var m=0;m<u.length;m++)Bs(u[m])}function si(o){var u=o.cm,m=u.display;fe(u),o.updateMaxLine&&M(u),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<m.viewFrom||o.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&u.options.lineWrapping,o.update=o.mustUpdate&&new ee(u,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function Rs(o){o.updatedDisplay=o.mustUpdate&&me(o.cm,o.update)}function is(o){var u=o.cm,m=u.display;o.updatedDisplay&&Y(u),o.barMeasure=k(u),m.maxLineChanged&&!u.options.lineWrapping&&(o.adjustWidthTo=yt(u,m.maxLine,m.maxLine.text.length).left+3,u.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+o.adjustWidthTo+Ee(u)+u.display.barWidth),o.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+o.adjustWidthTo-Ve(u))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=m.input.prepareSelection(o.focus))}function Fs(o){var u=o.cm;o.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<u.doc.scrollLeft&&jn(u,Math.min(u.display.scroller.scrollLeft,o.maxScrollLeft),!0),u.display.maxLineChanged=!1);var m=o.focus&&o.focus==ps()&&(!document.hasFocus||document.hasFocus());o.preparedSelection&&u.display.input.showSelection(o.preparedSelection,m),(o.updatedDisplay||o.startHeight!=u.doc.height)&&P(u,o.barMeasure),o.updatedDisplay&&be(u,o.barMeasure),o.selectionChanged&&_r(u),u.state.focused&&o.updateInput&&u.display.input.reset(o.typing),m&&ne(o.cm)}function Bs(o){var u=o.cm,m=u.display,v=u.doc;if(o.updatedDisplay&&ie(u,o.update),m.wheelStartX==null||o.scrollTop==null&&o.scrollLeft==null&&!o.scrollToPos||(m.wheelStartX=m.wheelStartY=null),o.scrollTop==null||m.scroller.scrollTop==o.scrollTop&&!o.forceScroll||(v.scrollTop=Math.max(0,Math.min(m.scroller.scrollHeight-m.scroller.clientHeight,o.scrollTop)),m.scrollbars.setScrollTop(v.scrollTop),m.scroller.scrollTop=v.scrollTop),o.scrollLeft==null||m.scroller.scrollLeft==o.scrollLeft&&!o.forceScroll||(v.scrollLeft=Math.max(0,Math.min(m.scroller.scrollWidth-m.scroller.clientWidth,o.scrollLeft)),m.scrollbars.setScrollLeft(v.scrollLeft),m.scroller.scrollLeft=v.scrollLeft,D(u)),o.scrollToPos){var x=Df(u,ut(v,o.scrollToPos.from),ut(v,o.scrollToPos.to),o.scrollToPos.margin);o.scrollToPos.isCursor&&u.state.focused&&If(u,x)}var I=o.maybeHiddenMarkers,U=o.maybeUnhiddenMarkers;if(I)for(var Z=0;Z<I.length;++Z)I[Z].lines.length||Nr(I[Z],"hide");if(U)for(var Z=0;Z<U.length;++Z)U[Z].lines.length&&Nr(U[Z],"unhide");m.wrapper.offsetHeight&&(v.scrollTop=u.display.scroller.scrollTop),o.changeObjs&&Nr(u,"changes",u,o.changeObjs),o.update&&o.update.finish()}function tr(o,u){if(o.curOp)return u();Fn(o);try{return u()}finally{Yn(o)}}function yn(o,u){return function(){if(o.curOp)return u.apply(o,arguments);Fn(o);try{return u.apply(o,arguments)}finally{Yn(o)}}}function zn(o){return function(){if(this.curOp)return o.apply(this,arguments);Fn(this);try{return o.apply(this,arguments)}finally{Yn(this)}}}function nr(o){return function(){var u=this.cm;if(!u||u.curOp)return o.apply(this,arguments);Fn(u);try{return o.apply(this,arguments)}finally{Yn(u)}}}function Ut(o,u,m){this.line=u,this.rest=iv(u),this.size=this.rest?Mn(Cn(this.rest))-m+1:1,this.node=this.text=null,this.hidden=cs(o,u)}function vr(o,u,m){for(var v,x=[],I=u;m>I;I=v){var U=new Ut(o.doc,Mt(o.doc,I),I);v=I+U.size,x.push(U)}return x}function Zt(o,u,m,v){u==null&&(u=o.doc.first),m==null&&(m=o.doc.first+o.doc.size),v||(v=0);var x=o.display;if(v&&m<x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>u)&&(x.updateLineNumbers=u),o.curOp.viewChanged=!0,u>=x.viewTo)ka&&xa(o.doc,u)<x.viewTo&&Qr(o);else if(m<=x.viewFrom)ka&&Bf(o.doc,m+v)>x.viewFrom?Qr(o):(x.viewFrom+=v,x.viewTo+=v);else if(u<=x.viewFrom&&m>=x.viewTo)Qr(o);else if(u<=x.viewFrom){var I=zi(o,m,m+v,1);I?(x.view=x.view.slice(I.index),x.viewFrom=I.lineN,x.viewTo+=v):Qr(o)}else if(m>=x.viewTo){var I=zi(o,u,u,-1);I?(x.view=x.view.slice(0,I.index),x.viewTo=I.lineN):Qr(o)}else{var U=zi(o,u,u,-1),Z=zi(o,m,m+v,1);U&&Z?(x.view=x.view.slice(0,U.index).concat(vr(o,U.lineN,Z.lineN)).concat(x.view.slice(Z.index)),x.viewTo+=v):Qr(o)}var se=x.externalMeasured;se&&(m<se.lineN?se.lineN+=v:u<se.lineN+se.size&&(x.externalMeasured=null))}function ai(o,u,m){o.curOp.viewChanged=!0;var v=o.display,x=o.display.externalMeasured;if(x&&u>=x.lineN&&u<x.lineN+x.size&&(v.externalMeasured=null),!(u<v.viewFrom||u>=v.viewTo)){var I=v.view[ei(o,u)];if(I.node!=null){var U=I.changes||(I.changes=[]);wr(U,m)==-1&&U.push(m)}}}function Qr(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function ei(o,u){if(u>=o.display.viewTo||(u-=o.display.viewFrom,0>u))return null;for(var m=o.display.view,v=0;v<m.length;v++)if(u-=m[v].size,0>u)return v}function zi(o,u,m,v){var x,I=ei(o,u),U=o.display.view;if(!ka||m==o.doc.first+o.doc.size)return{index:I,lineN:m};for(var Z=0,se=o.display.viewFrom;I>Z;Z++)se+=U[Z].size;if(se!=u){if(v>0){if(I==U.length-1)return null;x=se+U[I].size-u,I++}else x=se-u;u+=x,m+=x}for(;xa(o.doc,m)!=m;){if(I==(0>v?0:U.length-1))return null;m+=v*U[I-(0>v?1:0)].size,I+=v}return{index:I,lineN:m}}function xr(o,u,m){var v=o.display,x=v.view;x.length==0||u>=v.viewTo||m<=v.viewFrom?(v.view=vr(o,u,m),v.viewFrom=u):(v.viewFrom>u?v.view=vr(o,u,v.viewFrom).concat(v.view):v.viewFrom<u&&(v.view=v.view.slice(ei(o,u))),v.viewFrom=u,v.viewTo<m?v.view=v.view.concat(vr(o,v.viewTo,m)):v.viewTo>m&&(v.view=v.view.slice(0,ei(o,m)))),v.viewTo=m}function Oo(o){for(var u=o.display.view,m=0,v=0;v<u.length;v++){var x=u[v];x.hidden||x.node&&!x.changes||++m}return m}function Ui(o){function u(){x.activeTouch&&(I=setTimeout(function(){x.activeTouch=null},1e3),U=x.activeTouch,U.end=+new Date)}function m(se){if(se.touches.length!=1)return!1;var we=se.touches[0];return we.radiusX<=1&&we.radiusY<=1}function v(se,we){if(we.left==null)return!0;var Ie=we.left-se.left,Ce=we.top-se.top;return Ie*Ie+Ce*Ce>400}var x=o.display;Xt(x.scroller,"mousedown",yn(o,Ne)),_n&&11>Un?Xt(x.scroller,"dblclick",yn(o,function(se){if(!br(o,se)){var we=ge(o,se);if(we&&!_t(o,se)&&!W(o.display,se)){ui(se);var Ie=o.findWordAt(we);an(o.doc,Ie.anchor,Ie.head)}}})):Xt(x.scroller,"dblclick",function(se){br(o,se)||ui(se)}),hv||Xt(x.scroller,"contextmenu",function(se){Lf(o,se)});var I,U={end:0};Xt(x.scroller,"touchstart",function(se){if(!br(o,se)&&!m(se)){clearTimeout(I);var we=+new Date;x.activeTouch={start:we,moved:!1,prev:we-U.end<=300?U:null},se.touches.length==1&&(x.activeTouch.left=se.touches[0].pageX,x.activeTouch.top=se.touches[0].pageY)}}),Xt(x.scroller,"touchmove",function(){x.activeTouch&&(x.activeTouch.moved=!0)}),Xt(x.scroller,"touchend",function(se){var we=x.activeTouch;if(we&&!W(x,se)&&we.left!=null&&!we.moved&&new Date-we.start<300){var Ie,Ce=o.coordsChar(x.activeTouch,"page");Ie=!we.prev||v(we,we.prev)?new It(Ce,Ce):!we.prev.prev||v(we,we.prev.prev)?o.findWordAt(Ce):new It(st(Ce.line,0),ut(o.doc,st(Ce.line+1,0))),o.setSelection(Ie.anchor,Ie.head),o.focus(),ui(se)}u()}),Xt(x.scroller,"touchcancel",u),Xt(x.scroller,"scroll",function(){x.scroller.clientHeight&&(Bn(o,x.scroller.scrollTop),jn(o,x.scroller.scrollLeft,!0),Nr(o,"scroll",o))}),Xt(x.scroller,"mousewheel",function(se){lr(o,se)}),Xt(x.scroller,"DOMMouseScroll",function(se){lr(o,se)}),Xt(x.wrapper,"scroll",function(){x.wrapper.scrollTop=x.wrapper.scrollLeft=0}),x.dragFunctions={enter:function(se){br(o,se)||sp(se)},over:function(se){br(o,se)||(Zn(o,se),sp(se))},start:function(se){ln(o,se)},drop:yn(o,Kn),leave:function(se){br(o,se)||Sr(o)}};var Z=x.input.getField();Xt(Z,"keyup",function(se){uh.call(o,se)}),Xt(Z,"keydown",yn(o,$r)),Xt(Z,"keypress",yn(o,Lo)),Xt(Z,"focus",Ah(yc,o)),Xt(Z,"blur",Ah($s,o))}function rr(o,u,m){var v=m&&m!=s.Init;if(!u!=!v){var x=o.display.dragFunctions,I=u?Xt:ms;I(o.display.scroller,"dragstart",x.start),I(o.display.scroller,"dragenter",x.enter),I(o.display.scroller,"dragover",x.over),I(o.display.scroller,"dragleave",x.leave),I(o.display.scroller,"drop",x.drop)}}function Wi(o){var u=o.display;u.lastWrapHeight==u.wrapper.clientHeight&&u.lastWrapWidth==u.wrapper.clientWidth||(u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,o.setSize())}function W(o,u){for(var m=fs(u);m!=o.wrapper;m=m.parentNode)if(!m||m.nodeType==1&&m.getAttribute("cm-ignore-events")=="true"||m.parentNode==o.sizer&&m!=o.mover)return!0}function ge(o,u,m,v){var x=o.display;if(!m&&fs(u).getAttribute("cm-not-content")=="true")return null;var I,U,Z=x.lineSpace.getBoundingClientRect();try{I=u.clientX-Z.left,U=u.clientY-Z.top}catch{return null}var se,we=oi(o,I,U);if(v&&we.xRel==1&&(se=Mt(o.doc,we.line).text).length==we.ch){var Ie=$o(se,se.length,o.options.tabSize)-se.length;we=st(we.line,Math.max(0,Math.round((I-Rn(o.display).left)/Hn(o.display))-Ie))}return we}function Ne(o){var u=this,m=u.display;if(!(br(u,o)||m.activeTouch&&m.input.supportsTouch())){if(m.shift=o.shiftKey,W(m,o))return void(Wr||(m.scroller.draggable=!1,setTimeout(function(){m.scroller.draggable=!0},100)));if(!_t(u,o)){var v=ge(u,o);switch(window.focus(),Vf(o)){case 1:u.state.selectingText?u.state.selectingText(o):v?Ke(u,o,v):fs(o)==m.scroller&&ui(o);break;case 2:Wr&&(u.state.lastMiddleDown=+new Date),v&&an(u.doc,v),setTimeout(function(){m.input.focus()},20),ui(o);break;case 3:hv?Lf(u,o):Of(u)}}}}function Ke(o,u,m){_n?setTimeout(Ah(ne,o),0):o.curOp.focus=ps();var v,x=+new Date;Qf&&Qf.time>x-400&&Jt(Qf.pos,m)==0?v="triple":Jf&&Jf.time>x-400&&Jt(Jf.pos,m)==0?(v="double",Qf={time:x,pos:m}):(v="single",Jf={time:x,pos:m});var I,U=o.doc.sel,Z=jo?u.metaKey:u.ctrlKey;o.options.dragDrop&&vL&&!o.isReadOnly()&&v=="single"&&(I=U.contains(m))>-1&&(Jt((I=U.ranges[I]).from(),m)<0||m.xRel>0)&&(Jt(I.to(),m)>0||m.xRel<0)?Gt(o,u,m,Z):Tt(o,u,m,v,Z)}function Gt(o,u,m,v){var x=o.display,I=+new Date,U=yn(o,function(Z){Wr&&(x.scroller.draggable=!1),o.state.draggingText=!1,ms(document,"mouseup",U),ms(x.scroller,"drop",U),Math.abs(u.clientX-Z.clientX)+Math.abs(u.clientY-Z.clientY)<10&&(ui(Z),!v&&+new Date-200<I&&an(o.doc,m),Wr||_n&&Un==9?setTimeout(function(){document.body.focus(),x.input.focus()},20):x.input.focus())});Wr&&(x.scroller.draggable=!0),o.state.draggingText=U,x.scroller.dragDrop&&x.scroller.dragDrop(),Xt(document,"mouseup",U),Xt(x.scroller,"drop",U)}function Tt(o,u,m,v,x){function I(At){if(Jt(ft,At)!=0)if(ft=At,v=="rect"){for(var jt=[],Yt=o.options.tabSize,Ir=$o(Mt(we,m.line).text,m.ch,Yt),Er=$o(Mt(we,At.line).text,At.ch,Yt),qr=Math.min(Ir,Er),gs=Math.max(Ir,Er),Ks=Math.min(m.line,At.line),hi=Math.min(o.lastLine(),Math.max(m.line,At.line));hi>=Ks;Ks++){var Ni=Mt(we,Ks).text,Zs=uw(Ni,qr,Yt);qr==gs?jt.push(new It(st(Ks,Zs),st(Ks,Zs))):Ni.length>Zs&&jt.push(new It(st(Ks,Zs),st(Ks,uw(Ni,gs,Yt))))}jt.length||jt.push(new It(m,m)),Xe(we,vt(je.ranges.slice(0,Ce).concat(jt),Ce),{origin:"*mouse",scroll:!1}),o.scrollIntoView(At)}else{var Vr=Ie,Rc=Vr.anchor,_v=At;if(v!="single"){if(v=="double")var Fc=o.findWordAt(At);else var Fc=new It(st(At.line,0),ut(we,st(At.line+1,0)));Jt(Fc.anchor,Rc)>0?(_v=Fc.head,Rc=De(Vr.from(),Fc.anchor)):(_v=Fc.anchor,Rc=Te(Vr.to(),Fc.head))}var jt=je.ranges.slice(0);jt[Ce]=new It(ut(we,Rc),_v),Xe(we,vt(jt,Ce),gv)}}function U(At){var jt=++Nt,Yt=ge(o,At,!0,v=="rect");if(Yt)if(Jt(Yt,ft)!=0){o.curOp.focus=ps(),I(Yt);var Ir=B(se,we);(Yt.line>=Ir.to||Yt.line<Ir.from)&&setTimeout(yn(o,function(){Nt==jt&&U(At)}),150)}else{var Er=At.clientY<Et.top?-20:At.clientY>Et.bottom?20:0;Er&&setTimeout(yn(o,function(){Nt==jt&&(se.scroller.scrollTop+=Er,U(At))}),50)}}function Z(At){o.state.selectingText=!1,Nt=1/0,ui(At),se.input.focus(),ms(document,"mousemove",Ot),ms(document,"mouseup",Tn),we.history.lastSelOrigin=null}var se=o.display,we=o.doc;ui(u);var Ie,Ce,je=we.sel,We=je.ranges;if(x&&!u.shiftKey?(Ce=we.sel.contains(m),Ie=Ce>-1?We[Ce]:new It(m,m)):(Ie=we.sel.primary(),Ce=we.sel.primIndex),nL?u.shiftKey&&u.metaKey:u.altKey)v="rect",x||(Ie=new It(m,m)),m=ge(o,u,!0,!0),Ce=-1;else if(v=="double"){var Be=o.findWordAt(m);Ie=o.display.shift||we.extend?un(we,Ie,Be.anchor,Be.head):Be}else if(v=="triple"){var lt=new It(st(m.line,0),ut(we,st(m.line+1,0)));Ie=o.display.shift||we.extend?un(we,Ie,lt.anchor,lt.head):lt}else Ie=un(we,Ie,m);x?Ce==-1?(Ce=We.length,Xe(we,vt(We.concat([Ie]),Ce),{scroll:!1,origin:"*mouse"})):We.length>1&&We[Ce].empty()&&v=="single"&&!u.shiftKey?(Xe(we,vt(We.slice(0,Ce).concat(We.slice(Ce+1)),0),{scroll:!1,origin:"*mouse"}),je=we.sel):Se(we,Ce,Ie,gv):(Ce=0,Xe(we,new Vt([Ie],0),gv),je=we.sel);var ft=m,Et=se.wrapper.getBoundingClientRect(),Nt=0,Ot=yn(o,function(At){Vf(At)?U(At):Z(At)}),Tn=yn(o,Z);o.state.selectingText=Tn,Xt(document,"mousemove",Ot),Xt(document,"mouseup",Tn)}function gn(o,u,m,v){try{var x=u.clientX,I=u.clientY}catch{return!1}if(x>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;v&&ui(u);var U=o.display,Z=U.lineDiv.getBoundingClientRect();if(I>Z.bottom||!On(o,m))return Ur(u);I-=Z.top-U.viewOffset;for(var se=0;se<o.options.gutters.length;++se){var we=U.gutters.childNodes[se];if(we&&we.getBoundingClientRect().right>=x){var Ie=ds(o.doc,I),Ce=o.options.gutters[se];return Nr(o,m,o,Ie,Ce,u),Ur(u)}}}function _t(o,u){return gn(o,u,"gutterClick",!0)}function Kn(o){var u=this;if(Sr(u),!br(u,o)&&!W(u.display,o)){ui(o),_n&&(rw=+new Date);var m=ge(u,o,!0),v=o.dataTransfer.files;if(m&&!u.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var x=v.length,I=Array(x),U=0,Z=function(Ie,Ce){if(!u.options.allowDropFileTypes||wr(u.options.allowDropFileTypes,Ie.type)!=-1){var je=new FileReader;je.onload=yn(u,function(){var We=je.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)&&(We=""),I[Ce]=We,++U==x){m=ut(u.doc,m);var Be={from:m,to:m,text:u.doc.splitLines(I.join(u.doc.lineSeparator())),origin:"paste"};Hs(u.doc,Be),rt(u.doc,bt(m,Al(Be)))}}),je.readAsText(Ie)}},se=0;x>se;++se)Z(v[se],se);else{if(u.state.draggingText&&u.doc.sel.contains(m)>-1)return u.state.draggingText(o),void setTimeout(function(){u.display.input.focus()},20);try{var I=o.dataTransfer.getData("Text");if(I){if(u.state.draggingText&&!(jo?o.altKey:o.ctrlKey))var we=u.listSelections();if(gt(u.doc,bt(m,m)),we)for(var se=0;se<we.length;++se)Pr(u.doc,"",we[se].anchor,we[se].head,"drag");u.replaceSelection(I,"around","paste"),u.display.input.focus()}}catch{}}}}function ln(o,u){if(_n&&(!o.state.draggingText||+new Date-rw<100))return void sp(u);if(!br(o,u)&&!W(o.display,u)&&(u.dataTransfer.setData("Text",o.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!ew)){var m=Pt("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Bo&&(m.width=m.height=1,o.display.wrapper.appendChild(m),m._top=m.offsetTop),u.dataTransfer.setDragImage(m,0,0),Bo&&m.parentNode.removeChild(m)}}function Zn(o,u){var m=ge(o,u);if(m){var v=document.createDocumentFragment();sr(o,m,v),o.display.dragCursor||(o.display.dragCursor=Pt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),Yi(o.display.dragCursor,v)}}function Sr(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Bn(o,u){Math.abs(o.doc.scrollTop-u)<2||(o.doc.scrollTop=u,Ta||te(o,{top:u}),o.display.scroller.scrollTop!=u&&(o.display.scroller.scrollTop=u),o.display.scrollbars.setScrollTop(u),Ta&&te(o),bn(o,100))}function jn(o,u,m){(m?u==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-u)<2)||(u=Math.min(u,o.display.scroller.scrollWidth-o.display.scroller.clientWidth),o.doc.scrollLeft=u,D(o),o.display.scroller.scrollLeft!=u&&(o.display.scroller.scrollLeft=u),o.display.scrollbars.setScrollLeft(u))}function lr(o,u){var m=iw(u),v=m.x,x=m.y,I=o.display,U=I.scroller,Z=U.scrollWidth>U.clientWidth,se=U.scrollHeight>U.clientHeight;if(v&&Z||x&&se){if(x&&jo&&Wr){e:for(var we=u.target,Ie=I.view;we!=U;we=we.parentNode)for(var Ce=0;Ce<Ie.length;Ce++)if(Ie[Ce].node==we){o.display.currentWheelTarget=we;break e}}if(v&&!Ta&&!Bo&&Ki!=null)return x&&se&&Bn(o,Math.max(0,Math.min(U.scrollTop+x*Ki,U.scrollHeight-U.clientHeight))),jn(o,Math.max(0,Math.min(U.scrollLeft+v*Ki,U.scrollWidth-U.clientWidth))),(!x||x&&se)&&ui(u),void(I.wheelStartX=null);if(x&&Ki!=null){var je=x*Ki,We=o.doc.scrollTop,Be=We+I.wrapper.clientHeight;0>je?We=Math.max(0,We+je-50):Be=Math.min(o.doc.height,Be+je+50),te(o,{top:We,bottom:Be})}20>ep&&(I.wheelStartX==null?(I.wheelStartX=U.scrollLeft,I.wheelStartY=U.scrollTop,I.wheelDX=v,I.wheelDY=x,setTimeout(function(){if(I.wheelStartX!=null){var lt=U.scrollLeft-I.wheelStartX,ft=U.scrollTop-I.wheelStartY,Et=ft&&I.wheelDY&&ft/I.wheelDY||lt&&I.wheelDX&&lt/I.wheelDX;I.wheelStartX=I.wheelStartY=null,Et&&(Ki=(Ki*ep+Et)/(ep+1),++ep)}},200)):(I.wheelDX+=v,I.wheelDY+=x))}}function li(o,u,m){if(typeof u=="string"&&(u=tp[u],!u))return!1;o.display.input.ensurePolled();var v=o.display.shift,x=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),m&&(o.display.shift=!1),x=u(o)!=cw}finally{o.display.shift=v,o.state.suppressEdits=!1}return x}function qi(o,u,m){for(var v=0;v<o.state.keyMaps.length;v++){var x=Mh(u,o.state.keyMaps[v],m,o);if(x)return x}return o.options.extraKeys&&Mh(u,o.options.extraKeys,m,o)||Mh(u,o.options.keyMap,m,o)}function Li(o,u,m,v){var x=o.state.keySeq;if(x){if(lL(u))return"handled";oL.set(50,function(){o.state.keySeq==x&&(o.state.keySeq=null,o.display.input.reset())}),u=x+" "+u}var I=qi(o,u,v);return I=="multi"&&(o.state.keySeq=u),I=="handled"&&ci(o,"keyHandled",o,u,m),I!="handled"&&I!="multi"||(ui(m),_r(o)),x&&!I&&/\'$/.test(u)?(ui(m),!0):!!I}function js(o,u){var m=cL(u,!0);return m?u.shiftKey&&!o.state.keySeq?Li(o,"Shift-"+m,u,function(v){return li(o,v,!0)})||Li(o,m,u,function(v){return(typeof v=="string"?/^go[A-Z]/.test(v):v.motion)?li(o,v):void 0}):Li(o,m,u,function(v){return li(o,v)}):!1}function ga(o,u,m){return Li(o,"'"+m+"'",u,function(v){return li(o,v,!0)})}function $r(o){var u=this;if(u.curOp.focus=ps(),!br(u,o)){_n&&11>Un&&o.keyCode==27&&(o.returnValue=!1);var m=o.keyCode;u.display.shift=m==16||o.shiftKey;var v=js(u,o);Bo&&(fv=v?m:null,!v&&m==88&&!fw&&(jo?o.metaKey:o.ctrlKey)&&u.replaceSelection("",null,"cut")),m!=18||/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)||Jg(u)}}function Jg(o){function u(v){v.keyCode!=18&&v.altKey||(Dh(m,"CodeMirror-crosshair"),ms(document,"keyup",u),ms(document,"mouseover",u))}var m=o.display.lineDiv;Rh(m,"CodeMirror-crosshair"),Xt(document,"keyup",u),Xt(document,"mouseover",u)}function uh(o){o.keyCode==16&&(this.doc.sel.shift=!1),br(this,o)}function Lo(o){var u=this;if(!(W(u.display,o)||br(u,o)||o.ctrlKey&&!o.altKey||jo&&o.metaKey)){var m=o.keyCode,v=o.charCode;if(Bo&&m==fv)return fv=null,void ui(o);if(!Bo||o.which&&!(o.which<10)||!js(u,o)){var x=String.fromCharCode(v??m);ga(u,o,x)||u.display.input.onKeyPress(o)}}}function Of(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,$s(o))},100)}function yc(o){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(Nr(o,"focus",o),o.state.focused=!0,Rh(o.display.wrapper,"CodeMirror-focused"),o.curOp||o.display.selForContextMenu==o.doc.sel||(o.display.input.reset(),Wr&&setTimeout(function(){o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),_r(o))}function $s(o){o.state.delayingBlurEvent||(o.state.focused&&(Nr(o,"blur",o),o.state.focused=!1,Dh(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function Lf(o,u){W(o.display,u)||Mf(o,u)||br(o,u,"contextmenu")||o.display.input.onContextMenu(u)}function Mf(o,u){return On(o,"gutterContextMenu")?gn(o,u,"gutterContextMenu",!1):!1}function hh(o,u){if(Jt(o,u.from)<0)return o;if(Jt(o,u.to)<=0)return Al(u);var m=o.line+u.text.length-(u.to.line-u.from.line)-1,v=o.ch;return o.line==u.to.line&&(v+=Al(u).ch-u.to.ch),st(m,v)}function dh(o,u){for(var m=[],v=0;v<o.sel.ranges.length;v++){var x=o.sel.ranges[v];m.push(new It(hh(x.anchor,u),hh(x.head,u)))}return vt(m,o.sel.primIndex)}function Pf(o,u,m){return o.line==u.line?st(m.line,o.ch-u.ch+m.ch):st(m.line+(o.line-u.line),o.ch)}function fh(o,u,m){for(var v=[],x=st(o.first,0),I=x,U=0;U<u.length;U++){var Z=u[U],se=Pf(Z.from,x,I),we=Pf(Al(Z),x,I);if(x=Z.to,I=we,m=="around"){var Ie=o.sel.ranges[U],Ce=Jt(Ie.head,Ie.anchor)<0;v[U]=new It(Ce?we:se,Ce?se:we)}else v[U]=new It(se,se)}return new Vt(v,o.sel.primIndex)}function Nf(o,u,m){var v={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){this.canceled=!0}};return m&&(v.update=function(x,I,U,Z){x&&(this.from=ut(o,x)),I&&(this.to=ut(o,I)),U&&(this.text=U),Z!==void 0&&(this.origin=Z)}),Nr(o,"beforeChange",o,v),o.cm&&Nr(o.cm,"beforeChange",o.cm,v),v.canceled?null:{from:v.from,to:v.to,text:v.text,origin:v.origin}}function Hs(o,u,m){if(o.cm){if(!o.cm.curOp)return yn(o.cm,Hs)(o,u,m);if(o.cm.state.suppressEdits)return}if(!(On(o,"beforeChange")||o.cm&&On(o.cm,"beforeChange"))||(u=Nf(o,u,!0))){var v=nw&&!m&&No(o,u.from,u.to);if(v)for(var x=v.length-1;x>=0;--x)ph(o,{from:v[x].from,to:v[x].to,text:x?[""]:u.text});else ph(o,u)}}function ph(o,u){if(u.text.length!=1||u.text[0]!=""||Jt(u.from,u.to)!=0){var m=dh(o,u);de(o,u,m,o.cm?o.cm.curOp.id:NaN),ul(o,u,m,vh(o,u));var v=[];us(o,function(x,I){I||wr(v,x.history)!=-1||(bi(x.history,u),v.push(x.history)),ul(x,u,null,vh(x,u))})}}function zs(o,u,m){if(!o.cm||!o.cm.state.suppressEdits){for(var v,x=o.history,I=o.sel,U=u=="undo"?x.done:x.undone,Z=u=="undo"?x.undone:x.done,se=0;se<U.length&&(v=U[se],m?!v.ranges||v.equals(o.sel):v.ranges);se++);if(se!=U.length){for(x.lastOrigin=x.lastSelOrigin=null;v=U.pop(),v.ranges;){if(qe(v,Z),m&&!v.equals(o.sel))return void Xe(o,v,{clearRedo:!1});I=v}var we=[];qe(I,Z),Z.push({changes:we,generation:x.generation}),x.generation=v.generation||++x.maxGeneration;for(var Ie=On(o,"beforeChange")||o.cm&&On(o.cm,"beforeChange"),se=v.changes.length-1;se>=0;--se){var Ce=v.changes[se];if(Ce.origin=u,Ie&&!Nf(o,Ce,!1))return void(U.length=0);we.push(S(o,Ce));var je=se?dh(o,Ce):Cn(U);ul(o,Ce,je,Ff(o,Ce)),!se&&o.cm&&o.cm.scrollIntoView({from:Ce.from,to:Al(Ce)});var We=[];us(o,function(lt,ft){ft||wr(We,lt.history)!=-1||(bi(lt.history,Ce),We.push(lt.history)),ul(lt,Ce,null,Ff(lt,Ce))})}}}}function os(o,u){if(u!=0&&(o.first+=u,o.sel=new Vt(wl(o.sel.ranges,function(x){return new It(st(x.anchor.line+u,x.anchor.ch),st(x.head.line+u,x.head.ch))}),o.sel.primIndex),o.cm)){Zt(o.cm,o.first,o.first-u,u);for(var m=o.cm.display,v=m.viewFrom;v<m.viewTo;v++)ai(o.cm,v,"gutter")}}function ul(o,u,m,v){if(o.cm&&!o.cm.curOp)return yn(o.cm,ul)(o,u,m,v);if(u.to.line<o.first)return void os(o,u.text.length-1-(u.to.line-u.from.line));if(!(u.from.line>o.lastLine())){if(u.from.line<o.first){var x=u.text.length-1-(o.first-u.from.line);os(o,x),u={from:st(o.first,0),to:st(u.to.line+x,u.to.ch),text:[Cn(u.text)],origin:u.origin}}var I=o.lastLine();u.to.line>I&&(u={from:u.from,to:st(I,Mt(o,I).text.length),text:[u.text[0]],origin:u.origin}),u.removed=hs(o,u.from,u.to),m||(m=dh(o,u)),o.cm?hl(o.cm,u,v):Cc(o,u,v),gt(o,m,Ys)}}function hl(o,u,m){var v=o.doc,x=o.display,I=u.from,U=u.to,Z=!1,se=I.line;o.options.lineWrapping||(se=Mn(Gi(Mt(v,I.line))),v.iter(se,U.line+1,function(We){return We==x.maxLine?(Z=!0,!0):void 0})),v.sel.contains(u.from,u.to)>-1&&Sh(o),Cc(v,u,m,f(o)),o.options.lineWrapping||(v.iter(se,I.line+u.text.length,function(We){var Be=C(We);Be>x.maxLineLength&&(x.maxLine=We,x.maxLineLength=Be,x.maxLineChanged=!0,Z=!1)}),Z&&(o.curOp.updateMaxLine=!0)),v.frontier=Math.min(v.frontier,I.line),bn(o,400);var we=u.text.length-(U.line-I.line)-1;u.full?Zt(o):I.line!=U.line||u.text.length!=1||Ea(o.doc,u)?Zt(o,I.line,U.line+1,we):ai(o,I.line,"text");var Ie=On(o,"changes"),Ce=On(o,"change");if(Ce||Ie){var je={from:I,to:U,text:u.text,removed:u.removed,origin:u.origin};Ce&&ci(o,"change",o,je),Ie&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(je)}o.display.selForContextMenu=null}function Pr(o,u,m,v,x){if(v||(v=m),Jt(v,m)<0){var I=v;v=m,m=I}typeof u=="string"&&(u=o.splitLines(u)),Hs(o,{from:m,to:v,text:u,origin:x})}function If(o,u){if(!br(o,"scrollCursorIntoView")){var m=o.display,v=m.sizer.getBoundingClientRect(),x=null;if(u.top+v.top<0?x=!0:u.bottom+v.top>(window.innerHeight||document.documentElement.clientHeight)&&(x=!1),x!=null&&!tL){var I=Pt("div","​",null,"position: absolute; top: "+(u.top-m.viewOffset-Dn(o.display))+"px; height: "+(u.bottom-u.top+Ee(o)+m.barHeight)+"px; left: "+u.left+"px; width: 2px;");o.display.lineSpace.appendChild(I),I.scrollIntoView(x),o.display.lineSpace.removeChild(I)}}}function Df(o,u,m,v){v==null&&(v=0);for(var x=0;5>x;x++){var I=!1,U=gr(o,u),Z=m&&m!=u?gr(o,m):U,se=va(o,Math.min(U.left,Z.left),Math.min(U.top,Z.top)-v,Math.max(U.left,Z.left),Math.max(U.bottom,Z.bottom)+v),we=o.doc.scrollTop,Ie=o.doc.scrollLeft;if(se.scrollTop!=null&&(Bn(o,se.scrollTop),Math.abs(o.doc.scrollTop-we)>1&&(I=!0)),se.scrollLeft!=null&&(jn(o,se.scrollLeft),Math.abs(o.doc.scrollLeft-Ie)>1&&(I=!0)),!I)break}return U}function Qg(o,u,m,v,x){var I=va(o,u,m,v,x);I.scrollTop!=null&&Bn(o,I.scrollTop),I.scrollLeft!=null&&jn(o,I.scrollLeft)}function va(o,u,m,v,x){var I=o.display,U=dn(o.display);0>m&&(m=0);var Z=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:I.scroller.scrollTop,se=Ye(o),we={};x-m>se&&(x=m+se);var Ie=o.doc.height+Jr(I),Ce=U>m,je=x>Ie-U;if(Z>m)we.scrollTop=Ce?0:m;else if(x>Z+se){var We=Math.min(m,(je?Ie:x)-se);We!=Z&&(we.scrollTop=We)}var Be=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:I.scroller.scrollLeft,lt=Ve(o)-(o.options.fixedGutter?I.gutters.offsetWidth:0),ft=v-u>lt;return ft&&(v=u+lt),10>u?we.scrollLeft=0:Be>u?we.scrollLeft=Math.max(0,u-(ft?0:10)):v>lt+Be-3&&(we.scrollLeft=v+(ft?0:10)-lt),we}function dl(o,u,m){u==null&&m==null||bc(o),u!=null&&(o.curOp.scrollLeft=(o.curOp.scrollLeft==null?o.doc.scrollLeft:o.curOp.scrollLeft)+u),m!=null&&(o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+m)}function ya(o){bc(o);var u=o.getCursor(),m=u,v=u;o.options.lineWrapping||(m=u.ch?st(u.line,u.ch-1):u,v=st(u.line,u.ch+1)),o.curOp.scrollToPos={from:m,to:v,margin:o.options.cursorScrollMargin,isCursor:!0}}function bc(o){var u=o.curOp.scrollToPos;if(u){o.curOp.scrollToPos=null;var m=ar(o,u.from),v=ar(o,u.to),x=va(o,Math.min(m.left,v.left),Math.min(m.top,v.top)-u.margin,Math.max(m.right,v.right),Math.max(m.bottom,v.bottom)+u.margin);o.scrollTo(x.scrollLeft,x.scrollTop)}}function ba(o,u,m,v){var x,I=o.doc;m==null&&(m="add"),m=="smart"&&(I.mode.indent?x=Lr(o,u):m="prev");var U=o.options.tabSize,Z=Mt(I,u),se=$o(Z.text,null,U);Z.stateAfter&&(Z.stateAfter=null);var we,Ie=Z.text.match(/^\s*/)[0];if(v||/\S/.test(Z.text)){if(m=="smart"&&(we=I.mode.indent(x,Z.text.slice(Ie.length),Z.text),we==cw||we>150)){if(!v)return;m="prev"}}else we=0,m="not";m=="prev"?we=u>I.first?$o(Mt(I,u-1).text,null,U):0:m=="add"?we=se+o.options.indentUnit:m=="subtract"?we=se-o.options.indentUnit:typeof m=="number"&&(we=se+m),we=Math.max(0,we);var Ce="",je=0;if(o.options.indentWithTabs)for(var We=Math.floor(we/U);We;--We)je+=U,Ce+="	";if(we>je&&(Ce+=Eh(we-je)),Ce!=Ie)return Pr(I,Ce,st(u,0),st(u,Ie.length),"+input"),Z.stateAfter=null,!0;for(var We=0;We<I.sel.ranges.length;We++){var Be=I.sel.ranges[We];if(Be.head.line==u&&Be.head.ch<Ie.length){var je=st(u,Ie.length);Se(I,We,new It(je,je));break}}}function wc(o,u,m,v){var x=u,I=u;return typeof u=="number"?I=Mt(o,Ft(o,u)):x=Mn(u),x==null?null:(v(I,x)&&o.cm&&ai(o.cm,x,m),I)}function Hr(o,u){for(var m=o.doc.sel.ranges,v=[],x=0;x<m.length;x++){for(var I=u(m[x]);v.length&&Jt(I.from,Cn(v).to)<=0;){var U=v.pop();if(Jt(U.from,I.from)<0){I.from=U.from;break}}v.push(I)}tr(o,function(){for(var Z=v.length-1;Z>=0;Z--)Pr(o.doc,"",v[Z].from,v[Z].to,"+delete");ya(o)})}function ss(o,u,m,v,x){function I(){var Nt=Z+m;return Nt<o.first||Nt>=o.first+o.size?!1:(Z=Nt,Ie=Mt(o,Nt))}function U(Nt){var Ot=(x?uv:Z1)(Ie,se,m,!0);if(Ot==null){if(Nt||!I())return!1;se=x?(0>m?Zf:Kf)(Ie):0>m?Ie.text.length:0}else se=Ot;return!0}var Z=u.line,se=u.ch,we=m,Ie=Mt(o,Z);if(v=="char")U();else if(v=="column")U(!0);else if(v=="word"||v=="group")for(var Ce=null,je=v=="group",We=o.cm&&o.cm.getHelper(u,"wordChars"),Be=!0;!(0>m)||U(!Be);Be=!1){var lt=Ie.text.charAt(se)||`
`,ft=Yf(lt,We)?"w":je&&lt==`
`?"n":!je||/\s/.test(lt)?null:"p";if(!je||Be||ft||(ft="s"),Ce&&Ce!=ft){0>m&&(m=1,U());break}if(ft&&(Ce=ft),m>0&&!U(!Be))break}var Et=it(o,st(Z,se),u,we,!0);return Jt(u,Et)||(Et.hitSide=!0),Et}function Rf(o,u,m,v){var x,I=o.doc,U=u.left;if(v=="page"){var Z=Math.min(o.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);x=u.top+m*(Z-(0>m?1.5:.5)*dn(o.display))}else v=="line"&&(x=m>0?u.bottom+3:u.top-3);for(;;){var se=oi(o,U,x);if(!se.outside)break;if(0>m?0>=x:x>=I.height){se.hitSide=!0;break}x+=5*m}return se}function Dt(o,u,m,v){s.defaults[o]=u,m&&(Nc[o]=v?function(x,I,U){U!=ow&&m(x,I,U)}:m)}function ev(o){for(var u,m,v,x,I=o.split(/-(?!$)/),o=I[I.length-1],U=0;U<I.length-1;U++){var Z=I[U];if(/^(cmd|meta|m)$/i.test(Z))x=!0;else if(/^a(lt)?$/i.test(Z))u=!0;else if(/^(c|ctrl|control)$/i.test(Z))m=!0;else{if(!/^s(hift)$/i.test(Z))throw new Error("Unrecognized modifier name: "+Z);v=!0}}return u&&(o="Alt-"+o),m&&(o="Ctrl-"+o),x&&(o="Cmd-"+o),v&&(o="Shift-"+o),o}function Mo(o){return typeof o=="string"?Oa[o]:o}function wa(o,u,m,v,x){if(v&&v.shared)return fl(o,u,m,v,x);if(o.cm&&!o.cm.curOp)return yn(o.cm,wa)(o,u,m,v,x);var I=new Tl(o,x),U=Jt(u,m);if(v&&Fo(v,I,!1),U>0||U==0&&I.clearWhenEmpty!==!1)return I;if(I.replacedWith&&(I.collapsed=!0,I.widgetNode=Pt("span",[I.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||I.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(I.widgetNode.insertLeft=!0)),I.collapsed){if(Sc(o,u.line,u,m,I)||u.line!=m.line&&Sc(o,m.line,u,m,I))throw new Error("Inserting collapsed marker partially overlapping an existing one");ka=!0}I.addToHistory&&de(o,{from:u,to:m,origin:"markText"},o.sel,NaN);var Z,se=u.line,we=o.cm;if(o.iter(se,m.line+1,function(Ce){we&&I.collapsed&&!we.options.lineWrapping&&Gi(Ce)==we.display.maxLine&&(Z=!0),I.collapsed&&se!=u.line&&fo(Ce,0),gh(Ce,new Vi(I,se==u.line?u.ch:null,se==m.line?m.ch:null)),++se}),I.collapsed&&o.iter(u.line,m.line+1,function(Ce){cs(o,Ce)&&fo(Ce,0)}),I.clearOnEnter&&Xt(I,"beforeCursorEnter",function(){I.clear()}),I.readOnly&&(nw=!0,(o.history.done.length||o.history.undone.length)&&o.clearHistory()),I.collapsed&&(I.id=++mv,I.atomic=!0),we){if(Z&&(we.curOp.updateMaxLine=!0),I.collapsed)Zt(we,u.line,m.line+1);else if(I.className||I.title||I.startStyle||I.endStyle||I.css)for(var Ie=u.line;Ie<=m.line;Ie++)ai(we,Ie,"text");I.atomic&&xt(we.doc),ci(we,"markerAdded",we,I)}return I}function fl(o,u,m,v,x){v=Fo(v),v.shared=!1;var I=[wa(o,u,m,v,x)],U=I[0],Z=v.widgetNode;return us(o,function(se){Z&&(v.widgetNode=Z.cloneNode(!0)),I.push(wa(se,ut(se,u),ut(se,m),v,x));for(var we=0;we<se.linked.length;++we)if(se.linked[we].isParent)return;U=Cn(I)}),new rp(I,U)}function mh(o){return o.findMarks(st(o.first,0),o.clipPos(st(o.lastLine())),function(u){return u.parent})}function _c(o,u){for(var m=0;m<u.length;m++){var v=u[m],x=v.find(),I=o.clipPos(x.from),U=o.clipPos(x.to);if(Jt(I,U)){var Z=wa(o,I,U,v.primary,v.primary.type);v.markers.push(Z),Z.parent=v}}}function tv(o){for(var u=0;u<o.length;u++){var m=o[u],v=[m.primary.doc];us(m.primary.doc,function(U){v.push(U)});for(var x=0;x<m.markers.length;x++){var I=m.markers[x];wr(v,I.doc)==-1&&(I.parent=null,m.markers.splice(x--,1))}}}function Vi(o,u,m){this.marker=o,this.from=u,this.to=m}function as(o,u){if(o)for(var m=0;m<o.length;++m){var v=o[m];if(v.marker==u)return v}}function nv(o,u){for(var m,v=0;v<o.length;++v)o[v]!=u&&(m||(m=[])).push(o[v]);return m}function gh(o,u){o.markedSpans=o.markedSpans?o.markedSpans.concat([u]):[u],u.marker.attachLine(o)}function rv(o,u,m){if(o)for(var v,x=0;x<o.length;++x){var I=o[x],U=I.marker,Z=I.from==null||(U.inclusiveLeft?I.from<=u:I.from<u);if(Z||I.from==u&&U.type=="bookmark"&&(!m||!I.marker.insertLeft)){var se=I.to==null||(U.inclusiveRight?I.to>=u:I.to>u);(v||(v=[])).push(new Vi(U,I.from,se?null:I.to))}}return v}function Po(o,u,m){if(o)for(var v,x=0;x<o.length;++x){var I=o[x],U=I.marker,Z=I.to==null||(U.inclusiveRight?I.to>=u:I.to>u);if(Z||I.from==u&&U.type=="bookmark"&&(!m||I.marker.insertLeft)){var se=I.from==null||(U.inclusiveLeft?I.from<=u:I.from<u);(v||(v=[])).push(new Vi(U,se?null:I.from-u,I.to==null?null:I.to-u))}}return v}function vh(o,u){if(u.full)return null;var m=Bt(o,u.from.line)&&Mt(o,u.from.line).markedSpans,v=Bt(o,u.to.line)&&Mt(o,u.to.line).markedSpans;if(!m&&!v)return null;var x=u.from.ch,I=u.to.ch,U=Jt(u.from,u.to)==0,Z=rv(m,x,U),se=Po(v,I,U),we=u.text.length==1,Ie=Cn(u.text).length+(we?x:0);if(Z)for(var Ce=0;Ce<Z.length;++Ce){var je=Z[Ce];if(je.to==null){var We=as(se,je.marker);We?we&&(je.to=We.to==null?null:We.to+Ie):je.to=x}}if(se)for(var Ce=0;Ce<se.length;++Ce){var je=se[Ce];if(je.to!=null&&(je.to+=Ie),je.from==null){var We=as(Z,je.marker);We||(je.from=Ie,we&&(Z||(Z=[])).push(je))}else je.from+=Ie,we&&(Z||(Z=[])).push(je)}Z&&(Z=Us(Z)),se&&se!=Z&&(se=Us(se));var Be=[Z];if(!we){var lt,ft=u.text.length-2;if(ft>0&&Z)for(var Ce=0;Ce<Z.length;++Ce)Z[Ce].to==null&&(lt||(lt=[])).push(new Vi(Z[Ce].marker,null,null));for(var Ce=0;ft>Ce;++Ce)Be.push(lt);Be.push(se)}return Be}function Us(o){for(var u=0;u<o.length;++u){var m=o[u];m.from!=null&&m.from==m.to&&m.marker.clearWhenEmpty!==!1&&o.splice(u--,1)}return o.length?o:null}function Ff(o,u){var m=Wt(o,u),v=vh(o,u);if(!m)return v;if(!v)return m;for(var x=0;x<m.length;++x){var I=m[x],U=v[x];if(I&&U)e:for(var Z=0;Z<U.length;++Z){for(var se=U[Z],we=0;we<I.length;++we)if(I[we].marker==se.marker)continue e;I.push(se)}else U&&(m[x]=U)}return m}function No(o,u,m){var v=null;if(o.iter(u.line,m.line+1,function(We){if(We.markedSpans)for(var Be=0;Be<We.markedSpans.length;++Be){var lt=We.markedSpans[Be].marker;!lt.readOnly||v&&wr(v,lt)!=-1||(v||(v=[])).push(lt)}}),!v)return null;for(var x=[{from:u,to:m}],I=0;I<v.length;++I)for(var U=v[I],Z=U.find(0),se=0;se<x.length;++se){var we=x[se];if(!(Jt(we.to,Z.from)<0||Jt(we.from,Z.to)>0)){var Ie=[se,1],Ce=Jt(we.from,Z.from),je=Jt(we.to,Z.to);(0>Ce||!U.inclusiveLeft&&!Ce)&&Ie.push({from:we.from,to:Z.from}),(je>0||!U.inclusiveRight&&!je)&&Ie.push({from:Z.to,to:we.to}),x.splice.apply(x,Ie),se+=Ie.length-1}}return x}function pl(o){var u=o.markedSpans;if(u){for(var m=0;m<u.length;++m)u[m].marker.detachLine(o);o.markedSpans=null}}function yh(o,u){if(u){for(var m=0;m<u.length;++m)u[m].marker.attachLine(o);o.markedSpans=u}}function _a(o){return o.inclusiveLeft?-1:0}function Ws(o){return o.inclusiveRight?1:0}function xc(o,u){var m=o.lines.length-u.lines.length;if(m!=0)return m;var v=o.find(),x=u.find(),I=Jt(v.from,x.from)||_a(o)-_a(u);if(I)return-I;var U=Jt(v.to,x.to)||Ws(o)-Ws(u);return U||u.id-o.id}function ml(o,u){var m,v=ka&&o.markedSpans;if(v)for(var x,I=0;I<v.length;++I)x=v[I],x.marker.collapsed&&(u?x.from:x.to)==null&&(!m||xc(m,x.marker)<0)&&(m=x.marker);return m}function qs(o){return ml(o,!0)}function ls(o){return ml(o,!1)}function Sc(o,u,m,v,x){var I=Mt(o,u),U=ka&&I.markedSpans;if(U)for(var Z=0;Z<U.length;++Z){var se=U[Z];if(se.marker.collapsed){var we=se.marker.find(0),Ie=Jt(we.from,m)||_a(se.marker)-_a(x),Ce=Jt(we.to,v)||Ws(se.marker)-Ws(x);if(!(Ie>=0&&0>=Ce||0>=Ie&&Ce>=0)&&(0>=Ie&&(se.marker.inclusiveRight&&x.inclusiveLeft?Jt(we.to,m)>=0:Jt(we.to,m)>0)||Ie>=0&&(se.marker.inclusiveRight&&x.inclusiveLeft?Jt(we.from,v)<=0:Jt(we.from,v)<0)))return!0}}}function Gi(o){for(var u;u=qs(o);)o=u.find(-1,!0).line;return o}function iv(o){for(var u,m;u=ls(o);)o=u.find(1,!0).line,(m||(m=[])).push(o);return m}function xa(o,u){var m=Mt(o,u),v=Gi(m);return m==v?u:Mn(v)}function Bf(o,u){if(u>o.lastLine())return u;var m,v=Mt(o,u);if(!cs(o,v))return u;for(;m=ls(v);)v=m.find(1,!0).line;return Mn(v)+1}function cs(o,u){var m=ka&&u.markedSpans;if(m){for(var v,x=0;x<m.length;++x)if(v=m[x],v.marker.collapsed&&(v.from==null||!v.marker.widgetNode&&v.from==0&&v.marker.inclusiveLeft&&bh(o,u,v)))return!0}}function bh(o,u,m){if(m.to==null){var v=m.marker.find(1,!0);return bh(o,v.line,as(v.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==u.text.length)return!0;for(var x,I=0;I<u.markedSpans.length;++I)if(x=u.markedSpans[I],x.marker.collapsed&&!x.marker.widgetNode&&x.from==m.to&&(x.to==null||x.to!=m.from)&&(x.marker.inclusiveLeft||m.marker.inclusiveRight)&&bh(o,u,x))return!0}function wh(o,u,m){Do(u)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&dl(o,null,m)}function gl(o){if(o.height!=null)return o.height;var u=o.doc.cm;if(!u)return 0;if(!vv(document.body,o.node)){var m="position: relative;";o.coverGutter&&(m+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),o.noHScroll&&(m+="width: "+u.display.wrapper.clientWidth+"px;"),Yi(u.display.measure,Pt("div",[o.node],null,m))}return o.height=o.node.parentNode.offsetHeight}function ho(o,u,m,v){var x=new ip(o,m,v),I=o.cm;return I&&x.noHScroll&&(I.display.alignWidgets=!0),wc(o,u,"widget",function(U){var Z=U.widgets||(U.widgets=[]);if(x.insertAt==null?Z.push(x):Z.splice(Math.min(Z.length-1,Math.max(0,x.insertAt)),0,x),x.line=U,I&&!cs(o,U)){var se=Do(U)<o.scrollTop;fo(U,U.height+gl(x)),se&&dl(I,null,x.height),I.curOp.forceUpdate=!0}return!0}),x}function Ec(o,u,m,v){o.text=u,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),pl(o),yh(o,m);var x=v?v(o):1;x!=o.height&&fo(o,x)}function ov(o){o.parent=null,pl(o)}function vl(o,u){if(o)for(;;){var m=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;o=o.slice(0,m.index)+o.slice(m.index+m[0].length);var v=m[1]?"bgClass":"textClass";u[v]==null?u[v]=m[2]:new RegExp("(?:^|s)"+m[2]+"(?:$|s)").test(u[v])||(u[v]+=" "+m[2])}return o}function jf(o,u){if(o.blankLine)return o.blankLine(u);if(o.innerMode){var m=s.innerMode(o,u);return m.mode.blankLine?m.mode.blankLine(m.state):void 0}}function Ac(o,u,m,v){for(var x=0;10>x;x++){v&&(v[0]=s.innerMode(o,m).mode);var I=o.token(u,m);if(u.pos>u.start)return I}throw new Error("Mode "+o.name+" failed to advance stream.")}function $f(o,u,m,v){function x(je){return{start:Ce.start,end:Ce.pos,string:Ce.current(),type:I||null,state:je?Ca(U.mode,Ie):Ie}}var I,U=o.doc,Z=U.mode;u=ut(U,u);var se,we=Mt(U,u.line),Ie=Lr(o,u.line,m),Ce=new np(we.text,o.options.tabSize);for(v&&(se=[]);(v||Ce.pos<u.ch)&&!Ce.eol();)Ce.start=Ce.pos,I=Ac(Z,Ce,Ie),v&&se.push(x(!0));return v?se:x()}function Sa(o,u,m,v,x,I,U){var Z=m.flattenSpans;Z==null&&(Z=o.options.flattenSpans);var se,we=0,Ie=null,Ce=new np(u,o.options.tabSize),je=o.options.addModeClass&&[null];for(u==""&&vl(jf(m,v),I);!Ce.eol();){if(Ce.pos>o.options.maxHighlightLength?(Z=!1,U&&Tc(o,u,v,Ce.pos),Ce.pos=u.length,se=null):se=vl(Ac(m,Ce,v,je),I),je){var We=je[0].name;We&&(se="m-"+(se?We+" "+se:We))}if(!Z||Ie!=se){for(;we<Ce.start;)we=Math.min(Ce.start,we+5e4),x(we,Ie);Ie=se}Ce.start=Ce.pos}for(;we<Ce.pos;){var Be=Math.min(Ce.pos,we+5e4);x(Be,Ie),we=Be}}function Hf(o,u,m,v){var x=[o.state.modeGen],I={};Sa(o,u.text,o.doc.mode,m,function(Ie,Ce){x.push(Ie,Ce)},I,v);for(var U=0;U<o.state.overlays.length;++U){var Z=o.state.overlays[U],se=1,we=0;Sa(o,u.text,Z.mode,!0,function(Ie,Ce){for(var je=se;Ie>we;){var We=x[se];We>Ie&&x.splice(se,1,Ie,x[se+1],We),se+=2,we=Math.min(Ie,We)}if(Ce)if(Z.opaque)x.splice(je,se-je,Ie,"cm-overlay "+Ce),se=je+2;else for(;se>je;je+=2){var Be=x[je+1];x[je+1]=(Be?Be+" ":"")+"cm-overlay "+Ce}},I)}return{styles:x,classes:I.bgClass||I.textClass?I:null}}function Vs(o,u,m){if(!u.styles||u.styles[0]!=o.state.modeGen){var v=Lr(o,Mn(u)),x=Hf(o,u,u.text.length>o.options.maxHighlightLength?Ca(o.doc.mode,v):v);u.stateAfter=v,u.styles=x.styles,x.classes?u.styleClasses=x.classes:u.styleClasses&&(u.styleClasses=null),m===o.doc.frontier&&o.doc.frontier++}return u.styles}function Tc(o,u,m,v){var x=o.doc.mode,I=new np(u,o.options.tabSize);for(I.start=I.pos=v||0,u==""&&jf(x,m);!I.eol();)Ac(x,I,m),I.start=I.pos}function _h(o,u){if(!o||/^\s*$/.test(o))return null;var m=u.addModeClass?hL:uL;return m[o]||(m[o]=o.replace(/\S+/g,"cm-$&"))}function zf(o,u){var m=Pt("span",null,null,Wr?"padding-right: .1px":null),v={pre:Pt("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:o,splitSpaces:(_n||Wr)&&o.getOption("lineWrapping")};u.measure={};for(var x=0;x<=(u.rest?u.rest.length:0);x++){var I,U=x?u.rest[x-1]:u.line;v.pos=0,v.addToken=Uf,GO(o.display.measure)&&(I=a(U))&&(v.addToken=yl(v.addToken,I)),v.map=[];var Z=u!=o.display.externalMeasured&&Mn(U);kc(U,v,Vs(o,U,Z)),U.styleClasses&&(U.styleClasses.bgClass&&(v.bgClass=sv(U.styleClasses.bgClass,v.bgClass||"")),U.styleClasses.textClass&&(v.textClass=sv(U.styleClasses.textClass,v.textClass||""))),v.map.length==0&&v.map.push(0,0,v.content.appendChild(VO(o.display.measure))),x==0?(u.measure.map=v.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(v.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(Wr){var se=v.content.lastChild;(/\bcm-tab\b/.test(se.className)||se.querySelector&&se.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return Nr(o,"renderLine",o,u.line,v.pre),v.pre.className&&(v.textClass=sv(v.pre.className,v.textClass||"")),v}function Io(o){var u=Pt("span","•","cm-invalidchar");return u.title="\\u"+o.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function Uf(o,u,m,v,x,I,U){if(u){var Z=o.splitSpaces?u.replace(/ {3,}/g,Wf):u,se=o.cm.state.specialChars,we=!1;if(se.test(u))for(var Ie=document.createDocumentFragment(),Ce=0;;){se.lastIndex=Ce;var je=se.exec(u),We=je?je.index-Ce:u.length-Ce;if(We){var Be=document.createTextNode(Z.slice(Ce,Ce+We));_n&&9>Un?Ie.appendChild(Pt("span",[Be])):Ie.appendChild(Be),o.map.push(o.pos,o.pos+We,Be),o.col+=We,o.pos+=We}if(!je)break;if(Ce+=We+1,je[0]=="	"){var lt=o.cm.options.tabSize,ft=lt-o.col%lt,Be=Ie.appendChild(Pt("span",Eh(ft),"cm-tab"));Be.setAttribute("role","presentation"),Be.setAttribute("cm-text","	"),o.col+=ft}else if(je[0]=="\r"||je[0]==`
`){var Be=Ie.appendChild(Pt("span",je[0]=="\r"?"␍":"␤","cm-invalidchar"));Be.setAttribute("cm-text",je[0]),o.col+=1}else{var Be=o.cm.options.specialCharPlaceholder(je[0]);Be.setAttribute("cm-text",je[0]),_n&&9>Un?Ie.appendChild(Pt("span",[Be])):Ie.appendChild(Be),o.col+=1}o.map.push(o.pos,o.pos+1,Be),o.pos++}else{o.col+=u.length;var Ie=document.createTextNode(Z);o.map.push(o.pos,o.pos+u.length,Ie),_n&&9>Un&&(we=!0),o.pos+=u.length}if(m||v||x||we||U){var Et=m||"";v&&(Et+=v),x&&(Et+=x);var Nt=Pt("span",[Ie],Et,U);return I&&(Nt.title=I),o.content.appendChild(Nt)}o.content.appendChild(Ie)}}function Wf(o){for(var u=" ",m=0;m<o.length-2;++m)u+=m%2?" ":" ";return u+=" "}function yl(o,u){return function(m,v,x,I,U,Z,se){x=x?x+" cm-force-border":"cm-force-border";for(var we=m.pos,Ie=we+v.length;;){for(var Ce=0;Ce<u.length;Ce++){var je=u[Ce];if(je.to>we&&je.from<=we)break}if(je.to>=Ie)return o(m,v,x,I,U,Z,se);o(m,v.slice(0,je.to-we),x,I,null,Z,se),I=null,v=v.slice(je.to-we),we=je.to}}}function qf(o,u,m,v){var x=!v&&m.widgetNode;x&&o.map.push(o.pos,o.pos+u,x),!v&&o.cm.display.input.needsContentAttribute&&(x||(x=o.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",m.id)),x&&(o.cm.display.input.setUneditable(x),o.content.appendChild(x)),o.pos+=u}function kc(o,u,m){var v=o.markedSpans,x=o.text,I=0;if(v)for(var U,Z,se,we,Ie,Ce,je,We=x.length,Be=0,lt=1,ft="",Et=0;;){if(Et==Be){se=we=Ie=Ce=Z="",je=null,Et=1/0;for(var Nt,Ot=[],Tn=0;Tn<v.length;++Tn){var At=v[Tn],jt=At.marker;jt.type=="bookmark"&&At.from==Be&&jt.widgetNode?Ot.push(jt):At.from<=Be&&(At.to==null||At.to>Be||jt.collapsed&&At.to==Be&&At.from==Be)?(At.to!=null&&At.to!=Be&&Et>At.to&&(Et=At.to,we=""),jt.className&&(se+=" "+jt.className),jt.css&&(Z=(Z?Z+";":"")+jt.css),jt.startStyle&&At.from==Be&&(Ie+=" "+jt.startStyle),jt.endStyle&&At.to==Et&&(Nt||(Nt=[])).push(jt.endStyle,At.to),jt.title&&!Ce&&(Ce=jt.title),jt.collapsed&&(!je||xc(je.marker,jt)<0)&&(je=At)):At.from>Be&&Et>At.from&&(Et=At.from)}if(Nt)for(var Tn=0;Tn<Nt.length;Tn+=2)Nt[Tn+1]==Et&&(we+=" "+Nt[Tn]);if(!je||je.from==Be)for(var Tn=0;Tn<Ot.length;++Tn)qf(u,0,Ot[Tn]);if(je&&(je.from||0)==Be){if(qf(u,(je.to==null?We+1:je.to)-Be,je.marker,je.from==null),je.to==null)return;je.to==Be&&(je=!1)}}if(Be>=We)break;for(var Yt=Math.min(We,Et);;){if(ft){var Ir=Be+ft.length;if(!je){var Er=Ir>Yt?ft.slice(0,Yt-Be):ft;u.addToken(u,Er,U?U+se:se,Ie,Be+Er.length==Et?we:"",Ce,Z)}if(Ir>=Yt){ft=ft.slice(Yt-Be),Be=Yt;break}Be=Ir,Ie=""}ft=x.slice(I,I=m[lt++]),U=_h(m[lt++],u.cm.options)}}else for(var lt=1;lt<m.length;lt+=2)u.addToken(u,x.slice(I,I=m[lt]),_h(m[lt+1],u.cm.options))}function Ea(o,u){return u.from.ch==0&&u.to.ch==0&&Cn(u.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function Cc(o,u,m,v){function x(ft){return m?m[ft]:null}function I(ft,Et,Nt){Ec(ft,Et,Nt,v),ci(ft,"change",ft,u)}function U(ft,Et){for(var Nt=ft,Ot=[];Et>Nt;++Nt)Ot.push(new Ph(we[Nt],x(Nt),v));return Ot}var Z=u.from,se=u.to,we=u.text,Ie=Mt(o,Z.line),Ce=Mt(o,se.line),je=Cn(we),We=x(we.length-1),Be=se.line-Z.line;if(u.full)o.insert(0,U(0,we.length)),o.remove(we.length,o.size-we.length);else if(Ea(o,u)){var lt=U(0,we.length-1);I(Ce,Ce.text,We),Be&&o.remove(Z.line,Be),lt.length&&o.insert(Z.line,lt)}else if(Ie==Ce)if(we.length==1)I(Ie,Ie.text.slice(0,Z.ch)+je+Ie.text.slice(se.ch),We);else{var lt=U(1,we.length-1);lt.push(new Ph(je+Ie.text.slice(se.ch),We,v)),I(Ie,Ie.text.slice(0,Z.ch)+we[0],x(0)),o.insert(Z.line+1,lt)}else if(we.length==1)I(Ie,Ie.text.slice(0,Z.ch)+we[0]+Ce.text.slice(se.ch),x(0)),o.remove(Z.line+1,Be);else{I(Ie,Ie.text.slice(0,Z.ch)+we[0],x(0)),I(Ce,je+Ce.text.slice(se.ch),We);var lt=U(1,we.length-1);Be>1&&o.remove(Z.line+1,Be-1),o.insert(Z.line+1,lt)}ci(o,"change",o,u)}function Aa(o){this.lines=o,this.parent=null;for(var u=0,m=0;u<o.length;++u)o[u].parent=this,m+=o[u].height;this.height=m}function bl(o){this.children=o;for(var u=0,m=0,v=0;v<o.length;++v){var x=o[v];u+=x.chunkSize(),m+=x.height,x.parent=this}this.size=u,this.height=m,this.parent=null}function us(o,u,m){function v(x,I,U){if(x.linked)for(var Z=0;Z<x.linked.length;++Z){var se=x.linked[Z];if(se.doc!=I){var we=U&&se.sharedHist;m&&!we||(u(se.doc,we),v(se.doc,x,we))}}}v(o,null,!0)}function xh(o,u){if(u.cm)throw new Error("This document is already in use.");o.doc=u,u.cm=o,g(o),h(o),o.options.lineWrapping||M(o),o.options.mode=u.modeOption,Zt(o)}function Mt(o,u){if(u-=o.first,0>u||u>=o.size)throw new Error("There is no line "+(u+o.first)+" in the document.");for(var m=o;!m.lines;)for(var v=0;;++v){var x=m.children[v],I=x.chunkSize();if(I>u){m=x;break}u-=I}return m.lines[u]}function hs(o,u,m){var v=[],x=u.line;return o.iter(u.line,m.line+1,function(I){var U=I.text;x==m.line&&(U=U.slice(0,m.ch)),x==u.line&&(U=U.slice(u.ch)),v.push(U),++x}),v}function Oc(o,u,m){var v=[];return o.iter(u,m,function(x){v.push(x.text)}),v}function fo(o,u){var m=u-o.height;if(m)for(var v=o;v;v=v.parent)v.height+=m}function Mn(o){if(o.parent==null)return null;for(var u=o.parent,m=wr(u.lines,o),v=u.parent;v;u=v,v=v.parent)for(var x=0;v.children[x]!=u;++x)m+=v.children[x].chunkSize();return m+u.first}function ds(o,u){var m=o.first;e:do{for(var v=0;v<o.children.length;++v){var x=o.children[v],I=x.height;if(I>u){o=x;continue e}u-=I,m+=x.chunkSize()}return m}while(!o.lines);for(var v=0;v<o.lines.length;++v){var U=o.lines[v],Z=U.height;if(Z>u)break;u-=Z}return m+v}function Do(o){o=Gi(o);for(var u=0,m=o.parent,v=0;v<m.lines.length;++v){var x=m.lines[v];if(x==o)break;u+=x.height}for(var I=m.parent;I;m=I,I=m.parent)for(var v=0;v<I.children.length;++v){var U=I.children[v];if(U==m)break;u+=U.height}return u}function a(o){var u=o.order;return u==null&&(u=o.order=wL(o.text)),u}function p(o){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o||1}function S(o,u){var m={from:Ae(u.from),to:Al(u),text:hs(o,u.from,u.to)};return tt(o,m,u.from.line,u.to.line+1),us(o,function(v){tt(v,m,u.from.line,u.to.line+1)},!0),m}function j(o){for(;o.length;){var u=Cn(o);if(!u.ranges)break;o.pop()}}function G(o,u){return u?(j(o.done),Cn(o.done)):o.done.length&&!Cn(o.done).ranges?Cn(o.done):o.done.length>1&&!o.done[o.done.length-2].ranges?(o.done.pop(),Cn(o.done)):void 0}function de(o,u,m,v){var x=o.history;x.undone.length=0;var I,U=+new Date;if((x.lastOp==v||x.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&o.cm&&x.lastModTime>U-o.cm.options.historyEventDelay||u.origin.charAt(0)=="*"))&&(I=G(x,x.lastOp==v))){var Z=Cn(I.changes);Jt(u.from,u.to)==0&&Jt(u.from,Z.to)==0?Z.to=Al(u):I.changes.push(S(o,u))}else{var se=Cn(x.done);for(se&&se.ranges||qe(o.sel,x.done),I={changes:[S(o,u)],generation:x.generation},x.done.push(I);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(m),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=U,x.lastOp=x.lastSelOp=v,x.lastOrigin=x.lastSelOrigin=u.origin,Z||Nr(o,"historyAdded")}function Pe(o,u,m,v){var x=u.charAt(0);return x=="*"||x=="+"&&m.ranges.length==v.ranges.length&&m.somethingSelected()==v.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function ze(o,u,m,v){var x=o.history,I=v&&v.origin;m==x.lastSelOp||I&&x.lastSelOrigin==I&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==I||Pe(o,I,Cn(x.done),u))?x.done[x.done.length-1]=u:qe(u,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=I,x.lastSelOp=m,v&&v.clearRedo!==!1&&j(x.undone)}function qe(o,u){var m=Cn(u);m&&m.ranges&&m.equals(o)||u.push(o)}function tt(o,u,m,v){var x=u["spans_"+o.id],I=0;o.iter(Math.max(o.first,m),Math.min(o.first+o.size,v),function(U){U.markedSpans&&((x||(x=u["spans_"+o.id]={}))[I]=U.markedSpans),++I})}function wt(o){if(!o)return null;for(var u,m=0;m<o.length;++m)o[m].marker.explicitlyCleared?u||(u=o.slice(0,m)):u&&u.push(o[m]);return u?u.length?u:null:o}function Wt(o,u){var m=u["spans_"+o.id];if(!m)return null;for(var v=0,x=[];v<u.text.length;++v)x.push(wt(m[v]));return x}function on(o,u,m){for(var v=0,x=[];v<o.length;++v){var I=o[v];if(I.ranges)x.push(m?Vt.prototype.deepCopy.call(I):I);else{var U=I.changes,Z=[];x.push({changes:Z});for(var se=0;se<U.length;++se){var we,Ie=U[se];if(Z.push({from:Ie.from,to:Ie.to,text:Ie.text}),u)for(var Ce in Ie)(we=Ce.match(/^spans_(\d+)$/))&&wr(u,Number(we[1]))>-1&&(Cn(Z)[Ce]=Ie[Ce],delete Ie[Ce])}}}return x}function zr(o,u,m,v){m<o.line?o.line+=v:u<o.line&&(o.line=u,o.ch=0)}function yr(o,u,m,v){for(var x=0;x<o.length;++x){var I=o[x],U=!0;if(I.ranges){I.copied||(I=o[x]=I.deepCopy(),I.copied=!0);for(var Z=0;Z<I.ranges.length;Z++)zr(I.ranges[Z].anchor,u,m,v),zr(I.ranges[Z].head,u,m,v)}else{for(var Z=0;Z<I.changes.length;++Z){var se=I.changes[Z];if(m<se.from.line)se.from=st(se.from.line+v,se.from.ch),se.to=st(se.to.line+v,se.to.ch);else if(u<=se.to.line){U=!1;break}}U||(o.splice(0,x+1),x=0)}}}function bi(o,u){var m=u.from.line,v=u.to.line,x=u.text.length-(v-m)-1;yr(o.done,m,v,x),yr(o.undone,m,v,x)}function Ur(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==0}function fs(o){return o.target||o.srcElement}function Vf(o){var u=o.which;return u==null&&(1&o.button?u=1:2&o.button?u=3:4&o.button&&(u=2)),jo&&o.ctrlKey&&u==1&&(u=3),u}function Lc(o,u,m){var v=o._handlers&&o._handlers[u];return m?v&&v.length>0?v.slice():aw:v||aw}function ci(o,u){function m(Z){return function(){Z.apply(null,I)}}var v=Lc(o,u,!1);if(v.length){var x,I=Array.prototype.slice.call(arguments,2);Pc?x=Pc.delayedCallbacks:Nh?x=Nh:(x=Nh=[],setTimeout(Gf,0));for(var U=0;U<v.length;++U)x.push(m(v[U]))}}function Gf(){var o=Nh;Nh=null;for(var u=0;u<o.length;++u)o[u]()}function br(o,u,m){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),Nr(o,m||u.type,o,u),Ur(u)||u.codemirrorIgnore}function Sh(o){var u=o._handlers&&o._handlers.cursorActivity;if(u)for(var m=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),v=0;v<u.length;++v)wr(m,u[v])==-1&&m.push(u[v])}function On(o,u){return Lc(o,u).length>0}function Ro(o){o.prototype.on=function(u,m){Xt(this,u,m)},o.prototype.off=function(u,m){ms(this,u,m)}}function Gs(){this.id=null}function Eh(o){for(;ap.length<=o;)ap.push(Cn(ap)+" ");return ap[o]}function Cn(o){return o[o.length-1]}function wr(o,u){for(var m=0;m<o.length;++m)if(o[m]==u)return m;return-1}function wl(o,u){for(var m=[],v=0;v<o.length;v++)m[v]=u(o[v],v);return m}function _l(){}function q1(o,u){var m;return Object.create?m=Object.create(o):(_l.prototype=o,m=new _l),u&&Fo(u,m),m}function Fo(o,u,m){u||(u={});for(var v in o)!o.hasOwnProperty(v)||m===!1&&u.hasOwnProperty(v)||(u[v]=o[v]);return u}function Ah(o){var u=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,u)}}function Yf(o,u){return u?u.source.indexOf("\\w")>-1&&hw(o)?!0:u.test(o):hw(o)}function V1(o){for(var u in o)if(o.hasOwnProperty(u)&&o[u])return!1;return!0}function Th(o){return o.charCodeAt(0)>=768&&gL.test(o)}function Pt(o,u,m,v){var x=document.createElement(o);if(m&&(x.className=m),v&&(x.style.cssText=v),typeof u=="string")x.appendChild(document.createTextNode(u));else if(u)for(var I=0;I<u.length;++I)x.appendChild(u[I]);return x}function xl(o){for(var u=o.childNodes.length;u>0;--u)o.removeChild(o.firstChild);return o}function Yi(o,u){return xl(o).appendChild(u)}function ps(){for(var o=document.activeElement;o&&o.root&&o.root.activeElement;)o=o.root.activeElement;return o}function kh(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}function sv(o,u){for(var m=o.split(" "),v=0;v<m.length;v++)m[v]&&!kh(m[v]).test(u)&&(u+=" "+m[v]);return u}function G1(o){if(document.body.getElementsByClassName)for(var u=document.body.getElementsByClassName("CodeMirror"),m=0;m<u.length;m++){var v=u[m].CodeMirror;v&&o(v)}}function WO(){dw||(qO(),dw=!0)}function qO(){var o;Xt(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,G1(Wi)},100))}),Xt(window,"blur",function(){G1($s)})}function VO(o){if(yv==null){var u=Pt("span","​");Yi(o,Pt("span",[u,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(yv=u.offsetWidth<=1&&u.offsetHeight>2&&!(_n&&8>Un))}var m=yv?Pt("span","​"):Pt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}function GO(o){if(bv!=null)return bv;var u=Yi(o,document.createTextNode("AخA")),m=kl(u,0,1).getBoundingClientRect();if(!m||m.left==m.right)return!1;var v=kl(u,1,2).getBoundingClientRect();return bv=v.right-m.right<3}function YO(o){if(wv!=null)return wv;var u=Yi(o,Pt("span","x")),m=u.getBoundingClientRect(),v=kl(u,0,1).getBoundingClientRect();return wv=Math.abs(m.left-v.left)>1}function KO(o,u,m,v){if(!o)return v(u,m,"ltr");for(var x=!1,I=0;I<o.length;++I){var U=o[I];(U.from<m&&U.to>u||u==m&&U.to==u)&&(v(Math.max(U.from,u),Math.min(U.to,m),U.level==1?"rtl":"ltr"),x=!0)}x||v(u,m,"ltr")}function av(o){return o.level%2?o.to:o.from}function lv(o){return o.level%2?o.from:o.to}function Kf(o){var u=a(o);return u?av(u[0]):0}function Zf(o){var u=a(o);return u?lv(Cn(u)):o.text.length}function Y1(o,u){var m=Mt(o.doc,u),v=Gi(m);v!=m&&(u=Mn(v));var x=a(v),I=x?x[0].level%2?Zf(v):Kf(v):0;return st(u,I)}function ZO(o,u){for(var m,v=Mt(o.doc,u);m=ls(v);)v=m.find(1,!0).line,u=null;var x=a(v),I=x?x[0].level%2?Kf(v):Zf(v):v.text.length;return st(u??Mn(v),I)}function K1(o,u){var m=Y1(o,u.line),v=Mt(o.doc,m.line),x=a(v);if(!x||x[0].level==0){var I=Math.max(0,v.text.search(/\S/)),U=u.line==m.line&&u.ch<=I&&u.ch;return st(m.line,U?0:I)}return m}function XO(o,u,m){var v=o[0].level;return u==v?!0:m==v?!1:m>u}function Xf(o,u){Fh=null;for(var m,v=0;v<o.length;++v){var x=o[v];if(x.from<u&&x.to>u)return v;if(x.from==u||x.to==u){if(m!=null)return XO(o,x.level,o[m].level)?(x.from!=x.to&&(Fh=m),v):(x.from!=x.to&&(Fh=v),m);m=v}}return m}function cv(o,u,m,v){if(!v)return u+m;do u+=m;while(u>0&&Th(o.text.charAt(u)));return u}function uv(o,u,m,v){var x=a(o);if(!x)return Z1(o,u,m,v);for(var I=Xf(x,u),U=x[I],Z=cv(o,u,U.level%2?-m:m,v);;){if(Z>U.from&&Z<U.to)return Z;if(Z==U.from||Z==U.to)return Xf(x,Z)==I?Z:(U=x[I+=m],m>0==U.level%2?U.to:U.from);if(U=x[I+=m],!U)return null;Z=m>0==U.level%2?cv(o,U.to,-1,v):cv(o,U.from,1,v)}}function Z1(o,u,m,v){var x=u+m;if(v)for(;x>0&&Th(o.text.charAt(x));)x+=m;return 0>x||x>o.text.length?null:x}var Mi=navigator.userAgent,X1=navigator.platform,Ta=/gecko\/\d/i.test(Mi),J1=/MSIE \d/.test(Mi),Q1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mi),_n=J1||Q1,Un=_n&&(J1?document.documentMode||6:Q1[1]),Wr=/WebKit\//.test(Mi),JO=Wr&&/Qt\/\d+\.\d+/.test(Mi),QO=/Chrome\//.test(Mi),Bo=/Opera\//.test(Mi),ew=/Apple Computer/.test(navigator.vendor),eL=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Mi),tL=/PhantomJS/.test(Mi),Mc=/AppleWebKit/.test(Mi)&&/Mobile\/\w+/.test(Mi),Ch=Mc||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Mi),jo=Mc||/Mac/.test(X1),nL=/\bCrOS\b/.test(Mi),rL=/win/i.test(X1),Sl=Bo&&Mi.match(/Version\/(\d*\.\d*)/);Sl&&(Sl=Number(Sl[1])),Sl&&Sl>=15&&(Bo=!1,Wr=!0);var tw=jo&&(JO||Bo&&(Sl==null||12.11>Sl)),hv=Ta||_n&&Un>=9,nw=!1,ka=!1;A.prototype=Fo({update:function(o){var u=o.scrollWidth>o.clientWidth+1,m=o.scrollHeight>o.clientHeight+1,v=o.nativeBarWidth;if(m){this.vert.style.display="block",this.vert.style.bottom=u?v+"px":"0";var x=o.viewHeight-(u?v:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+x)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=m?v+"px":"0",this.horiz.style.left=o.barLeft+"px";var I=o.viewWidth-o.barLeft-(m?v:0);this.horiz.firstChild.style.width=o.scrollWidth-o.clientWidth+I+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(v==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?v:0,bottom:u?v:0}},setScrollLeft:function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var o=jo&&!eL?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Gs,this.disableVert=new Gs},enableZeroWidthBar:function(o,u){function m(){var v=o.getBoundingClientRect(),x=document.elementFromPoint(v.left+1,v.bottom-1);x!=o?o.style.pointerEvents="none":u.set(1e3,m)}o.style.pointerEvents="auto",u.set(1e3,m)},clear:function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)}},A.prototype),N.prototype=Fo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},N.prototype),s.scrollbarModel={native:A,null:N},ee.prototype.signal=function(o,u){On(o,u)&&this.events.push(arguments)},ee.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Nr.apply(null,this.events[o])};var st=s.Pos=function(o,u){return this instanceof st?(this.line=o,void(this.ch=u)):new st(o,u)},Jt=s.cmpPos=function(o,u){return o.line-u.line||o.ch-u.ch},wi=null;re.prototype=Fo({init:function(o){function u(U){if(!br(v,U)){if(v.somethingSelected())wi={lineWise:!1,text:v.getSelections()},m.inaccurateSelection&&(m.prevInput="",m.inaccurateSelection=!1,I.value=wi.text.join(`
`),Dc(I));else{if(!v.options.lineWiseCopyCut)return;var Z=F(v);wi={lineWise:!0,text:Z.text},U.type=="cut"?v.setSelections(Z.ranges,null,Ys):(m.prevInput="",I.value=Z.text.join(`
`),Dc(I))}U.type=="cut"&&(v.state.cutIncoming=!0)}}var m=this,v=this.cm,x=this.wrapper=_e(),I=this.textarea=x.firstChild;o.wrapper.insertBefore(x,o.wrapper.firstChild),Mc&&(I.style.width="0px"),Xt(I,"input",function(){_n&&Un>=9&&m.hasSelection&&(m.hasSelection=null),m.poll()}),Xt(I,"paste",function(U){br(v,U)||he(U,v)||(v.state.pasteIncoming=!0,m.fastPoll())}),Xt(I,"cut",u),Xt(I,"copy",u),Xt(o.scroller,"paste",function(U){W(o,U)||br(v,U)||(v.state.pasteIncoming=!0,m.focus())}),Xt(o.lineSpace,"selectstart",function(U){W(o,U)||ui(U)}),Xt(I,"compositionstart",function(){var U=v.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:U,range:v.markText(U,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Xt(I,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},prepareSelection:function(){var o=this.cm,u=o.display,m=o.doc,v=fr(o);if(o.options.moveInputWithCursor){var x=gr(o,m.sel.primary().head,"div"),I=u.wrapper.getBoundingClientRect(),U=u.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,x.top+U.top-I.top)),v.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,x.left+U.left-I.left))}return v},showSelection:function(o){var u=this.cm,m=u.display;Yi(m.cursorDiv,o.cursors),Yi(m.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},reset:function(o){if(!this.contextMenuPending){var u,m,v=this.cm,x=v.doc;if(v.somethingSelected()){this.prevInput="";var I=x.sel.primary();u=fw&&(I.to().line-I.from().line>100||(m=v.getSelection()).length>1e3);var U=u?"-":m||v.getSelection();this.textarea.value=U,v.state.focused&&Dc(this.textarea),_n&&Un>=9&&(this.hasSelection=U)}else o||(this.prevInput=this.textarea.value="",_n&&Un>=9&&(this.hasSelection=null));this.inaccurateSelection=u}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!Ch||ps()!=this.textarea))try{this.textarea.focus()}catch{}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var o=this;o.pollingFast||o.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},fastPoll:function(){function o(){var v=m.poll();v||u?(m.pollingFast=!1,m.slowPoll()):(u=!0,m.polling.set(60,o))}var u=!1,m=this;m.pollingFast=!0,m.polling.set(20,o)},poll:function(){var o=this.cm,u=this.textarea,m=this.prevInput;if(this.contextMenuPending||!o.state.focused||bL(u)&&!m&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var v=u.value;if(v==m&&!o.somethingSelected())return!1;if(_n&&Un>=9&&this.hasSelection===v||jo&&/[\uf700-\uf7ff]/.test(v))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var x=v.charCodeAt(0);if(x!=8203||m||(m="​"),x==8666)return this.reset(),this.cm.execCommand("undo")}for(var I=0,U=Math.min(m.length,v.length);U>I&&m.charCodeAt(I)==v.charCodeAt(I);)++I;var Z=this;return tr(o,function(){le(o,v.slice(I),m.length-I,null,Z.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?u.value=Z.prevInput="":Z.prevInput=v,Z.composing&&(Z.composing.range.clear(),Z.composing.range=o.markText(Z.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){_n&&Un>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(o){function u(){if(U.selectionStart!=null){var lt=x.somethingSelected(),ft="​"+(lt?U.value:"");U.value="⇚",U.value=ft,v.prevInput=lt?"":"​",U.selectionStart=1,U.selectionEnd=ft.length,I.selForContextMenu=x.doc.sel}}function m(){if(v.contextMenuPending=!1,v.wrapper.style.cssText=Ce,U.style.cssText=Ie,_n&&9>Un&&I.scrollbars.setScrollTop(I.scroller.scrollTop=se),U.selectionStart!=null){(!_n||_n&&9>Un)&&u();var lt=0,ft=function(){I.selForContextMenu==x.doc.sel&&U.selectionStart==0&&U.selectionEnd>0&&v.prevInput=="​"?yn(x,tp.selectAll)(x):lt++<10?I.detectingSelectAll=setTimeout(ft,500):I.input.reset()};I.detectingSelectAll=setTimeout(ft,200)}}var v=this,x=v.cm,I=x.display,U=v.textarea,Z=ge(x,o),se=I.scroller.scrollTop;if(Z&&!Bo){var we=x.options.resetSelectionOnContextMenu;we&&x.doc.sel.contains(Z)==-1&&yn(x,Xe)(x.doc,bt(Z),Ys);var Ie=U.style.cssText,Ce=v.wrapper.style.cssText;v.wrapper.style.cssText="position: absolute";var je=v.wrapper.getBoundingClientRect();if(U.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(o.clientY-je.top-5)+"px; left: "+(o.clientX-je.left-5)+"px; z-index: 1000; background: "+(_n?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Wr)var We=window.scrollY;if(I.input.focus(),Wr&&window.scrollTo(null,We),I.input.reset(),x.somethingSelected()||(U.value=v.prevInput=" "),v.contextMenuPending=!0,I.selForContextMenu=x.doc.sel,clearTimeout(I.detectingSelectAll),_n&&Un>=9&&u(),hv){sp(o);var Be=function(){ms(window,"mouseup",Be),setTimeout(m,20)};Xt(window,"mouseup",Be)}else setTimeout(m,50)}},readOnlyChanged:function(o){o||this.reset()},setUneditable:_l,needsContentAttribute:!1},re.prototype),Le.prototype=Fo({init:function(o){function u(I){if(!br(v,I)){if(v.somethingSelected())wi={lineWise:!1,text:v.getSelections()},I.type=="cut"&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var U=F(v);wi={lineWise:!0,text:U.text},I.type=="cut"&&v.operation(function(){v.setSelections(U.ranges,0,Ys),v.replaceSelection("",null,"cut")})}if(I.clipboardData&&!Mc)I.preventDefault(),I.clipboardData.clearData(),I.clipboardData.setData("text/plain",wi.text.join(`
`));else{var Z=_e(),se=Z.firstChild;v.display.lineSpace.insertBefore(Z,v.display.lineSpace.firstChild),se.value=wi.text.join(`
`);var we=document.activeElement;Dc(se),setTimeout(function(){v.display.lineSpace.removeChild(Z),we.focus()},50)}}}var m=this,v=m.cm,x=m.div=o.lineDiv;z(x),Xt(x,"paste",function(I){br(v,I)||he(I,v)}),Xt(x,"compositionstart",function(I){var U=I.data;if(m.composing={sel:v.doc.sel,data:U,startData:U},U){var Z=v.doc.sel.primary(),se=v.getLine(Z.head.line),we=se.indexOf(U,Math.max(0,Z.head.ch-U.length));we>-1&&we<=Z.head.ch&&(m.composing.sel=bt(st(Z.head.line,we),st(Z.head.line,we+U.length)))}}),Xt(x,"compositionupdate",function(I){m.composing.data=I.data}),Xt(x,"compositionend",function(I){var U=m.composing;U&&(I.data==U.startData||/\u200b/.test(I.data)||(U.data=I.data),setTimeout(function(){U.handled||m.applyComposition(U),m.composing==U&&(m.composing=null)},50))}),Xt(x,"touchstart",function(){m.forceCompositionEnd()}),Xt(x,"input",function(){m.composing||!v.isReadOnly()&&m.pollContent()||tr(m.cm,function(){Zt(v)})}),Xt(x,"copy",u),Xt(x,"cut",u)},prepareSelection:function(){var o=fr(this.cm,!1);return o.focus=this.cm.state.focused,o},showSelection:function(o,u){o&&this.cm.display.view.length&&((o.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(o))},showPrimarySelection:function(){var o=window.getSelection(),u=this.cm.doc.sel.primary(),m=Ze(this.cm,o.anchorNode,o.anchorOffset),v=Ze(this.cm,o.focusNode,o.focusOffset);if(!m||m.bad||!v||v.bad||Jt(De(m,v),u.from())!=0||Jt(Te(m,v),u.to())!=0){var x=Me(this.cm,u.from()),I=Me(this.cm,u.to());if(x||I){var U=this.cm.display.view,Z=o.rangeCount&&o.getRangeAt(0);if(x){if(!I){var se=U[U.length-1].measure,we=se.maps?se.maps[se.maps.length-1]:se.map;I={node:we[we.length-1],offset:we[we.length-2]-we[we.length-3]}}}else x={node:U[0].measure.map[2],offset:0};try{var Ie=kl(x.node,x.offset,I.offset,I.node)}catch{}Ie&&(!Ta&&this.cm.state.focused?(o.collapse(x.node,x.offset),Ie.collapsed||o.addRange(Ie)):(o.removeAllRanges(),o.addRange(Ie)),Z&&o.anchorNode==null?o.addRange(Z):Ta&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){o.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(o){Yi(this.cm.display.cursorDiv,o.cursors),Yi(this.cm.display.selectionDiv,o.selection)},rememberSelection:function(){var o=window.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},selectionInEditor:function(){var o=window.getSelection();if(!o.rangeCount)return!1;var u=o.getRangeAt(0).commonAncestorContainer;return vv(this.div,u)},focus:function(){this.cm.options.readOnly!="nocursor"&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function o(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,o))}var u=this;this.selectionInEditor()?this.pollSelection():tr(this.cm,function(){u.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,o)},selectionChanged:function(){var o=window.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var o=window.getSelection(),u=this.cm;this.rememberSelection();var m=Ze(u,o.anchorNode,o.anchorOffset),v=Ze(u,o.focusNode,o.focusOffset);m&&v&&tr(u,function(){Xe(u.doc,bt(m,v),Ys),(m.bad||v.bad)&&(u.curOp.selectionChanged=!0)})}},pollContent:function(){var o=this.cm,u=o.display,m=o.doc.sel.primary(),v=m.from(),x=m.to();if(v.line<u.viewFrom||x.line>u.viewTo-1)return!1;var I;if(v.line==u.viewFrom||(I=ei(o,v.line))==0)var U=Mn(u.view[0].line),Z=u.view[0].node;else var U=Mn(u.view[I].line),Z=u.view[I-1].node.nextSibling;var se=ei(o,x.line);if(se==u.view.length-1)var we=u.viewTo-1,Ie=u.lineDiv.lastChild;else var we=Mn(u.view[se+1].line)-1,Ie=u.view[se+1].node.previousSibling;for(var Ce=o.doc.splitLines(ct(o,Z,Ie,U,we)),je=hs(o.doc,st(U,0),st(we,Mt(o.doc,we).text.length));Ce.length>1&&je.length>1;)if(Cn(Ce)==Cn(je))Ce.pop(),je.pop(),we--;else{if(Ce[0]!=je[0])break;Ce.shift(),je.shift(),U++}for(var We=0,Be=0,lt=Ce[0],ft=je[0],Et=Math.min(lt.length,ft.length);Et>We&&lt.charCodeAt(We)==ft.charCodeAt(We);)++We;for(var Nt=Cn(Ce),Ot=Cn(je),Tn=Math.min(Nt.length-(Ce.length==1?We:0),Ot.length-(je.length==1?We:0));Tn>Be&&Nt.charCodeAt(Nt.length-Be-1)==Ot.charCodeAt(Ot.length-Be-1);)++Be;Ce[Ce.length-1]=Nt.slice(0,Nt.length-Be),Ce[0]=Ce[0].slice(We);var At=st(U,We),jt=st(we,je.length?Cn(je).length-Be:0);return Ce.length>1||Ce[0]||Jt(At,jt)?(Pr(o.doc,Ce,At,jt,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(o){this.cm.isReadOnly()?yn(this.cm,Zt)(this.cm):o.data&&o.data!=o.startData&&yn(this.cm,le)(this.cm,o.data,0,o.sel)},setUneditable:function(o){o.contentEditable="false"},onKeyPress:function(o){o.preventDefault(),this.cm.isReadOnly()||yn(this.cm,le)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0)},readOnlyChanged:function(o){this.div.contentEditable=String(o!="nocursor")},onContextMenu:_l,resetPosition:_l,needsContentAttribute:!0},Le.prototype),s.inputStyles={textarea:re,contenteditable:Le},Vt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var m=this.ranges[u],v=o.ranges[u];if(Jt(m.anchor,v.anchor)!=0||Jt(m.head,v.head)!=0)return!1}return!0},deepCopy:function(){for(var o=[],u=0;u<this.ranges.length;u++)o[u]=new It(Ae(this.ranges[u].anchor),Ae(this.ranges[u].head));return new Vt(o,this.primIndex)},somethingSelected:function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},contains:function(o,u){u||(u=o);for(var m=0;m<this.ranges.length;m++){var v=this.ranges[m];if(Jt(u,v.from())>=0&&Jt(o,v.to())<=0)return m}return-1}},It.prototype={from:function(){return De(this.anchor,this.head)},to:function(){return Te(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var El,Jf,Qf,dv={left:0,right:0,top:0,bottom:0},Pc=null,iL=0,rw=0,ep=0,Ki=null;_n?Ki=-.53:Ta?Ki=15:QO?Ki=-.7:ew&&(Ki=-1/3);var iw=function(o){var u=o.wheelDeltaX,m=o.wheelDeltaY;return u==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(u=o.detail),m==null&&o.detail&&o.axis==o.VERTICAL_AXIS?m=o.detail:m==null&&(m=o.wheelDelta),{x:u,y:m}};s.wheelEventPixels=function(o){var u=iw(o);return u.x*=Ki,u.y*=Ki,u};var oL=new Gs,fv=null,Al=s.changeEnd=function(o){return o.text?st(o.from.line+o.text.length-1,Cn(o.text).length+(o.text.length==1?o.from.ch:0)):o.to};s.prototype={constructor:s,focus:function(){window.focus(),this.display.input.focus()},setOption:function(o,u){var m=this.options,v=m[o];m[o]==u&&o!="mode"||(m[o]=u,Nc.hasOwnProperty(o)&&yn(this,Nc[o])(this,u,v))},getOption:function(o){return this.options[o]},getDoc:function(){return this.doc},addKeyMap:function(o,u){this.state.keyMaps[u?"push":"unshift"](Mo(o))},removeKeyMap:function(o){for(var u=this.state.keyMaps,m=0;m<u.length;++m)if(u[m]==o||u[m].name==o)return u.splice(m,1),!0},addOverlay:zn(function(o,u){var m=o.token?o:s.getMode(this.options,o);if(m.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:m,modeSpec:o,opaque:u&&u.opaque}),this.state.modeGen++,Zt(this)}),removeOverlay:zn(function(o){for(var u=this.state.overlays,m=0;m<u.length;++m){var v=u[m].modeSpec;if(v==o||typeof o=="string"&&v.name==o)return u.splice(m,1),this.state.modeGen++,void Zt(this)}}),indentLine:zn(function(o,u,m){typeof u!="string"&&typeof u!="number"&&(u=u==null?this.options.smartIndent?"smart":"prev":u?"add":"subtract"),Bt(this.doc,o)&&ba(this,o,u,m)}),indentSelection:zn(function(o){for(var u=this.doc.sel.ranges,m=-1,v=0;v<u.length;v++){var x=u[v];if(x.empty())x.head.line>m&&(ba(this,x.head.line,o,!0),m=x.head.line,v==this.doc.sel.primIndex&&ya(this));else{var I=x.from(),U=x.to(),Z=Math.max(m,I.line);m=Math.min(this.lastLine(),U.line-(U.ch?0:1))+1;for(var se=Z;m>se;++se)ba(this,se,o);var we=this.doc.sel.ranges;I.ch==0&&u.length==we.length&&we[v].from().ch>0&&Se(this.doc,v,new It(I,we[v].to()),Ys)}}}),getTokenAt:function(o,u){return $f(this,o,u)},getLineTokens:function(o,u){return $f(this,st(o),u,!0)},getTokenTypeAt:function(o){o=ut(this.doc,o);var u,m=Vs(this,Mt(this.doc,o.line)),v=0,x=(m.length-1)/2,I=o.ch;if(I==0)u=m[2];else for(;;){var U=v+x>>1;if((U?m[2*U-1]:0)>=I)x=U;else{if(!(m[2*U+1]<I)){u=m[2*U+2];break}v=U+1}}var Z=u?u.indexOf("cm-overlay "):-1;return 0>Z?u:Z==0?null:u.slice(0,Z-1)},getModeAt:function(o){var u=this.doc.mode;return u.innerMode?s.innerMode(u,this.getTokenAt(o).state).mode:u},getHelper:function(o,u){return this.getHelpers(o,u)[0]},getHelpers:function(o,u){var m=[];if(!Ic.hasOwnProperty(u))return m;var v=Ic[u],x=this.getModeAt(o);if(typeof x[u]=="string")v[x[u]]&&m.push(v[x[u]]);else if(x[u])for(var I=0;I<x[u].length;I++){var U=v[x[u][I]];U&&m.push(U)}else x.helperType&&v[x.helperType]?m.push(v[x.helperType]):v[x.name]&&m.push(v[x.name]);for(var I=0;I<v._global.length;I++){var Z=v._global[I];Z.pred(x,this)&&wr(m,Z.val)==-1&&m.push(Z.val)}return m},getStateAfter:function(o,u){var m=this.doc;return o=Ft(m,o??m.first+m.size-1),Lr(this,o+1,u)},cursorCoords:function(o,u){var m,v=this.doc.sel.primary();return m=o==null?v.head:typeof o=="object"?ut(this.doc,o):o?v.from():v.to(),gr(this,m,u||"page")},charCoords:function(o,u){return Oi(this,ut(this.doc,o),u||"page")},coordsChar:function(o,u){return o=Ln(this,o,u||"page"),oi(this,o.left,o.top)},lineAtHeight:function(o,u){return o=Ln(this,{top:o,left:0},u||"page").top,ds(this.doc,o+this.display.viewOffset)},heightAtLine:function(o,u){var m,v=!1;if(typeof o=="number"){var x=this.doc.first+this.doc.size-1;o<this.doc.first?o=this.doc.first:o>x&&(o=x,v=!0),m=Mt(this.doc,o)}else m=o;return zt(this,m,{top:0,left:0},u||"page").top+(v?this.doc.height-Do(m):0)},defaultTextHeight:function(){return dn(this.display)},defaultCharWidth:function(){return Hn(this.display)},setGutterMarker:zn(function(o,u,m){return wc(this.doc,o,"gutter",function(v){var x=v.gutterMarkers||(v.gutterMarkers={});return x[u]=m,!m&&V1(x)&&(v.gutterMarkers=null),!0})}),clearGutter:zn(function(o){var u=this,m=u.doc,v=m.first;m.iter(function(x){x.gutterMarkers&&x.gutterMarkers[o]&&(x.gutterMarkers[o]=null,ai(u,v,"gutter"),V1(x.gutterMarkers)&&(x.gutterMarkers=null)),++v})}),lineInfo:function(o){if(typeof o=="number"){if(!Bt(this.doc,o))return null;var u=o;if(o=Mt(this.doc,o),!o)return null}else{var u=Mn(o);if(u==null)return null}return{line:u,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(o,u,m,v,x){var I=this.display;o=gr(this,ut(this.doc,o));var U=o.bottom,Z=o.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),I.sizer.appendChild(u),v=="over")U=o.top;else if(v=="above"||v=="near"){var se=Math.max(I.wrapper.clientHeight,this.doc.height),we=Math.max(I.sizer.clientWidth,I.lineSpace.clientWidth);(v=="above"||o.bottom+u.offsetHeight>se)&&o.top>u.offsetHeight?U=o.top-u.offsetHeight:o.bottom+u.offsetHeight<=se&&(U=o.bottom),Z+u.offsetWidth>we&&(Z=we-u.offsetWidth)}u.style.top=U+"px",u.style.left=u.style.right="",x=="right"?(Z=I.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(x=="left"?Z=0:x=="middle"&&(Z=(I.sizer.clientWidth-u.offsetWidth)/2),u.style.left=Z+"px"),m&&Qg(this,Z,U,Z+u.offsetWidth,U+u.offsetHeight)},triggerOnKeyDown:zn($r),triggerOnKeyPress:zn(Lo),triggerOnKeyUp:uh,execCommand:function(o){return tp.hasOwnProperty(o)?tp[o].call(null,this):void 0},triggerElectric:zn(function(o){O(this,o)}),findPosH:function(o,u,m,v){var x=1;0>u&&(x=-1,u=-u);for(var I=0,U=ut(this.doc,o);u>I&&(U=ss(this.doc,U,x,m,v),!U.hitSide);++I);return U},moveH:zn(function(o,u){var m=this;m.extendSelectionsBy(function(v){return m.display.shift||m.doc.extend||v.empty()?ss(m.doc,v.head,o,u,m.options.rtlMoveVisually):0>o?v.from():v.to()},Ih)}),deleteH:zn(function(o,u){var m=this.doc.sel,v=this.doc;m.somethingSelected()?v.replaceSelection("",null,"+delete"):Hr(this,function(x){var I=ss(v,x.head,o,u,!1);return 0>o?{from:I,to:x.head}:{from:x.head,to:I}})}),findPosV:function(o,u,m,v){var x=1,I=v;0>u&&(x=-1,u=-u);for(var U=0,Z=ut(this.doc,o);u>U;++U){var se=gr(this,Z,"div");if(I==null?I=se.left:se.left=I,Z=Rf(this,se,x,m),Z.hitSide)break}return Z},moveV:zn(function(o,u){var m=this,v=this.doc,x=[],I=!m.display.shift&&!v.extend&&v.sel.somethingSelected();if(v.extendSelectionsBy(function(Z){if(I)return 0>o?Z.from():Z.to();var se=gr(m,Z.head,"div");Z.goalColumn!=null&&(se.left=Z.goalColumn),x.push(se.left);var we=Rf(m,se,o,u);return u=="page"&&Z==v.sel.primary()&&dl(m,null,Oi(m,we,"div").top-se.top),we},Ih),x.length)for(var U=0;U<v.sel.ranges.length;U++)v.sel.ranges[U].goalColumn=x[U]}),findWordAt:function(o){var u=this.doc,m=Mt(u,o.line).text,v=o.ch,x=o.ch;if(m){var I=this.getHelper(o,"wordChars");(o.xRel<0||x==m.length)&&v?--v:++x;for(var U=m.charAt(v),Z=Yf(U,I)?function(se){return Yf(se,I)}:/\s/.test(U)?function(se){return/\s/.test(se)}:function(se){return!/\s/.test(se)&&!Yf(se)};v>0&&Z(m.charAt(v-1));)--v;for(;x<m.length&&Z(m.charAt(x));)++x}return new It(st(o.line,v),st(o.line,x))},toggleOverwrite:function(o){o!=null&&o==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Rh(this.display.cursorDiv,"CodeMirror-overwrite"):Dh(this.display.cursorDiv,"CodeMirror-overwrite"),Nr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ps()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:zn(function(o,u){o==null&&u==null||bc(this),o!=null&&(this.curOp.scrollLeft=o),u!=null&&(this.curOp.scrollTop=u)}),getScrollInfo:function(){var o=this.display.scroller;return{left:o.scrollLeft,top:o.scrollTop,height:o.scrollHeight-Ee(this)-this.display.barHeight,width:o.scrollWidth-Ee(this)-this.display.barWidth,clientHeight:Ye(this),clientWidth:Ve(this)}},scrollIntoView:zn(function(o,u){if(o==null?(o={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof o=="number"?o={from:st(o,0),to:null}:o.from==null&&(o={from:o,to:null}),o.to||(o.to=o.from),o.margin=u||0,o.from.line!=null)bc(this),this.curOp.scrollToPos=o;else{var m=va(this,Math.min(o.from.left,o.to.left),Math.min(o.from.top,o.to.top)-o.margin,Math.max(o.from.right,o.to.right),Math.max(o.from.bottom,o.to.bottom)+o.margin);this.scrollTo(m.scrollLeft,m.scrollTop)}}),setSize:zn(function(o,u){function m(I){return typeof I=="number"||/^\d+$/.test(String(I))?I+"px":I}var v=this;o!=null&&(v.display.wrapper.style.width=m(o)),u!=null&&(v.display.wrapper.style.height=m(u)),v.options.lineWrapping&&jr(this);var x=v.display.viewFrom;v.doc.iter(x,v.display.viewTo,function(I){if(I.widgets){for(var U=0;U<I.widgets.length;U++)if(I.widgets[U].noHScroll){ai(v,x,"widget");break}}++x}),v.curOp.forceUpdate=!0,Nr(v,"refresh",this)}),operation:function(o){return tr(this,o)},refresh:zn(function(){var o=this.display.cachedTextHeight;Zt(this),this.curOp.forceUpdate=!0,Vn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),w(this),(o==null||Math.abs(o-dn(this.display))>.5)&&g(this),Nr(this,"refresh",this)}),swapDoc:zn(function(o){var u=this.doc;return u.cm=null,xh(this,o),Vn(this),this.display.input.reset(),this.scrollTo(o.scrollLeft,o.scrollTop),this.curOp.forceScroll=!0,ci(this,"swapDoc",this,u),u}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ro(s);var sL=s.defaults={},Nc=s.optionHandlers={},ow=s.Init={toString:function(){return"CodeMirror.Init"}};Dt("value","",function(o,u){o.setValue(u)},!0),Dt("mode",null,function(o,u){o.doc.modeOption=u,h(o)},!0),Dt("indentUnit",2,h,!0),Dt("indentWithTabs",!1),Dt("smartIndent",!0),Dt("tabSize",4,function(o){c(o),Vn(o),Zt(o)},!0),Dt("lineSeparator",null,function(o,u){if(o.doc.lineSep=u,u){var m=[],v=o.doc.first;o.doc.iter(function(I){for(var U=0;;){var Z=I.text.indexOf(u,U);if(Z==-1)break;U=Z+u.length,m.push(st(v,Z))}v++});for(var x=m.length-1;x>=0;x--)Pr(o.doc,u,m[x],st(m[x].line,m[x].ch+u.length))}}),Dt("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(o,u,m){o.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),m!=s.Init&&o.refresh()}),Dt("specialCharPlaceholder",Io,function(o){o.refresh()},!0),Dt("electricChars",!0),Dt("inputStyle",Ch?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Dt("rtlMoveVisually",!rL),Dt("wholeLineUpdateBefore",!0),Dt("theme","default",function(o){y(o),E(o)},!0),Dt("keyMap","default",function(o,u,m){var v=Mo(u),x=m!=s.Init&&Mo(m);x&&x.detach&&x.detach(o,v),v.attach&&v.attach(o,x||null)}),Dt("extraKeys",null),Dt("lineWrapping",!1,d,!0),Dt("gutters",[],function(o){b(o.options),E(o)},!0),Dt("fixedGutter",!0,function(o,u){o.display.gutters.style.left=u?V(o.display)+"px":"0",o.refresh()},!0),Dt("coverGutterNextToScrollbar",!1,function(o){P(o)},!0),Dt("scrollbarStyle","native",function(o){T(o),P(o),o.display.scrollbars.setScrollTop(o.doc.scrollTop),o.display.scrollbars.setScrollLeft(o.doc.scrollLeft)},!0),Dt("lineNumbers",!1,function(o){b(o.options),E(o)},!0),Dt("firstLineNumber",1,E,!0),Dt("lineNumberFormatter",function(o){return o},E,!0),Dt("showCursorWhenSelecting",!1,En,!0),Dt("resetSelectionOnContextMenu",!0),Dt("lineWiseCopyCut",!0),Dt("readOnly",!1,function(o,u){u=="nocursor"?($s(o),o.display.input.blur(),o.display.disabled=!0):o.display.disabled=!1,o.display.input.readOnlyChanged(u)}),Dt("disableInput",!1,function(o,u){u||o.display.input.reset()},!0),Dt("dragDrop",!0,rr),Dt("allowDropFileTypes",null),Dt("cursorBlinkRate",530),Dt("cursorScrollMargin",0),Dt("cursorHeight",1,En,!0),Dt("singleCursorHeightPerLine",!0,En,!0),Dt("workTime",100),Dt("workDelay",100),Dt("flattenSpans",!0,c,!0),Dt("addModeClass",!1,c,!0),Dt("pollInterval",100),Dt("undoDepth",200,function(o,u){o.doc.history.undoDepth=u}),Dt("historyEventDelay",1250),Dt("viewportMargin",10,function(o){o.refresh()},!0),Dt("maxHighlightLength",1e4,c,!0),Dt("moveInputWithCursor",!0,function(o,u){u||o.display.input.resetPosition()}),Dt("tabindex",null,function(o,u){o.display.input.getField().tabIndex=u||""}),Dt("autofocus",null);var sw=s.modes={},Oh=s.mimeModes={};s.defineMode=function(o,u){s.defaults.mode||o=="null"||(s.defaults.mode=o),arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),sw[o]=u},s.defineMIME=function(o,u){Oh[o]=u},s.resolveMode=function(o){if(typeof o=="string"&&Oh.hasOwnProperty(o))o=Oh[o];else if(o&&typeof o.name=="string"&&Oh.hasOwnProperty(o.name)){var u=Oh[o.name];typeof u=="string"&&(u={name:u}),o=q1(u,o),o.name=u.name}else if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return s.resolveMode("application/xml");return typeof o=="string"?{name:o}:o||{name:"null"}},s.getMode=function(o,m){var m=s.resolveMode(m),v=sw[m.name];if(!v)return s.getMode(o,"text/plain");var x=v(o,m);if(Lh.hasOwnProperty(m.name)){var I=Lh[m.name];for(var U in I)I.hasOwnProperty(U)&&(x.hasOwnProperty(U)&&(x["_"+U]=x[U]),x[U]=I[U])}if(x.name=m.name,m.helperType&&(x.helperType=m.helperType),m.modeProps)for(var U in m.modeProps)x[U]=m.modeProps[U];return x},s.defineMode("null",function(){return{token:function(o){o.skipToEnd()}}}),s.defineMIME("text/plain","null");var Lh=s.modeExtensions={};s.extendMode=function(o,u){var m=Lh.hasOwnProperty(o)?Lh[o]:Lh[o]={};Fo(u,m)},s.defineExtension=function(o,u){s.prototype[o]=u},s.defineDocExtension=function(o,u){Pi.prototype[o]=u},s.defineOption=Dt;var pv=[];s.defineInitHook=function(o){pv.push(o)};var Ic=s.helpers={};s.registerHelper=function(o,u,m){Ic.hasOwnProperty(o)||(Ic[o]=s[o]={_global:[]}),Ic[o][u]=m},s.registerGlobalHelper=function(o,u,m,v){s.registerHelper(o,u,v),Ic[o]._global.push({pred:m,val:v})};var Ca=s.copyState=function(o,u){if(u===!0)return u;if(o.copyState)return o.copyState(u);var m={};for(var v in u){var x=u[v];x instanceof Array&&(x=x.concat([])),m[v]=x}return m},aL=s.startState=function(o,u,m){return o.startState?o.startState(u,m):!0};s.innerMode=function(o,u){for(;o.innerMode;){var m=o.innerMode(u);if(!m||m.mode==o)break;u=m.state,o=m.mode}return m||{mode:o,state:u}};var tp=s.commands={selectAll:function(o){o.setSelection(st(o.firstLine(),0),st(o.lastLine()),Ys)},singleSelection:function(o){o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Ys)},killLine:function(o){Hr(o,function(u){if(u.empty()){var m=Mt(o.doc,u.head.line).text.length;return u.head.ch==m&&u.head.line<o.lastLine()?{from:u.head,to:st(u.head.line+1,0)}:{from:u.head,to:st(u.head.line,m)}}return{from:u.from(),to:u.to()}})},deleteLine:function(o){Hr(o,function(u){return{from:st(u.from().line,0),to:ut(o.doc,st(u.to().line+1,0))}})},delLineLeft:function(o){Hr(o,function(u){return{from:st(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(o){Hr(o,function(u){var m=o.charCoords(u.head,"div").top+5,v=o.coordsChar({left:0,top:m},"div");return{from:v,to:u.from()}})},delWrappedLineRight:function(o){Hr(o,function(u){var m=o.charCoords(u.head,"div").top+5,v=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:m},"div");return{from:u.from(),to:v}})},undo:function(o){o.undo()},redo:function(o){o.redo()},undoSelection:function(o){o.undoSelection()},redoSelection:function(o){o.redoSelection()},goDocStart:function(o){o.extendSelection(st(o.firstLine(),0))},goDocEnd:function(o){o.extendSelection(st(o.lastLine()))},goLineStart:function(o){o.extendSelectionsBy(function(u){return Y1(o,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){o.extendSelectionsBy(function(u){return K1(o,u.head)},{origin:"+move",bias:1})},goLineEnd:function(o){o.extendSelectionsBy(function(u){return ZO(o,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){o.extendSelectionsBy(function(u){var m=o.charCoords(u.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:m},"div")},Ih)},goLineLeft:function(o){o.extendSelectionsBy(function(u){var m=o.charCoords(u.head,"div").top+5;return o.coordsChar({left:0,top:m},"div")},Ih)},goLineLeftSmart:function(o){o.extendSelectionsBy(function(u){var m=o.charCoords(u.head,"div").top+5,v=o.coordsChar({left:0,top:m},"div");return v.ch<o.getLine(v.line).search(/\S/)?K1(o,u.head):v},Ih)},goLineUp:function(o){o.moveV(-1,"line")},goLineDown:function(o){o.moveV(1,"line")},goPageUp:function(o){o.moveV(-1,"page")},goPageDown:function(o){o.moveV(1,"page")},goCharLeft:function(o){o.moveH(-1,"char")},goCharRight:function(o){o.moveH(1,"char")},goColumnLeft:function(o){o.moveH(-1,"column")},goColumnRight:function(o){o.moveH(1,"column")},goWordLeft:function(o){o.moveH(-1,"word")},goGroupRight:function(o){o.moveH(1,"group")},goGroupLeft:function(o){o.moveH(-1,"group")},goWordRight:function(o){o.moveH(1,"word")},delCharBefore:function(o){o.deleteH(-1,"char")},delCharAfter:function(o){o.deleteH(1,"char")},delWordBefore:function(o){o.deleteH(-1,"word")},delWordAfter:function(o){o.deleteH(1,"word")},delGroupBefore:function(o){o.deleteH(-1,"group")},delGroupAfter:function(o){o.deleteH(1,"group")},indentAuto:function(o){o.indentSelection("smart")},indentMore:function(o){o.indentSelection("add")},indentLess:function(o){o.indentSelection("subtract")},insertTab:function(o){o.replaceSelection("	")},insertSoftTab:function(o){for(var u=[],m=o.listSelections(),v=o.options.tabSize,x=0;x<m.length;x++){var I=m[x].from(),U=$o(o.getLine(I.line),I.ch,v);u.push(Eh(v-U%v))}o.replaceSelections(u)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){tr(o,function(){for(var u=o.listSelections(),m=[],v=0;v<u.length;v++){var x=u[v].head,I=Mt(o.doc,x.line).text;if(I){if(x.ch==I.length&&(x=new st(x.line,x.ch-1)),x.ch>0)x=new st(x.line,x.ch+1),o.replaceRange(I.charAt(x.ch-1)+I.charAt(x.ch-2),st(x.line,x.ch-2),x,"+transpose");else if(x.line>o.doc.first){var U=Mt(o.doc,x.line-1).text;U&&o.replaceRange(I.charAt(0)+o.doc.lineSeparator()+U.charAt(U.length-1),st(x.line-1,U.length-1),st(x.line,1),"+transpose")}}m.push(new It(x,x))}o.setSelections(m)})},newlineAndIndent:function(o){tr(o,function(){for(var u=o.listSelections().length,m=0;u>m;m++){var v=o.listSelections()[m];o.replaceRange(o.doc.lineSeparator(),v.anchor,v.head,"+input"),o.indentLine(v.from().line+1,null,!0)}ya(o)})},openLine:function(o){o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){o.toggleOverwrite()}},Oa=s.keyMap={};Oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Oa.default=jo?Oa.macDefault:Oa.pcDefault,s.normalizeKeyMap=function(o){var u={};for(var m in o)if(o.hasOwnProperty(m)){var v=o[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if(v=="..."){delete o[m];continue}for(var x=wl(m.split(" "),ev),I=0;I<x.length;I++){var U,Z;I==x.length-1?(Z=x.join(" "),U=v):(Z=x.slice(0,I+1).join(" "),U="...");var se=u[Z];if(se){if(se!=U)throw new Error("Inconsistent bindings for "+Z)}else u[Z]=U}delete o[m]}for(var we in u)o[we]=u[we];return o};var Mh=s.lookupKey=function(o,u,m,v){u=Mo(u);var x=u.call?u.call(o,v):u[o];if(x===!1)return"nothing";if(x==="...")return"multi";if(x!=null&&m(x))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Mh(o,u.fallthrough,m,v);for(var I=0;I<u.fallthrough.length;I++){var U=Mh(o,u.fallthrough[I],m,v);if(U)return U}}},lL=s.isModifierKey=function(o){var u=typeof o=="string"?o:Cl[o.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"},cL=s.keyName=function(o,u){if(Bo&&o.keyCode==34&&o.char)return!1;var m=Cl[o.keyCode],v=m;return v==null||o.altGraphKey?!1:(o.altKey&&m!="Alt"&&(v="Alt-"+v),(tw?o.metaKey:o.ctrlKey)&&m!="Ctrl"&&(v="Ctrl-"+v),(tw?o.ctrlKey:o.metaKey)&&m!="Cmd"&&(v="Cmd-"+v),!u&&o.shiftKey&&m!="Shift"&&(v="Shift-"+v),v)};s.fromTextArea=function(o,u){function m(){o.value=Z.getValue()}if(u=u?Fo(u):{},u.value=o.value,!u.tabindex&&o.tabIndex&&(u.tabindex=o.tabIndex),!u.placeholder&&o.placeholder&&(u.placeholder=o.placeholder),u.autofocus==null){var v=ps();u.autofocus=v==o||o.getAttribute("autofocus")!=null&&v==document.body}if(o.form&&(Xt(o.form,"submit",m),!u.leaveSubmitMethodAlone)){var x=o.form,I=x.submit;try{var U=x.submit=function(){m(),x.submit=I,x.submit(),x.submit=U}}catch{}}u.finishInit=function(se){se.save=m,se.getTextArea=function(){return o},se.toTextArea=function(){se.toTextArea=isNaN,m(),o.parentNode.removeChild(se.getWrapperElement()),o.style.display="",o.form&&(ms(o.form,"submit",m),typeof o.form.submit=="function"&&(o.form.submit=I))}},o.style.display="none";var Z=s(function(se){o.parentNode.insertBefore(se,o.nextSibling)},u);return Z};var np=s.StringStream=function(o,u){this.pos=this.start=0,this.string=o,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};np.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(o){var u=this.string.charAt(this.pos);if(typeof o=="string")var m=u==o;else var m=u&&(o.test?o.test(u):o(u));return m?(++this.pos,u):void 0},eatWhile:function(o){for(var u=this.pos;this.eat(o););return this.pos>u},eatSpace:function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},skipToEnd:function(){this.pos=this.string.length},skipTo:function(o){var u=this.string.indexOf(o,this.pos);return u>-1?(this.pos=u,!0):void 0},backUp:function(o){this.pos-=o},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$o(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$o(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return $o(this.string,null,this.tabSize)-(this.lineStart?$o(this.string,this.lineStart,this.tabSize):0)},match:function(o,u,m){if(typeof o!="string"){var v=this.string.slice(this.pos).match(o);return v&&v.index>0?null:(v&&u!==!1&&(this.pos+=v[0].length),v)}var x=function(U){return m?U.toLowerCase():U},I=this.string.substr(this.pos,o.length);return x(I)==x(o)?(u!==!1&&(this.pos+=o.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(o,u){this.lineStart+=o;try{return u()}finally{this.lineStart-=o}}};var mv=0,Tl=s.TextMarker=function(o,u){this.lines=[],this.type=u,this.doc=o,this.id=++mv};Ro(Tl),Tl.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,u=o&&!o.curOp;if(u&&Fn(o),On(this,"clear")){var m=this.find();m&&ci(this,"clear",m.from,m.to)}for(var v=null,x=null,I=0;I<this.lines.length;++I){var U=this.lines[I],Z=as(U.markedSpans,this);o&&!this.collapsed?ai(o,Mn(U),"text"):o&&(Z.to!=null&&(x=Mn(U)),Z.from!=null&&(v=Mn(U))),U.markedSpans=nv(U.markedSpans,Z),Z.from==null&&this.collapsed&&!cs(this.doc,U)&&o&&fo(U,dn(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var I=0;I<this.lines.length;++I){var se=Gi(this.lines[I]),we=C(se);we>o.display.maxLineLength&&(o.display.maxLine=se,o.display.maxLineLength=we,o.display.maxLineChanged=!0)}v!=null&&o&&this.collapsed&&Zt(o,v,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&xt(o.doc)),o&&ci(o,"markerCleared",o,this),u&&Yn(o),this.parent&&this.parent.clear()}},Tl.prototype.find=function(o,u){o==null&&this.type=="bookmark"&&(o=1);for(var m,v,x=0;x<this.lines.length;++x){var I=this.lines[x],U=as(I.markedSpans,this);if(U.from!=null&&(m=st(u?I:Mn(I),U.from),o==-1))return m;if(U.to!=null&&(v=st(u?I:Mn(I),U.to),o==1))return v}return m&&{from:m,to:v}},Tl.prototype.changed=function(){var o=this.find(-1,!0),u=this,m=this.doc.cm;o&&m&&tr(m,function(){var v=o.line,x=Mn(o.line),I=tn(m,x);if(I&&(hn(I),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!cs(u.doc,v)&&u.height!=null){var U=u.height;u.height=null;var Z=gl(u)-U;Z&&fo(v,v.height+Z)}})},Tl.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;u.maybeHiddenMarkers&&wr(u.maybeHiddenMarkers,this)!=-1||(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Tl.prototype.detachLine=function(o){if(this.lines.splice(wr(this.lines,o),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}};var mv=0,rp=s.SharedTextMarker=function(o,u){this.markers=o,this.primary=u;for(var m=0;m<o.length;++m)o[m].parent=this};Ro(rp),rp.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();ci(this,"clear")}},rp.prototype.find=function(o,u){return this.primary.find(o,u)};var ip=s.LineWidget=function(o,u,m){if(m)for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);this.doc=o,this.node=u};Ro(ip),ip.prototype.clear=function(){var o=this.doc.cm,u=this.line.widgets,m=this.line,v=Mn(m);if(v!=null&&u){for(var x=0;x<u.length;++x)u[x]==this&&u.splice(x--,1);u.length||(m.widgets=null);var I=gl(this);fo(m,Math.max(0,m.height-I)),o&&tr(o,function(){wh(o,m,-I),ai(o,v,"widget")})}},ip.prototype.changed=function(){var o=this.height,u=this.doc.cm,m=this.line;this.height=null;var v=gl(this)-o;v&&(fo(m,m.height+v),u&&tr(u,function(){u.curOp.forceUpdate=!0,wh(u,m,v)}))};var Ph=s.Line=function(o,u,m){this.text=o,yh(this,u),this.height=m?m(this):1};Ro(Ph),Ph.prototype.lineNo=function(){return Mn(this)};var uL={},hL={};Aa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,u){for(var m=o,v=o+u;v>m;++m){var x=this.lines[m];this.height-=x.height,ov(x),ci(x,"delete")}this.lines.splice(o,u)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,u,m){this.height+=m,this.lines=this.lines.slice(0,o).concat(u).concat(this.lines.slice(o));for(var v=0;v<u.length;++v)u[v].parent=this},iterN:function(o,u,m){for(var v=o+u;v>o;++o)if(m(this.lines[o]))return!0}},bl.prototype={chunkSize:function(){return this.size},removeInner:function(o,u){this.size-=u;for(var m=0;m<this.children.length;++m){var v=this.children[m],x=v.chunkSize();if(x>o){var I=Math.min(u,x-o),U=v.height;if(v.removeInner(o,I),this.height-=U-v.height,x==I&&(this.children.splice(m--,1),v.parent=null),(u-=I)==0)break;o=0}else o-=x}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Aa))){var Z=[];this.collapse(Z),this.children=[new Aa(Z)],this.children[0].parent=this}},collapse:function(o){for(var u=0;u<this.children.length;++u)this.children[u].collapse(o)},insertInner:function(o,u,m){this.size+=u.length,this.height+=m;for(var v=0;v<this.children.length;++v){var x=this.children[v],I=x.chunkSize();if(I>=o){if(x.insertInner(o,u,m),x.lines&&x.lines.length>50){for(var U=x.lines.length%25+25,Z=U;Z<x.lines.length;){var se=new Aa(x.lines.slice(Z,Z+=25));x.height-=se.height,this.children.splice(++v,0,se),se.parent=this}x.lines=x.lines.slice(0,U),this.maybeSpill()}break}o-=I}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var u=o.children.splice(o.children.length-5,5),m=new bl(u);if(o.parent){o.size-=m.size,o.height-=m.height;var v=wr(o.parent.children,o);o.parent.children.splice(v+1,0,m)}else{var x=new bl(o.children);x.parent=o,o.children=[x,m],o=x}m.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,u,m){for(var v=0;v<this.children.length;++v){var x=this.children[v],I=x.chunkSize();if(I>o){var U=Math.min(u,I-o);if(x.iterN(o,U,m))return!0;if((u-=U)==0)break;o=0}else o-=I}}};var dL=0,Pi=s.Doc=function(o,u,m,v){if(!(this instanceof Pi))return new Pi(o,u,m,v);m==null&&(m=0),bl.call(this,[new Aa([new Ph("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=m;var x=st(m,0);this.sel=bt(x),this.history=new p(null),this.id=++dL,this.modeOption=u,this.lineSep=v,this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),Cc(this,{from:x,to:x,text:o}),Xe(this,bt(x),Ys)};Pi.prototype=q1(bl.prototype,{constructor:Pi,iter:function(o,u,m){m?this.iterN(o-this.first,u-o,m):this.iterN(this.first,this.first+this.size,o)},insert:function(o,u){for(var m=0,v=0;v<u.length;++v)m+=u[v].height;this.insertInner(o-this.first,u,m)},remove:function(o,u){this.removeInner(o-this.first,u)},getValue:function(o){var u=Oc(this,this.first,this.first+this.size);return o===!1?u:u.join(o||this.lineSeparator())},setValue:nr(function(o){var u=st(this.first,0),m=this.first+this.size-1;Hs(this,{from:u,to:st(m,Mt(this,m).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),Xe(this,bt(u))}),replaceRange:function(o,u,m,v){u=ut(this,u),m=m?ut(this,m):u,Pr(this,o,u,m,v)},getRange:function(o,u,m){var v=hs(this,ut(this,o),ut(this,u));return m===!1?v:v.join(m||this.lineSeparator())},getLine:function(o){var u=this.getLineHandle(o);return u&&u.text},getLineHandle:function(o){return Bt(this,o)?Mt(this,o):void 0},getLineNumber:function(o){return Mn(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=Mt(this,o)),Gi(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return ut(this,o)},getCursor:function(o){var u=this.sel.primary();return o==null||o=="head"?u.head:o=="anchor"?u.anchor:o=="end"||o=="to"||o===!1?u.to():u.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nr(function(o,u,m){Re(this,ut(this,typeof o=="number"?st(o,u||0):o),null,m)}),setSelection:nr(function(o,u,m){Re(this,ut(this,o),ut(this,u||o),m)}),extendSelection:nr(function(o,u,m){an(this,ut(this,o),u&&ut(this,u),m)}),extendSelections:nr(function(o,u){ve(this,mn(this,o),u)}),extendSelectionsBy:nr(function(o,u){var m=wl(this.sel.ranges,o);ve(this,mn(this,m),u)}),setSelections:nr(function(o,u,m){if(o.length){for(var v=0,x=[];v<o.length;v++)x[v]=new It(ut(this,o[v].anchor),ut(this,o[v].head));u==null&&(u=Math.min(o.length-1,this.sel.primIndex)),Xe(this,vt(x,u),m)}}),addSelection:nr(function(o,u,m){var v=this.sel.ranges.slice(0);v.push(new It(ut(this,o),ut(this,u||o))),Xe(this,vt(v,v.length-1),m)}),getSelection:function(o){for(var u,m=this.sel.ranges,v=0;v<m.length;v++){var x=hs(this,m[v].from(),m[v].to());u=u?u.concat(x):x}return o===!1?u:u.join(o||this.lineSeparator())},getSelections:function(o){for(var u=[],m=this.sel.ranges,v=0;v<m.length;v++){var x=hs(this,m[v].from(),m[v].to());o!==!1&&(x=x.join(o||this.lineSeparator())),u[v]=x}return u},replaceSelection:function(o,u,m){for(var v=[],x=0;x<this.sel.ranges.length;x++)v[x]=o;this.replaceSelections(v,u,m||"+input")},replaceSelections:nr(function(o,u,m){for(var v=[],x=this.sel,I=0;I<x.ranges.length;I++){var U=x.ranges[I];v[I]={from:U.from(),to:U.to(),text:this.splitLines(o[I]),origin:m}}for(var Z=u&&u!="end"&&fh(this,v,u),I=v.length-1;I>=0;I--)Hs(this,v[I]);Z?rt(this,Z):this.cm&&ya(this.cm)}),undo:nr(function(){zs(this,"undo")}),redo:nr(function(){zs(this,"redo")}),undoSelection:nr(function(){zs(this,"undo",!0)}),redoSelection:nr(function(){zs(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,u=0,m=0,v=0;v<o.done.length;v++)o.done[v].ranges||++u;for(var v=0;v<o.undone.length;v++)o.undone[v].ranges||++m;return{undo:u,redo:m}},clearHistory:function(){this.history=new p(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:on(this.history.done),undone:on(this.history.undone)}},setHistory:function(o){var u=this.history=new p(this.history.maxGeneration);u.done=on(o.done.slice(0),null,!0),u.undone=on(o.undone.slice(0),null,!0)},addLineClass:nr(function(o,u,m){return wc(this,o,u=="gutter"?"gutter":"class",function(v){var x=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(v[x]){if(kh(m).test(v[x]))return!1;v[x]+=" "+m}else v[x]=m;return!0})}),removeLineClass:nr(function(o,u,m){return wc(this,o,u=="gutter"?"gutter":"class",function(v){var x=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",I=v[x];if(!I)return!1;if(m==null)v[x]=null;else{var U=I.match(kh(m));if(!U)return!1;var Z=U.index+U[0].length;v[x]=I.slice(0,U.index)+(U.index&&Z!=I.length?" ":"")+I.slice(Z)||null}return!0})}),addLineWidget:nr(function(o,u,m){return ho(this,o,u,m)}),removeLineWidget:function(o){o.clear()},markText:function(o,u,m){return wa(this,ut(this,o),ut(this,u),m,m&&m.type||"range")},setBookmark:function(o,u){var m={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return o=ut(this,o),wa(this,o,o,m,"bookmark")},findMarksAt:function(o){o=ut(this,o);var u=[],m=Mt(this,o.line).markedSpans;if(m)for(var v=0;v<m.length;++v){var x=m[v];(x.from==null||x.from<=o.ch)&&(x.to==null||x.to>=o.ch)&&u.push(x.marker.parent||x.marker)}return u},findMarks:function(o,u,m){o=ut(this,o),u=ut(this,u);var v=[],x=o.line;return this.iter(o.line,u.line+1,function(I){var U=I.markedSpans;if(U)for(var Z=0;Z<U.length;Z++){var se=U[Z];se.to!=null&&x==o.line&&o.ch>=se.to||se.from==null&&x!=o.line||se.from!=null&&x==u.line&&se.from>=u.ch||m&&!m(se.marker)||v.push(se.marker.parent||se.marker)}++x}),v},getAllMarks:function(){var o=[];return this.iter(function(u){var m=u.markedSpans;if(m)for(var v=0;v<m.length;++v)m[v].from!=null&&o.push(m[v].marker)}),o},posFromIndex:function(o){var u,m=this.first,v=this.lineSeparator().length;return this.iter(function(x){var I=x.text.length+v;return I>o?(u=o,!0):(o-=I,void++m)}),ut(this,st(m,u))},indexFromPos:function(o){o=ut(this,o);var u=o.ch;if(o.line<this.first||o.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,o.line,function(v){u+=v.text.length+m}),u},copy:function(o){var u=new Pi(Oc(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,o&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(o){o||(o={});var u=this.first,m=this.first+this.size;o.from!=null&&o.from>u&&(u=o.from),o.to!=null&&o.to<m&&(m=o.to);var v=new Pi(Oc(this,u,m),o.mode||this.modeOption,u,this.lineSep);return o.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:o.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],_c(v,mh(this)),v},unlinkDoc:function(o){if(o instanceof s&&(o=o.doc),this.linked)for(var u=0;u<this.linked.length;++u){var m=this.linked[u];if(m.doc==o){this.linked.splice(u,1),o.unlinkDoc(this),tv(mh(this));break}}if(o.history==this.history){var v=[o.id];us(o,function(x){v.push(x.id)},!0),o.history=new p(null),o.history.done=on(this.history.done,v),o.history.undone=on(this.history.undone,v)}},iterLinkedDocs:function(o){us(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):yL(o)},lineSeparator:function(){return this.lineSep||`
`}}),Pi.prototype.eachLine=Pi.prototype.iter;var fL="iter insert remove copy getEditor constructor".split(" ");for(var op in Pi.prototype)Pi.prototype.hasOwnProperty(op)&&wr(fL,op)<0&&(s.prototype[op]=function(o){return function(){return o.apply(this.doc,arguments)}}(Pi.prototype[op]));Ro(Pi);var ui=s.e_preventDefault=function(o){o.preventDefault?o.preventDefault():o.returnValue=!1},pL=s.e_stopPropagation=function(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0},sp=s.e_stop=function(o){ui(o),pL(o)},Xt=s.on=function(o,u,m){if(o.addEventListener)o.addEventListener(u,m,!1);else if(o.attachEvent)o.attachEvent("on"+u,m);else{var v=o._handlers||(o._handlers={}),x=v[u]||(v[u]=[]);x.push(m)}},aw=[],ms=s.off=function(o,u,m){if(o.removeEventListener)o.removeEventListener(u,m,!1);else if(o.detachEvent)o.detachEvent("on"+u,m);else for(var v=Lc(o,u,!1),x=0;x<v.length;++x)if(v[x]==m){v.splice(x,1);break}},Nr=s.signal=function(o,u){var m=Lc(o,u,!0);if(m.length)for(var v=Array.prototype.slice.call(arguments,2),x=0;x<m.length;++x)m[x].apply(null,v)},Nh=null,lw=30,cw=s.Pass={toString:function(){return"CodeMirror.Pass"}},Ys={scroll:!1},gv={origin:"*mouse"},Ih={origin:"+move"};Gs.prototype.set=function(o,u){clearTimeout(this.id),this.id=setTimeout(u,o)};var $o=s.countColumn=function(o,u,m,v,x){u==null&&(u=o.search(/[^\s\u00a0]/),u==-1&&(u=o.length));for(var I=v||0,U=x||0;;){var Z=o.indexOf("	",I);if(0>Z||Z>=u)return U+(u-I);U+=Z-I,U+=m-U%m,I=Z+1}},uw=s.findColumn=function(o,u,m){for(var v=0,x=0;;){var I=o.indexOf("	",v);I==-1&&(I=o.length);var U=I-v;if(I==o.length||x+U>=u)return v+Math.min(U,u-x);if(x+=I-v,x+=m-x%m,v=I+1,x>=u)return v}},ap=[""],Dc=function(o){o.select()};Mc?Dc=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:_n&&(Dc=function(o){try{o.select()}catch{}});var kl,mL=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,hw=s.isWordChar=function(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||mL.test(o))},gL=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;kl=document.createRange?function(o,u,m,v){var x=document.createRange();return x.setEnd(v||o,m),x.setStart(o,u),x}:function(o,u,m){var v=document.body.createTextRange();try{v.moveToElementText(o.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",m),v.moveStart("character",u),v};var vv=s.contains=function(o,u){if(u.nodeType==3&&(u=u.parentNode),o.contains)return o.contains(u);do if(u.nodeType==11&&(u=u.host),u==o)return!0;while(u=u.parentNode)};_n&&11>Un&&(ps=function(){try{return document.activeElement}catch{return document.body}});var yv,bv,Dh=s.rmClass=function(o,u){var m=o.className,v=kh(u).exec(m);if(v){var x=m.slice(v.index+v[0].length);o.className=m.slice(0,v.index)+(x?v[1]+x:"")}},Rh=s.addClass=function(o,u){var m=o.className;kh(u).test(m)||(o.className+=(m?" ":"")+u)},dw=!1,vL=function(){if(_n&&9>Un)return!1;var o=Pt("div");return"draggable"in o||"dragDrop"in o}(),yL=s.splitLines=`

b`.split(/\n/).length!=3?function(o){for(var u=0,m=[],v=o.length;v>=u;){var x=o.indexOf(`
`,u);x==-1&&(x=o.length);var I=o.slice(u,o.charAt(x-1)=="\r"?x-1:x),U=I.indexOf("\r");U!=-1?(m.push(I.slice(0,U)),u+=U+1):(m.push(I),u=x+1)}return m}:function(o){return o.split(/\r\n?|\n/)},bL=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){try{var u=o.ownerDocument.selection.createRange()}catch{}return u&&u.parentElement()==o?u.compareEndPoints("StartToEnd",u)!=0:!1},fw=function(){var o=Pt("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),wv=null,Cl=s.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var o=0;10>o;o++)Cl[o+48]=Cl[o+96]=String(o);for(var o=65;90>=o;o++)Cl[o]=String.fromCharCode(o);for(var o=1;12>=o;o++)Cl[o+111]=Cl[o+63235]="F"+o})();var Fh,wL=function(){function o(Ie){return 247>=Ie?m.charAt(Ie):Ie>=1424&&1524>=Ie?"R":Ie>=1536&&1773>=Ie?v.charAt(Ie-1536):Ie>=1774&&2220>=Ie?"r":Ie>=8192&&8203>=Ie?"w":Ie==8204?"b":"L"}function u(Ie,Ce,je){this.level=Ie,this.from=Ce,this.to=je}var m="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",v="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",x=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,I=/[stwN]/,U=/[LRr]/,Z=/[Lb1n]/,se=/[1n]/,we="L";return function(Ie){if(!x.test(Ie))return!1;for(var Ce,je=Ie.length,We=[],Be=0;je>Be;++Be)We.push(Ce=o(Ie.charCodeAt(Be)));for(var Be=0,lt=we;je>Be;++Be){var Ce=We[Be];Ce=="m"?We[Be]=lt:lt=Ce}for(var Be=0,ft=we;je>Be;++Be){var Ce=We[Be];Ce=="1"&&ft=="r"?We[Be]="n":U.test(Ce)&&(ft=Ce,Ce=="r"&&(We[Be]="R"))}for(var Be=1,lt=We[0];je-1>Be;++Be){var Ce=We[Be];Ce=="+"&&lt=="1"&&We[Be+1]=="1"?We[Be]="1":Ce!=","||lt!=We[Be+1]||lt!="1"&&lt!="n"||(We[Be]=lt),lt=Ce}for(var Be=0;je>Be;++Be){var Ce=We[Be];if(Ce==",")We[Be]="N";else if(Ce=="%"){for(var Et=Be+1;je>Et&&We[Et]=="%";++Et);for(var Nt=Be&&We[Be-1]=="!"||je>Et&&We[Et]=="1"?"1":"N",Ot=Be;Et>Ot;++Ot)We[Ot]=Nt;Be=Et-1}}for(var Be=0,ft=we;je>Be;++Be){var Ce=We[Be];ft=="L"&&Ce=="1"?We[Be]="L":U.test(Ce)&&(ft=Ce)}for(var Be=0;je>Be;++Be)if(I.test(We[Be])){for(var Et=Be+1;je>Et&&I.test(We[Et]);++Et);for(var Tn=(Be?We[Be-1]:we)=="L",At=(je>Et?We[Et]:we)=="L",Nt=Tn||At?"L":"R",Ot=Be;Et>Ot;++Ot)We[Ot]=Nt;Be=Et-1}for(var jt,Yt=[],Be=0;je>Be;)if(Z.test(We[Be])){var Ir=Be;for(++Be;je>Be&&Z.test(We[Be]);++Be);Yt.push(new u(0,Ir,Be))}else{var Er=Be,qr=Yt.length;for(++Be;je>Be&&We[Be]!="L";++Be);for(var Ot=Er;Be>Ot;)if(se.test(We[Ot])){Ot>Er&&Yt.splice(qr,0,new u(1,Er,Ot));var gs=Ot;for(++Ot;Be>Ot&&se.test(We[Ot]);++Ot);Yt.splice(qr,0,new u(2,gs,Ot)),Er=Ot}else++Ot;Be>Er&&Yt.splice(qr,0,new u(1,Er,Be))}return Yt[0].level==1&&(jt=Ie.match(/^\s+/))&&(Yt[0].from=jt[0].length,Yt.unshift(new u(0,0,jt[0].length))),Cn(Yt).level==1&&(jt=Ie.match(/\s+$/))&&(Cn(Yt).to-=jt[0].length,Yt.push(new u(0,je-jt[0].length,je))),Yt[0].level==2&&Yt.unshift(new u(1,Yt[0].to,Yt[0].to)),Yt[0].level!=Cn(Yt).level&&Yt.push(new u(Yt[0].level,je,je)),Yt}}();return s.version="5.15.2",s})},{}],11:[function(t,r,i){(function(s){typeof i=="object"&&typeof r=="object"?s(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):s(CodeMirror)})(function(s){var l=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;s.defineMode("gfm",function(h,c){function d(_){return _.code=!1,null}var f=0,g={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(_){return{code:_.code,codeBlock:_.codeBlock,ateSpace:_.ateSpace}},token:function(_,w){if(w.combineTokens=null,w.codeBlock)return _.match(/^```+/)?(w.codeBlock=!1,null):(_.skipToEnd(),null);if(_.sol()&&(w.code=!1),_.sol()&&_.match(/^```+/))return _.skipToEnd(),w.codeBlock=!0,null;if(_.peek()==="`"){_.next();var C=_.pos;_.eatWhile("`");var M=1+_.pos-C;return w.code?M===f&&(w.code=!1):(f=M,w.code=!0),null}return w.code?(_.next(),null):_.eatSpace()?(w.ateSpace=!0,null):(_.sol()||w.ateSpace)&&(w.ateSpace=!1,c.gitHubSpice!==!1)&&(_.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)||_.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||_.match(l)&&_.string.slice(_.start-2,_.start)!="]("&&(_.start==0||/\W/.test(_.string.charAt(_.start-1)))?(w.combineTokens=!0,"link"):(_.next(),null)},blankLine:d},y={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var E in c)y[E]=c[E];return y.name="markdown",s.overlayMode(s.getMode(h,y),g)},"markdown"),s.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(t,r,i){(function(s){typeof i=="object"&&typeof r=="object"?s(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):s(CodeMirror)})(function(s){s.defineMode("markdown",function(l,h){function c(X){if(s.findModeByName){var K=s.findModeByName(X);K&&(X=K.mime||K.mimes[0])}var Oe=s.getMode(l,X);return Oe.name=="null"?null:Oe}function d(X,K,Oe){return K.f=K.inline=Oe,Oe(X,K)}function f(X,K,Oe){return K.f=K.block=Oe,Oe(X,K)}function g(X){return!X||!/\S/.test(X.string)}function y(X){return X.linkTitle=!1,X.em=!1,X.strong=!1,X.strikethrough=!1,X.quote=0,X.indentedCode=!1,H&&X.f==_&&(X.f=k,X.block=E),X.trailingSpace=0,X.trailingSpaceNewLine=!1,X.prevLine=X.thisLine,X.thisLine=null,null}function E(X,K){var Oe=X.sol(),Fe=K.list!==!1,Q=K.indentedCode;K.indentedCode=!1,Fe&&(K.indentationDiff>=0?(K.indentationDiff<4&&(K.indentation-=K.indentationDiff),K.list=null):K.indentation>0?K.list=null:K.list=!1);var oe=null;if(K.indentationDiff>=4)return X.skipToEnd(),Q||g(K.prevLine)?(K.indentation-=4,K.indentedCode=!0,$.code):null;if(X.eatSpace())return null;if((oe=X.match(te))&&oe[1].length<=6)return K.header=oe[1].length,h.highlightFormatting&&(K.formatting="header"),K.f=K.inline,M(K);if(!(g(K.prevLine)||K.quote||Fe||Q)&&(oe=X.match(be)))return K.header=oe[0].charAt(0)=="="?1:2,h.highlightFormatting&&(K.formatting="header"),K.f=K.inline,M(K);if(X.eat(">"))return K.quote=Oe?1:K.quote+1,h.highlightFormatting&&(K.formatting="quote"),X.eatSpace(),M(K);if(X.peek()==="[")return d(X,K,P);if(X.match(ee,!0))return K.hr=!0,$.hr;if((g(K.prevLine)||Fe)&&(X.match(fe,!1)||X.match(me,!1))){var ae=null;for(X.match(fe,!0)?ae="ul":(X.match(me,!0),ae="ol"),K.indentation=X.column()+X.current().length,K.list=!0;K.listStack&&X.column()<K.listStack[K.listStack.length-1];)K.listStack.pop();return K.listStack.push(K.indentation),h.taskLists&&X.match(ie,!1)&&(K.taskList=!0),K.f=K.inline,h.highlightFormatting&&(K.formatting=["list","list-"+ae]),M(K)}return h.fencedCodeBlocks&&(oe=X.match(ue,!0))?(K.fencedChars=oe[1],K.localMode=c(oe[2]),K.localMode&&(K.localState=s.startState(K.localMode)),K.f=K.block=w,h.highlightFormatting&&(K.formatting="code-block"),K.code=-1,M(K)):d(X,K,K.inline)}function _(X,K){var Oe=D.token(X,K.htmlState);if(!H){var Fe=s.innerMode(D,K.htmlState);(Fe.mode.name=="xml"&&Fe.state.tagStart===null&&!Fe.state.context&&Fe.state.tokenize.isInText||K.md_inside&&X.current().indexOf(">")>-1)&&(K.f=k,K.block=E,K.htmlState=null)}return Oe}function w(X,K){return K.fencedChars&&X.match(K.fencedChars,!1)?(K.localMode=K.localState=null,K.f=K.block=C,null):K.localMode?K.localMode.token(X,K.localState):(X.skipToEnd(),$.code)}function C(X,K){X.match(K.fencedChars),K.block=E,K.f=k,K.fencedChars=null,h.highlightFormatting&&(K.formatting="code-block"),K.code=1;var Oe=M(K);return K.code=0,Oe}function M(X){var K=[];if(X.formatting){K.push($.formatting),typeof X.formatting=="string"&&(X.formatting=[X.formatting]);for(var Oe=0;Oe<X.formatting.length;Oe++)K.push($.formatting+"-"+X.formatting[Oe]),X.formatting[Oe]==="header"&&K.push($.formatting+"-"+X.formatting[Oe]+"-"+X.header),X.formatting[Oe]==="quote"&&(!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=X.quote?K.push($.formatting+"-"+X.formatting[Oe]+"-"+X.quote):K.push("error"))}if(X.taskOpen)return K.push("meta"),K.length?K.join(" "):null;if(X.taskClosed)return K.push("property"),K.length?K.join(" "):null;if(X.linkHref?K.push($.linkHref,"url"):(X.strong&&K.push($.strong),X.em&&K.push($.em),X.strikethrough&&K.push($.strikethrough),X.linkText&&K.push($.linkText),X.code&&K.push($.code)),X.header&&K.push($.header,$.header+"-"+X.header),X.quote&&(K.push($.quote),!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=X.quote?K.push($.quote+"-"+X.quote):K.push($.quote+"-"+h.maxBlockquoteDepth)),X.list!==!1){var Fe=(X.listStack.length-1)%3;Fe?Fe===1?K.push($.list2):K.push($.list3):K.push($.list1)}return X.trailingSpaceNewLine?K.push("trailing-space-new-line"):X.trailingSpace&&K.push("trailing-space-"+(X.trailingSpace%2?"a":"b")),K.length?K.join(" "):null}function b(X,K){return X.match(Y,!0)?M(K):void 0}function k(X,K){var Oe=K.text(X,K);if(typeof Oe<"u")return Oe;if(K.list)return K.list=null,M(K);if(K.taskList){var Fe=X.match(ie,!0)[1]!=="x";return Fe?K.taskOpen=!0:K.taskClosed=!0,h.highlightFormatting&&(K.formatting="task"),K.taskList=!1,M(K)}if(K.taskOpen=!1,K.taskClosed=!1,K.header&&X.match(/^#+$/,!0))return h.highlightFormatting&&(K.formatting="header"),M(K);var Q=X.sol(),oe=X.next();if(K.linkTitle){K.linkTitle=!1;var ae=oe;oe==="("&&(ae=")"),ae=(ae+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var ce="^\\s*(?:[^"+ae+"\\\\]+|\\\\\\\\|\\\\.)"+ae;if(X.match(new RegExp(ce),!0))return $.linkHref}if(oe==="`"){var q=K.formatting;h.highlightFormatting&&(K.formatting="code"),X.eatWhile("`");var J=X.current().length;if(K.code==0)return K.code=J,M(K);if(J==K.code){var pe=M(K);return K.code=0,pe}return K.formatting=q,M(K)}if(K.code)return M(K);if(oe==="\\"&&(X.next(),h.highlightFormatting)){var ye=M(K),Ae=$.formatting+"-escape";return ye?ye+" "+Ae:Ae}if(oe==="!"&&X.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return X.match(/\[[^\]]*\]/),K.inline=K.f=N,$.image;if(oe==="["&&X.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return K.linkText=!0,h.highlightFormatting&&(K.formatting="link"),M(K);if(oe==="]"&&K.linkText&&X.match(/\(.*?\)| ?\[.*?\]/,!1)){h.highlightFormatting&&(K.formatting="link");var ye=M(K);return K.linkText=!1,K.inline=K.f=N,ye}if(oe==="<"&&X.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=A,h.highlightFormatting&&(K.formatting="link");var ye=M(K);return ye?ye+=" ":ye="",ye+$.linkInline}if(oe==="<"&&X.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=A,h.highlightFormatting&&(K.formatting="link");var ye=M(K);return ye?ye+=" ":ye="",ye+$.linkEmail}if(oe==="<"&&X.match(/^(!--|\w)/,!1)){var Te=X.string.indexOf(">",X.pos);if(Te!=-1){var De=X.string.substring(X.start,Te);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(De)&&(K.md_inside=!0)}return X.backUp(1),K.htmlState=s.startState(D),f(X,K,_)}if(oe==="<"&&X.match(/^\/\w*?>/))return K.md_inside=!1,"tag";var ne=!1;if(!h.underscoresBreakWords&&oe==="_"&&X.peek()!=="_"&&X.match(/(\w)/,!1)){var le=X.pos-2;if(le>=0){var he=X.string.charAt(le);he!=="_"&&he.match(/(\w)/,!1)&&(ne=!0)}}if(oe==="*"||oe==="_"&&!ne){if(!(Q&&X.peek()===" ")){if(K.strong===oe&&X.eat(oe)){h.highlightFormatting&&(K.formatting="strong");var pe=M(K);return K.strong=!1,pe}if(!K.strong&&X.eat(oe))return K.strong=oe,h.highlightFormatting&&(K.formatting="strong"),M(K);if(K.em===oe){h.highlightFormatting&&(K.formatting="em");var pe=M(K);return K.em=!1,pe}if(!K.em)return K.em=oe,h.highlightFormatting&&(K.formatting="em"),M(K)}}else if(oe===" "&&(X.eat("*")||X.eat("_"))){if(X.peek()===" ")return M(K);X.backUp(1)}if(h.strikethrough){if(oe==="~"&&X.eatWhile(oe)){if(K.strikethrough){h.highlightFormatting&&(K.formatting="strikethrough");var pe=M(K);return K.strikethrough=!1,pe}if(X.match(/^[^\s]/,!1))return K.strikethrough=!0,h.highlightFormatting&&(K.formatting="strikethrough"),M(K)}else if(oe===" "&&X.match(/^~~/,!0)){if(X.peek()===" ")return M(K);X.backUp(2)}}return oe===" "&&(X.match(/ +$/,!1)?K.trailingSpace++:K.trailingSpace&&(K.trailingSpaceNewLine=!0)),M(K)}function A(X,K){var Oe=X.next();if(Oe===">"){K.f=K.inline=k,h.highlightFormatting&&(K.formatting="link");var Fe=M(K);return Fe?Fe+=" ":Fe="",Fe+$.linkInline}return X.match(/^[^>]+/,!0),$.linkInline}function N(X,K){if(X.eatSpace())return null;var Oe=X.next();return Oe==="("||Oe==="["?(K.f=K.inline=T(Oe==="("?")":"]"),h.highlightFormatting&&(K.formatting="link-string"),K.linkHref=!0,M(K)):"error"}function T(X){return function(K,Oe){var Fe=K.next();if(Fe===X){Oe.f=Oe.inline=k,h.highlightFormatting&&(Oe.formatting="link-string");var Q=M(Oe);return Oe.linkHref=!1,Q}return K.match(ke[X]),Oe.linkHref=!0,M(Oe)}}function P(X,K){return X.match(/^([^\]\\]|\\.)*\]:/,!1)?(K.f=R,X.next(),h.highlightFormatting&&(K.formatting="link"),K.linkText=!0,M(K)):d(X,K,k)}function R(X,K){if(X.match(/^\]:/,!0)){K.f=K.inline=B,h.highlightFormatting&&(K.formatting="link");var Oe=M(K);return K.linkText=!1,Oe}return X.match(/^([^\]\\]|\\.)+/,!0),$.linkText}function B(X,K){return X.eatSpace()?null:(X.match(/^[^\s]+/,!0),X.peek()===void 0?K.linkTitle=!0:X.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),K.f=K.inline=k,$.linkHref+" url")}var D=s.getMode(l,"text/html"),H=D.name=="null";h.highlightFormatting===void 0&&(h.highlightFormatting=!1),h.maxBlockquoteDepth===void 0&&(h.maxBlockquoteDepth=0),h.underscoresBreakWords===void 0&&(h.underscoresBreakWords=!0),h.taskLists===void 0&&(h.taskLists=!1),h.strikethrough===void 0&&(h.strikethrough=!1),h.tokenTypeOverrides===void 0&&(h.tokenTypeOverrides={});var $={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var V in $)$.hasOwnProperty(V)&&h.tokenTypeOverrides[V]&&($[V]=h.tokenTypeOverrides[V]);var ee=/^([*\-_])(?:\s*\1){2,}\s*$/,fe=/^[*\-+]\s+/,me=/^[0-9]+([.)])\s+/,ie=/^\[(x| )\](?=\s)/,te=h.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,be=/^ *(?:\={1,}|-{1,})\s*$/,Y=/^[^#!\[\]*_\\<>` "'(~]+/,ue=new RegExp("^("+(h.fencedCodeBlocks===!0?"~~~+|```+":h.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),ke={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},xe={startState:function(){return{f:E,prevLine:null,thisLine:null,block:E,htmlState:null,indentation:0,inline:k,text:b,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(X){return{f:X.f,prevLine:X.prevLine,thisLine:X.thisLine,block:X.block,htmlState:X.htmlState&&s.copyState(D,X.htmlState),indentation:X.indentation,localMode:X.localMode,localState:X.localMode?s.copyState(X.localMode,X.localState):null,inline:X.inline,text:X.text,formatting:!1,linkTitle:X.linkTitle,code:X.code,em:X.em,strong:X.strong,strikethrough:X.strikethrough,header:X.header,hr:X.hr,taskList:X.taskList,list:X.list,listStack:X.listStack.slice(0),quote:X.quote,indentedCode:X.indentedCode,trailingSpace:X.trailingSpace,trailingSpaceNewLine:X.trailingSpaceNewLine,md_inside:X.md_inside,fencedChars:X.fencedChars}},token:function(X,K){if(K.formatting=!1,X!=K.thisLine){var Oe=K.header||K.hr;if(K.header=0,K.hr=!1,X.match(/^\s*$/,!0)||Oe){if(y(K),!Oe)return null;K.prevLine=null}K.prevLine=K.thisLine,K.thisLine=X,K.taskList=!1,K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.f=K.block;var Fe=X.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(K.indentationDiff=Math.min(Fe-K.indentation,4),K.indentation=K.indentation+K.indentationDiff,Fe>0)return null}return K.f(X,K)},innerMode:function(X){return X.block==_?{state:X.htmlState,mode:D}:X.localState?{state:X.localState,mode:X.localMode}:{state:X,mode:xe}},blankLine:y,getType:M,fold:"markdown"};return xe},"xml"),s.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../lib/codemirror"):CodeMirror)})(function(s){s.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var l=0;l<s.modeInfo.length;l++){var h=s.modeInfo[l];h.mimes&&(h.mime=h.mimes[0])}s.findModeByMIME=function(c){c=c.toLowerCase();for(var d=0;d<s.modeInfo.length;d++){var f=s.modeInfo[d];if(f.mime==c)return f;if(f.mimes){for(var g=0;g<f.mimes.length;g++)if(f.mimes[g]==c)return f}}},s.findModeByExtension=function(c){for(var d=0;d<s.modeInfo.length;d++){var f=s.modeInfo[d];if(f.ext){for(var g=0;g<f.ext.length;g++)if(f.ext[g]==c)return f}}},s.findModeByFileName=function(c){for(var d=0;d<s.modeInfo.length;d++){var f=s.modeInfo[d];if(f.file&&f.file.test(c))return f}var g=c.lastIndexOf("."),y=g>-1&&c.substring(g+1,c.length);return y?s.findModeByExtension(y):void 0},s.findModeByName=function(c){c=c.toLowerCase();for(var d=0;d<s.modeInfo.length;d++){var f=s.modeInfo[d];if(f.name.toLowerCase()==c)return f;if(f.alias){for(var g=0;g<f.alias.length;g++)if(f.alias[g].toLowerCase()==c)return f}}}})},{"../lib/codemirror":10}],14:[function(t,r,i){(function(s){s(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(s){var l={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};s.defineMode("xml",function(c,d){function f(ie,te){function be(ke){return te.tokenize=ke,ke(ie,te)}var Y=ie.next();if(Y=="<")return ie.eat("!")?ie.eat("[")?ie.match("CDATA[")?be(E("atom","]]>")):null:ie.match("--")?be(E("comment","-->")):ie.match("DOCTYPE",!0,!0)?(ie.eatWhile(/[\w\._\-]/),be(_(1))):null:ie.eat("?")?(ie.eatWhile(/[\w\._\-]/),te.tokenize=E("meta","?>"),"meta"):(fe=ie.eat("/")?"closeTag":"openTag",te.tokenize=g,"tag bracket");if(Y=="&"){var ue;return ue=ie.eat("#")?ie.eat("x")?ie.eatWhile(/[a-fA-F\d]/)&&ie.eat(";"):ie.eatWhile(/[\d]/)&&ie.eat(";"):ie.eatWhile(/[\w\.\-:]/)&&ie.eat(";"),ue?"atom":"error"}return ie.eatWhile(/[^&<]/),null}function g(ie,te){var be=ie.next();if(be==">"||be=="/"&&ie.eat(">"))return te.tokenize=f,fe=be==">"?"endTag":"selfcloseTag","tag bracket";if(be=="=")return fe="equals",null;if(be=="<"){te.tokenize=f,te.state=b,te.tagName=te.tagStart=null;var Y=te.tokenize(ie,te);return Y?Y+" tag error":"tag error"}return/[\'\"]/.test(be)?(te.tokenize=y(be),te.stringStartCol=ie.column(),te.tokenize(ie,te)):(ie.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function y(ie){var te=function(be,Y){for(;!be.eol();)if(be.next()==ie){Y.tokenize=g;break}return"string"};return te.isInAttribute=!0,te}function E(ie,te){return function(be,Y){for(;!be.eol();){if(be.match(te)){Y.tokenize=f;break}be.next()}return ie}}function _(ie){return function(te,be){for(var Y;(Y=te.next())!=null;){if(Y=="<")return be.tokenize=_(ie+1),be.tokenize(te,be);if(Y==">"){if(ie==1){be.tokenize=f;break}return be.tokenize=_(ie-1),be.tokenize(te,be)}}return"meta"}}function w(ie,te,be){this.prev=ie.context,this.tagName=te,this.indent=ie.indented,this.startOfLine=be,($.doNotIndent.hasOwnProperty(te)||ie.context&&ie.context.noIndent)&&(this.noIndent=!0)}function C(ie){ie.context&&(ie.context=ie.context.prev)}function M(ie,te){for(var be;;){if(!ie.context||(be=ie.context.tagName,!$.contextGrabbers.hasOwnProperty(be)||!$.contextGrabbers[be].hasOwnProperty(te)))return;C(ie)}}function b(ie,te,be){return ie=="openTag"?(be.tagStart=te.column(),k):ie=="closeTag"?A:b}function k(ie,te,be){return ie=="word"?(be.tagName=te.current(),me="tag",P):(me="error",k)}function A(ie,te,be){if(ie=="word"){var Y=te.current();return be.context&&be.context.tagName!=Y&&$.implicitlyClosed.hasOwnProperty(be.context.tagName)&&C(be),be.context&&be.context.tagName==Y||$.matchClosing===!1?(me="tag",N):(me="tag error",T)}return me="error",T}function N(ie,te,be){return ie!="endTag"?(me="error",N):(C(be),b)}function T(ie,te,be){return me="error",N(ie,te,be)}function P(ie,te,be){if(ie=="word")return me="attribute",R;if(ie=="endTag"||ie=="selfcloseTag"){var Y=be.tagName,ue=be.tagStart;return be.tagName=be.tagStart=null,ie=="selfcloseTag"||$.autoSelfClosers.hasOwnProperty(Y)?M(be,Y):(M(be,Y),be.context=new w(be,Y,ue==be.indented)),b}return me="error",P}function R(ie,te,be){return ie=="equals"?B:($.allowMissing||(me="error"),P(ie,te,be))}function B(ie,te,be){return ie=="string"?D:ie=="word"&&$.allowUnquoted?(me="string",P):(me="error",P(ie,te,be))}function D(ie,te,be){return ie=="string"?D:P(ie,te,be)}var H=c.indentUnit,$={},V=d.htmlMode?l:h;for(var ee in V)$[ee]=V[ee];for(var ee in d)$[ee]=d[ee];var fe,me;return f.isInText=!0,{startState:function(ie){var te={tokenize:f,state:b,indented:ie||0,tagName:null,tagStart:null,context:null};return ie!=null&&(te.baseIndent=ie),te},token:function(ie,te){if(!te.tagName&&ie.sol()&&(te.indented=ie.indentation()),ie.eatSpace())return null;fe=null;var be=te.tokenize(ie,te);return(be||fe)&&be!="comment"&&(me=null,te.state=te.state(fe||be,ie,te),me&&(be=me=="error"?be+" error":me)),be},indent:function(ie,te,be){var Y=ie.context;if(ie.tokenize.isInAttribute)return ie.tagStart==ie.indented?ie.stringStartCol+1:ie.indented+H;if(Y&&Y.noIndent)return s.Pass;if(ie.tokenize!=g&&ie.tokenize!=f)return be?be.match(/^(\s*)/)[0].length:0;if(ie.tagName)return $.multilineTagIndentPastTag!==!1?ie.tagStart+ie.tagName.length+2:ie.tagStart+H*($.multilineTagIndentFactor||1);if($.alignCDATA&&/<!\[CDATA\[/.test(te))return 0;var ue=te&&/^<(\/)?([\w_:\.-]*)/.exec(te);if(ue&&ue[1])for(;Y;){if(Y.tagName==ue[2]){Y=Y.prev;break}if(!$.implicitlyClosed.hasOwnProperty(Y.tagName))break;Y=Y.prev}else if(ue)for(;Y;){var ke=$.contextGrabbers[Y.tagName];if(!ke||!ke.hasOwnProperty(ue[2]))break;Y=Y.prev}for(;Y&&Y.prev&&!Y.startOfLine;)Y=Y.prev;return Y?Y.indent+H:ie.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:$.htmlMode?"html":"xml",helperType:$.htmlMode?"html":"xml",skipAttribute:function(ie){ie.state==B&&(ie.state=P)}}}),s.defineMIME("text/xml","xml"),s.defineMIME("application/xml","xml"),s.mimeModes.hasOwnProperty("text/html")||s.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":10}],15:[function(t,r,i){i.read=function(s,l,h,c,d){var f,g,y=8*d-c-1,E=(1<<y)-1,_=E>>1,w=-7,C=h?d-1:0,M=h?-1:1,b=s[l+C];for(C+=M,f=b&(1<<-w)-1,b>>=-w,w+=y;w>0;f=256*f+s[l+C],C+=M,w-=8);for(g=f&(1<<-w)-1,f>>=-w,w+=c;w>0;g=256*g+s[l+C],C+=M,w-=8);if(f===0)f=1-_;else{if(f===E)return g?NaN:(b?-1:1)*(1/0);g+=Math.pow(2,c),f-=_}return(b?-1:1)*g*Math.pow(2,f-c)},i.write=function(s,l,h,c,d,f){var g,y,E,_=8*f-d-1,w=(1<<_)-1,C=w>>1,M=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:f-1,k=c?1:-1,A=0>l||l===0&&0>1/l?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(y=isNaN(l)?1:0,g=w):(g=Math.floor(Math.log(l)/Math.LN2),l*(E=Math.pow(2,-g))<1&&(g--,E*=2),l+=g+C>=1?M/E:M*Math.pow(2,1-C),l*E>=2&&(g++,E/=2),g+C>=w?(y=0,g=w):g+C>=1?(y=(l*E-1)*Math.pow(2,d),g+=C):(y=l*Math.pow(2,C-1)*Math.pow(2,d),g=0));d>=8;s[h+b]=255&y,b+=k,y/=256,d-=8);for(g=g<<d|y,_+=d;_>0;s[h+b]=255&g,b+=k,g/=256,_-=8);s[h+b-k]|=128*A}},{}],16:[function(t,r,i){var s={}.toString;r.exports=Array.isArray||function(l){return s.call(l)=="[object Array]"}},{}],17:[function(t,r,i){(function(s){(function(){function l(b){this.tokens=[],this.tokens.links={},this.options=b||w.defaults,this.rules=C.normal,this.options.gfm&&(this.options.tables?this.rules=C.tables:this.rules=C.gfm)}function h(b,k){if(this.options=k||w.defaults,this.links=b,this.rules=M.normal,this.renderer=this.options.renderer||new c,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=M.breaks:this.rules=M.gfm:this.options.pedantic&&(this.rules=M.pedantic)}function c(b){this.options=b||{}}function d(b){this.tokens=[],this.token=null,this.options=b||w.defaults,this.options.renderer=this.options.renderer||new c,this.renderer=this.options.renderer,this.renderer.options=this.options}function f(b,k){return b.replace(k?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(b){return b.replace(/&([#\w]+);/g,function(k,A){return A=A.toLowerCase(),A==="colon"?":":A.charAt(0)==="#"?A.charAt(1)==="x"?String.fromCharCode(parseInt(A.substring(2),16)):String.fromCharCode(+A.substring(1)):""})}function y(b,k){return b=b.source,k=k||"",function A(N,T){return N?(T=T.source||T,T=T.replace(/(^|[^\[])\^/g,"$1"),b=b.replace(N,T),A):new RegExp(b,k)}}function E(){}function _(b){for(var k,A,N=1;N<arguments.length;N++){k=arguments[N];for(A in k)Object.prototype.hasOwnProperty.call(k,A)&&(b[A]=k[A])}return b}function w(b,k,A){if(A||typeof k=="function"){A||(A=k,k=null),k=_({},w.defaults,k||{});var N,T,P=k.highlight,R=0;try{N=l.lex(b,k)}catch(D){return A(D)}T=N.length;var B=function(D){if(D)return k.highlight=P,A(D);var H;try{H=d.parse(N,k)}catch($){D=$}return k.highlight=P,D?A(D):A(null,H)};if(!P||P.length<3||(delete k.highlight,!T))return B();for(;R<N.length;R++)(function(D){return D.type!=="code"?--T||B():P(D.text,D.lang,function(H,$){return H?B(H):$==null||$===D.text?--T||B():(D.text=$,D.escaped=!0,void(--T||B()))})})(N[R])}else try{return k&&(k=_({},w.defaults,k)),d.parse(l.lex(b,k),k)}catch(D){if(D.message+=`
Please report this to https://github.com/chjj/marked.`,(k||w.defaults).silent)return"<p>An error occured:</p><pre>"+f(D.message+"",!0)+"</pre>";throw D}}var C={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:E,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:E,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:E,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};C.bullet=/(?:[*+-]|\d+\.)/,C.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,C.item=y(C.item,"gm")(/bull/g,C.bullet)(),C.list=y(C.list)(/bull/g,C.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+C.def.source+")")(),C.blockquote=y(C.blockquote)("def",C.def)(),C._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",C.html=y(C.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,C._tag)(),C.paragraph=y(C.paragraph)("hr",C.hr)("heading",C.heading)("lheading",C.lheading)("blockquote",C.blockquote)("tag","<"+C._tag)("def",C.def)(),C.normal=_({},C),C.gfm=_({},C.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),C.gfm.paragraph=y(C.paragraph)("(?!","(?!"+C.gfm.fences.source.replace("\\1","\\2")+"|"+C.list.source.replace("\\1","\\3")+"|")(),C.tables=_({},C.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=C,l.lex=function(b,k){var A=new l(k);return A.lex(b)},l.prototype.lex=function(b){return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(b,!0)},l.prototype.token=function(b,k,A){for(var N,T,P,R,B,D,H,$,V,b=b.replace(/^ +$/gm,"");b;)if((P=this.rules.newline.exec(b))&&(b=b.substring(P[0].length),P[0].length>1&&this.tokens.push({type:"space"})),P=this.rules.code.exec(b))b=b.substring(P[0].length),P=P[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?P:P.replace(/\n+$/,"")});else if(P=this.rules.fences.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"code",lang:P[2],text:P[3]||""});else if(P=this.rules.heading.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"heading",depth:P[1].length,text:P[2]});else if(k&&(P=this.rules.nptable.exec(b))){for(b=b.substring(P[0].length),D={type:"table",header:P[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:P[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:P[3].replace(/\n$/,"").split(`
`)},$=0;$<D.align.length;$++)/^ *-+: *$/.test(D.align[$])?D.align[$]="right":/^ *:-+: *$/.test(D.align[$])?D.align[$]="center":/^ *:-+ *$/.test(D.align[$])?D.align[$]="left":D.align[$]=null;for($=0;$<D.cells.length;$++)D.cells[$]=D.cells[$].split(/ *\| */);this.tokens.push(D)}else if(P=this.rules.lheading.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"heading",depth:P[2]==="="?1:2,text:P[1]});else if(P=this.rules.hr.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"hr"});else if(P=this.rules.blockquote.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"blockquote_start"}),P=P[0].replace(/^ *> ?/gm,""),this.token(P,k,!0),this.tokens.push({type:"blockquote_end"});else if(P=this.rules.list.exec(b)){for(b=b.substring(P[0].length),R=P[2],this.tokens.push({type:"list_start",ordered:R.length>1}),P=P[0].match(this.rules.item),N=!1,V=P.length,$=0;V>$;$++)D=P[$],H=D.length,D=D.replace(/^ *([*+-]|\d+\.) +/,""),~D.indexOf(`
 `)&&(H-=D.length,D=this.options.pedantic?D.replace(/^ {1,4}/gm,""):D.replace(new RegExp("^ {1,"+H+"}","gm"),"")),this.options.smartLists&&$!==V-1&&(B=C.bullet.exec(P[$+1])[0],R===B||R.length>1&&B.length>1||(b=P.slice($+1).join(`
`)+b,$=V-1)),T=N||/\n\n(?!\s*$)/.test(D),$!==V-1&&(N=D.charAt(D.length-1)===`
`,T||(T=N)),this.tokens.push({type:T?"loose_item_start":"list_item_start"}),this.token(D,!1,A),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(P=this.rules.html.exec(b))b=b.substring(P[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(P[1]==="pre"||P[1]==="script"||P[1]==="style"),text:P[0]});else if(!A&&k&&(P=this.rules.def.exec(b)))b=b.substring(P[0].length),this.tokens.links[P[1].toLowerCase()]={href:P[2],title:P[3]};else if(k&&(P=this.rules.table.exec(b))){for(b=b.substring(P[0].length),D={type:"table",header:P[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:P[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:P[3].replace(/(?: *\| *)?\n$/,"").split(`
`)},$=0;$<D.align.length;$++)/^ *-+: *$/.test(D.align[$])?D.align[$]="right":/^ *:-+: *$/.test(D.align[$])?D.align[$]="center":/^ *:-+ *$/.test(D.align[$])?D.align[$]="left":D.align[$]=null;for($=0;$<D.cells.length;$++)D.cells[$]=D.cells[$].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(D)}else if(k&&(P=this.rules.paragraph.exec(b)))b=b.substring(P[0].length),this.tokens.push({type:"paragraph",text:P[1].charAt(P[1].length-1)===`
`?P[1].slice(0,-1):P[1]});else if(P=this.rules.text.exec(b))b=b.substring(P[0].length),this.tokens.push({type:"text",text:P[0]});else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0));return this.tokens};var M={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:E,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:E,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};M._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,M._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,M.link=y(M.link)("inside",M._inside)("href",M._href)(),M.reflink=y(M.reflink)("inside",M._inside)(),M.normal=_({},M),M.pedantic=_({},M.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),M.gfm=_({},M.normal,{escape:y(M.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:y(M.text)("]|","~]|")("|","|https?://|")()}),M.breaks=_({},M.gfm,{br:y(M.br)("{2,}","*")(),text:y(M.gfm.text)("{2,}","*")()}),h.rules=M,h.output=function(b,k,A){var N=new h(k,A);return N.output(b)},h.prototype.output=function(b){for(var k,A,N,T,P="";b;)if(T=this.rules.escape.exec(b))b=b.substring(T[0].length),P+=T[1];else if(T=this.rules.autolink.exec(b))b=b.substring(T[0].length),T[2]==="@"?(A=T[1].charAt(6)===":"?this.mangle(T[1].substring(7)):this.mangle(T[1]),N=this.mangle("mailto:")+A):(A=f(T[1]),N=A),P+=this.renderer.link(N,null,A);else if(this.inLink||!(T=this.rules.url.exec(b))){if(T=this.rules.tag.exec(b))!this.inLink&&/^<a /i.test(T[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(T[0])&&(this.inLink=!1),b=b.substring(T[0].length),P+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(T[0]):f(T[0]):T[0];else if(T=this.rules.link.exec(b))b=b.substring(T[0].length),this.inLink=!0,P+=this.outputLink(T,{href:T[2],title:T[3]}),this.inLink=!1;else if((T=this.rules.reflink.exec(b))||(T=this.rules.nolink.exec(b))){if(b=b.substring(T[0].length),k=(T[2]||T[1]).replace(/\s+/g," "),k=this.links[k.toLowerCase()],!k||!k.href){P+=T[0].charAt(0),b=T[0].substring(1)+b;continue}this.inLink=!0,P+=this.outputLink(T,k),this.inLink=!1}else if(T=this.rules.strong.exec(b))b=b.substring(T[0].length),P+=this.renderer.strong(this.output(T[2]||T[1]));else if(T=this.rules.em.exec(b))b=b.substring(T[0].length),P+=this.renderer.em(this.output(T[2]||T[1]));else if(T=this.rules.code.exec(b))b=b.substring(T[0].length),P+=this.renderer.codespan(f(T[2],!0));else if(T=this.rules.br.exec(b))b=b.substring(T[0].length),P+=this.renderer.br();else if(T=this.rules.del.exec(b))b=b.substring(T[0].length),P+=this.renderer.del(this.output(T[1]));else if(T=this.rules.text.exec(b))b=b.substring(T[0].length),P+=this.renderer.text(f(this.smartypants(T[0])));else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0))}else b=b.substring(T[0].length),A=f(T[1]),N=A,P+=this.renderer.link(N,null,A);return P},h.prototype.outputLink=function(b,k){var A=f(k.href),N=k.title?f(k.title):null;return b[0].charAt(0)!=="!"?this.renderer.link(A,N,this.output(b[1])):this.renderer.image(A,N,f(b[1]))},h.prototype.smartypants=function(b){return this.options.smartypants?b.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):b},h.prototype.mangle=function(b){if(!this.options.mangle)return b;for(var k,A="",N=b.length,T=0;N>T;T++)k=b.charCodeAt(T),Math.random()>.5&&(k="x"+k.toString(16)),A+="&#"+k+";";return A},c.prototype.code=function(b,k,A){if(this.options.highlight){var N=this.options.highlight(b,k);N!=null&&N!==b&&(A=!0,b=N)}return k?'<pre><code class="'+this.options.langPrefix+f(k,!0)+'">'+(A?b:f(b,!0))+`
</code></pre>
`:"<pre><code>"+(A?b:f(b,!0))+`
</code></pre>`},c.prototype.blockquote=function(b){return`<blockquote>
`+b+`</blockquote>
`},c.prototype.html=function(b){return b},c.prototype.heading=function(b,k,A){return"<h"+k+' id="'+this.options.headerPrefix+A.toLowerCase().replace(/[^\w]+/g,"-")+'">'+b+"</h"+k+`>
`},c.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},c.prototype.list=function(b,k){var A=k?"ol":"ul";return"<"+A+`>
`+b+"</"+A+`>
`},c.prototype.listitem=function(b){return"<li>"+b+`</li>
`},c.prototype.paragraph=function(b){return"<p>"+b+`</p>
`},c.prototype.table=function(b,k){return`<table>
<thead>
`+b+`</thead>
<tbody>
`+k+`</tbody>
</table>
`},c.prototype.tablerow=function(b){return`<tr>
`+b+`</tr>
`},c.prototype.tablecell=function(b,k){var A=k.header?"th":"td",N=k.align?"<"+A+' style="text-align:'+k.align+'">':"<"+A+">";return N+b+"</"+A+`>
`},c.prototype.strong=function(b){return"<strong>"+b+"</strong>"},c.prototype.em=function(b){return"<em>"+b+"</em>"},c.prototype.codespan=function(b){return"<code>"+b+"</code>"},c.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},c.prototype.del=function(b){return"<del>"+b+"</del>"},c.prototype.link=function(b,k,A){if(this.options.sanitize){try{var N=decodeURIComponent(g(b)).replace(/[^\w:]/g,"").toLowerCase()}catch{return""}if(N.indexOf("javascript:")===0||N.indexOf("vbscript:")===0)return""}var T='<a href="'+b+'"';return k&&(T+=' title="'+k+'"'),T+=">"+A+"</a>"},c.prototype.image=function(b,k,A){var N='<img src="'+b+'" alt="'+A+'"';return k&&(N+=' title="'+k+'"'),N+=this.options.xhtml?"/>":">"},c.prototype.text=function(b){return b},d.parse=function(b,k,A){var N=new d(k);return N.parse(b)},d.prototype.parse=function(b){this.inline=new h(b.links,this.options,this.renderer),this.tokens=b.reverse();for(var k="";this.next();)k+=this.tok();return k},d.prototype.next=function(){return this.token=this.tokens.pop()},d.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},d.prototype.parseText=function(){for(var b=this.token.text;this.peek().type==="text";)b+=`
`+this.next().text;return this.inline.output(b)},d.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var b,k,A,N,T="",P="";for(A="",b=0;b<this.token.header.length;b++)this.token.align[b],A+=this.renderer.tablecell(this.inline.output(this.token.header[b]),{header:!0,align:this.token.align[b]});for(T+=this.renderer.tablerow(A),b=0;b<this.token.cells.length;b++){for(k=this.token.cells[b],A="",N=0;N<k.length;N++)A+=this.renderer.tablecell(this.inline.output(k[N]),{header:!1,align:this.token.align[N]});P+=this.renderer.tablerow(A)}return this.renderer.table(T,P);case"blockquote_start":for(var P="";this.next().type!=="blockquote_end";)P+=this.tok();return this.renderer.blockquote(P);case"list_start":for(var P="",R=this.token.ordered;this.next().type!=="list_end";)P+=this.tok();return this.renderer.list(P,R);case"list_item_start":for(var P="";this.next().type!=="list_item_end";)P+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(P);case"loose_item_start":for(var P="";this.next().type!=="list_item_end";)P+=this.tok();return this.renderer.listitem(P);case"html":var B=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(B);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},E.exec=E,w.options=w.setOptions=function(b){return _(w.defaults,b),w},w.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new c,xhtml:!1},w.Parser=d,w.parser=d.parse,w.Renderer=c,w.Lexer=l,w.lexer=l.lex,w.InlineLexer=h,w.inlineLexer=h.output,w.parse=w,typeof r<"u"&&typeof i=="object"?r.exports=w:this.marked=w}).call(function(){return this||(typeof window<"u"?window:s)}())}).call(this,typeof Kr<"u"?Kr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],18:[function(t,r,i){(function(s,l){var h=function(c,d,f,g){if(g=g||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=g.flags||{},c){if(this.dictionary=c,typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)d||(d=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+c+"/"+c+".aff"))),f||(f=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+c+"/"+c+".dic")));else{if(g.dictionaryPath)var y=g.dictionaryPath;else if(typeof l<"u")var y=l+"/dictionaries";else var y="./dictionaries";d||(d=this._readFile(y+"/"+c+"/"+c+".aff")),f||(f=this._readFile(y+"/"+c+"/"+c+".dic"))}this.rules=this._parseAFF(d),this.compoundRuleCodes={};for(var E=0,_=this.compoundRules.length;_>E;E++)for(var w=this.compoundRules[E],C=0,M=w.length;M>C;C++)this.compoundRuleCodes[w[C]]=[];"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(f);for(var E in this.compoundRuleCodes)this.compoundRuleCodes[E].length==0&&delete this.compoundRuleCodes[E];for(var E=0,_=this.compoundRules.length;_>E;E++){for(var b=this.compoundRules[E],k="",C=0,M=b.length;M>C;C++){var A=b[C];k+=A in this.compoundRuleCodes?"("+this.compoundRuleCodes[A].join("|")+")":A}this.compoundRules[E]=new RegExp(k,"i")}}return this};h.prototype={load:function(c){for(var d in c)this[d]=c[d];return this},_readFile:function(c,d){if(d||(d="utf8"),typeof XMLHttpRequest<"u"){var f=new XMLHttpRequest;return f.open("GET",c,!1),f.overrideMimeType&&f.overrideMimeType("text/plain; charset="+d),f.send(null),f.responseText}if(typeof t<"u"){var g=t("fs");try{if(g.existsSync(c)){var y=g.statSync(c),E=g.openSync(c,"r"),_=new s(y.size);return g.readSync(E,_,0,_.length,null),_.toString(d,0,_.length)}console.log("Path "+c+" does not exist.")}catch(w){return console.log(w),""}}},_parseAFF:function(c){var d={};c=this._removeAffixComments(c);for(var f=c.split(`
`),g=0,y=f.length;y>g;g++){var E=f[g],_=E.split(/\s+/),w=_[0];if(w=="PFX"||w=="SFX"){for(var C=_[1],M=_[2],b=parseInt(_[3],10),k=[],A=g+1,N=g+1+b;N>A;A++){var E=f[A],T=E.split(/\s+/),P=T[2],R=T[3].split("/"),B=R[0];B==="0"&&(B="");var D=this.parseRuleCodes(R[1]),H=T[4],$={};$.add=B,D.length>0&&($.continuationClasses=D),H!=="."&&(w==="SFX"?$.match=new RegExp(H+"$"):$.match=new RegExp("^"+H)),P!="0"&&(w==="SFX"?$.remove=new RegExp(P+"$"):$.remove=P),k.push($)}d[C]={type:w,combineable:M=="Y",entries:k},g+=b}else if(w==="COMPOUNDRULE"){for(var b=parseInt(_[1],10),A=g+1,N=g+1+b;N>A;A++){var E=f[A],T=E.split(/\s+/);this.compoundRules.push(T[1])}g+=b}else if(w==="REP"){var T=E.split(/\s+/);T.length===3&&this.replacementTable.push([T[1],T[2]])}else this.flags[w]=_[1]}return d},_removeAffixComments:function(c){return c=c.replace(/#.*$/gm,""),c=c.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),c=c.replace(/\n{2,}/g,`
`),c=c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(c){function d(ie,te){ie in g&&typeof g[ie]=="object"||(g[ie]=[]),g[ie].push(te)}c=this._removeDicComments(c);for(var f=c.split(`
`),g={},y=1,E=f.length;E>y;y++){var _=f[y],w=_.split("/",2),C=w[0];if(w.length>1){var M=this.parseRuleCodes(w[1]);"NEEDAFFIX"in this.flags&&M.indexOf(this.flags.NEEDAFFIX)!=-1||d(C,M);for(var b=0,k=M.length;k>b;b++){var A=M[b],N=this.rules[A];if(N)for(var T=this._applyRule(C,N),P=0,R=T.length;R>P;P++){var B=T[P];if(d(B,[]),N.combineable)for(var D=b+1;k>D;D++){var H=M[D],$=this.rules[H];if($&&$.combineable&&N.type!=$.type)for(var V=this._applyRule(B,$),ee=0,fe=V.length;fe>ee;ee++){var me=V[ee];d(me,[])}}}A in this.compoundRuleCodes&&this.compoundRuleCodes[A].push(C)}}else d(C.trim(),[])}return g},_removeDicComments:function(c){return c=c.replace(/^\t.*$/gm,"")},parseRuleCodes:function(c){if(!c)return[];if(!("FLAG"in this.flags))return c.split("");if(this.flags.FLAG==="long"){for(var d=[],f=0,g=c.length;g>f;f+=2)d.push(c.substr(f,2));return d}return this.flags.FLAG==="num"?textCode.split(","):void 0},_applyRule:function(c,d){for(var f=d.entries,g=[],y=0,E=f.length;E>y;y++){var _=f[y];if(!_.match||c.match(_.match)){var w=c;if(_.remove&&(w=w.replace(_.remove,"")),d.type==="SFX"?w+=_.add:w=_.add+w,g.push(w),"continuationClasses"in _)for(var C=0,M=_.continuationClasses.length;M>C;C++){var b=this.rules[_.continuationClasses[C]];b&&(g=g.concat(this._applyRule(w,b)))}}}return g},check:function(c){var d=c.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(d))return!0;if(d.toUpperCase()===d){var f=d[0]+d.substring(1).toLowerCase();if(this.hasFlag(f,"KEEPCASE"))return!1;if(this.checkExact(f))return!0}var g=d.toLowerCase();if(g!==d){if(this.hasFlag(g,"KEEPCASE"))return!1;if(this.checkExact(g))return!0}return!1},checkExact:function(c){var d=this.dictionaryTable[c];if(typeof d>"u"){if("COMPOUNDMIN"in this.flags&&c.length>=this.flags.COMPOUNDMIN){for(var f=0,g=this.compoundRules.length;g>f;f++)if(c.match(this.compoundRules[f]))return!0}return!1}if(typeof d=="object"){for(var f=0,g=d.length;g>f;f++)if(!this.hasFlag(c,"ONLYINCOMPOUND",d[f]))return!0;return!1}},hasFlag:function(c,d,f){if(d in this.flags){if(typeof f>"u")var f=Array.prototype.concat.apply([],this.dictionaryTable[c]);if(f&&f.indexOf(this.flags[d])!==-1)return!0}return!1},alphabet:"",suggest:function(c,d){function f(b){for(var k=[],A=0,N=b.length;N>A;A++){for(var T=b[A],P=[],R=0,B=T.length+1;B>R;R++)P.push([T.substring(0,R),T.substring(R,T.length)]);for(var D=[],R=0,B=P.length;B>R;R++){var H=P[R];H[1]&&D.push(H[0]+H[1].substring(1))}for(var $=[],R=0,B=P.length;B>R;R++){var H=P[R];H[1].length>1&&$.push(H[0]+H[1][1]+H[1][0]+H[1].substring(2))}for(var V=[],R=0,B=P.length;B>R;R++){var H=P[R];if(H[1])for(var ee=0,fe=M.alphabet.length;fe>ee;ee++)V.push(H[0]+M.alphabet[ee]+H[1].substring(1))}for(var me=[],R=0,B=P.length;B>R;R++){var H=P[R];if(H[1])for(var ee=0,fe=M.alphabet.length;fe>ee;ee++)V.push(H[0]+M.alphabet[ee]+H[1])}k=k.concat(D),k=k.concat($),k=k.concat(V),k=k.concat(me)}return k}function g(b){for(var k=[],A=0;A<b.length;A++)M.check(b[A])&&k.push(b[A]);return k}function y(b){function k($,V){return $[1]<V[1]?-1:1}for(var A=f([b]),N=f(A),T=g(A).concat(g(N)),P={},R=0,B=T.length;B>R;R++)T[R]in P?P[T[R]]+=1:P[T[R]]=1;var D=[];for(var R in P)D.push([R,P[R]]);D.sort(k).reverse();for(var H=[],R=0,B=Math.min(d,D.length);B>R;R++)M.hasFlag(D[R][0],"NOSUGGEST")||H.push(D[R][0]);return H}if(d||(d=5),this.check(c))return[];for(var E=0,_=this.replacementTable.length;_>E;E++){var w=this.replacementTable[E];if(c.indexOf(w[0])!==-1){var C=c.replace(w[0],w[1]);if(this.check(C))return[C]}}var M=this;return M.alphabet="abcdefghijklmnopqrstuvwxyz",y(c)}},typeof r<"u"&&(r.exports=h)}).call(this,t("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(t,r,i){var s=t("codemirror");s.commands.tabAndIndentMarkdownList=function(l){var h=l.listSelections(),c=h[0].head,d=l.getStateAfter(c.line),f=d.list!==!1;if(f)return void l.execCommand("indentMore");if(l.options.indentWithTabs)l.execCommand("insertTab");else{var g=Array(l.options.tabSize+1).join(" ");l.replaceSelection(g)}},s.commands.shiftTabAndUnindentMarkdownList=function(l){var h=l.listSelections(),c=h[0].head,d=l.getStateAfter(c.line),f=d.list!==!1;if(f)return void l.execCommand("indentLess");if(l.options.indentWithTabs)l.execCommand("insertTab");else{var g=Array(l.options.tabSize+1).join(" ");l.replaceSelection(g)}}},{codemirror:10}],20:[function(t,r,i){function s(ne){return ne=oe?ne.replace("Ctrl","Cmd"):ne.replace("Cmd","Ctrl")}function l(ne,le,he){ne=ne||{};var O=document.createElement("a");return le=le??!0,ne.title&&le&&(O.title=c(ne.title,ne.action,he),oe&&(O.title=O.title.replace("Ctrl","⌘"),O.title=O.title.replace("Alt","⌥"))),O.tabIndex=-1,O.className=ne.className,O}function h(){var ne=document.createElement("i");return ne.className="separator",ne.innerHTML="|",ne}function c(ne,le,he){var O,F=ne;return le&&(O=q(le),he[O]&&(F+=" ("+s(he[O])+")")),F}function d(ne,le){le=le||ne.getCursor("start");var he=ne.getTokenAt(le);if(!he.type)return{};for(var O,F,z=he.type.split(" "),re={},_e=0;_e<z.length;_e++)O=z[_e],O==="strong"?re.bold=!0:O==="variable-2"?(F=ne.getLine(le.line),/^\s*\d+\.\s/.test(F)?re["ordered-list"]=!0:re["unordered-list"]=!0):O==="atom"?re.quote=!0:O==="em"?re.italic=!0:O==="quote"?re.quote=!0:O==="strikethrough"?re.strikethrough=!0:O==="comment"?re.code=!0:O==="link"?re.link=!0:O==="tag"?re.image=!0:O.match(/^header(\-[1-6])?$/)&&(re[O.replace("header","heading")]=!0);return re}function f(ne){var le=ne.codemirror;le.setOption("fullScreen",!le.getOption("fullScreen")),le.getOption("fullScreen")?(pe=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=pe;var he=le.getWrapperElement();/fullscreen/.test(he.previousSibling.className)?he.previousSibling.className=he.previousSibling.className.replace(/\s*fullscreen\b/,""):he.previousSibling.className+=" fullscreen";var O=ne.toolbarElements.fullscreen;/active/.test(O.className)?O.className=O.className.replace(/\s*active\s*/g,""):O.className+=" active";var F=le.getWrapperElement().nextSibling;/editor-preview-active-side/.test(F.className)&&ee(ne)}function g(ne){be(ne,"bold",ne.options.blockStyles.bold)}function y(ne){be(ne,"italic",ne.options.blockStyles.italic)}function E(ne){be(ne,"strikethrough","~~")}function _(ne){function le(Xe){if(typeof Xe!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Xe+": "+Xe;return Xe.styles&&Xe.styles[2]&&Xe.styles[2].indexOf("formatting-code-block")!==-1}function he(Xe){return Xe.state.base.base||Xe.state.base}function O(Xe,gt,at,xt,ht){at=at||Xe.getLineHandle(gt),xt=xt||Xe.getTokenAt({line:gt,ch:1}),ht=ht||!!at.text&&Xe.getTokenAt({line:gt,ch:at.text.length-1});var dt=xt.type?xt.type.split(" "):[];return ht&&he(ht).indentedCode?"indented":dt.indexOf("comment")===-1?!1:he(xt).fencedChars||he(ht).fencedChars||le(at)?"fenced":"single"}function F(Xe,gt,at,xt){var ht=gt.line+1,dt=at.line+1,it=gt.line!==at.line,fn=xt+`
`,En=`
`+xt;it&&dt++,it&&at.ch===0&&(En=xt+`
`,dt--),me(Xe,!1,[fn,En]),Xe.setSelection({line:ht,ch:0},{line:dt,ch:0})}var z,re,_e,Le=ne.options.blockStyles.code,Me=ne.codemirror,He=Me.getCursor("start"),Ze=Me.getCursor("end"),mt=Me.getTokenAt({line:He.line,ch:He.ch||1}),ct=Me.getLineHandle(He.line),Vt=O(Me,He.line,ct,mt);if(Vt==="single"){var It=ct.text.slice(0,He.ch).replace("`",""),vt=ct.text.slice(He.ch).replace("`","");Me.replaceRange(It+vt,{line:He.line,ch:0},{line:He.line,ch:99999999999999}),He.ch--,He!==Ze&&Ze.ch--,Me.setSelection(He,Ze),Me.focus()}else if(Vt==="fenced")if(He.line!==Ze.line||He.ch!==Ze.ch){for(z=He.line;z>=0&&(ct=Me.getLineHandle(z),!le(ct));z--);var bt,Ft,ut,sn,Bt=Me.getTokenAt({line:z,ch:1}),mn=he(Bt).fencedChars;le(Me.getLineHandle(He.line))?(bt="",Ft=He.line):le(Me.getLineHandle(He.line-1))?(bt="",Ft=He.line-1):(bt=mn+`
`,Ft=He.line),le(Me.getLineHandle(Ze.line))?(ut="",sn=Ze.line,Ze.ch===0&&(sn+=1)):Ze.ch!==0&&le(Me.getLineHandle(Ze.line+1))?(ut="",sn=Ze.line+1):(ut=mn+`
`,sn=Ze.line+1),Ze.ch===0&&(sn-=1),Me.operation(function(){Me.replaceRange(ut,{line:sn,ch:0},{line:sn+(ut?0:1),ch:0}),Me.replaceRange(bt,{line:Ft,ch:0},{line:Ft+(bt?0:1),ch:0})}),Me.setSelection({line:Ft+(bt?1:0),ch:0},{line:sn+(bt?1:-1),ch:0}),Me.focus()}else{var un=He.line;if(le(Me.getLineHandle(He.line))&&(O(Me,He.line+1)==="fenced"?(z=He.line,un=He.line+1):(re=He.line,un=He.line-1)),z===void 0)for(z=un;z>=0&&(ct=Me.getLineHandle(z),!le(ct));z--);if(re===void 0)for(_e=Me.lineCount(),re=un;_e>re&&(ct=Me.getLineHandle(re),!le(ct));re++);Me.operation(function(){Me.replaceRange("",{line:z,ch:0},{line:z+1,ch:0}),Me.replaceRange("",{line:re-1,ch:0},{line:re,ch:0})}),Me.focus()}else if(Vt==="indented"){if(He.line!==Ze.line||He.ch!==Ze.ch)z=He.line,re=Ze.line,Ze.ch===0&&re--;else{for(z=He.line;z>=0;z--)if(ct=Me.getLineHandle(z),!ct.text.match(/^\s*$/)&&O(Me,z,ct)!=="indented"){z+=1;break}for(_e=Me.lineCount(),re=He.line;_e>re;re++)if(ct=Me.getLineHandle(re),!ct.text.match(/^\s*$/)&&O(Me,re,ct)!=="indented"){re-=1;break}}var an=Me.getLineHandle(re+1),ve=an&&Me.getTokenAt({line:re+1,ch:an.text.length-1}),Se=ve&&he(ve).indentedCode;Se&&Me.replaceRange(`
`,{line:re+1,ch:0});for(var Re=z;re>=Re;Re++)Me.indentLine(Re,"subtract");Me.focus()}else{var Ue=He.line===Ze.line&&He.ch===Ze.ch&&He.ch===0,rt=He.line!==Ze.line;Ue||rt?F(Me,He,Ze,Le):me(Me,!1,["`","`"])}}function w(ne){var le=ne.codemirror;te(le,"quote")}function C(ne){var le=ne.codemirror;ie(le,"smaller")}function M(ne){var le=ne.codemirror;ie(le,"bigger")}function b(ne){var le=ne.codemirror;ie(le,void 0,1)}function k(ne){var le=ne.codemirror;ie(le,void 0,2)}function A(ne){var le=ne.codemirror;ie(le,void 0,3)}function N(ne){var le=ne.codemirror;te(le,"unordered-list")}function T(ne){var le=ne.codemirror;te(le,"ordered-list")}function P(ne){var le=ne.codemirror;Y(le)}function R(ne){var le=ne.codemirror,he=d(le),O=ne.options,F="http://";return O.promptURLs&&(F=prompt(O.promptTexts.link),!F)?!1:void me(le,he.link,O.insertTexts.link,F)}function B(ne){var le=ne.codemirror,he=d(le),O=ne.options,F="http://";return O.promptURLs&&(F=prompt(O.promptTexts.image),!F)?!1:void me(le,he.image,O.insertTexts.image,F)}function D(ne){var le=ne.codemirror,he=d(le),O=ne.options;me(le,he.table,O.insertTexts.table)}function H(ne){var le=ne.codemirror,he=d(le),O=ne.options;me(le,he.image,O.insertTexts.horizontalRule)}function $(ne){var le=ne.codemirror;le.undo(),le.focus()}function V(ne){var le=ne.codemirror;le.redo(),le.focus()}function ee(ne){var le=ne.codemirror,he=le.getWrapperElement(),O=he.nextSibling,F=ne.toolbarElements["side-by-side"],z=!1;/editor-preview-active-side/.test(O.className)?(O.className=O.className.replace(/\s*editor-preview-active-side\s*/g,""),F.className=F.className.replace(/\s*active\s*/g,""),he.className=he.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){le.getOption("fullScreen")||f(ne),O.className+=" editor-preview-active-side"},1),F.className+=" active",he.className+=" CodeMirror-sided",z=!0);var re=he.lastChild;if(/editor-preview-active/.test(re.className)){re.className=re.className.replace(/\s*editor-preview-active\s*/g,"");var _e=ne.toolbarElements.preview,Le=he.previousSibling;_e.className=_e.className.replace(/\s*active\s*/g,""),Le.className=Le.className.replace(/\s*disabled-for-preview*/g,"")}var Me=function(){O.innerHTML=ne.options.previewRender(ne.value(),O)};le.sideBySideRenderingFunction||(le.sideBySideRenderingFunction=Me),z?(O.innerHTML=ne.options.previewRender(ne.value(),O),le.on("update",le.sideBySideRenderingFunction)):le.off("update",le.sideBySideRenderingFunction),le.refresh()}function fe(ne){var le=ne.codemirror,he=le.getWrapperElement(),O=he.previousSibling,F=ne.options.toolbar?ne.toolbarElements.preview:!1,z=he.lastChild;z&&/editor-preview/.test(z.className)||(z=document.createElement("div"),z.className="editor-preview",he.appendChild(z)),/editor-preview-active/.test(z.className)?(z.className=z.className.replace(/\s*editor-preview-active\s*/g,""),F&&(F.className=F.className.replace(/\s*active\s*/g,""),O.className=O.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){z.className+=" editor-preview-active"},1),F&&(F.className+=" active",O.className+=" disabled-for-preview")),z.innerHTML=ne.options.previewRender(ne.value(),z);var re=le.getWrapperElement().nextSibling;/editor-preview-active-side/.test(re.className)&&ee(ne)}function me(ne,le,he,O){if(!/editor-preview-active/.test(ne.getWrapperElement().lastChild.className)){var F,z=he[0],re=he[1],_e=ne.getCursor("start"),Le=ne.getCursor("end");O&&(re=re.replace("#url#",O)),le?(F=ne.getLine(_e.line),z=F.slice(0,_e.ch),re=F.slice(_e.ch),ne.replaceRange(z+re,{line:_e.line,ch:0})):(F=ne.getSelection(),ne.replaceSelection(z+F+re),_e.ch+=z.length,_e!==Le&&(Le.ch+=z.length)),ne.setSelection(_e,Le),ne.focus()}}function ie(ne,le,he){if(!/editor-preview-active/.test(ne.getWrapperElement().lastChild.className)){for(var O=ne.getCursor("start"),F=ne.getCursor("end"),z=O.line;z<=F.line;z++)(function(re){var _e=ne.getLine(re),Le=_e.search(/[^#]/);_e=le!==void 0?0>=Le?le=="bigger"?"###### "+_e:"# "+_e:Le==6&&le=="smaller"?_e.substr(7):Le==1&&le=="bigger"?_e.substr(2):le=="bigger"?_e.substr(1):"#"+_e:he==1?0>=Le?"# "+_e:Le==he?_e.substr(Le+1):"# "+_e.substr(Le+1):he==2?0>=Le?"## "+_e:Le==he?_e.substr(Le+1):"## "+_e.substr(Le+1):0>=Le?"### "+_e:Le==he?_e.substr(Le+1):"### "+_e.substr(Le+1),ne.replaceRange(_e,{line:re,ch:0},{line:re,ch:99999999999999})})(z);ne.focus()}}function te(ne,le){if(!/editor-preview-active/.test(ne.getWrapperElement().lastChild.className)){for(var he=d(ne),O=ne.getCursor("start"),F=ne.getCursor("end"),z={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},re={quote:"> ","unordered-list":"* ","ordered-list":"1. "},_e=O.line;_e<=F.line;_e++)(function(Le){var Me=ne.getLine(Le);Me=he[le]?Me.replace(z[le],"$1"):re[le]+Me,ne.replaceRange(Me,{line:Le,ch:0},{line:Le,ch:99999999999999})})(_e);ne.focus()}}function be(ne,le,he,O){if(!/editor-preview-active/.test(ne.codemirror.getWrapperElement().lastChild.className)){O=typeof O>"u"?he:O;var F,z=ne.codemirror,re=d(z),_e=he,Le=O,Me=z.getCursor("start"),He=z.getCursor("end");re[le]?(F=z.getLine(Me.line),_e=F.slice(0,Me.ch),Le=F.slice(Me.ch),le=="bold"?(_e=_e.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Le=Le.replace(/(\*\*|__)/,"")):le=="italic"?(_e=_e.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Le=Le.replace(/(\*|_)/,"")):le=="strikethrough"&&(_e=_e.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Le=Le.replace(/(\*\*|~~)/,"")),z.replaceRange(_e+Le,{line:Me.line,ch:0},{line:Me.line,ch:99999999999999}),le=="bold"||le=="strikethrough"?(Me.ch-=2,Me!==He&&(He.ch-=2)):le=="italic"&&(Me.ch-=1,Me!==He&&(He.ch-=1))):(F=z.getSelection(),le=="bold"?(F=F.split("**").join(""),F=F.split("__").join("")):le=="italic"?(F=F.split("*").join(""),F=F.split("_").join("")):le=="strikethrough"&&(F=F.split("~~").join("")),z.replaceSelection(_e+F+Le),Me.ch+=he.length,He.ch=Me.ch+F.length),z.setSelection(Me,He),z.focus()}}function Y(ne){if(!/editor-preview-active/.test(ne.getWrapperElement().lastChild.className))for(var le,he=ne.getCursor("start"),O=ne.getCursor("end"),F=he.line;F<=O.line;F++)le=ne.getLine(F),le=le.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),ne.replaceRange(le,{line:F,ch:0},{line:F,ch:99999999999999})}function ue(ne,le){for(var he in le)le.hasOwnProperty(he)&&(le[he]instanceof Array?ne[he]=le[he].concat(ne[he]instanceof Array?ne[he]:[]):le[he]!==null&&typeof le[he]=="object"&&le[he].constructor===Object?ne[he]=ue(ne[he]||{},le[he]):ne[he]=le[he]);return ne}function ke(ne){for(var le=1;le<arguments.length;le++)ne=ue(ne,arguments[le]);return ne}function xe(ne){var le=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,he=ne.match(le),O=0;if(he===null)return O;for(var F=0;F<he.length;F++)O+=he[F].charCodeAt(0)>=19968?he[F].length:1;return O}function X(ne){ne=ne||{},ne.parent=this;var le=!0;if(ne.autoDownloadFontAwesome===!1&&(le=!1),ne.autoDownloadFontAwesome!==!0)for(var he=document.styleSheets,O=0;O<he.length;O++)he[O].href&&he[O].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(le=!1);if(le){var F=document.createElement("link");F.rel="stylesheet",F.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(F)}if(ne.element)this.element=ne.element;else if(ne.element===null)return void console.log("SimpleMDE: Error. No element was found.");if(ne.toolbar===void 0){ne.toolbar=[];for(var z in ye)ye.hasOwnProperty(z)&&(z.indexOf("separator-")!=-1&&ne.toolbar.push("|"),(ye[z].default===!0||ne.showIcons&&ne.showIcons.constructor===Array&&ne.showIcons.indexOf(z)!=-1)&&ne.toolbar.push(z))}ne.hasOwnProperty("status")||(ne.status=["autosave","lines","words","cursor"]),ne.previewRender||(ne.previewRender=function(re){return this.parent.markdown(re)}),ne.parsingConfig=ke({highlightFormatting:!0},ne.parsingConfig||{}),ne.insertTexts=ke({},Ae,ne.insertTexts||{}),ne.promptTexts=Te,ne.blockStyles=ke({},De,ne.blockStyles||{}),ne.shortcuts=ke({},ce,ne.shortcuts||{}),ne.autosave!=null&&ne.autosave.unique_id!=null&&ne.autosave.unique_id!=""&&(ne.autosave.uniqueId=ne.autosave.unique_id),this.options=ne,this.render(),!ne.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(ne.initialValue)}function K(){if(typeof localStorage!="object")return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}return!0}var Oe=t("codemirror");t("codemirror/addon/edit/continuelist.js"),t("./codemirror/tablist"),t("codemirror/addon/display/fullscreen.js"),t("codemirror/mode/markdown/markdown.js"),t("codemirror/addon/mode/overlay.js"),t("codemirror/addon/display/placeholder.js"),t("codemirror/addon/selection/mark-selection.js"),t("codemirror/mode/gfm/gfm.js"),t("codemirror/mode/xml/xml.js");var Fe=t("codemirror-spell-checker"),Q=t("marked"),oe=/Mac/.test(navigator.platform),ae={toggleBold:g,toggleItalic:y,drawLink:R,toggleHeadingSmaller:C,toggleHeadingBigger:M,drawImage:B,toggleBlockquote:w,toggleOrderedList:T,toggleUnorderedList:N,toggleCodeBlock:_,togglePreview:fe,toggleStrikethrough:E,toggleHeading1:b,toggleHeading2:k,toggleHeading3:A,cleanBlock:P,drawTable:D,drawHorizontalRule:H,undo:$,redo:V,toggleSideBySide:ee,toggleFullScreen:f},ce={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},q=function(ne){for(var le in ae)if(ae[le]===ne)return le;return null},J=function(){var ne=!1;return function(le){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(le)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(le.substr(0,4)))&&(ne=!0)}(navigator.userAgent||navigator.vendor||window.opera),ne},pe="",ye={bold:{name:"bold",action:g,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:y,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:E,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:C,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:C,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:M,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:b,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:k,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:A,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:_,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:w,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:N,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:T,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:P,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:R,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:B,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:D,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:H,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:fe,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ee,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:f,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:$,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:V,className:"fa fa-repeat no-disable",title:"Redo"}},Ae={link:["[","](#url#)"],image:["![](","#url#)"],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Te={link:"URL for the link:",image:"URL of the image:"},De={bold:"**",code:"```",italic:"*"};X.prototype.markdown=function(ne){if(Q){var le={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?le.breaks=!1:le.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(le.highlight=function(he){return window.hljs.highlightAuto(he).value}),Q.setOptions(le),Q(ne)}},X.prototype.render=function(ne){if(ne||(ne=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==ne){this.element=ne;var le=this.options,he=this,O={};for(var F in le.shortcuts)le.shortcuts[F]!==null&&ae[F]!==null&&function(Me){O[s(le.shortcuts[Me])]=function(){ae[Me](he)}}(F);O.Enter="newlineAndIndentContinueMarkdownList",O.Tab="tabAndIndentMarkdownList",O["Shift-Tab"]="shiftTabAndUnindentMarkdownList",O.Esc=function(Me){Me.getOption("fullScreen")&&f(he)},document.addEventListener("keydown",function(Me){Me=Me||window.event,Me.keyCode==27&&he.codemirror.getOption("fullScreen")&&f(he)},!1);var z,re;if(le.spellChecker!==!1?(z="spell-checker",re=le.parsingConfig,re.name="gfm",re.gitHubSpice=!1,Fe({codeMirrorInstance:Oe})):(z=le.parsingConfig,z.name="gfm",z.gitHubSpice=!1),this.codemirror=Oe.fromTextArea(ne,{mode:z,backdrop:re,theme:"paper",tabSize:le.tabSize!=null?le.tabSize:2,indentUnit:le.tabSize!=null?le.tabSize:2,indentWithTabs:le.indentWithTabs!==!1,lineNumbers:!1,autofocus:le.autofocus===!0,extraKeys:O,lineWrapping:le.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:le.placeholder||ne.getAttribute("placeholder")||"",styleSelectedText:le.styleSelectedText!=null?le.styleSelectedText:!0}),le.forceSync===!0){var _e=this.codemirror;_e.on("change",function(){_e.save()})}this.gui={},le.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),le.status!==!1&&(this.gui.statusbar=this.createStatusbar()),le.autosave!=null&&le.autosave.enabled===!0&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var Le=this.codemirror;setTimeout((function(){Le.refresh()}).bind(Le),0)}},X.prototype.autosave=function(){if(K()){var ne=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");ne.element.form!=null&&ne.element.form!=null&&ne.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+ne.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,ne.value());var le=document.getElementById("autosaved");if(le!=null&&le!=null&&le!=""){var he=new Date,O=he.getHours(),F=he.getMinutes(),z="am",re=O;re>=12&&(re=O-12,z="pm"),re==0&&(re=12),F=10>F?"0"+F:F,le.innerHTML="Autosaved: "+re+":"+F+" "+z}this.autosaveTimeoutId=setTimeout(function(){ne.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},X.prototype.clearAutosavedValue=function(){if(K()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},X.prototype.createSideBySide=function(){var ne=this.codemirror,le=ne.getWrapperElement(),he=le.nextSibling;he&&/editor-preview-side/.test(he.className)||(he=document.createElement("div"),he.className="editor-preview-side",le.parentNode.insertBefore(he,le.nextSibling));var O=!1,F=!1;return ne.on("scroll",function(z){if(O)return void(O=!1);F=!0;var re=z.getScrollInfo().height-z.getScrollInfo().clientHeight,_e=parseFloat(z.getScrollInfo().top)/re,Le=(he.scrollHeight-he.clientHeight)*_e;he.scrollTop=Le}),he.onscroll=function(){if(F)return void(F=!1);O=!0;var z=he.scrollHeight-he.clientHeight,re=parseFloat(he.scrollTop)/z,_e=(ne.getScrollInfo().height-ne.getScrollInfo().clientHeight)*re;ne.scrollTo(0,_e)},he},X.prototype.createToolbar=function(ne){if(ne=ne||this.options.toolbar,ne&&ne.length!==0){var le;for(le=0;le<ne.length;le++)ye[ne[le]]!=null&&(ne[le]=ye[ne[le]]);var he=document.createElement("div");he.className="editor-toolbar";var O=this,F={};for(O.toolbar=ne,le=0;le<ne.length;le++)if((ne[le].name!="guide"||O.options.toolbarGuideIcon!==!1)&&!(O.options.hideIcons&&O.options.hideIcons.indexOf(ne[le].name)!=-1||(ne[le].name=="fullscreen"||ne[le].name=="side-by-side")&&J())){if(ne[le]==="|"){for(var z=!1,re=le+1;re<ne.length;re++)ne[re]==="|"||O.options.hideIcons&&O.options.hideIcons.indexOf(ne[re].name)!=-1||(z=!0);if(!z)continue}(function(Me){var He;He=Me==="|"?h():l(Me,O.options.toolbarTips,O.options.shortcuts),Me.action&&(typeof Me.action=="function"?He.onclick=function(Ze){Ze.preventDefault(),Me.action(O)}:typeof Me.action=="string"&&(He.href=Me.action,He.target="_blank")),F[Me.name||Me]=He,he.appendChild(He)})(ne[le])}O.toolbarElements=F;var _e=this.codemirror;_e.on("cursorActivity",function(){var Me=d(_e);for(var He in F)(function(Ze){var mt=F[Ze];Me[Ze]?mt.className+=" active":Ze!="fullscreen"&&Ze!="side-by-side"&&(mt.className=mt.className.replace(/\s*active\s*/g,""))})(He)});var Le=_e.getWrapperElement();return Le.parentNode.insertBefore(he,Le),he}},X.prototype.createStatusbar=function(ne){ne=ne||this.options.status;var le=this.options,he=this.codemirror;if(ne&&ne.length!==0){var O,F,z,re=[];for(O=0;O<ne.length;O++)if(F=void 0,z=void 0,typeof ne[O]=="object")re.push({className:ne[O].className,defaultValue:ne[O].defaultValue,onUpdate:ne[O].onUpdate});else{var _e=ne[O];_e==="words"?(z=function(mt){mt.innerHTML=xe(he.getValue())},F=function(mt){mt.innerHTML=xe(he.getValue())}):_e==="lines"?(z=function(mt){mt.innerHTML=he.lineCount()},F=function(mt){mt.innerHTML=he.lineCount()}):_e==="cursor"?(z=function(mt){mt.innerHTML="0:0"},F=function(mt){var ct=he.getCursor();mt.innerHTML=ct.line+":"+ct.ch}):_e==="autosave"&&(z=function(mt){le.autosave!=null&&le.autosave.enabled===!0&&mt.setAttribute("id","autosaved")}),re.push({className:_e,defaultValue:z,onUpdate:F})}var Le=document.createElement("div");for(Le.className="editor-statusbar",O=0;O<re.length;O++){var Me=re[O],He=document.createElement("span");He.className=Me.className,typeof Me.defaultValue=="function"&&Me.defaultValue(He),typeof Me.onUpdate=="function"&&this.codemirror.on("update",function(mt,ct){return function(){ct.onUpdate(mt)}}(He,Me)),Le.appendChild(He)}var Ze=this.codemirror.getWrapperElement();return Ze.parentNode.insertBefore(Le,Ze.nextSibling),Le}},X.prototype.value=function(ne){return ne===void 0?this.codemirror.getValue():(this.codemirror.getDoc().setValue(ne),this)},X.toggleBold=g,X.toggleItalic=y,X.toggleStrikethrough=E,X.toggleBlockquote=w,X.toggleHeadingSmaller=C,X.toggleHeadingBigger=M,X.toggleHeading1=b,X.toggleHeading2=k,X.toggleHeading3=A,X.toggleCodeBlock=_,X.toggleUnorderedList=N,X.toggleOrderedList=T,X.cleanBlock=P,X.drawLink=R,X.drawImage=B,X.drawTable=D,X.drawHorizontalRule=H,X.undo=$,X.redo=V,X.togglePreview=fe,X.toggleSideBySide=ee,X.toggleFullScreen=f,X.prototype.toggleBold=function(){g(this)},X.prototype.toggleItalic=function(){y(this)},X.prototype.toggleStrikethrough=function(){E(this)},X.prototype.toggleBlockquote=function(){w(this)},X.prototype.toggleHeadingSmaller=function(){C(this)},X.prototype.toggleHeadingBigger=function(){M(this)},X.prototype.toggleHeading1=function(){b(this)},X.prototype.toggleHeading2=function(){k(this)},X.prototype.toggleHeading3=function(){A(this)},X.prototype.toggleCodeBlock=function(){_(this)},X.prototype.toggleUnorderedList=function(){N(this)},X.prototype.toggleOrderedList=function(){T(this)},X.prototype.cleanBlock=function(){P(this)},X.prototype.drawLink=function(){R(this)},X.prototype.drawImage=function(){B(this)},X.prototype.drawTable=function(){D(this)},X.prototype.drawHorizontalRule=function(){H(this)},X.prototype.undo=function(){$(this)},X.prototype.redo=function(){V(this)},X.prototype.togglePreview=function(){fe(this)},X.prototype.toggleSideBySide=function(){ee(this)},X.prototype.toggleFullScreen=function(){f(this)},X.prototype.isPreviewActive=function(){var ne=this.codemirror,le=ne.getWrapperElement(),he=le.lastChild;return/editor-preview-active/.test(he.className)},X.prototype.isSideBySideActive=function(){var ne=this.codemirror,le=ne.getWrapperElement(),he=le.nextSibling;return/editor-preview-active-side/.test(he.className)},X.prototype.isFullscreenActive=function(){var ne=this.codemirror;return ne.getOption("fullScreen")},X.prototype.getState=function(){var ne=this.codemirror;return d(ne)},X.prototype.toTextArea=function(){var ne=this.codemirror,le=ne.getWrapperElement();le.parentNode&&(this.gui.toolbar&&le.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&le.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&le.parentNode.removeChild(this.gui.sideBySide)),ne.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},r.exports=X},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})})(FO);var tK=FO.exports;const Si=cc(tK);class BO extends vn{get textarea(){return this.element.querySelector("textarea")}get uploadInput(){return this.element.querySelector(".upload")}initialize(){this.intersectionObserver=new IntersectionObserver(e=>this.processIntersectionEntries(e)),this.intersectionObserver.observe(this.element)}processIntersectionEntries(e){e.forEach(t=>{t.isIntersecting&&(this.intersectionObserver.unobserve(this.element),this.editor=this.initEditor())})}initEditor(){return new Si({autoDownloadFontAwesome:void 0,forceSync:!0,element:this.textarea,toolbar:[{name:"bold",action:Si.toggleBold,className:"fa fa-bold",title:"Bold"},{name:"italic",action:Si.toggleItalic,className:"fa fa-italic",title:"Italic"},{name:"heading",action:Si.toggleHeadingSmaller,className:"fa fa-header",title:"Heading"},"|",{name:"quote",action:Si.toggleBlockquote,className:"fa fa-quote-left",title:"Quote"},{name:"code",action:Si.toggleCodeBlock,className:"fa fa-code",title:"Code"},{name:"unordered-list",action:Si.toggleUnorderedList,className:"fa fa-list-ul",title:"Generic List"},{name:"ordered-list",action:Si.toggleOrderedList,className:"fa fa-list-ol",title:"Numbered List"},"|",{name:"link",action:Si.drawLink,className:"fa fa-link",title:"Link"},{name:"image",action:Si.drawImage,className:"fa fa-picture-o",title:"Insert Image"},{name:"upload",action:()=>this.showDialogUpload(),className:"fa fa-upload",title:"Upload File"},{name:"table",action:Si.drawTable,className:"fa fa-table",title:"Insert Table"},"|",{name:"preview",action:Si.togglePreview,className:"fa fa-eye no-disable",title:"Toggle Preview"},{name:"side-by-side",action:Si.toggleSideBySide,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side"},{name:"fullscreen",action:Si.toggleFullScreen,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen"},"|",{name:"horizontal-rule",action:Si.drawHorizontalRule,className:"fa fa-minus",title:"Insert Horizontal Line"}],initialValue:JSON.parse(this.textValue),placeholder:this.textarea.placeholder,spellChecker:!1})}showDialogUpload(){this.uploadInput.click()}upload(e){const t=e.target.files[0];if(t==null)return;const r=new FormData;r.append("file",t),axios.post(this.prefix("/systems/files"),r).then(i=>{this.editor.codemirror.replaceSelection(i.data.url),e.target.value=null}).catch(i=>{console.warn(i),e.target.value=null})}}$e(BO,"values",{text:String});const nK=Object.freeze(Object.defineProperty({__proto__:null,default:BO},Symbol.toStringTag,{value:"Module"}));class jO extends vn{connect(){this.sortable=new Kt(this.element,{animation:150,handle:this.selectorValue,onEnd:()=>this.reorderElements()})}reorderElements(){const e={model:this.modelValue,items:[]};this.element.querySelectorAll(this.selectorValue).forEach((r,i)=>{e.items.push({id:r.getAttribute("data-model-id"),sortOrder:i})}),axios.post(this.actionValue,e).then(()=>this.toast(this.successMessageValue)).catch(r=>{console.error(r),this.toast(this.failureMessageValue,"danger")})}}$e(jO,"values",{model:String,action:String,selector:{type:String,default:".reorder-handle"},successMessage:{type:String,default:"Sorting saved successfully."},failureMessage:{type:String,default:"Failed to save sorting."}});const rK=Object.freeze(Object.defineProperty({__proto__:null,default:jO},Symbol.toStringTag,{value:"Module"}));class iK extends vn{initialize(){const e=JSON.parse(localStorage.getItem(this.slug));this.hiddenColumns=e||[]}connect(){this.allowDefaultHidden(),this.renderColumn(),this.element.querySelector(".dropdown-column-menu")!==null&&this.element.querySelector(".dropdown-column-menu").addEventListener("click",e=>{e.stopPropagation()})}allowDefaultHidden(){localStorage.getItem(this.slug)===null&&this.element.querySelectorAll('input[data-default-hidden="true"]').forEach(e=>{this.hideColumn(e.dataset.column)})}toggleColumn(e){const t=e.target.dataset.column;this.hiddenColumns.includes(t)?this.showColumn(t):this.hideColumn(t);const r=JSON.stringify(this.hiddenColumns);this.renderColumn(),localStorage.setItem(this.slug,r)}showColumn(e){this.hiddenColumns=this.hiddenColumns.filter(t=>t!==e)}hideColumn(e){this.hiddenColumns.push(e)}renderColumn(){this.element.querySelectorAll("td[data-column], th[data-column]").forEach(r=>{r.style.display=""});const e=this.hiddenColumns.map(r=>`td[data-column="${r}"], th[data-column="${r}"]`).join();if(e.length<1)return;this.element.querySelectorAll(e).forEach(r=>{r.style.display="none"});const t=this.hiddenColumns.map(r=>`input[data-column="${r}"]`).join();this.element.querySelectorAll(t).forEach(r=>{r.checked=!1})}get slug(){return this.data.get("slug")}}const oK=Object.freeze(Object.defineProperty({__proto__:null,default:iK},Symbol.toStringTag,{value:"Module"}));class sK extends vn{connect(){const e=this.tabs(),t=window.location.href.split(/[?#]/)[0],r=e[t][this.data.get("slug")];[].slice.call(this.element.querySelectorAll('a[role="tablist"]')).forEach(function(i){let s=Ts.getOrCreateInstance(i);i.addEventListener("click",l=>{l.preventDefault(),s.show()})}),r!==null&&!this.data.get("active-tab")&&Ts.getOrCreateInstance(document.getElementById(r)).show()}setActiveTab(e){const t=e.target.id,r=this.tabs(),i=window.location.href.split(/[?#]/)[0];return r[i][this.data.get("slug")]=t,localStorage.setItem("tabs",JSON.stringify(r)),Ts.getOrCreateInstance(document.getElementById(t)).show(),e.preventDefault()}tabs(){let e=JSON.parse(localStorage.getItem("tabs"));const t=window.location.href.split(/[?#]/)[0];return e===null&&(e={}),e[t]===void 0&&(e[t]={}),e[t][this.data.get("slug")]===void 0&&(e[t][this.data.get("slug")]=null),e}}const aK=Object.freeze(Object.defineProperty({__proto__:null,default:sK},Symbol.toStringTag,{value:"Module"}));class lK extends vn{connect(){"content"in document.createElement("template")||console.warn("Your browser does not support <template>"),this.template=this.element.querySelector("#toast"),this.showAllToasts()}alert(e,t,r="warning"){this.toast(`<b>${e}</b><br> ${t}`,r)}toast(e,t="warning"){const r=this.template.content.querySelector(".toast").cloneNode(!0);r.innerHTML=r.innerHTML.replace(/{message}/,e).replace(/{type}/,t),this.element.appendChild(r),this.showAllToasts()}showAllToasts(){const e=this.element.querySelector(".toast");e!==null&&(e.addEventListener("hidden.bs.toast",t=>{t.target.remove()}),new ih(e).show())}}const cK=Object.freeze(Object.defineProperty({__proto__:null,default:lK},Symbol.toStringTag,{value:"Module"}));class $O extends vn{toggle(){this.buttonTarget.click()}}$e($O,"targets",["button"]);const uK=Object.freeze(Object.defineProperty({__proto__:null,default:$O},Symbol.toStringTag,{value:"Module"}));class hK extends vn{connect(){this.tooltip=new rh(this.element,{boundary:"window"})}}const dK=Object.freeze(Object.defineProperty({__proto__:null,default:hK},Symbol.toStringTag,{value:"Module"}));var HO={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(self,function(){return function(){var t={3099:function(l){l.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},6077:function(l,h,c){var d=c(111);l.exports=function(f){if(!d(f)&&f!==null)throw TypeError("Can't set "+String(f)+" as a prototype");return f}},1223:function(l,h,c){var d=c(5112),f=c(30),g=c(3070),y=d("unscopables"),E=Array.prototype;E[y]==null&&g.f(E,y,{configurable:!0,value:f(null)}),l.exports=function(_){E[y][_]=!0}},1530:function(l,h,c){var d=c(8710).charAt;l.exports=function(f,g,y){return g+(y?d(f,g).length:1)}},5787:function(l){l.exports=function(h,c,d){if(!(h instanceof c))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return h}},9670:function(l,h,c){var d=c(111);l.exports=function(f){if(!d(f))throw TypeError(String(f)+" is not an object");return f}},4019:function(l){l.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:function(l,h,c){var d=c(4019),f=c(9781),g=c(7854),y=c(111),E=c(6656),_=c(648),w=c(8880),C=c(1320),M=c(3070).f,b=c(9518),k=c(7674),A=c(5112),N=c(9711),T=g.Int8Array,P=T&&T.prototype,R=g.Uint8ClampedArray,B=R&&R.prototype,D=T&&b(T),H=P&&b(P),$=Object.prototype,V=$.isPrototypeOf,ee=A("toStringTag"),fe=N("TYPED_ARRAY_TAG"),me=d&&!!k&&_(g.opera)!=="Opera",ie=!1,te,be={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},ue=function(Q){if(!y(Q))return!1;var oe=_(Q);return oe==="DataView"||E(be,oe)||E(Y,oe)},ke=function(Fe){if(!y(Fe))return!1;var Q=_(Fe);return E(be,Q)||E(Y,Q)},xe=function(Fe){if(ke(Fe))return Fe;throw TypeError("Target is not a typed array")},X=function(Fe){if(k){if(V.call(D,Fe))return Fe}else for(var Q in be)if(E(be,te)){var oe=g[Q];if(oe&&(Fe===oe||V.call(oe,Fe)))return Fe}throw TypeError("Target is not a typed array constructor")},K=function(Fe,Q,oe){if(f){if(oe)for(var ae in be){var ce=g[ae];ce&&E(ce.prototype,Fe)&&delete ce.prototype[Fe]}(!H[Fe]||oe)&&C(H,Fe,oe?Q:me&&P[Fe]||Q)}},Oe=function(Fe,Q,oe){var ae,ce;if(f){if(k){if(oe)for(ae in be)ce=g[ae],ce&&E(ce,Fe)&&delete ce[Fe];if(!D[Fe]||oe)try{return C(D,Fe,oe?Q:me&&T[Fe]||Q)}catch{}else return}for(ae in be)ce=g[ae],ce&&(!ce[Fe]||oe)&&C(ce,Fe,Q)}};for(te in be)g[te]||(me=!1);if((!me||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},me))for(te in be)g[te]&&k(g[te],D);if((!me||!H||H===$)&&(H=D.prototype,me))for(te in be)g[te]&&k(g[te].prototype,H);if(me&&b(B)!==H&&k(B,H),f&&!E(H,ee)){ie=!0,M(H,ee,{get:function(){return y(this)?this[fe]:void 0}});for(te in be)g[te]&&w(g[te],fe,te)}l.exports={NATIVE_ARRAY_BUFFER_VIEWS:me,TYPED_ARRAY_TAG:ie&&fe,aTypedArray:xe,aTypedArrayConstructor:X,exportTypedArrayMethod:K,exportTypedArrayStaticMethod:Oe,isView:ue,isTypedArray:ke,TypedArray:D,TypedArrayPrototype:H}},3331:function(l,h,c){var d=c(7854),f=c(9781),g=c(4019),y=c(8880),E=c(2248),_=c(7293),w=c(5787),C=c(9958),M=c(7466),b=c(7067),k=c(1179),A=c(9518),N=c(7674),T=c(8006).f,P=c(3070).f,R=c(1285),B=c(8003),D=c(9909),H=D.get,$=D.set,V="ArrayBuffer",ee="DataView",fe="prototype",me="Wrong length",ie="Wrong index",te=d[V],be=te,Y=d[ee],ue=Y&&Y[fe],ke=Object.prototype,xe=d.RangeError,X=k.pack,K=k.unpack,Oe=function(he){return[he&255]},Fe=function(he){return[he&255,he>>8&255]},Q=function(he){return[he&255,he>>8&255,he>>16&255,he>>24&255]},oe=function(he){return he[3]<<24|he[2]<<16|he[1]<<8|he[0]},ae=function(he){return X(he,23,4)},ce=function(he){return X(he,52,8)},q=function(he,O){P(he[fe],O,{get:function(){return H(this)[O]}})},J=function(he,O,F,z){var re=b(F),_e=H(he);if(re+O>_e.byteLength)throw xe(ie);var Le=H(_e.buffer).bytes,Me=re+_e.byteOffset,He=Le.slice(Me,Me+O);return z?He:He.reverse()},pe=function(he,O,F,z,re,_e){var Le=b(F),Me=H(he);if(Le+O>Me.byteLength)throw xe(ie);for(var He=H(Me.buffer).bytes,Ze=Le+Me.byteOffset,mt=z(+re),ct=0;ct<O;ct++)He[Ze+ct]=mt[_e?ct:O-ct-1]};if(!g)be=function(O){w(this,be,V);var F=b(O);$(this,{bytes:R.call(new Array(F),0),byteLength:F}),f||(this.byteLength=F)},Y=function(O,F,z){w(this,Y,ee),w(O,be,ee);var re=H(O).byteLength,_e=C(F);if(_e<0||_e>re)throw xe("Wrong offset");if(z=z===void 0?re-_e:M(z),_e+z>re)throw xe(me);$(this,{buffer:O,byteLength:z,byteOffset:_e}),f||(this.buffer=O,this.byteLength=z,this.byteOffset=_e)},f&&(q(be,"byteLength"),q(Y,"buffer"),q(Y,"byteLength"),q(Y,"byteOffset")),E(Y[fe],{getInt8:function(O){return J(this,1,O)[0]<<24>>24},getUint8:function(O){return J(this,1,O)[0]},getInt16:function(O){var F=J(this,2,O,arguments.length>1?arguments[1]:void 0);return(F[1]<<8|F[0])<<16>>16},getUint16:function(O){var F=J(this,2,O,arguments.length>1?arguments[1]:void 0);return F[1]<<8|F[0]},getInt32:function(O){return oe(J(this,4,O,arguments.length>1?arguments[1]:void 0))},getUint32:function(O){return oe(J(this,4,O,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(O){return K(J(this,4,O,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(O){return K(J(this,8,O,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(O,F){pe(this,1,O,Oe,F)},setUint8:function(O,F){pe(this,1,O,Oe,F)},setInt16:function(O,F){pe(this,2,O,Fe,F,arguments.length>2?arguments[2]:void 0)},setUint16:function(O,F){pe(this,2,O,Fe,F,arguments.length>2?arguments[2]:void 0)},setInt32:function(O,F){pe(this,4,O,Q,F,arguments.length>2?arguments[2]:void 0)},setUint32:function(O,F){pe(this,4,O,Q,F,arguments.length>2?arguments[2]:void 0)},setFloat32:function(O,F){pe(this,4,O,ae,F,arguments.length>2?arguments[2]:void 0)},setFloat64:function(O,F){pe(this,8,O,ce,F,arguments.length>2?arguments[2]:void 0)}});else{if(!_(function(){te(1)})||!_(function(){new te(-1)})||_(function(){return new te,new te(1.5),new te(NaN),te.name!=V})){be=function(O){return w(this,be),new te(b(O))};for(var ye=be[fe]=te[fe],Ae=T(te),Te=0,De;Ae.length>Te;)(De=Ae[Te++])in be||y(be,De,te[De]);ye.constructor=be}N&&A(ue)!==ke&&N(ue,ke);var ne=new Y(new be(2)),le=ue.setInt8;ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),(ne.getInt8(0)||!ne.getInt8(1))&&E(ue,{setInt8:function(O,F){le.call(this,O,F<<24>>24)},setUint8:function(O,F){le.call(this,O,F<<24>>24)}},{unsafe:!0})}B(be,V),B(Y,ee),l.exports={ArrayBuffer:be,DataView:Y}},1048:function(l,h,c){var d=c(7908),f=c(1400),g=c(7466),y=Math.min;l.exports=[].copyWithin||function(_,w){var C=d(this),M=g(C.length),b=f(_,M),k=f(w,M),A=arguments.length>2?arguments[2]:void 0,N=y((A===void 0?M:f(A,M))-k,M-b),T=1;for(k<b&&b<k+N&&(T=-1,k+=N-1,b+=N-1);N-- >0;)k in C?C[b]=C[k]:delete C[b],b+=T,k+=T;return C}},1285:function(l,h,c){var d=c(7908),f=c(1400),g=c(7466);l.exports=function(E){for(var _=d(this),w=g(_.length),C=arguments.length,M=f(C>1?arguments[1]:void 0,w),b=C>2?arguments[2]:void 0,k=b===void 0?w:f(b,w);k>M;)_[M++]=E;return _}},8533:function(l,h,c){var d=c(2092).forEach,f=c(9341),g=f("forEach");l.exports=g?[].forEach:function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}},8457:function(l,h,c){var d=c(9974),f=c(7908),g=c(3411),y=c(7659),E=c(7466),_=c(6135),w=c(1246);l.exports=function(M){var b=f(M),k=typeof this=="function"?this:Array,A=arguments.length,N=A>1?arguments[1]:void 0,T=N!==void 0,P=w(b),R=0,B,D,H,$,V,ee;if(T&&(N=d(N,A>2?arguments[2]:void 0,2)),P!=null&&!(k==Array&&y(P)))for($=P.call(b),V=$.next,D=new k;!(H=V.call($)).done;R++)ee=T?g($,N,[H.value,R],!0):H.value,_(D,R,ee);else for(B=E(b.length),D=new k(B);B>R;R++)ee=T?N(b[R],R):b[R],_(D,R,ee);return D.length=R,D}},1318:function(l,h,c){var d=c(5656),f=c(7466),g=c(1400),y=function(E){return function(_,w,C){var M=d(_),b=f(M.length),k=g(C,b),A;if(E&&w!=w){for(;b>k;)if(A=M[k++],A!=A)return!0}else for(;b>k;k++)if((E||k in M)&&M[k]===w)return E||k||0;return!E&&-1}};l.exports={includes:y(!0),indexOf:y(!1)}},2092:function(l,h,c){var d=c(9974),f=c(8361),g=c(7908),y=c(7466),E=c(5417),_=[].push,w=function(C){var M=C==1,b=C==2,k=C==3,A=C==4,N=C==6,T=C==7,P=C==5||N;return function(R,B,D,H){for(var $=g(R),V=f($),ee=d(B,D,3),fe=y(V.length),me=0,ie=H||E,te=M?ie(R,fe):b||T?ie(R,0):void 0,be,Y;fe>me;me++)if((P||me in V)&&(be=V[me],Y=ee(be,me,$),C))if(M)te[me]=Y;else if(Y)switch(C){case 3:return!0;case 5:return be;case 6:return me;case 2:_.call(te,be)}else switch(C){case 4:return!1;case 7:_.call(te,be)}return N?-1:k||A?A:te}};l.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterOut:w(7)}},6583:function(l,h,c){var d=c(5656),f=c(9958),g=c(7466),y=c(9341),E=Math.min,_=[].lastIndexOf,w=!!_&&1/[1].lastIndexOf(1,-0)<0,C=y("lastIndexOf"),M=w||!C;l.exports=M?function(k){if(w)return _.apply(this,arguments)||0;var A=d(this),N=g(A.length),T=N-1;for(arguments.length>1&&(T=E(T,f(arguments[1]))),T<0&&(T=N+T);T>=0;T--)if(T in A&&A[T]===k)return T||0;return-1}:_},1194:function(l,h,c){var d=c(7293),f=c(5112),g=c(7392),y=f("species");l.exports=function(E){return g>=51||!d(function(){var _=[],w=_.constructor={};return w[y]=function(){return{foo:1}},_[E](Boolean).foo!==1})}},9341:function(l,h,c){var d=c(7293);l.exports=function(f,g){var y=[][f];return!!y&&d(function(){y.call(null,g||function(){throw 1},1)})}},3671:function(l,h,c){var d=c(3099),f=c(7908),g=c(8361),y=c(7466),E=function(_){return function(w,C,M,b){d(C);var k=f(w),A=g(k),N=y(k.length),T=_?N-1:0,P=_?-1:1;if(M<2)for(;;){if(T in A){b=A[T],T+=P;break}if(T+=P,_?T<0:N<=T)throw TypeError("Reduce of empty array with no initial value")}for(;_?T>=0:N>T;T+=P)T in A&&(b=C(b,A[T],T,k));return b}};l.exports={left:E(!1),right:E(!0)}},5417:function(l,h,c){var d=c(111),f=c(3157),g=c(5112),y=g("species");l.exports=function(E,_){var w;return f(E)&&(w=E.constructor,typeof w=="function"&&(w===Array||f(w.prototype))?w=void 0:d(w)&&(w=w[y],w===null&&(w=void 0))),new(w===void 0?Array:w)(_===0?0:_)}},3411:function(l,h,c){var d=c(9670),f=c(9212);l.exports=function(g,y,E,_){try{return _?y(d(E)[0],E[1]):y(E)}catch(w){throw f(g),w}}},7072:function(l,h,c){var d=c(5112),f=d("iterator"),g=!1;try{var y=0,E={next:function(){return{done:!!y++}},return:function(){g=!0}};E[f]=function(){return this},Array.from(E,function(){throw 2})}catch{}l.exports=function(_,w){if(!w&&!g)return!1;var C=!1;try{var M={};M[f]=function(){return{next:function(){return{done:C=!0}}}},_(M)}catch{}return C}},4326:function(l){var h={}.toString;l.exports=function(c){return h.call(c).slice(8,-1)}},648:function(l,h,c){var d=c(1694),f=c(4326),g=c(5112),y=g("toStringTag"),E=f(function(){return arguments}())=="Arguments",_=function(w,C){try{return w[C]}catch{}};l.exports=d?f:function(w){var C,M,b;return w===void 0?"Undefined":w===null?"Null":typeof(M=_(C=Object(w),y))=="string"?M:E?f(C):(b=f(C))=="Object"&&typeof C.callee=="function"?"Arguments":b}},9920:function(l,h,c){var d=c(6656),f=c(3887),g=c(1236),y=c(3070);l.exports=function(E,_){for(var w=f(_),C=y.f,M=g.f,b=0;b<w.length;b++){var k=w[b];d(E,k)||C(E,k,M(_,k))}}},8544:function(l,h,c){var d=c(7293);l.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},4994:function(l,h,c){var d=c(3383).IteratorPrototype,f=c(30),g=c(9114),y=c(8003),E=c(7497),_=function(){return this};l.exports=function(w,C,M){var b=C+" Iterator";return w.prototype=f(d,{next:g(1,M)}),y(w,b,!1,!0),E[b]=_,w}},8880:function(l,h,c){var d=c(9781),f=c(3070),g=c(9114);l.exports=d?function(y,E,_){return f.f(y,E,g(1,_))}:function(y,E,_){return y[E]=_,y}},9114:function(l){l.exports=function(h,c){return{enumerable:!(h&1),configurable:!(h&2),writable:!(h&4),value:c}}},6135:function(l,h,c){var d=c(7593),f=c(3070),g=c(9114);l.exports=function(y,E,_){var w=d(E);w in y?f.f(y,w,g(0,_)):y[w]=_}},654:function(l,h,c){var d=c(2109),f=c(4994),g=c(9518),y=c(7674),E=c(8003),_=c(8880),w=c(1320),C=c(5112),M=c(1913),b=c(7497),k=c(3383),A=k.IteratorPrototype,N=k.BUGGY_SAFARI_ITERATORS,T=C("iterator"),P="keys",R="values",B="entries",D=function(){return this};l.exports=function(H,$,V,ee,fe,me,ie){f(V,$,ee);var te=function(Q){if(Q===fe&&xe)return xe;if(!N&&Q in ue)return ue[Q];switch(Q){case P:return function(){return new V(this,Q)};case R:return function(){return new V(this,Q)};case B:return function(){return new V(this,Q)}}return function(){return new V(this)}},be=$+" Iterator",Y=!1,ue=H.prototype,ke=ue[T]||ue["@@iterator"]||fe&&ue[fe],xe=!N&&ke||te(fe),X=$=="Array"&&ue.entries||ke,K,Oe,Fe;if(X&&(K=g(X.call(new H)),A!==Object.prototype&&K.next&&(!M&&g(K)!==A&&(y?y(K,A):typeof K[T]!="function"&&_(K,T,D)),E(K,be,!0,!0),M&&(b[be]=D))),fe==R&&ke&&ke.name!==R&&(Y=!0,xe=function(){return ke.call(this)}),(!M||ie)&&ue[T]!==xe&&_(ue,T,xe),b[$]=xe,fe)if(Oe={values:te(R),keys:me?xe:te(P),entries:te(B)},ie)for(Fe in Oe)(N||Y||!(Fe in ue))&&w(ue,Fe,Oe[Fe]);else d({target:$,proto:!0,forced:N||Y},Oe);return Oe}},9781:function(l,h,c){var d=c(7293);l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:function(l,h,c){var d=c(7854),f=c(111),g=d.document,y=f(g)&&f(g.createElement);l.exports=function(E){return y?g.createElement(E):{}}},8324:function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(l,h,c){var d=c(5005);l.exports=d("navigator","userAgent")||""},7392:function(l,h,c){var d=c(7854),f=c(8113),g=d.process,y=g&&g.versions,E=y&&y.v8,_,w;E?(_=E.split("."),w=_[0]+_[1]):f&&(_=f.match(/Edge\/(\d+)/),(!_||_[1]>=74)&&(_=f.match(/Chrome\/(\d+)/),_&&(w=_[1]))),l.exports=w&&+w},748:function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(l,h,c){var d=c(7854),f=c(1236).f,g=c(8880),y=c(1320),E=c(3505),_=c(9920),w=c(4705);l.exports=function(C,M){var b=C.target,k=C.global,A=C.stat,N,T,P,R,B,D;if(k?T=d:A?T=d[b]||E(b,{}):T=(d[b]||{}).prototype,T)for(P in M){if(B=M[P],C.noTargetGet?(D=f(T,P),R=D&&D.value):R=T[P],N=w(k?P:b+(A?".":"#")+P,C.forced),!N&&R!==void 0){if(typeof B==typeof R)continue;_(B,R)}(C.sham||R&&R.sham)&&g(B,"sham",!0),y(T,P,B,C)}}},7293:function(l){l.exports=function(h){try{return!!h()}catch{return!0}}},7007:function(l,h,c){c(4916);var d=c(1320),f=c(7293),g=c(5112),y=c(2261),E=c(8880),_=g("species"),w=!f(function(){var A=/./;return A.exec=function(){var N=[];return N.groups={a:"7"},N},"".replace(A,"$<a>")!=="7"}),C=function(){return"a".replace(/./,"$0")==="$0"}(),M=g("replace"),b=function(){return/./[M]?/./[M]("a","$0")==="":!1}(),k=!f(function(){var A=/(?:)/,N=A.exec;A.exec=function(){return N.apply(this,arguments)};var T="ab".split(A);return T.length!==2||T[0]!=="a"||T[1]!=="b"});l.exports=function(A,N,T,P){var R=g(A),B=!f(function(){var fe={};return fe[R]=function(){return 7},""[A](fe)!=7}),D=B&&!f(function(){var fe=!1,me=/a/;return A==="split"&&(me={},me.constructor={},me.constructor[_]=function(){return me},me.flags="",me[R]=/./[R]),me.exec=function(){return fe=!0,null},me[R](""),!fe});if(!B||!D||A==="replace"&&!(w&&C&&!b)||A==="split"&&!k){var H=/./[R],$=T(R,""[A],function(fe,me,ie,te,be){return me.exec===y?B&&!be?{done:!0,value:H.call(me,ie,te)}:{done:!0,value:fe.call(ie,me,te)}:{done:!1}},{REPLACE_KEEPS_$0:C,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),V=$[0],ee=$[1];d(String.prototype,A,V),d(RegExp.prototype,R,N==2?function(fe,me){return ee.call(fe,this,me)}:function(fe){return ee.call(fe,this)})}P&&E(RegExp.prototype[R],"sham",!0)}},9974:function(l,h,c){var d=c(3099);l.exports=function(f,g,y){if(d(f),g===void 0)return f;switch(y){case 0:return function(){return f.call(g)};case 1:return function(E){return f.call(g,E)};case 2:return function(E,_){return f.call(g,E,_)};case 3:return function(E,_,w){return f.call(g,E,_,w)}}return function(){return f.apply(g,arguments)}}},5005:function(l,h,c){var d=c(857),f=c(7854),g=function(y){return typeof y=="function"?y:void 0};l.exports=function(y,E){return arguments.length<2?g(d[y])||g(f[y]):d[y]&&d[y][E]||f[y]&&f[y][E]}},1246:function(l,h,c){var d=c(648),f=c(7497),g=c(5112),y=g("iterator");l.exports=function(E){if(E!=null)return E[y]||E["@@iterator"]||f[d(E)]}},8554:function(l,h,c){var d=c(9670),f=c(1246);l.exports=function(g){var y=f(g);if(typeof y!="function")throw TypeError(String(g)+" is not iterable");return d(y.call(g))}},647:function(l,h,c){var d=c(7908),f=Math.floor,g="".replace,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,E=/\$([$&'`]|\d\d?)/g;l.exports=function(_,w,C,M,b,k){var A=C+_.length,N=M.length,T=E;return b!==void 0&&(b=d(b),T=y),g.call(k,T,function(P,R){var B;switch(R.charAt(0)){case"$":return"$";case"&":return _;case"`":return w.slice(0,C);case"'":return w.slice(A);case"<":B=b[R.slice(1,-1)];break;default:var D=+R;if(D===0)return P;if(D>N){var H=f(D/10);return H===0?P:H<=N?M[H-1]===void 0?R.charAt(1):M[H-1]+R.charAt(1):P}B=M[D-1]}return B===void 0?"":B})}},7854:function(l,h,c){var d=function(f){return f&&f.Math==Math&&f};l.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof c.g=="object"&&c.g)||function(){return this}()||Function("return this")()},6656:function(l){var h={}.hasOwnProperty;l.exports=function(c,d){return h.call(c,d)}},3501:function(l){l.exports={}},490:function(l,h,c){var d=c(5005);l.exports=d("document","documentElement")},4664:function(l,h,c){var d=c(9781),f=c(7293),g=c(317);l.exports=!d&&!f(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},1179:function(l){var h=Math.abs,c=Math.pow,d=Math.floor,f=Math.log,g=Math.LN2,y=function(_,w,C){var M=new Array(C),b=C*8-w-1,k=(1<<b)-1,A=k>>1,N=w===23?c(2,-24)-c(2,-77):0,T=_<0||_===0&&1/_<0?1:0,P=0,R,B,D;for(_=h(_),_!=_||_===1/0?(B=_!=_?1:0,R=k):(R=d(f(_)/g),_*(D=c(2,-R))<1&&(R--,D*=2),R+A>=1?_+=N/D:_+=N*c(2,1-A),_*D>=2&&(R++,D/=2),R+A>=k?(B=0,R=k):R+A>=1?(B=(_*D-1)*c(2,w),R=R+A):(B=_*c(2,A-1)*c(2,w),R=0));w>=8;M[P++]=B&255,B/=256,w-=8);for(R=R<<w|B,b+=w;b>0;M[P++]=R&255,R/=256,b-=8);return M[--P]|=T*128,M},E=function(_,w){var C=_.length,M=C*8-w-1,b=(1<<M)-1,k=b>>1,A=M-7,N=C-1,T=_[N--],P=T&127,R;for(T>>=7;A>0;P=P*256+_[N],N--,A-=8);for(R=P&(1<<-A)-1,P>>=-A,A+=w;A>0;R=R*256+_[N],N--,A-=8);if(P===0)P=1-k;else{if(P===b)return R?NaN:T?-1/0:1/0;R=R+c(2,w),P=P-k}return(T?-1:1)*R*c(2,P-w)};l.exports={pack:y,unpack:E}},8361:function(l,h,c){var d=c(7293),f=c(4326),g="".split;l.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return f(y)=="String"?g.call(y,""):Object(y)}:Object},9587:function(l,h,c){var d=c(111),f=c(7674);l.exports=function(g,y,E){var _,w;return f&&typeof(_=y.constructor)=="function"&&_!==E&&d(w=_.prototype)&&w!==E.prototype&&f(g,w),g}},2788:function(l,h,c){var d=c(5465),f=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(g){return f.call(g)}),l.exports=d.inspectSource},9909:function(l,h,c){var d=c(8536),f=c(7854),g=c(111),y=c(8880),E=c(6656),_=c(5465),w=c(6200),C=c(3501),M=f.WeakMap,b,k,A,N=function($){return A($)?k($):b($,{})},T=function($){return function(V){var ee;if(!g(V)||(ee=k(V)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return ee}};if(d){var P=_.state||(_.state=new M),R=P.get,B=P.has,D=P.set;b=function($,V){return V.facade=$,D.call(P,$,V),V},k=function($){return R.call(P,$)||{}},A=function($){return B.call(P,$)}}else{var H=w("state");C[H]=!0,b=function($,V){return V.facade=$,y($,H,V),V},k=function($){return E($,H)?$[H]:{}},A=function($){return E($,H)}}l.exports={set:b,get:k,has:A,enforce:N,getterFor:T}},7659:function(l,h,c){var d=c(5112),f=c(7497),g=d("iterator"),y=Array.prototype;l.exports=function(E){return E!==void 0&&(f.Array===E||y[g]===E)}},3157:function(l,h,c){var d=c(4326);l.exports=Array.isArray||function(g){return d(g)=="Array"}},4705:function(l,h,c){var d=c(7293),f=/#|\.prototype\./,g=function(C,M){var b=E[y(C)];return b==w?!0:b==_?!1:typeof M=="function"?d(M):!!M},y=g.normalize=function(C){return String(C).replace(f,".").toLowerCase()},E=g.data={},_=g.NATIVE="N",w=g.POLYFILL="P";l.exports=g},111:function(l){l.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},1913:function(l){l.exports=!1},7850:function(l,h,c){var d=c(111),f=c(4326),g=c(5112),y=g("match");l.exports=function(E){var _;return d(E)&&((_=E[y])!==void 0?!!_:f(E)=="RegExp")}},9212:function(l,h,c){var d=c(9670);l.exports=function(f){var g=f.return;if(g!==void 0)return d(g.call(f)).value}},3383:function(l,h,c){var d=c(7293),f=c(9518),g=c(8880),y=c(6656),E=c(5112),_=c(1913),w=E("iterator"),C=!1,M=function(){return this},b,k,A;[].keys&&(A=[].keys(),"next"in A?(k=f(f(A)),k!==Object.prototype&&(b=k)):C=!0);var N=b==null||d(function(){var T={};return b[w].call(T)!==T});N&&(b={}),(!_||N)&&!y(b,w)&&g(b,w,M),l.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:C}},7497:function(l){l.exports={}},133:function(l,h,c){var d=c(7293);l.exports=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())})},590:function(l,h,c){var d=c(7293),f=c(5112),g=c(1913),y=f("iterator");l.exports=!d(function(){var E=new URL("b?a=1&b=2&c=3","http://a"),_=E.searchParams,w="";return E.pathname="c%20d",_.forEach(function(C,M){_.delete("b"),w+=M+C}),g&&!E.toJSON||!_.sort||E.href!=="http://a/c%20d?a=1&c=3"||_.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!_[y]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||w!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8536:function(l,h,c){var d=c(7854),f=c(2788),g=d.WeakMap;l.exports=typeof g=="function"&&/native code/.test(f(g))},1574:function(l,h,c){var d=c(9781),f=c(7293),g=c(1956),y=c(5181),E=c(5296),_=c(7908),w=c(8361),C=Object.assign,M=Object.defineProperty;l.exports=!C||f(function(){if(d&&C({b:1},C(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},k={},A=Symbol(),N="abcdefghijklmnopqrst";return b[A]=7,N.split("").forEach(function(T){k[T]=T}),C({},b)[A]!=7||g(C({},k)).join("")!=N})?function(k,A){for(var N=_(k),T=arguments.length,P=1,R=y.f,B=E.f;T>P;)for(var D=w(arguments[P++]),H=R?g(D).concat(R(D)):g(D),$=H.length,V=0,ee;$>V;)ee=H[V++],(!d||B.call(D,ee))&&(N[ee]=D[ee]);return N}:C},30:function(l,h,c){var d=c(9670),f=c(6048),g=c(748),y=c(3501),E=c(490),_=c(317),w=c(6200),C=">",M="<",b="prototype",k="script",A=w("IE_PROTO"),N=function(){},T=function(H){return M+k+C+H+M+"/"+k+C},P=function(H){H.write(T("")),H.close();var $=H.parentWindow.Object;return H=null,$},R=function(){var H=_("iframe"),$="java"+k+":",V;return H.style.display="none",E.appendChild(H),H.src=String($),V=H.contentWindow.document,V.open(),V.write(T("document.F=Object")),V.close(),V.F},B,D=function(){try{B=document.domain&&new ActiveXObject("htmlfile")}catch{}D=B?P(B):R();for(var H=g.length;H--;)delete D[b][g[H]];return D()};y[A]=!0,l.exports=Object.create||function($,V){var ee;return $!==null?(N[b]=d($),ee=new N,N[b]=null,ee[A]=$):ee=D(),V===void 0?ee:f(ee,V)}},6048:function(l,h,c){var d=c(9781),f=c(3070),g=c(9670),y=c(1956);l.exports=d?Object.defineProperties:function(_,w){g(_);for(var C=y(w),M=C.length,b=0,k;M>b;)f.f(_,k=C[b++],w[k]);return _}},3070:function(l,h,c){var d=c(9781),f=c(4664),g=c(9670),y=c(7593),E=Object.defineProperty;h.f=d?E:function(w,C,M){if(g(w),C=y(C,!0),g(M),f)try{return E(w,C,M)}catch{}if("get"in M||"set"in M)throw TypeError("Accessors not supported");return"value"in M&&(w[C]=M.value),w}},1236:function(l,h,c){var d=c(9781),f=c(5296),g=c(9114),y=c(5656),E=c(7593),_=c(6656),w=c(4664),C=Object.getOwnPropertyDescriptor;h.f=d?C:function(b,k){if(b=y(b),k=E(k,!0),w)try{return C(b,k)}catch{}if(_(b,k))return g(!f.f.call(b,k),b[k])}},8006:function(l,h,c){var d=c(6324),f=c(748),g=f.concat("length","prototype");h.f=Object.getOwnPropertyNames||function(E){return d(E,g)}},5181:function(l,h){h.f=Object.getOwnPropertySymbols},9518:function(l,h,c){var d=c(6656),f=c(7908),g=c(6200),y=c(8544),E=g("IE_PROTO"),_=Object.prototype;l.exports=y?Object.getPrototypeOf:function(w){return w=f(w),d(w,E)?w[E]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?_:null}},6324:function(l,h,c){var d=c(6656),f=c(5656),g=c(1318).indexOf,y=c(3501);l.exports=function(E,_){var w=f(E),C=0,M=[],b;for(b in w)!d(y,b)&&d(w,b)&&M.push(b);for(;_.length>C;)d(w,b=_[C++])&&(~g(M,b)||M.push(b));return M}},1956:function(l,h,c){var d=c(6324),f=c(748);l.exports=Object.keys||function(y){return d(y,f)}},5296:function(l,h){var c={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!c.call({1:2},1);h.f=f?function(y){var E=d(this,y);return!!E&&E.enumerable}:c},7674:function(l,h,c){var d=c(9670),f=c(6077);l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,y={},E;try{E=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,E.call(y,[]),g=y instanceof Array}catch{}return function(w,C){return d(w),f(C),g?E.call(w,C):w.__proto__=C,w}}():void 0)},288:function(l,h,c){var d=c(1694),f=c(648);l.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}},3887:function(l,h,c){var d=c(5005),f=c(8006),g=c(5181),y=c(9670);l.exports=d("Reflect","ownKeys")||function(_){var w=f.f(y(_)),C=g.f;return C?w.concat(C(_)):w}},857:function(l,h,c){var d=c(7854);l.exports=d},2248:function(l,h,c){var d=c(1320);l.exports=function(f,g,y){for(var E in g)d(f,E,g[E],y);return f}},1320:function(l,h,c){var d=c(7854),f=c(8880),g=c(6656),y=c(3505),E=c(2788),_=c(9909),w=_.get,C=_.enforce,M=String(String).split("String");(l.exports=function(b,k,A,N){var T=N?!!N.unsafe:!1,P=N?!!N.enumerable:!1,R=N?!!N.noTargetGet:!1,B;if(typeof A=="function"&&(typeof k=="string"&&!g(A,"name")&&f(A,"name",k),B=C(A),B.source||(B.source=M.join(typeof k=="string"?k:""))),b===d){P?b[k]=A:y(k,A);return}else T?!R&&b[k]&&(P=!0):delete b[k];P?b[k]=A:f(b,k,A)})(Function.prototype,"toString",function(){return typeof this=="function"&&w(this).source||E(this)})},7651:function(l,h,c){var d=c(4326),f=c(2261);l.exports=function(g,y){var E=g.exec;if(typeof E=="function"){var _=E.call(g,y);if(typeof _!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _}if(d(g)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return f.call(g,y)}},2261:function(l,h,c){var d=c(7066),f=c(2999),g=RegExp.prototype.exec,y=String.prototype.replace,E=g,_=function(){var b=/a/,k=/b*/g;return g.call(b,"a"),g.call(k,"a"),b.lastIndex!==0||k.lastIndex!==0}(),w=f.UNSUPPORTED_Y||f.BROKEN_CARET,C=/()??/.exec("")[1]!==void 0,M=_||C||w;M&&(E=function(k){var A=this,N,T,P,R,B=w&&A.sticky,D=d.call(A),H=A.source,$=0,V=k;return B&&(D=D.replace("y",""),D.indexOf("g")===-1&&(D+="g"),V=String(k).slice(A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&k[A.lastIndex-1]!==`
`)&&(H="(?: "+H+")",V=" "+V,$++),T=new RegExp("^(?:"+H+")",D)),C&&(T=new RegExp("^"+H+"$(?!\\s)",D)),_&&(N=A.lastIndex),P=g.call(B?T:A,V),B?P?(P.input=P.input.slice($),P[0]=P[0].slice($),P.index=A.lastIndex,A.lastIndex+=P[0].length):A.lastIndex=0:_&&P&&(A.lastIndex=A.global?P.index+P[0].length:N),C&&P&&P.length>1&&y.call(P[0],T,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(P[R]=void 0)}),P}),l.exports=E},7066:function(l,h,c){var d=c(9670);l.exports=function(){var f=d(this),g="";return f.global&&(g+="g"),f.ignoreCase&&(g+="i"),f.multiline&&(g+="m"),f.dotAll&&(g+="s"),f.unicode&&(g+="u"),f.sticky&&(g+="y"),g}},2999:function(l,h,c){var d=c(7293);function f(g,y){return RegExp(g,y)}h.UNSUPPORTED_Y=d(function(){var g=f("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),h.BROKEN_CARET=d(function(){var g=f("^r","gy");return g.lastIndex=2,g.exec("str")!=null})},4488:function(l){l.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},3505:function(l,h,c){var d=c(7854),f=c(8880);l.exports=function(g,y){try{f(d,g,y)}catch{d[g]=y}return y}},6340:function(l,h,c){var d=c(5005),f=c(3070),g=c(5112),y=c(9781),E=g("species");l.exports=function(_){var w=d(_),C=f.f;y&&w&&!w[E]&&C(w,E,{configurable:!0,get:function(){return this}})}},8003:function(l,h,c){var d=c(3070).f,f=c(6656),g=c(5112),y=g("toStringTag");l.exports=function(E,_,w){E&&!f(E=w?E:E.prototype,y)&&d(E,y,{configurable:!0,value:_})}},6200:function(l,h,c){var d=c(2309),f=c(9711),g=d("keys");l.exports=function(y){return g[y]||(g[y]=f(y))}},5465:function(l,h,c){var d=c(7854),f=c(3505),g="__core-js_shared__",y=d[g]||f(g,{});l.exports=y},2309:function(l,h,c){var d=c(1913),f=c(5465);(l.exports=function(g,y){return f[g]||(f[g]=y!==void 0?y:{})})("versions",[]).push({version:"3.9.0",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(l,h,c){var d=c(9670),f=c(3099),g=c(5112),y=g("species");l.exports=function(E,_){var w=d(E).constructor,C;return w===void 0||(C=d(w)[y])==null?_:f(C)}},8710:function(l,h,c){var d=c(9958),f=c(4488),g=function(y){return function(E,_){var w=String(f(E)),C=d(_),M=w.length,b,k;return C<0||C>=M?y?"":void 0:(b=w.charCodeAt(C),b<55296||b>56319||C+1===M||(k=w.charCodeAt(C+1))<56320||k>57343?y?w.charAt(C):b:y?w.slice(C,C+2):(b-55296<<10)+(k-56320)+65536)}};l.exports={codeAt:g(!1),charAt:g(!0)}},3197:function(l){var h=2147483647,c=36,d=1,f=26,g=38,y=700,E=72,_=128,w="-",C=/[^\0-\u007E]/,M=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",k=c-d,A=Math.floor,N=String.fromCharCode,T=function(D){for(var H=[],$=0,V=D.length;$<V;){var ee=D.charCodeAt($++);if(ee>=55296&&ee<=56319&&$<V){var fe=D.charCodeAt($++);(fe&64512)==56320?H.push(((ee&1023)<<10)+(fe&1023)+65536):(H.push(ee),$--)}else H.push(ee)}return H},P=function(D){return D+22+75*(D<26)},R=function(D,H,$){var V=0;for(D=$?A(D/y):D>>1,D+=A(D/H);D>k*f>>1;V+=c)D=A(D/k);return A(V+(k+1)*D/(D+g))},B=function(D){var H=[];D=T(D);var $=D.length,V=_,ee=0,fe=E,me,ie;for(me=0;me<D.length;me++)ie=D[me],ie<128&&H.push(N(ie));var te=H.length,be=te;for(te&&H.push(w);be<$;){var Y=h;for(me=0;me<D.length;me++)ie=D[me],ie>=V&&ie<Y&&(Y=ie);var ue=be+1;if(Y-V>A((h-ee)/ue))throw RangeError(b);for(ee+=(Y-V)*ue,V=Y,me=0;me<D.length;me++){if(ie=D[me],ie<V&&++ee>h)throw RangeError(b);if(ie==V){for(var ke=ee,xe=c;;xe+=c){var X=xe<=fe?d:xe>=fe+f?f:xe-fe;if(ke<X)break;var K=ke-X,Oe=c-X;H.push(N(P(X+K%Oe))),ke=A(K/Oe)}H.push(N(P(ke))),fe=R(ee,ue,be==te),ee=0,++be}}++ee,++V}return H.join("")};l.exports=function(D){var H=[],$=D.toLowerCase().replace(M,".").split("."),V,ee;for(V=0;V<$.length;V++)ee=$[V],H.push(C.test(ee)?"xn--"+B(ee):ee);return H.join(".")}},6091:function(l,h,c){var d=c(7293),f=c(1361),g="​᠎";l.exports=function(y){return d(function(){return!!f[y]()||g[y]()!=g||f[y].name!==y})}},3111:function(l,h,c){var d=c(4488),f=c(1361),g="["+f+"]",y=RegExp("^"+g+g+"*"),E=RegExp(g+g+"*$"),_=function(w){return function(C){var M=String(d(C));return w&1&&(M=M.replace(y,"")),w&2&&(M=M.replace(E,"")),M}};l.exports={start:_(1),end:_(2),trim:_(3)}},1400:function(l,h,c){var d=c(9958),f=Math.max,g=Math.min;l.exports=function(y,E){var _=d(y);return _<0?f(_+E,0):g(_,E)}},7067:function(l,h,c){var d=c(9958),f=c(7466);l.exports=function(g){if(g===void 0)return 0;var y=d(g),E=f(y);if(y!==E)throw RangeError("Wrong length or index");return E}},5656:function(l,h,c){var d=c(8361),f=c(4488);l.exports=function(g){return d(f(g))}},9958:function(l){var h=Math.ceil,c=Math.floor;l.exports=function(d){return isNaN(d=+d)?0:(d>0?c:h)(d)}},7466:function(l,h,c){var d=c(9958),f=Math.min;l.exports=function(g){return g>0?f(d(g),9007199254740991):0}},7908:function(l,h,c){var d=c(4488);l.exports=function(f){return Object(d(f))}},4590:function(l,h,c){var d=c(3002);l.exports=function(f,g){var y=d(f);if(y%g)throw RangeError("Wrong offset");return y}},3002:function(l,h,c){var d=c(9958);l.exports=function(f){var g=d(f);if(g<0)throw RangeError("The argument can't be less than 0");return g}},7593:function(l,h,c){var d=c(111);l.exports=function(f,g){if(!d(f))return f;var y,E;if(g&&typeof(y=f.toString)=="function"&&!d(E=y.call(f))||typeof(y=f.valueOf)=="function"&&!d(E=y.call(f))||!g&&typeof(y=f.toString)=="function"&&!d(E=y.call(f)))return E;throw TypeError("Can't convert object to primitive value")}},1694:function(l,h,c){var d=c(5112),f=d("toStringTag"),g={};g[f]="z",l.exports=String(g)==="[object z]"},9843:function(l,h,c){var d=c(2109),f=c(7854),g=c(9781),y=c(3832),E=c(260),_=c(3331),w=c(5787),C=c(9114),M=c(8880),b=c(7466),k=c(7067),A=c(4590),N=c(7593),T=c(6656),P=c(648),R=c(111),B=c(30),D=c(7674),H=c(8006).f,$=c(7321),V=c(2092).forEach,ee=c(6340),fe=c(3070),me=c(1236),ie=c(9909),te=c(9587),be=ie.get,Y=ie.set,ue=fe.f,ke=me.f,xe=Math.round,X=f.RangeError,K=_.ArrayBuffer,Oe=_.DataView,Fe=E.NATIVE_ARRAY_BUFFER_VIEWS,Q=E.TYPED_ARRAY_TAG,oe=E.TypedArray,ae=E.TypedArrayPrototype,ce=E.aTypedArrayConstructor,q=E.isTypedArray,J="BYTES_PER_ELEMENT",pe="Wrong length",ye=function(he,O){for(var F=0,z=O.length,re=new(ce(he))(z);z>F;)re[F]=O[F++];return re},Ae=function(he,O){ue(he,O,{get:function(){return be(this)[O]}})},Te=function(he){var O;return he instanceof K||(O=P(he))=="ArrayBuffer"||O=="SharedArrayBuffer"},De=function(he,O){return q(he)&&typeof O!="symbol"&&O in he&&String(+O)==String(O)},ne=function(O,F){return De(O,F=N(F,!0))?C(2,O[F]):ke(O,F)},le=function(O,F,z){return De(O,F=N(F,!0))&&R(z)&&T(z,"value")&&!T(z,"get")&&!T(z,"set")&&!z.configurable&&(!T(z,"writable")||z.writable)&&(!T(z,"enumerable")||z.enumerable)?(O[F]=z.value,O):ue(O,F,z)};g?(Fe||(me.f=ne,fe.f=le,Ae(ae,"buffer"),Ae(ae,"byteOffset"),Ae(ae,"byteLength"),Ae(ae,"length")),d({target:"Object",stat:!0,forced:!Fe},{getOwnPropertyDescriptor:ne,defineProperty:le}),l.exports=function(he,O,F){var z=he.match(/\d+$/)[0]/8,re=he+(F?"Clamped":"")+"Array",_e="get"+he,Le="set"+he,Me=f[re],He=Me,Ze=He&&He.prototype,mt={},ct=function(vt,bt){var Ft=be(vt);return Ft.view[_e](bt*z+Ft.byteOffset,!0)},Vt=function(vt,bt,Ft){var ut=be(vt);F&&(Ft=(Ft=xe(Ft))<0?0:Ft>255?255:Ft&255),ut.view[Le](bt*z+ut.byteOffset,Ft,!0)},It=function(vt,bt){ue(vt,bt,{get:function(){return ct(this,bt)},set:function(Ft){return Vt(this,bt,Ft)},enumerable:!0})};Fe?y&&(He=O(function(vt,bt,Ft,ut){return w(vt,He,re),te(function(){return R(bt)?Te(bt)?ut!==void 0?new Me(bt,A(Ft,z),ut):Ft!==void 0?new Me(bt,A(Ft,z)):new Me(bt):q(bt)?ye(He,bt):$.call(He,bt):new Me(k(bt))}(),vt,He)}),D&&D(He,oe),V(H(Me),function(vt){vt in He||M(He,vt,Me[vt])}),He.prototype=Ze):(He=O(function(vt,bt,Ft,ut){w(vt,He,re);var sn=0,Bt=0,mn,un,an;if(!R(bt))an=k(bt),un=an*z,mn=new K(un);else if(Te(bt)){mn=bt,Bt=A(Ft,z);var ve=bt.byteLength;if(ut===void 0){if(ve%z||(un=ve-Bt,un<0))throw X(pe)}else if(un=b(ut)*z,un+Bt>ve)throw X(pe);an=un/z}else return q(bt)?ye(He,bt):$.call(He,bt);for(Y(vt,{buffer:mn,byteOffset:Bt,byteLength:un,length:an,view:new Oe(mn)});sn<an;)It(vt,sn++)}),D&&D(He,oe),Ze=He.prototype=B(ae)),Ze.constructor!==He&&M(Ze,"constructor",He),Q&&M(Ze,Q,re),mt[re]=He,d({global:!0,forced:He!=Me,sham:!Fe},mt),J in He||M(He,J,z),J in Ze||M(Ze,J,z),ee(re)}):l.exports=function(){}},3832:function(l,h,c){var d=c(7854),f=c(7293),g=c(7072),y=c(260).NATIVE_ARRAY_BUFFER_VIEWS,E=d.ArrayBuffer,_=d.Int8Array;l.exports=!y||!f(function(){_(1)})||!f(function(){new _(-1)})||!g(function(w){new _,new _(null),new _(1.5),new _(w)},!0)||f(function(){return new _(new E(2),1,void 0).length!==1})},3074:function(l,h,c){var d=c(260).aTypedArrayConstructor,f=c(6707);l.exports=function(g,y){for(var E=f(g,g.constructor),_=0,w=y.length,C=new(d(E))(w);w>_;)C[_]=y[_++];return C}},7321:function(l,h,c){var d=c(7908),f=c(7466),g=c(1246),y=c(7659),E=c(9974),_=c(260).aTypedArrayConstructor;l.exports=function(C){var M=d(C),b=arguments.length,k=b>1?arguments[1]:void 0,A=k!==void 0,N=g(M),T,P,R,B,D,H;if(N!=null&&!y(N))for(D=N.call(M),H=D.next,M=[];!(B=H.call(D)).done;)M.push(B.value);for(A&&b>2&&(k=E(k,arguments[2],2)),P=f(M.length),R=new(_(this))(P),T=0;P>T;T++)R[T]=A?k(M[T],T):M[T];return R}},9711:function(l){var h=0,c=Math.random();l.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++h+c).toString(36)}},3307:function(l,h,c){var d=c(133);l.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},5112:function(l,h,c){var d=c(7854),f=c(2309),g=c(6656),y=c(9711),E=c(133),_=c(3307),w=f("wks"),C=d.Symbol,M=_?C:C&&C.withoutSetter||y;l.exports=function(b){return g(w,b)||(E&&g(C,b)?w[b]=C[b]:w[b]=M("Symbol."+b)),w[b]}},1361:function(l){l.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8264:function(l,h,c){var d=c(2109),f=c(7854),g=c(3331),y=c(6340),E="ArrayBuffer",_=g[E],w=f[E];d({global:!0,forced:w!==_},{ArrayBuffer:_}),y(E)},2222:function(l,h,c){var d=c(2109),f=c(7293),g=c(3157),y=c(111),E=c(7908),_=c(7466),w=c(6135),C=c(5417),M=c(1194),b=c(5112),k=c(7392),A=b("isConcatSpreadable"),N=9007199254740991,T="Maximum allowed index exceeded",P=k>=51||!f(function(){var H=[];return H[A]=!1,H.concat()[0]!==H}),R=M("concat"),B=function(H){if(!y(H))return!1;var $=H[A];return $!==void 0?!!$:g(H)},D=!P||!R;d({target:"Array",proto:!0,forced:D},{concat:function($){var V=E(this),ee=C(V,0),fe=0,me,ie,te,be,Y;for(me=-1,te=arguments.length;me<te;me++)if(Y=me===-1?V:arguments[me],B(Y)){if(be=_(Y.length),fe+be>N)throw TypeError(T);for(ie=0;ie<be;ie++,fe++)ie in Y&&w(ee,fe,Y[ie])}else{if(fe>=N)throw TypeError(T);w(ee,fe++,Y)}return ee.length=fe,ee}})},7327:function(l,h,c){var d=c(2109),f=c(2092).filter,g=c(1194),y=g("filter");d({target:"Array",proto:!0,forced:!y},{filter:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},2772:function(l,h,c){var d=c(2109),f=c(1318).indexOf,g=c(9341),y=[].indexOf,E=!!y&&1/[1].indexOf(1,-0)<0,_=g("indexOf");d({target:"Array",proto:!0,forced:E||!_},{indexOf:function(C){return E?y.apply(this,arguments)||0:f(this,C,arguments.length>1?arguments[1]:void 0)}})},6992:function(l,h,c){var d=c(5656),f=c(1223),g=c(7497),y=c(9909),E=c(654),_="Array Iterator",w=y.set,C=y.getterFor(_);l.exports=E(Array,"Array",function(M,b){w(this,{type:_,target:d(M),index:0,kind:b})},function(){var M=C(this),b=M.target,k=M.kind,A=M.index++;return!b||A>=b.length?(M.target=void 0,{value:void 0,done:!0}):k=="keys"?{value:A,done:!1}:k=="values"?{value:b[A],done:!1}:{value:[A,b[A]],done:!1}},"values"),g.Arguments=g.Array,f("keys"),f("values"),f("entries")},1249:function(l,h,c){var d=c(2109),f=c(2092).map,g=c(1194),y=g("map");d({target:"Array",proto:!0,forced:!y},{map:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}})},7042:function(l,h,c){var d=c(2109),f=c(111),g=c(3157),y=c(1400),E=c(7466),_=c(5656),w=c(6135),C=c(5112),M=c(1194),b=M("slice"),k=C("species"),A=[].slice,N=Math.max;d({target:"Array",proto:!0,forced:!b},{slice:function(P,R){var B=_(this),D=E(B.length),H=y(P,D),$=y(R===void 0?D:R,D),V,ee,fe;if(g(B)&&(V=B.constructor,typeof V=="function"&&(V===Array||g(V.prototype))?V=void 0:f(V)&&(V=V[k],V===null&&(V=void 0)),V===Array||V===void 0))return A.call(B,H,$);for(ee=new(V===void 0?Array:V)(N($-H,0)),fe=0;H<$;H++,fe++)H in B&&w(ee,fe,B[H]);return ee.length=fe,ee}})},561:function(l,h,c){var d=c(2109),f=c(1400),g=c(9958),y=c(7466),E=c(7908),_=c(5417),w=c(6135),C=c(1194),M=C("splice"),b=Math.max,k=Math.min,A=9007199254740991,N="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!M},{splice:function(P,R){var B=E(this),D=y(B.length),H=f(P,D),$=arguments.length,V,ee,fe,me,ie,te;if($===0?V=ee=0:$===1?(V=0,ee=D-H):(V=$-2,ee=k(b(g(R),0),D-H)),D+V-ee>A)throw TypeError(N);for(fe=_(B,ee),me=0;me<ee;me++)ie=H+me,ie in B&&w(fe,me,B[ie]);if(fe.length=ee,V<ee){for(me=H;me<D-ee;me++)ie=me+ee,te=me+V,ie in B?B[te]=B[ie]:delete B[te];for(me=D;me>D-ee+V;me--)delete B[me-1]}else if(V>ee)for(me=D-ee;me>H;me--)ie=me+ee-1,te=me+V-1,ie in B?B[te]=B[ie]:delete B[te];for(me=0;me<V;me++)B[me+H]=arguments[me+2];return B.length=D-ee+V,fe}})},8309:function(l,h,c){var d=c(9781),f=c(3070).f,g=Function.prototype,y=g.toString,E=/^\s*function ([^ (]*)/,_="name";d&&!(_ in g)&&f(g,_,{configurable:!0,get:function(){try{return y.call(this).match(E)[1]}catch{return""}}})},489:function(l,h,c){var d=c(2109),f=c(7293),g=c(7908),y=c(9518),E=c(8544),_=f(function(){y(1)});d({target:"Object",stat:!0,forced:_,sham:!E},{getPrototypeOf:function(C){return y(g(C))}})},1539:function(l,h,c){var d=c(1694),f=c(1320),g=c(288);d||f(Object.prototype,"toString",g,{unsafe:!0})},4916:function(l,h,c){var d=c(2109),f=c(2261);d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},9714:function(l,h,c){var d=c(1320),f=c(9670),g=c(7293),y=c(7066),E="toString",_=RegExp.prototype,w=_[E],C=g(function(){return w.call({source:"a",flags:"b"})!="/a/b"}),M=w.name!=E;(C||M)&&d(RegExp.prototype,E,function(){var k=f(this),A=String(k.source),N=k.flags,T=String(N===void 0&&k instanceof RegExp&&!("flags"in _)?y.call(k):N);return"/"+A+"/"+T},{unsafe:!0})},8783:function(l,h,c){var d=c(8710).charAt,f=c(9909),g=c(654),y="String Iterator",E=f.set,_=f.getterFor(y);g(String,"String",function(w){E(this,{type:y,string:String(w),index:0})},function(){var C=_(this),M=C.string,b=C.index,k;return b>=M.length?{value:void 0,done:!0}:(k=d(M,b),C.index+=k.length,{value:k,done:!1})})},4723:function(l,h,c){var d=c(7007),f=c(9670),g=c(7466),y=c(4488),E=c(1530),_=c(7651);d("match",1,function(w,C,M){return[function(k){var A=y(this),N=k==null?void 0:k[w];return N!==void 0?N.call(k,A):new RegExp(k)[w](String(A))},function(b){var k=M(C,b,this);if(k.done)return k.value;var A=f(b),N=String(this);if(!A.global)return _(A,N);var T=A.unicode;A.lastIndex=0;for(var P=[],R=0,B;(B=_(A,N))!==null;){var D=String(B[0]);P[R]=D,D===""&&(A.lastIndex=E(N,g(A.lastIndex),T)),R++}return R===0?null:P}]})},5306:function(l,h,c){var d=c(7007),f=c(9670),g=c(7466),y=c(9958),E=c(4488),_=c(1530),w=c(647),C=c(7651),M=Math.max,b=Math.min,k=function(A){return A===void 0?A:String(A)};d("replace",2,function(A,N,T,P){var R=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=P.REPLACE_KEEPS_$0,D=R?"$":"$0";return[function($,V){var ee=E(this),fe=$==null?void 0:$[A];return fe!==void 0?fe.call($,ee,V):N.call(String(ee),$,V)},function(H,$){if(!R&&B||typeof $=="string"&&$.indexOf(D)===-1){var V=T(N,H,this,$);if(V.done)return V.value}var ee=f(H),fe=String(this),me=typeof $=="function";me||($=String($));var ie=ee.global;if(ie){var te=ee.unicode;ee.lastIndex=0}for(var be=[];;){var Y=C(ee,fe);if(Y===null||(be.push(Y),!ie))break;var ue=String(Y[0]);ue===""&&(ee.lastIndex=_(fe,g(ee.lastIndex),te))}for(var ke="",xe=0,X=0;X<be.length;X++){Y=be[X];for(var K=String(Y[0]),Oe=M(b(y(Y.index),fe.length),0),Fe=[],Q=1;Q<Y.length;Q++)Fe.push(k(Y[Q]));var oe=Y.groups;if(me){var ae=[K].concat(Fe,Oe,fe);oe!==void 0&&ae.push(oe);var ce=String($.apply(void 0,ae))}else ce=w(K,fe,Oe,Fe,oe,$);Oe>=xe&&(ke+=fe.slice(xe,Oe)+ce,xe=Oe+K.length)}return ke+fe.slice(xe)}]})},3123:function(l,h,c){var d=c(7007),f=c(7850),g=c(9670),y=c(4488),E=c(6707),_=c(1530),w=c(7466),C=c(7651),M=c(2261),b=c(7293),k=[].push,A=Math.min,N=4294967295,T=!b(function(){return!RegExp(N,"y")});d("split",2,function(P,R,B){var D;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?D=function(H,$){var V=String(y(this)),ee=$===void 0?N:$>>>0;if(ee===0)return[];if(H===void 0)return[V];if(!f(H))return R.call(V,H,ee);for(var fe=[],me=(H.ignoreCase?"i":"")+(H.multiline?"m":"")+(H.unicode?"u":"")+(H.sticky?"y":""),ie=0,te=new RegExp(H.source,me+"g"),be,Y,ue;(be=M.call(te,V))&&(Y=te.lastIndex,!(Y>ie&&(fe.push(V.slice(ie,be.index)),be.length>1&&be.index<V.length&&k.apply(fe,be.slice(1)),ue=be[0].length,ie=Y,fe.length>=ee)));)te.lastIndex===be.index&&te.lastIndex++;return ie===V.length?(ue||!te.test(""))&&fe.push(""):fe.push(V.slice(ie)),fe.length>ee?fe.slice(0,ee):fe}:"0".split(void 0,0).length?D=function(H,$){return H===void 0&&$===0?[]:R.call(this,H,$)}:D=R,[function($,V){var ee=y(this),fe=$==null?void 0:$[P];return fe!==void 0?fe.call($,ee,V):D.call(String(ee),$,V)},function(H,$){var V=B(D,H,this,$,D!==R);if(V.done)return V.value;var ee=g(H),fe=String(this),me=E(ee,RegExp),ie=ee.unicode,te=(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")+(T?"y":"g"),be=new me(T?ee:"^(?:"+ee.source+")",te),Y=$===void 0?N:$>>>0;if(Y===0)return[];if(fe.length===0)return C(be,fe)===null?[fe]:[];for(var ue=0,ke=0,xe=[];ke<fe.length;){be.lastIndex=T?ke:0;var X=C(be,T?fe:fe.slice(ke)),K;if(X===null||(K=A(w(be.lastIndex+(T?0:ke)),fe.length))===ue)ke=_(fe,ke,ie);else{if(xe.push(fe.slice(ue,ke)),xe.length===Y)return xe;for(var Oe=1;Oe<=X.length-1;Oe++)if(xe.push(X[Oe]),xe.length===Y)return xe;ke=ue=K}}return xe.push(fe.slice(ue)),xe}]},!T)},3210:function(l,h,c){var d=c(2109),f=c(3111).trim,g=c(6091);d({target:"String",proto:!0,forced:g("trim")},{trim:function(){return f(this)}})},2990:function(l,h,c){var d=c(260),f=c(1048),g=d.aTypedArray,y=d.exportTypedArrayMethod;y("copyWithin",function(_,w){return f.call(g(this),_,w,arguments.length>2?arguments[2]:void 0)})},8927:function(l,h,c){var d=c(260),f=c(2092).every,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("every",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},3105:function(l,h,c){var d=c(260),f=c(1285),g=d.aTypedArray,y=d.exportTypedArrayMethod;y("fill",function(_){return f.apply(g(this),arguments)})},5035:function(l,h,c){var d=c(260),f=c(2092).filter,g=c(3074),y=d.aTypedArray,E=d.exportTypedArrayMethod;E("filter",function(w){var C=f(y(this),w,arguments.length>1?arguments[1]:void 0);return g(this,C)})},7174:function(l,h,c){var d=c(260),f=c(2092).findIndex,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("findIndex",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},4345:function(l,h,c){var d=c(260),f=c(2092).find,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("find",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},2846:function(l,h,c){var d=c(260),f=c(2092).forEach,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("forEach",function(_){f(g(this),_,arguments.length>1?arguments[1]:void 0)})},4731:function(l,h,c){var d=c(260),f=c(1318).includes,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("includes",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},7209:function(l,h,c){var d=c(260),f=c(1318).indexOf,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("indexOf",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},6319:function(l,h,c){var d=c(7854),f=c(260),g=c(6992),y=c(5112),E=y("iterator"),_=d.Uint8Array,w=g.values,C=g.keys,M=g.entries,b=f.aTypedArray,k=f.exportTypedArrayMethod,A=_&&_.prototype[E],N=!!A&&(A.name=="values"||A.name==null),T=function(){return w.call(b(this))};k("entries",function(){return M.call(b(this))}),k("keys",function(){return C.call(b(this))}),k("values",T,!N),k(E,T,!N)},8867:function(l,h,c){var d=c(260),f=d.aTypedArray,g=d.exportTypedArrayMethod,y=[].join;g("join",function(_){return y.apply(f(this),arguments)})},7789:function(l,h,c){var d=c(260),f=c(6583),g=d.aTypedArray,y=d.exportTypedArrayMethod;y("lastIndexOf",function(_){return f.apply(g(this),arguments)})},3739:function(l,h,c){var d=c(260),f=c(2092).map,g=c(6707),y=d.aTypedArray,E=d.aTypedArrayConstructor,_=d.exportTypedArrayMethod;_("map",function(C){return f(y(this),C,arguments.length>1?arguments[1]:void 0,function(M,b){return new(E(g(M,M.constructor)))(b)})})},4483:function(l,h,c){var d=c(260),f=c(3671).right,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("reduceRight",function(_){return f(g(this),_,arguments.length,arguments.length>1?arguments[1]:void 0)})},9368:function(l,h,c){var d=c(260),f=c(3671).left,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("reduce",function(_){return f(g(this),_,arguments.length,arguments.length>1?arguments[1]:void 0)})},2056:function(l,h,c){var d=c(260),f=d.aTypedArray,g=d.exportTypedArrayMethod,y=Math.floor;g("reverse",function(){for(var _=this,w=f(_).length,C=y(w/2),M=0,b;M<C;)b=_[M],_[M++]=_[--w],_[w]=b;return _})},3462:function(l,h,c){var d=c(260),f=c(7466),g=c(4590),y=c(7908),E=c(7293),_=d.aTypedArray,w=d.exportTypedArrayMethod,C=E(function(){new Int8Array(1).set({})});w("set",function(b){_(this);var k=g(arguments.length>1?arguments[1]:void 0,1),A=this.length,N=y(b),T=f(N.length),P=0;if(T+k>A)throw RangeError("Wrong length");for(;P<T;)this[k+P]=N[P++]},C)},678:function(l,h,c){var d=c(260),f=c(6707),g=c(7293),y=d.aTypedArray,E=d.aTypedArrayConstructor,_=d.exportTypedArrayMethod,w=[].slice,C=g(function(){new Int8Array(1).slice()});_("slice",function(b,k){for(var A=w.call(y(this),b,k),N=f(this,this.constructor),T=0,P=A.length,R=new(E(N))(P);P>T;)R[T]=A[T++];return R},C)},7462:function(l,h,c){var d=c(260),f=c(2092).some,g=d.aTypedArray,y=d.exportTypedArrayMethod;y("some",function(_){return f(g(this),_,arguments.length>1?arguments[1]:void 0)})},3824:function(l,h,c){var d=c(260),f=d.aTypedArray,g=d.exportTypedArrayMethod,y=[].sort;g("sort",function(_){return y.call(f(this),_)})},5021:function(l,h,c){var d=c(260),f=c(7466),g=c(1400),y=c(6707),E=d.aTypedArray,_=d.exportTypedArrayMethod;_("subarray",function(C,M){var b=E(this),k=b.length,A=g(C,k);return new(y(b,b.constructor))(b.buffer,b.byteOffset+A*b.BYTES_PER_ELEMENT,f((M===void 0?k:g(M,k))-A))})},2974:function(l,h,c){var d=c(7854),f=c(260),g=c(7293),y=d.Int8Array,E=f.aTypedArray,_=f.exportTypedArrayMethod,w=[].toLocaleString,C=[].slice,M=!!y&&g(function(){w.call(new y(1))}),b=g(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!g(function(){y.prototype.toLocaleString.call([1,2])});_("toLocaleString",function(){return w.apply(M?C.call(E(this)):E(this),arguments)},b)},5016:function(l,h,c){var d=c(260).exportTypedArrayMethod,f=c(7293),g=c(7854),y=g.Uint8Array,E=y&&y.prototype||{},_=[].toString,w=[].join;f(function(){_.call({})})&&(_=function(){return w.call(this)});var C=E.toString!=_;d("toString",_,C)},2472:function(l,h,c){var d=c(9843);d("Uint8",function(f){return function(y,E,_){return f(this,y,E,_)}})},4747:function(l,h,c){var d=c(7854),f=c(8324),g=c(8533),y=c(8880);for(var E in f){var _=d[E],w=_&&_.prototype;if(w&&w.forEach!==g)try{y(w,"forEach",g)}catch{w.forEach=g}}},3948:function(l,h,c){var d=c(7854),f=c(8324),g=c(6992),y=c(8880),E=c(5112),_=E("iterator"),w=E("toStringTag"),C=g.values;for(var M in f){var b=d[M],k=b&&b.prototype;if(k){if(k[_]!==C)try{y(k,_,C)}catch{k[_]=C}if(k[w]||y(k,w,M),f[M]){for(var A in g)if(k[A]!==g[A])try{y(k,A,g[A])}catch{k[A]=g[A]}}}}},1637:function(l,h,c){c(6992);var d=c(2109),f=c(5005),g=c(590),y=c(1320),E=c(2248),_=c(8003),w=c(4994),C=c(9909),M=c(5787),b=c(6656),k=c(9974),A=c(648),N=c(9670),T=c(111),P=c(30),R=c(9114),B=c(8554),D=c(1246),H=c(5112),$=f("fetch"),V=f("Headers"),ee=H("iterator"),fe="URLSearchParams",me=fe+"Iterator",ie=C.set,te=C.getterFor(fe),be=C.getterFor(me),Y=/\+/g,ue=Array(4),ke=function(ye){return ue[ye-1]||(ue[ye-1]=RegExp("((?:%[\\da-f]{2}){"+ye+"})","gi"))},xe=function(ye){try{return decodeURIComponent(ye)}catch{return ye}},X=function(ye){var Ae=ye.replace(Y," "),Te=4;try{return decodeURIComponent(Ae)}catch{for(;Te;)Ae=Ae.replace(ke(Te--),xe);return Ae}},K=/[!'()~]|%20/g,Oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Fe=function(ye){return Oe[ye]},Q=function(ye){return encodeURIComponent(ye).replace(K,Fe)},oe=function(ye,Ae){if(Ae)for(var Te=Ae.split("&"),De=0,ne,le;De<Te.length;)ne=Te[De++],ne.length&&(le=ne.split("="),ye.push({key:X(le.shift()),value:X(le.join("="))}))},ae=function(ye){this.entries.length=0,oe(this.entries,ye)},ce=function(ye,Ae){if(ye<Ae)throw TypeError("Not enough arguments")},q=w(function(Ae,Te){ie(this,{type:me,iterator:B(te(Ae).entries),kind:Te})},"Iterator",function(){var Ae=be(this),Te=Ae.kind,De=Ae.iterator.next(),ne=De.value;return De.done||(De.value=Te==="keys"?ne.key:Te==="values"?ne.value:[ne.key,ne.value]),De}),J=function(){M(this,J,fe);var Ae=arguments.length>0?arguments[0]:void 0,Te=this,De=[],ne,le,he,O,F,z,re,_e,Le;if(ie(Te,{type:fe,entries:De,updateURL:function(){},updateSearchParams:ae}),Ae!==void 0)if(T(Ae))if(ne=D(Ae),typeof ne=="function")for(le=ne.call(Ae),he=le.next;!(O=he.call(le)).done;){if(F=B(N(O.value)),z=F.next,(re=z.call(F)).done||(_e=z.call(F)).done||!z.call(F).done)throw TypeError("Expected sequence with length 2");De.push({key:re.value+"",value:_e.value+""})}else for(Le in Ae)b(Ae,Le)&&De.push({key:Le,value:Ae[Le]+""});else oe(De,typeof Ae=="string"?Ae.charAt(0)==="?"?Ae.slice(1):Ae:Ae+"")},pe=J.prototype;E(pe,{append:function(Ae,Te){ce(arguments.length,2);var De=te(this);De.entries.push({key:Ae+"",value:Te+""}),De.updateURL()},delete:function(ye){ce(arguments.length,1);for(var Ae=te(this),Te=Ae.entries,De=ye+"",ne=0;ne<Te.length;)Te[ne].key===De?Te.splice(ne,1):ne++;Ae.updateURL()},get:function(Ae){ce(arguments.length,1);for(var Te=te(this).entries,De=Ae+"",ne=0;ne<Te.length;ne++)if(Te[ne].key===De)return Te[ne].value;return null},getAll:function(Ae){ce(arguments.length,1);for(var Te=te(this).entries,De=Ae+"",ne=[],le=0;le<Te.length;le++)Te[le].key===De&&ne.push(Te[le].value);return ne},has:function(Ae){ce(arguments.length,1);for(var Te=te(this).entries,De=Ae+"",ne=0;ne<Te.length;)if(Te[ne++].key===De)return!0;return!1},set:function(Ae,Te){ce(arguments.length,1);for(var De=te(this),ne=De.entries,le=!1,he=Ae+"",O=Te+"",F=0,z;F<ne.length;F++)z=ne[F],z.key===he&&(le?ne.splice(F--,1):(le=!0,z.value=O));le||ne.push({key:he,value:O}),De.updateURL()},sort:function(){var Ae=te(this),Te=Ae.entries,De=Te.slice(),ne,le,he;for(Te.length=0,he=0;he<De.length;he++){for(ne=De[he],le=0;le<he;le++)if(Te[le].key>ne.key){Te.splice(le,0,ne);break}le===he&&Te.push(ne)}Ae.updateURL()},forEach:function(Ae){for(var Te=te(this).entries,De=k(Ae,arguments.length>1?arguments[1]:void 0,3),ne=0,le;ne<Te.length;)le=Te[ne++],De(le.value,le.key,this)},keys:function(){return new q(this,"keys")},values:function(){return new q(this,"values")},entries:function(){return new q(this,"entries")}},{enumerable:!0}),y(pe,ee,pe.entries),y(pe,"toString",function(){for(var Ae=te(this).entries,Te=[],De=0,ne;De<Ae.length;)ne=Ae[De++],Te.push(Q(ne.key)+"="+Q(ne.value));return Te.join("&")},{enumerable:!0}),_(J,fe),d({global:!0,forced:!g},{URLSearchParams:J}),!g&&typeof $=="function"&&typeof V=="function"&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(Ae){var Te=[Ae],De,ne,le;return arguments.length>1&&(De=arguments[1],T(De)&&(ne=De.body,A(ne)===fe&&(le=De.headers?new V(De.headers):new V,le.has("content-type")||le.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),De=P(De,{body:R(0,String(ne)),headers:R(0,le)}))),Te.push(De)),$.apply(this,Te)}}),l.exports={URLSearchParams:J,getState:te}},285:function(l,h,c){c(8783);var d=c(2109),f=c(9781),g=c(590),y=c(7854),E=c(6048),_=c(1320),w=c(5787),C=c(6656),M=c(1574),b=c(8457),k=c(8710).codeAt,A=c(3197),N=c(8003),T=c(1637),P=c(9909),R=y.URL,B=T.URLSearchParams,D=T.getState,H=P.set,$=P.getterFor("URL"),V=Math.floor,ee=Math.pow,fe="Invalid authority",me="Invalid scheme",ie="Invalid host",te="Invalid port",be=/[A-Za-z]/,Y=/[\d+-.A-Za-z]/,ue=/\d/,ke=/^(0x|0X)/,xe=/^[0-7]+$/,X=/^\d+$/,K=/^[\dA-Fa-f]+$/,Oe=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,Fe=/[\u0000\t\u000A\u000D #/:?@[\\]]/,Q=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,oe=/[\t\u000A\u000D]/g,ae,ce=function(Ee,Ve){var Ye,Qe,nt;if(Ve.charAt(0)=="["){if(Ve.charAt(Ve.length-1)!="]"||(Ye=J(Ve.slice(1,-1)),!Ye))return ie;Ee.host=Ye}else if(O(Ee)){if(Ve=A(Ve),Oe.test(Ve)||(Ye=q(Ve),Ye===null))return ie;Ee.host=Ye}else{if(Fe.test(Ve))return ie;for(Ye="",Qe=b(Ve),nt=0;nt<Qe.length;nt++)Ye+=le(Qe[nt],Ae);Ee.host=Ye}},q=function(Ee){var Ve=Ee.split("."),Ye,Qe,nt,Rt,yt,tn,nn;if(Ve.length&&Ve[Ve.length-1]==""&&Ve.pop(),Ye=Ve.length,Ye>4)return Ee;for(Qe=[],nt=0;nt<Ye;nt++){if(Rt=Ve[nt],Rt=="")return Ee;if(yt=10,Rt.length>1&&Rt.charAt(0)=="0"&&(yt=ke.test(Rt)?16:8,Rt=Rt.slice(yt==8?1:2)),Rt==="")tn=0;else{if(!(yt==10?X:yt==8?xe:K).test(Rt))return Ee;tn=parseInt(Rt,yt)}Qe.push(tn)}for(nt=0;nt<Ye;nt++)if(tn=Qe[nt],nt==Ye-1){if(tn>=ee(256,5-Ye))return null}else if(tn>255)return null;for(nn=Qe.pop(),nt=0;nt<Qe.length;nt++)nn+=Qe[nt]*ee(256,3-nt);return nn},J=function(Ee){var Ve=[0,0,0,0,0,0,0,0],Ye=0,Qe=null,nt=0,Rt,yt,tn,nn,An,qn,et,Ct=function(){return Ee.charAt(nt)};if(Ct()==":"){if(Ee.charAt(1)!=":")return;nt+=2,Ye++,Qe=Ye}for(;Ct();){if(Ye==8)return;if(Ct()==":"){if(Qe!==null)return;nt++,Ye++,Qe=Ye;continue}for(Rt=yt=0;yt<4&&K.test(Ct());)Rt=Rt*16+parseInt(Ct(),16),nt++,yt++;if(Ct()=="."){if(yt==0||(nt-=yt,Ye>6))return;for(tn=0;Ct();){if(nn=null,tn>0)if(Ct()=="."&&tn<4)nt++;else return;if(!ue.test(Ct()))return;for(;ue.test(Ct());){if(An=parseInt(Ct(),10),nn===null)nn=An;else{if(nn==0)return;nn=nn*10+An}if(nn>255)return;nt++}Ve[Ye]=Ve[Ye]*256+nn,tn++,(tn==2||tn==4)&&Ye++}if(tn!=4)return;break}else if(Ct()==":"){if(nt++,!Ct())return}else if(Ct())return;Ve[Ye++]=Rt}if(Qe!==null)for(qn=Ye-Qe,Ye=7;Ye!=0&&qn>0;)et=Ve[Ye],Ve[Ye--]=Ve[Qe+qn-1],Ve[Qe+--qn]=et;else if(Ye!=8)return;return Ve},pe=function(Ee){for(var Ve=null,Ye=1,Qe=null,nt=0,Rt=0;Rt<8;Rt++)Ee[Rt]!==0?(nt>Ye&&(Ve=Qe,Ye=nt),Qe=null,nt=0):(Qe===null&&(Qe=Rt),++nt);return nt>Ye&&(Ve=Qe,Ye=nt),Ve},ye=function(Ee){var Ve,Ye,Qe,nt;if(typeof Ee=="number"){for(Ve=[],Ye=0;Ye<4;Ye++)Ve.unshift(Ee%256),Ee=V(Ee/256);return Ve.join(".")}else if(typeof Ee=="object"){for(Ve="",Qe=pe(Ee),Ye=0;Ye<8;Ye++)nt&&Ee[Ye]===0||(nt&&(nt=!1),Qe===Ye?(Ve+=Ye?":":"::",nt=!0):(Ve+=Ee[Ye].toString(16),Ye<7&&(Ve+=":")));return"["+Ve+"]"}return Ee},Ae={},Te=M({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),De=M({},Te,{"#":1,"?":1,"{":1,"}":1}),ne=M({},De,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(Ee,Ve){var Ye=k(Ee,0);return Ye>32&&Ye<127&&!C(Ve,Ee)?Ee:encodeURIComponent(Ee)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},O=function(Ee){return C(he,Ee.scheme)},F=function(Ee){return Ee.username!=""||Ee.password!=""},z=function(Ee){return!Ee.host||Ee.cannotBeABaseURL||Ee.scheme=="file"},re=function(Ee,Ve){var Ye;return Ee.length==2&&be.test(Ee.charAt(0))&&((Ye=Ee.charAt(1))==":"||!Ve&&Ye=="|")},_e=function(Ee){var Ve;return Ee.length>1&&re(Ee.slice(0,2))&&(Ee.length==2||(Ve=Ee.charAt(2))==="/"||Ve==="\\"||Ve==="?"||Ve==="#")},Le=function(Ee){var Ve=Ee.path,Ye=Ve.length;Ye&&(Ee.scheme!="file"||Ye!=1||!re(Ve[0],!0))&&Ve.pop()},Me=function(Ee){return Ee==="."||Ee.toLowerCase()==="%2e"},He=function(Ee){return Ee=Ee.toLowerCase(),Ee===".."||Ee==="%2e."||Ee===".%2e"||Ee==="%2e%2e"},Ze={},mt={},ct={},Vt={},It={},vt={},bt={},Ft={},ut={},sn={},Bt={},mn={},un={},an={},ve={},Se={},Re={},Ue={},rt={},Xe={},gt={},at=function(Ee,Ve,Ye,Qe){var nt=Ye||Ze,Rt=0,yt="",tn=!1,nn=!1,An=!1,qn,et,Ct,hn;for(Ye||(Ee.scheme="",Ee.username="",Ee.password="",Ee.host=null,Ee.port=null,Ee.path=[],Ee.query=null,Ee.fragment=null,Ee.cannotBeABaseURL=!1,Ve=Ve.replace(Q,"")),Ve=Ve.replace(oe,""),qn=b(Ve);Rt<=qn.length;){switch(et=qn[Rt],nt){case Ze:if(et&&be.test(et))yt+=et.toLowerCase(),nt=mt;else{if(Ye)return me;nt=ct;continue}break;case mt:if(et&&(Y.test(et)||et=="+"||et=="-"||et=="."))yt+=et.toLowerCase();else if(et==":"){if(Ye&&(O(Ee)!=C(he,yt)||yt=="file"&&(F(Ee)||Ee.port!==null)||Ee.scheme=="file"&&!Ee.host))return;if(Ee.scheme=yt,Ye){O(Ee)&&he[Ee.scheme]==Ee.port&&(Ee.port=null);return}yt="",Ee.scheme=="file"?nt=an:O(Ee)&&Qe&&Qe.scheme==Ee.scheme?nt=Vt:O(Ee)?nt=Ft:qn[Rt+1]=="/"?(nt=It,Rt++):(Ee.cannotBeABaseURL=!0,Ee.path.push(""),nt=rt)}else{if(Ye)return me;yt="",nt=ct,Rt=0;continue}break;case ct:if(!Qe||Qe.cannotBeABaseURL&&et!="#")return me;if(Qe.cannotBeABaseURL&&et=="#"){Ee.scheme=Qe.scheme,Ee.path=Qe.path.slice(),Ee.query=Qe.query,Ee.fragment="",Ee.cannotBeABaseURL=!0,nt=gt;break}nt=Qe.scheme=="file"?an:vt;continue;case Vt:if(et=="/"&&qn[Rt+1]=="/")nt=ut,Rt++;else{nt=vt;continue}break;case It:if(et=="/"){nt=sn;break}else{nt=Ue;continue}case vt:if(Ee.scheme=Qe.scheme,et==ae)Ee.username=Qe.username,Ee.password=Qe.password,Ee.host=Qe.host,Ee.port=Qe.port,Ee.path=Qe.path.slice(),Ee.query=Qe.query;else if(et=="/"||et=="\\"&&O(Ee))nt=bt;else if(et=="?")Ee.username=Qe.username,Ee.password=Qe.password,Ee.host=Qe.host,Ee.port=Qe.port,Ee.path=Qe.path.slice(),Ee.query="",nt=Xe;else if(et=="#")Ee.username=Qe.username,Ee.password=Qe.password,Ee.host=Qe.host,Ee.port=Qe.port,Ee.path=Qe.path.slice(),Ee.query=Qe.query,Ee.fragment="",nt=gt;else{Ee.username=Qe.username,Ee.password=Qe.password,Ee.host=Qe.host,Ee.port=Qe.port,Ee.path=Qe.path.slice(),Ee.path.pop(),nt=Ue;continue}break;case bt:if(O(Ee)&&(et=="/"||et=="\\"))nt=ut;else if(et=="/")nt=sn;else{Ee.username=Qe.username,Ee.password=Qe.password,Ee.host=Qe.host,Ee.port=Qe.port,nt=Ue;continue}break;case Ft:if(nt=ut,et!="/"||yt.charAt(Rt+1)!="/")continue;Rt++;break;case ut:if(et!="/"&&et!="\\"){nt=sn;continue}break;case sn:if(et=="@"){tn&&(yt="%40"+yt),tn=!0,Ct=b(yt);for(var jr=0;jr<Ct.length;jr++){var Vn=Ct[jr];if(Vn==":"&&!An){An=!0;continue}var pr=le(Vn,ne);An?Ee.password+=pr:Ee.username+=pr}yt=""}else if(et==ae||et=="/"||et=="?"||et=="#"||et=="\\"&&O(Ee)){if(tn&&yt=="")return fe;Rt-=b(yt).length+1,yt="",nt=Bt}else yt+=et;break;case Bt:case mn:if(Ye&&Ee.scheme=="file"){nt=Se;continue}else if(et==":"&&!nn){if(yt=="")return ie;if(hn=ce(Ee,yt),hn)return hn;if(yt="",nt=un,Ye==mn)return}else if(et==ae||et=="/"||et=="?"||et=="#"||et=="\\"&&O(Ee)){if(O(Ee)&&yt=="")return ie;if(Ye&&yt==""&&(F(Ee)||Ee.port!==null))return;if(hn=ce(Ee,yt),hn)return hn;if(yt="",nt=Re,Ye)return;continue}else et=="["?nn=!0:et=="]"&&(nn=!1),yt+=et;break;case un:if(ue.test(et))yt+=et;else if(et==ae||et=="/"||et=="?"||et=="#"||et=="\\"&&O(Ee)||Ye){if(yt!=""){var mr=parseInt(yt,10);if(mr>65535)return te;Ee.port=O(Ee)&&mr===he[Ee.scheme]?null:mr,yt=""}if(Ye)return;nt=Re;continue}else return te;break;case an:if(Ee.scheme="file",et=="/"||et=="\\")nt=ve;else if(Qe&&Qe.scheme=="file")if(et==ae)Ee.host=Qe.host,Ee.path=Qe.path.slice(),Ee.query=Qe.query;else if(et=="?")Ee.host=Qe.host,Ee.path=Qe.path.slice(),Ee.query="",nt=Xe;else if(et=="#")Ee.host=Qe.host,Ee.path=Qe.path.slice(),Ee.query=Qe.query,Ee.fragment="",nt=gt;else{_e(qn.slice(Rt).join(""))||(Ee.host=Qe.host,Ee.path=Qe.path.slice(),Le(Ee)),nt=Ue;continue}else{nt=Ue;continue}break;case ve:if(et=="/"||et=="\\"){nt=Se;break}Qe&&Qe.scheme=="file"&&!_e(qn.slice(Rt).join(""))&&(re(Qe.path[0],!0)?Ee.path.push(Qe.path[0]):Ee.host=Qe.host),nt=Ue;continue;case Se:if(et==ae||et=="/"||et=="\\"||et=="?"||et=="#"){if(!Ye&&re(yt))nt=Ue;else if(yt==""){if(Ee.host="",Ye)return;nt=Re}else{if(hn=ce(Ee,yt),hn)return hn;if(Ee.host=="localhost"&&(Ee.host=""),Ye)return;yt="",nt=Re}continue}else yt+=et;break;case Re:if(O(Ee)){if(nt=Ue,et!="/"&&et!="\\")continue}else if(!Ye&&et=="?")Ee.query="",nt=Xe;else if(!Ye&&et=="#")Ee.fragment="",nt=gt;else if(et!=ae&&(nt=Ue,et!="/"))continue;break;case Ue:if(et==ae||et=="/"||et=="\\"&&O(Ee)||!Ye&&(et=="?"||et=="#")){if(He(yt)?(Le(Ee),et!="/"&&!(et=="\\"&&O(Ee))&&Ee.path.push("")):Me(yt)?et!="/"&&!(et=="\\"&&O(Ee))&&Ee.path.push(""):(Ee.scheme=="file"&&!Ee.path.length&&re(yt)&&(Ee.host&&(Ee.host=""),yt=yt.charAt(0)+":"),Ee.path.push(yt)),yt="",Ee.scheme=="file"&&(et==ae||et=="?"||et=="#"))for(;Ee.path.length>1&&Ee.path[0]==="";)Ee.path.shift();et=="?"?(Ee.query="",nt=Xe):et=="#"&&(Ee.fragment="",nt=gt)}else yt+=le(et,De);break;case rt:et=="?"?(Ee.query="",nt=Xe):et=="#"?(Ee.fragment="",nt=gt):et!=ae&&(Ee.path[0]+=le(et,Ae));break;case Xe:!Ye&&et=="#"?(Ee.fragment="",nt=gt):et!=ae&&(et=="'"&&O(Ee)?Ee.query+="%27":et=="#"?Ee.query+="%23":Ee.query+=le(et,Ae));break;case gt:et!=ae&&(Ee.fragment+=le(et,Te));break}Rt++}},xt=function(Ve){var Ye=w(this,xt,"URL"),Qe=arguments.length>1?arguments[1]:void 0,nt=String(Ve),Rt=H(Ye,{type:"URL"}),yt,tn;if(Qe!==void 0){if(Qe instanceof xt)yt=$(Qe);else if(tn=at(yt={},String(Qe)),tn)throw TypeError(tn)}if(tn=at(Rt,nt,null,yt),tn)throw TypeError(tn);var nn=Rt.searchParams=new B,An=D(nn);An.updateSearchParams(Rt.query),An.updateURL=function(){Rt.query=String(nn)||null},f||(Ye.href=dt.call(Ye),Ye.origin=it.call(Ye),Ye.protocol=fn.call(Ye),Ye.username=En.call(Ye),Ye.password=fr.call(Ye),Ye.host=sr.call(Ye),Ye.hostname=Xr.call(Ye),Ye.port=_r.call(Ye),Ye.pathname=bn.call(Ye),Ye.search=ii.call(Ye),Ye.searchParams=yi.call(Ye),Ye.hash=Lr.call(Ye))},ht=xt.prototype,dt=function(){var Ee=$(this),Ve=Ee.scheme,Ye=Ee.username,Qe=Ee.password,nt=Ee.host,Rt=Ee.port,yt=Ee.path,tn=Ee.query,nn=Ee.fragment,An=Ve+":";return nt!==null?(An+="//",F(Ee)&&(An+=Ye+(Qe?":"+Qe:"")+"@"),An+=ye(nt),Rt!==null&&(An+=":"+Rt)):Ve=="file"&&(An+="//"),An+=Ee.cannotBeABaseURL?yt[0]:yt.length?"/"+yt.join("/"):"",tn!==null&&(An+="?"+tn),nn!==null&&(An+="#"+nn),An},it=function(){var Ee=$(this),Ve=Ee.scheme,Ye=Ee.port;if(Ve=="blob")try{return new URL(Ve.path[0]).origin}catch{return"null"}return Ve=="file"||!O(Ee)?"null":Ve+"://"+ye(Ee.host)+(Ye!==null?":"+Ye:"")},fn=function(){return $(this).scheme+":"},En=function(){return $(this).username},fr=function(){return $(this).password},sr=function(){var Ee=$(this),Ve=Ee.host,Ye=Ee.port;return Ve===null?"":Ye===null?ye(Ve):ye(Ve)+":"+Ye},Xr=function(){var Ee=$(this).host;return Ee===null?"":ye(Ee)},_r=function(){var Ee=$(this).port;return Ee===null?"":String(Ee)},bn=function(){var Ee=$(this),Ve=Ee.path;return Ee.cannotBeABaseURL?Ve[0]:Ve.length?"/"+Ve.join("/"):""},ii=function(){var Ee=$(this).query;return Ee?"?"+Ee:""},yi=function(){return $(this).searchParams},Lr=function(){var Ee=$(this).fragment;return Ee?"#"+Ee:""},Dn=function(Ee,Ve){return{get:Ee,set:Ve,configurable:!0,enumerable:!0}};if(f&&E(ht,{href:Dn(dt,function(Ee){var Ve=$(this),Ye=String(Ee),Qe=at(Ve,Ye);if(Qe)throw TypeError(Qe);D(Ve.searchParams).updateSearchParams(Ve.query)}),origin:Dn(it),protocol:Dn(fn,function(Ee){var Ve=$(this);at(Ve,String(Ee)+":",Ze)}),username:Dn(En,function(Ee){var Ve=$(this),Ye=b(String(Ee));if(!z(Ve)){Ve.username="";for(var Qe=0;Qe<Ye.length;Qe++)Ve.username+=le(Ye[Qe],ne)}}),password:Dn(fr,function(Ee){var Ve=$(this),Ye=b(String(Ee));if(!z(Ve)){Ve.password="";for(var Qe=0;Qe<Ye.length;Qe++)Ve.password+=le(Ye[Qe],ne)}}),host:Dn(sr,function(Ee){var Ve=$(this);Ve.cannotBeABaseURL||at(Ve,String(Ee),Bt)}),hostname:Dn(Xr,function(Ee){var Ve=$(this);Ve.cannotBeABaseURL||at(Ve,String(Ee),mn)}),port:Dn(_r,function(Ee){var Ve=$(this);z(Ve)||(Ee=String(Ee),Ee==""?Ve.port=null:at(Ve,Ee,un))}),pathname:Dn(bn,function(Ee){var Ve=$(this);Ve.cannotBeABaseURL||(Ve.path=[],at(Ve,Ee+"",Re))}),search:Dn(ii,function(Ee){var Ve=$(this);Ee=String(Ee),Ee==""?Ve.query=null:(Ee.charAt(0)=="?"&&(Ee=Ee.slice(1)),Ve.query="",at(Ve,Ee,Xe)),D(Ve.searchParams).updateSearchParams(Ve.query)}),searchParams:Dn(yi),hash:Dn(Lr,function(Ee){var Ve=$(this);if(Ee=String(Ee),Ee==""){Ve.fragment=null;return}Ee.charAt(0)=="#"&&(Ee=Ee.slice(1)),Ve.fragment="",at(Ve,Ee,gt)})}),_(ht,"toJSON",function(){return dt.call(this)},{enumerable:!0}),_(ht,"toString",function(){return dt.call(this)},{enumerable:!0}),R){var Jr=R.createObjectURL,Rn=R.revokeObjectURL;Jr&&_(xt,"createObjectURL",function(Ve){return Jr.apply(R,arguments)}),Rn&&_(xt,"revokeObjectURL",function(Ve){return Rn.apply(R,arguments)})}N(xt,"URL"),d({global:!0,forced:!g,sham:!f},{URL:xt})}},r={};function i(l){if(r[l])return r[l].exports;var h=r[l]={exports:{}};return t[l](h,h.exports,i),h.exports}(function(){i.d=function(l,h){for(var c in h)i.o(h,c)&&!i.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:h[c]})}})(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(l,h){return Object.prototype.hasOwnProperty.call(l,h)}}(),function(){i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}}();var s={};return function(){i.r(s),i.d(s,{Dropzone:function(){return te},default:function(){return Fe}}),i(2222),i(7327),i(2772),i(6992),i(1249),i(7042),i(561),i(8264),i(8309),i(489),i(1539),i(4916),i(9714),i(8783),i(4723),i(5306),i(3123),i(3210),i(2472),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(8867),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),i(4747),i(3948),i(285);function l(Q,oe){var ae;if(typeof Symbol>"u"||Q[Symbol.iterator]==null){if(Array.isArray(Q)||(ae=h(Q))||oe&&Q&&typeof Q.length=="number"){ae&&(Q=ae);var ce=0,q=function(){};return{s:q,n:function(){return ce>=Q.length?{done:!0}:{done:!1,value:Q[ce++]}},e:function(Te){throw Te},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J=!0,pe=!1,ye;return{s:function(){ae=Q[Symbol.iterator]()},n:function(){var Te=ae.next();return J=Te.done,Te},e:function(Te){pe=!0,ye=Te},f:function(){try{!J&&ae.return!=null&&ae.return()}finally{if(pe)throw ye}}}}function h(Q,oe){if(Q){if(typeof Q=="string")return c(Q,oe);var ae=Object.prototype.toString.call(Q).slice(8,-1);if(ae==="Object"&&Q.constructor&&(ae=Q.constructor.name),ae==="Map"||ae==="Set")return Array.from(Q);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return c(Q,oe)}}function c(Q,oe){(oe==null||oe>Q.length)&&(oe=Q.length);for(var ae=0,ce=new Array(oe);ae<oe;ae++)ce[ae]=Q[ae];return ce}function d(Q,oe){if(!(Q instanceof oe))throw new TypeError("Cannot call a class as a function")}function f(Q,oe){for(var ae=0;ae<oe.length;ae++){var ce=oe[ae];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Q,ce.key,ce)}}function g(Q,oe,ae){return oe&&f(Q.prototype,oe),ae&&f(Q,ae),Q}var y=function(){function Q(){d(this,Q)}return g(Q,[{key:"on",value:function(ae,ce){return this._callbacks=this._callbacks||{},this._callbacks[ae]||(this._callbacks[ae]=[]),this._callbacks[ae].push(ce),this}},{key:"emit",value:function(ae){this._callbacks=this._callbacks||{};for(var ce=this._callbacks[ae],q=arguments.length,J=new Array(q>1?q-1:0),pe=1;pe<q;pe++)J[pe-1]=arguments[pe];if(ce){var ye=l(ce,!0),Ae;try{for(ye.s();!(Ae=ye.n()).done;){var Te=Ae.value;Te.apply(this,J)}}catch(De){ye.e(De)}finally{ye.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+ae,{args:J})),this}},{key:"makeEvent",value:function(ae,ce){var q={bubbles:!0,cancelable:!0,detail:ce};if(typeof window.CustomEvent=="function")return new CustomEvent(ae,q);var J=document.createEvent("CustomEvent");return J.initCustomEvent(ae,q.bubbles,q.cancelable,q.detail),J}},{key:"off",value:function(ae,ce){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var q=this._callbacks[ae];if(!q)return this;if(arguments.length===1)return delete this._callbacks[ae],this;for(var J=0;J<q.length;J++){var pe=q[J];if(pe===ce){q.splice(J,1);break}}return this}}]),Q}(),E='<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',_=E;function w(Q,oe){var ae;if(typeof Symbol>"u"||Q[Symbol.iterator]==null){if(Array.isArray(Q)||(ae=C(Q))||oe&&Q&&typeof Q.length=="number"){ae&&(Q=ae);var ce=0,q=function(){};return{s:q,n:function(){return ce>=Q.length?{done:!0}:{done:!1,value:Q[ce++]}},e:function(Te){throw Te},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J=!0,pe=!1,ye;return{s:function(){ae=Q[Symbol.iterator]()},n:function(){var Te=ae.next();return J=Te.done,Te},e:function(Te){pe=!0,ye=Te},f:function(){try{!J&&ae.return!=null&&ae.return()}finally{if(pe)throw ye}}}}function C(Q,oe){if(Q){if(typeof Q=="string")return M(Q,oe);var ae=Object.prototype.toString.call(Q).slice(8,-1);if(ae==="Object"&&Q.constructor&&(ae=Q.constructor.name),ae==="Map"||ae==="Set")return Array.from(Q);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return M(Q,oe)}}function M(Q,oe){(oe==null||oe>Q.length)&&(oe=Q.length);for(var ae=0,ce=new Array(oe);ae<oe;ae++)ce[ae]=Q[ae];return ce}var b={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(oe,ae,ce){if(ce)return{dzuuid:ce.file.upload.uuid,dzchunkindex:ce.index,dztotalfilesize:ce.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:ce.file.upload.totalChunkCount,dzchunkbyteoffset:ce.index*this.options.chunkSize}},accept:function(oe,ae){return ae()},chunksUploaded:function(oe,ae){ae()},fallback:function(){var oe;this.element.className="".concat(this.element.className," dz-browser-not-supported");var ae=w(this.element.getElementsByTagName("div"),!0),ce;try{for(ae.s();!(ce=ae.n()).done;){var q=ce.value;if(/(^| )dz-message($| )/.test(q.className)){oe=q,q.className="dz-message";break}}}catch(pe){ae.e(pe)}finally{ae.f()}oe||(oe=te.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(oe));var J=oe.getElementsByTagName("span")[0];return J&&(J.textContent!=null?J.textContent=this.options.dictFallbackMessage:J.innerText!=null&&(J.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(oe,ae,ce,q){var J={srcX:0,srcY:0,srcWidth:oe.width,srcHeight:oe.height},pe=oe.width/oe.height;ae==null&&ce==null?(ae=J.srcWidth,ce=J.srcHeight):ae==null?ae=ce*pe:ce==null&&(ce=ae/pe),ae=Math.min(ae,J.srcWidth),ce=Math.min(ce,J.srcHeight);var ye=ae/ce;if(J.srcWidth>ae||J.srcHeight>ce)if(q==="crop")pe>ye?(J.srcHeight=oe.height,J.srcWidth=J.srcHeight*ye):(J.srcWidth=oe.width,J.srcHeight=J.srcWidth/ye);else if(q==="contain")pe>ye?ce=ae/pe:ae=ce*pe;else throw new Error("Unknown resizeMethod '".concat(q,"'"));return J.srcX=(oe.width-J.srcWidth)/2,J.srcY=(oe.height-J.srcHeight)/2,J.trgWidth=ae,J.trgHeight=ce,J},transformFile:function(oe,ae){return(this.options.resizeWidth||this.options.resizeHeight)&&oe.type.match(/image.*/)?this.resizeImage(oe,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,ae):ae(oe)},previewTemplate:_,drop:function(oe){return this.element.classList.remove("dz-drag-hover")},dragstart:function(oe){},dragend:function(oe){return this.element.classList.remove("dz-drag-hover")},dragenter:function(oe){return this.element.classList.add("dz-drag-hover")},dragover:function(oe){return this.element.classList.add("dz-drag-hover")},dragleave:function(oe){return this.element.classList.remove("dz-drag-hover")},paste:function(oe){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(oe){var ae=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){oe.previewElement=te.createElement(this.options.previewTemplate.trim()),oe.previewTemplate=oe.previewElement,this.previewsContainer.appendChild(oe.previewElement);var ce=w(oe.previewElement.querySelectorAll("[data-dz-name]"),!0),q;try{for(ce.s();!(q=ce.n()).done;){var J=q.value;J.textContent=oe.name}}catch(le){ce.e(le)}finally{ce.f()}var pe=w(oe.previewElement.querySelectorAll("[data-dz-size]"),!0),ye;try{for(pe.s();!(ye=pe.n()).done;)J=ye.value,J.innerHTML=this.filesize(oe.size)}catch(le){pe.e(le)}finally{pe.f()}this.options.addRemoveLinks&&(oe._removeLink=te.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),oe.previewElement.appendChild(oe._removeLink));var Ae=function(he){return he.preventDefault(),he.stopPropagation(),oe.status===te.UPLOADING?te.confirm(ae.options.dictCancelUploadConfirmation,function(){return ae.removeFile(oe)}):ae.options.dictRemoveFileConfirmation?te.confirm(ae.options.dictRemoveFileConfirmation,function(){return ae.removeFile(oe)}):ae.removeFile(oe)},Te=w(oe.previewElement.querySelectorAll("[data-dz-remove]"),!0),De;try{for(Te.s();!(De=Te.n()).done;){var ne=De.value;ne.addEventListener("click",Ae)}}catch(le){Te.e(le)}finally{Te.f()}}},removedfile:function(oe){return oe.previewElement!=null&&oe.previewElement.parentNode!=null&&oe.previewElement.parentNode.removeChild(oe.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(oe,ae){if(oe.previewElement){oe.previewElement.classList.remove("dz-file-preview");var ce=w(oe.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0),q;try{for(ce.s();!(q=ce.n()).done;){var J=q.value;J.alt=oe.name,J.src=ae}}catch(pe){ce.e(pe)}finally{ce.f()}return setTimeout(function(){return oe.previewElement.classList.add("dz-image-preview")},1)}},error:function(oe,ae){if(oe.previewElement){oe.previewElement.classList.add("dz-error"),typeof ae!="string"&&ae.error&&(ae=ae.error);var ce=w(oe.previewElement.querySelectorAll("[data-dz-errormessage]"),!0),q;try{for(ce.s();!(q=ce.n()).done;){var J=q.value;J.textContent=ae}}catch(pe){ce.e(pe)}finally{ce.f()}}},errormultiple:function(){},processing:function(oe){if(oe.previewElement&&(oe.previewElement.classList.add("dz-processing"),oe._removeLink))return oe._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(oe,ae,ce){if(oe.previewElement){var q=w(oe.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0),J;try{for(q.s();!(J=q.n()).done;){var pe=J.value;pe.nodeName==="PROGRESS"?pe.value=ae:pe.style.width="".concat(ae,"%")}}catch(ye){q.e(ye)}finally{q.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(oe){if(oe.previewElement)return oe.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(oe){return this.emit("error",oe,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(oe){if(oe._removeLink&&(oe._removeLink.innerHTML=this.options.dictRemoveFile),oe.previewElement)return oe.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},k=b;function A(Q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(ae){return typeof ae}:A=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},A(Q)}function N(Q,oe){var ae;if(typeof Symbol>"u"||Q[Symbol.iterator]==null){if(Array.isArray(Q)||(ae=T(Q))||oe&&Q&&typeof Q.length=="number"){ae&&(Q=ae);var ce=0,q=function(){};return{s:q,n:function(){return ce>=Q.length?{done:!0}:{done:!1,value:Q[ce++]}},e:function(Te){throw Te},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J=!0,pe=!1,ye;return{s:function(){ae=Q[Symbol.iterator]()},n:function(){var Te=ae.next();return J=Te.done,Te},e:function(Te){pe=!0,ye=Te},f:function(){try{!J&&ae.return!=null&&ae.return()}finally{if(pe)throw ye}}}}function T(Q,oe){if(Q){if(typeof Q=="string")return P(Q,oe);var ae=Object.prototype.toString.call(Q).slice(8,-1);if(ae==="Object"&&Q.constructor&&(ae=Q.constructor.name),ae==="Map"||ae==="Set")return Array.from(Q);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return P(Q,oe)}}function P(Q,oe){(oe==null||oe>Q.length)&&(oe=Q.length);for(var ae=0,ce=new Array(oe);ae<oe;ae++)ce[ae]=Q[ae];return ce}function R(Q,oe){if(!(Q instanceof oe))throw new TypeError("Cannot call a class as a function")}function B(Q,oe){for(var ae=0;ae<oe.length;ae++){var ce=oe[ae];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Q,ce.key,ce)}}function D(Q,oe,ae){return oe&&B(Q.prototype,oe),ae&&B(Q,ae),Q}function H(Q,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(oe&&oe.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),oe&&$(Q,oe)}function $(Q,oe){return $=Object.setPrototypeOf||function(ce,q){return ce.__proto__=q,ce},$(Q,oe)}function V(Q){var oe=me();return function(){var ce=ie(Q),q;if(oe){var J=ie(this).constructor;q=Reflect.construct(ce,arguments,J)}else q=ce.apply(this,arguments);return ee(this,q)}}function ee(Q,oe){return oe&&(A(oe)==="object"||typeof oe=="function")?oe:fe(Q)}function fe(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ie(Q){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},ie(Q)}var te=function(Q){H(ae,Q);var oe=V(ae);function ae(ce,q){var J;R(this,ae),J=oe.call(this);var pe,ye;if(J.element=ce,J.version=ae.version,J.clickableElements=[],J.listeners=[],J.files=[],typeof J.element=="string"&&(J.element=document.querySelector(J.element)),!J.element||J.element.nodeType==null)throw new Error("Invalid dropzone element.");if(J.element.dropzone)throw new Error("Dropzone already attached.");ae.instances.push(fe(J)),J.element.dropzone=fe(J);var Ae=(ye=ae.optionsForElement(J.element))!=null?ye:{};if(J.options=ae.extend({},k,Ae,q??{}),J.options.previewTemplate=J.options.previewTemplate.replace(/\n*/g,""),J.options.forceFallback||!ae.isBrowserSupported())return ee(J,J.options.fallback.call(fe(J)));if(J.options.url==null&&(J.options.url=J.element.getAttribute("action")),!J.options.url)throw new Error("No URL provided.");if(J.options.acceptedFiles&&J.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(J.options.uploadMultiple&&J.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return J.options.acceptedMimeTypes&&(J.options.acceptedFiles=J.options.acceptedMimeTypes,delete J.options.acceptedMimeTypes),J.options.renameFilename!=null&&(J.options.renameFile=function(Te){return J.options.renameFilename.call(fe(J),Te.name,Te)}),typeof J.options.method=="string"&&(J.options.method=J.options.method.toUpperCase()),(pe=J.getExistingFallback())&&pe.parentNode&&pe.parentNode.removeChild(pe),J.options.previewsContainer!==!1&&(J.options.previewsContainer?J.previewsContainer=ae.getElement(J.options.previewsContainer,"previewsContainer"):J.previewsContainer=J.element),J.options.clickable&&(J.options.clickable===!0?J.clickableElements=[J.element]:J.clickableElements=ae.getElements(J.options.clickable,"clickable")),J.init(),J}return D(ae,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(q){return q.accepted}).map(function(q){return q})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(q){return!q.accepted}).map(function(q){return q})}},{key:"getFilesWithStatus",value:function(q){return this.files.filter(function(J){return J.status===q}).map(function(J){return J})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(ae.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(ae.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(ae.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(q){return q.status===ae.UPLOADING||q.status===ae.QUEUED}).map(function(q){return q})}},{key:"init",value:function(){var q=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(ae.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){var J=function ne(){q.hiddenFileInput&&q.hiddenFileInput.parentNode.removeChild(q.hiddenFileInput),q.hiddenFileInput=document.createElement("input"),q.hiddenFileInput.setAttribute("type","file"),(q.options.maxFiles===null||q.options.maxFiles>1)&&q.hiddenFileInput.setAttribute("multiple","multiple"),q.hiddenFileInput.className="dz-hidden-input",q.options.acceptedFiles!==null&&q.hiddenFileInput.setAttribute("accept",q.options.acceptedFiles),q.options.capture!==null&&q.hiddenFileInput.setAttribute("capture",q.options.capture),q.hiddenFileInput.setAttribute("tabindex","-1"),q.hiddenFileInput.style.visibility="hidden",q.hiddenFileInput.style.position="absolute",q.hiddenFileInput.style.top="0",q.hiddenFileInput.style.left="0",q.hiddenFileInput.style.height="0",q.hiddenFileInput.style.width="0",ae.getElement(q.options.hiddenInputContainer,"hiddenInputContainer").appendChild(q.hiddenFileInput),q.hiddenFileInput.addEventListener("change",function(){var le=q.hiddenFileInput.files;if(le.length){var he=N(le,!0),O;try{for(he.s();!(O=he.n()).done;){var F=O.value;q.addFile(F)}}catch(z){he.e(z)}finally{he.f()}}q.emit("addedfiles",le),ne()})};J()}this.URL=window.URL!==null?window.URL:window.webkitURL;var pe=N(this.events,!0),ye;try{for(pe.s();!(ye=pe.n()).done;){var Ae=ye.value;this.on(Ae,this.options[Ae])}}catch(ne){pe.e(ne)}finally{pe.f()}this.on("uploadprogress",function(){return q.updateTotalUploadProgress()}),this.on("removedfile",function(){return q.updateTotalUploadProgress()}),this.on("canceled",function(ne){return q.emit("complete",ne)}),this.on("complete",function(ne){if(q.getAddedFiles().length===0&&q.getUploadingFiles().length===0&&q.getQueuedFiles().length===0)return setTimeout(function(){return q.emit("queuecomplete")},0)});var Te=function(le){if(le.dataTransfer.types){for(var he=0;he<le.dataTransfer.types.length;he++)if(le.dataTransfer.types[he]==="Files")return!0}return!1},De=function(le){if(Te(le))return le.stopPropagation(),le.preventDefault?le.preventDefault():le.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(le){return q.emit("dragstart",le)},dragenter:function(le){return De(le),q.emit("dragenter",le)},dragover:function(le){var he;try{he=le.dataTransfer.effectAllowed}catch{}return le.dataTransfer.dropEffect=he==="move"||he==="linkMove"?"move":"copy",De(le),q.emit("dragover",le)},dragleave:function(le){return q.emit("dragleave",le)},drop:function(le){return De(le),q.drop(le)},dragend:function(le){return q.emit("dragend",le)}}}],this.clickableElements.forEach(function(ne){return q.listeners.push({element:ne,events:{click:function(he){return(ne!==q.element||he.target===q.element||ae.elementInside(he.target,q.element.querySelector(".dz-message")))&&q.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,ae.instances.splice(ae.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var q,J=0,pe=0,ye=this.getActiveFiles();if(ye.length){var Ae=N(this.getActiveFiles(),!0),Te;try{for(Ae.s();!(Te=Ae.n()).done;){var De=Te.value;J+=De.upload.bytesSent,pe+=De.upload.total}}catch(ne){Ae.e(ne)}finally{Ae.f()}q=100*J/pe}else q=100;return this.emit("totaluploadprogress",q,pe,J)}},{key:"_getParamName",value:function(q){return typeof this.options.paramName=="function"?this.options.paramName(q):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(q,"]"):"")}},{key:"_renameFile",value:function(q){return typeof this.options.renameFile!="function"?q.name:this.options.renameFile(q)}},{key:"getFallbackForm",value:function(){var q,J;if(q=this.getExistingFallback())return q;var pe='<div class="dz-fallback">';this.options.dictFallbackText&&(pe+="<p>".concat(this.options.dictFallbackText,"</p>")),pe+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var ye=ae.createElement(pe);return this.element.tagName!=="FORM"?(J=ae.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>')),J.appendChild(ye)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),J??ye}},{key:"getExistingFallback",value:function(){for(var q=function(De){var ne=N(De,!0),le;try{for(ne.s();!(le=ne.n()).done;){var he=le.value;if(/(^| )fallback($| )/.test(he.className))return he}}catch(O){ne.e(O)}finally{ne.f()}},J=0,pe=["div","form"];J<pe.length;J++){var ye=pe[J],Ae;if(Ae=q(this.element.getElementsByTagName(ye)))return Ae}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(q){return function(){var J=[];for(var pe in q.events){var ye=q.events[pe];J.push(q.element.addEventListener(pe,ye,!1))}return J}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(q){return function(){var J=[];for(var pe in q.events){var ye=q.events[pe];J.push(q.element.removeEventListener(pe,ye,!1))}return J}()})}},{key:"disable",value:function(){var q=this;return this.clickableElements.forEach(function(J){return J.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(J){return q.cancelUpload(J)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(q){return q.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(q){var J=0,pe="b";if(q>0){for(var ye=["tb","gb","mb","kb","b"],Ae=0;Ae<ye.length;Ae++){var Te=ye[Ae],De=Math.pow(this.options.filesizeBase,4-Ae)/10;if(q>=De){J=q/Math.pow(this.options.filesizeBase,4-Ae),pe=Te;break}}J=Math.round(10*J)/10}return"<strong>".concat(J,"</strong> ").concat(this.options.dictFileSizeUnits[pe])}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(q){if(q.dataTransfer){this.emit("drop",q);for(var J=[],pe=0;pe<q.dataTransfer.files.length;pe++)J[pe]=q.dataTransfer.files[pe];if(J.length){var ye=q.dataTransfer.items;ye&&ye.length&&ye[0].webkitGetAsEntry!=null?this._addFilesFromItems(ye):this.handleFiles(J)}this.emit("addedfiles",J)}}},{key:"paste",value:function(q){if(K(q!=null?q.clipboardData:void 0,function(pe){return pe.items})!=null){this.emit("paste",q);var J=q.clipboardData.items;if(J.length)return this._addFilesFromItems(J)}}},{key:"handleFiles",value:function(q){var J=N(q,!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value;this.addFile(ye)}}catch(Ae){J.e(Ae)}finally{J.f()}}},{key:"_addFilesFromItems",value:function(q){var J=this;return function(){var pe=[],ye=N(q,!0),Ae;try{for(ye.s();!(Ae=ye.n()).done;){var Te=Ae.value,De;Te.webkitGetAsEntry!=null&&(De=Te.webkitGetAsEntry())?De.isFile?pe.push(J.addFile(Te.getAsFile())):De.isDirectory?pe.push(J._addFilesFromDirectory(De,De.name)):pe.push(void 0):Te.getAsFile!=null&&(Te.kind==null||Te.kind==="file")?pe.push(J.addFile(Te.getAsFile())):pe.push(void 0)}}catch(ne){ye.e(ne)}finally{ye.f()}return pe}()}},{key:"_addFilesFromDirectory",value:function(q,J){var pe=this,ye=q.createReader(),Ae=function(ne){return Oe(console,"log",function(le){return le.log(ne)})},Te=function De(){return ye.readEntries(function(ne){if(ne.length>0){var le=N(ne,!0),he;try{for(le.s();!(he=le.n()).done;){var O=he.value;O.isFile?O.file(function(F){if(!(pe.options.ignoreHiddenFiles&&F.name.substring(0,1)==="."))return F.fullPath="".concat(J,"/").concat(F.name),pe.addFile(F)}):O.isDirectory&&pe._addFilesFromDirectory(O,"".concat(J,"/").concat(O.name))}}catch(F){le.e(F)}finally{le.f()}De()}return null},Ae)};return Te()}},{key:"accept",value:function(q,J){this.options.maxFilesize&&q.size>this.options.maxFilesize*1024*1024?J(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(q.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):ae.isValidFile(q,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(J(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",q)):this.options.accept.call(this,q,J):J(this.options.dictInvalidFileType)}},{key:"addFile",value:function(q){var J=this;q.upload={uuid:ae.uuidv4(),progress:0,total:q.size,bytesSent:0,filename:this._renameFile(q)},this.files.push(q),q.status=ae.ADDED,this.emit("addedfile",q),this._enqueueThumbnail(q),this.accept(q,function(pe){pe?(q.accepted=!1,J._errorProcessing([q],pe)):(q.accepted=!0,J.options.autoQueue&&J.enqueueFile(q)),J._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(q){var J=N(q,!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value;this.enqueueFile(ye)}}catch(Ae){J.e(Ae)}finally{J.f()}return null}},{key:"enqueueFile",value:function(q){var J=this;if(q.status===ae.ADDED&&q.accepted===!0){if(q.status=ae.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return J.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(q){var J=this;if(this.options.createImageThumbnails&&q.type.match(/image.*/)&&q.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(q),setTimeout(function(){return J._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var q=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var J=this._thumbnailQueue.shift();return this.createThumbnail(J,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(pe){return q.emit("thumbnail",J,pe),q._processingThumbnail=!1,q._processThumbnailQueue()})}}},{key:"removeFile",value:function(q){if(q.status===ae.UPLOADING&&this.cancelUpload(q),this.files=be(this.files,q),this.emit("removedfile",q),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(q){q==null&&(q=!1);var J=N(this.files.slice(),!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value;(ye.status!==ae.UPLOADING||q)&&this.removeFile(ye)}}catch(Ae){J.e(Ae)}finally{J.f()}return null}},{key:"resizeImage",value:function(q,J,pe,ye,Ae){var Te=this;return this.createThumbnail(q,J,pe,ye,!0,function(De,ne){if(ne==null)return Ae(q);var le=Te.options.resizeMimeType;le==null&&(le=q.type);var he=ne.toDataURL(le,Te.options.resizeQuality);return(le==="image/jpeg"||le==="image/jpg")&&(he=xe.restore(q.dataURL,he)),Ae(ae.dataURItoBlob(he))})}},{key:"createThumbnail",value:function(q,J,pe,ye,Ae,Te){var De=this,ne=new FileReader;ne.onload=function(){if(q.dataURL=ne.result,q.type==="image/svg+xml"){Te!=null&&Te(ne.result);return}De.createThumbnailFromUrl(q,J,pe,ye,Ae,Te)},ne.readAsDataURL(q)}},{key:"displayExistingFile",value:function(q,J,pe,ye){var Ae=this,Te=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(this.emit("addedfile",q),this.emit("complete",q),!Te)this.emit("thumbnail",q,J),pe&&pe();else{var De=function(le){Ae.emit("thumbnail",q,le),pe&&pe()};q.dataURL=J,this.createThumbnailFromUrl(q,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,De,ye)}}},{key:"createThumbnailFromUrl",value:function(q,J,pe,ye,Ae,Te,De){var ne=this,le=document.createElement("img");return De&&(le.crossOrigin=De),Ae=getComputedStyle(document.body).imageOrientation=="from-image"?!1:Ae,le.onload=function(){var he=function(F){return F(1)};return typeof EXIF<"u"&&EXIF!==null&&Ae&&(he=function(F){return EXIF.getData(le,function(){return F(EXIF.getTag(this,"Orientation"))})}),he(function(O){q.width=le.width,q.height=le.height;var F=ne.options.resize.call(ne,q,J,pe,ye),z=document.createElement("canvas"),re=z.getContext("2d");switch(z.width=F.trgWidth,z.height=F.trgHeight,O>4&&(z.width=F.trgHeight,z.height=F.trgWidth),O){case 2:re.translate(z.width,0),re.scale(-1,1);break;case 3:re.translate(z.width,z.height),re.rotate(Math.PI);break;case 4:re.translate(0,z.height),re.scale(1,-1);break;case 5:re.rotate(.5*Math.PI),re.scale(1,-1);break;case 6:re.rotate(.5*Math.PI),re.translate(0,-z.width);break;case 7:re.rotate(.5*Math.PI),re.translate(z.height,-z.width),re.scale(-1,1);break;case 8:re.rotate(-.5*Math.PI),re.translate(-z.height,0);break}ke(re,le,F.srcX!=null?F.srcX:0,F.srcY!=null?F.srcY:0,F.srcWidth,F.srcHeight,F.trgX!=null?F.trgX:0,F.trgY!=null?F.trgY:0,F.trgWidth,F.trgHeight);var _e=z.toDataURL("image/png");if(Te!=null)return Te(_e,z)})},Te!=null&&(le.onerror=Te),le.src=q.dataURL}},{key:"processQueue",value:function(){var q=this.options.parallelUploads,J=this.getUploadingFiles().length,pe=J;if(!(J>=q)){var ye=this.getQueuedFiles();if(ye.length>0){if(this.options.uploadMultiple)return this.processFiles(ye.slice(0,q-J));for(;pe<q;){if(!ye.length)return;this.processFile(ye.shift()),pe++}}}}},{key:"processFile",value:function(q){return this.processFiles([q])}},{key:"processFiles",value:function(q){var J=N(q,!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value;ye.processing=!0,ye.status=ae.UPLOADING,this.emit("processing",ye)}}catch(Ae){J.e(Ae)}finally{J.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",q),this.uploadFiles(q)}},{key:"_getFilesWithXhr",value:function(q){return this.files.filter(function(J){return J.xhr===q}).map(function(J){return J})}},{key:"cancelUpload",value:function(q){if(q.status===ae.UPLOADING){var J=this._getFilesWithXhr(q.xhr),pe=N(J,!0),ye;try{for(pe.s();!(ye=pe.n()).done;){var Ae=ye.value;Ae.status=ae.CANCELED}}catch(le){pe.e(le)}finally{pe.f()}typeof q.xhr<"u"&&q.xhr.abort();var Te=N(J,!0),De;try{for(Te.s();!(De=Te.n()).done;){var ne=De.value;this.emit("canceled",ne)}}catch(le){Te.e(le)}finally{Te.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",J)}else(q.status===ae.ADDED||q.status===ae.QUEUED)&&(q.status=ae.CANCELED,this.emit("canceled",q),this.options.uploadMultiple&&this.emit("canceledmultiple",[q]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(q){if(typeof q=="function"){for(var J=arguments.length,pe=new Array(J>1?J-1:0),ye=1;ye<J;ye++)pe[ye-1]=arguments[ye];return q.apply(this,pe)}return q}},{key:"uploadFile",value:function(q){return this.uploadFiles([q])}},{key:"uploadFiles",value:function(q){var J=this;this._transformFiles(q,function(pe){if(J.options.chunking){var ye=pe[0];q[0].upload.chunked=J.options.chunking&&(J.options.forceChunking||ye.size>J.options.chunkSize),q[0].upload.totalChunkCount=Math.ceil(ye.size/J.options.chunkSize)}if(q[0].upload.chunked){var Ae=q[0],Te=pe[0];Ae.upload.chunks=[];var De=function(){for(var F=0;Ae.upload.chunks[F]!==void 0;)F++;if(!(F>=Ae.upload.totalChunkCount)){var z=F*J.options.chunkSize,re=Math.min(z+J.options.chunkSize,Te.size),_e={name:J._getParamName(0),data:Te.webkitSlice?Te.webkitSlice(z,re):Te.slice(z,re),filename:Ae.upload.filename,chunkIndex:F};Ae.upload.chunks[F]={file:Ae,index:F,dataBlock:_e,status:ae.UPLOADING,progress:0,retries:0},J._uploadData(q,[_e])}};if(Ae.upload.finishedChunkUpload=function(O,F){var z=!0;O.status=ae.SUCCESS,O.dataBlock=null,O.xhr=null;for(var re=0;re<Ae.upload.totalChunkCount;re++){if(Ae.upload.chunks[re]===void 0)return De();Ae.upload.chunks[re].status!==ae.SUCCESS&&(z=!1)}z&&J.options.chunksUploaded(Ae,function(){J._finished(q,F,null)})},J.options.parallelChunkUploads)for(var ne=0;ne<Ae.upload.totalChunkCount;ne++)De();else De()}else{for(var le=[],he=0;he<q.length;he++)le[he]={name:J._getParamName(he),data:pe[he],filename:q[he].upload.filename};J._uploadData(q,le)}})}},{key:"_getChunk",value:function(q,J){for(var pe=0;pe<q.upload.totalChunkCount;pe++)if(q.upload.chunks[pe]!==void 0&&q.upload.chunks[pe].xhr===J)return q.upload.chunks[pe]}},{key:"_uploadData",value:function(q,J){var pe=this,ye=new XMLHttpRequest,Ae=N(q,!0),Te;try{for(Ae.s();!(Te=Ae.n()).done;){var De=Te.value;De.xhr=ye}}catch(bt){Ae.e(bt)}finally{Ae.f()}q[0].upload.chunked&&(q[0].upload.chunks[J[0].chunkIndex].xhr=ye);var ne=this.resolveOption(this.options.method,q),le=this.resolveOption(this.options.url,q);ye.open(ne,le,!0);var he=this.resolveOption(this.options.timeout,q);he&&(ye.timeout=this.resolveOption(this.options.timeout,q)),ye.withCredentials=!!this.options.withCredentials,ye.onload=function(bt){pe._finishedUploading(q,ye,bt)},ye.ontimeout=function(){pe._handleUploadError(q,ye,"Request timedout after ".concat(pe.options.timeout/1e3," seconds"))},ye.onerror=function(){pe._handleUploadError(q,ye)};var O=ye.upload!=null?ye.upload:ye;O.onprogress=function(bt){return pe._updateFilesUploadProgress(q,ye,bt)};var F={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&ae.extend(F,this.options.headers);for(var z in F){var re=F[z];re&&ye.setRequestHeader(z,re)}var _e=new FormData;if(this.options.params){var Le=this.options.params;typeof Le=="function"&&(Le=Le.call(this,q,ye,q[0].upload.chunked?this._getChunk(q[0],ye):null));for(var Me in Le){var He=Le[Me];if(Array.isArray(He))for(var Ze=0;Ze<He.length;Ze++)_e.append(Me,He[Ze]);else _e.append(Me,He)}}var mt=N(q,!0),ct;try{for(mt.s();!(ct=mt.n()).done;){var Vt=ct.value;this.emit("sending",Vt,ye,_e)}}catch(bt){mt.e(bt)}finally{mt.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",q,ye,_e),this._addFormElementData(_e);for(var It=0;It<J.length;It++){var vt=J[It];_e.append(vt.name,vt.data,vt.filename)}this.submitRequest(ye,_e,q)}},{key:"_transformFiles",value:function(q,J){for(var pe=this,ye=[],Ae=0,Te=function(le){pe.options.transformFile.call(pe,q[le],function(he){ye[le]=he,++Ae===q.length&&J(ye)})},De=0;De<q.length;De++)Te(De)}},{key:"_addFormElementData",value:function(q){if(this.element.tagName==="FORM"){var J=N(this.element.querySelectorAll("input, textarea, select, button"),!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value,Ae=ye.getAttribute("name"),Te=ye.getAttribute("type");if(Te&&(Te=Te.toLowerCase()),!(typeof Ae>"u"||Ae===null))if(ye.tagName==="SELECT"&&ye.hasAttribute("multiple")){var De=N(ye.options,!0),ne;try{for(De.s();!(ne=De.n()).done;){var le=ne.value;le.selected&&q.append(Ae,le.value)}}catch(he){De.e(he)}finally{De.f()}}else(!Te||Te!=="checkbox"&&Te!=="radio"||ye.checked)&&q.append(Ae,ye.value)}}catch(he){J.e(he)}finally{J.f()}}}},{key:"_updateFilesUploadProgress",value:function(q,J,pe){if(q[0].upload.chunked){var De=q[0],ne=this._getChunk(De,J);pe?(ne.progress=100*pe.loaded/pe.total,ne.total=pe.total,ne.bytesSent=pe.loaded):(ne.progress=100,ne.bytesSent=ne.total),De.upload.progress=0,De.upload.total=0,De.upload.bytesSent=0;for(var le=0;le<De.upload.totalChunkCount;le++)De.upload.chunks[le]&&typeof De.upload.chunks[le].progress<"u"&&(De.upload.progress+=De.upload.chunks[le].progress,De.upload.total+=De.upload.chunks[le].total,De.upload.bytesSent+=De.upload.chunks[le].bytesSent);De.upload.progress=De.upload.progress/De.upload.totalChunkCount,this.emit("uploadprogress",De,De.upload.progress,De.upload.bytesSent)}else{var ye=N(q,!0),Ae;try{for(ye.s();!(Ae=ye.n()).done;){var Te=Ae.value;Te.upload.total&&Te.upload.bytesSent&&Te.upload.bytesSent==Te.upload.total||(pe?(Te.upload.progress=100*pe.loaded/pe.total,Te.upload.total=pe.total,Te.upload.bytesSent=pe.loaded):(Te.upload.progress=100,Te.upload.bytesSent=Te.upload.total),this.emit("uploadprogress",Te,Te.upload.progress,Te.upload.bytesSent))}}catch(he){ye.e(he)}finally{ye.f()}}}},{key:"_finishedUploading",value:function(q,J,pe){var ye;if(q[0].status!==ae.CANCELED&&J.readyState===4){if(J.responseType!=="arraybuffer"&&J.responseType!=="blob"&&(ye=J.responseText,J.getResponseHeader("content-type")&&~J.getResponseHeader("content-type").indexOf("application/json")))try{ye=JSON.parse(ye)}catch(Ae){pe=Ae,ye="Invalid JSON response from server."}this._updateFilesUploadProgress(q,J),200<=J.status&&J.status<300?q[0].upload.chunked?q[0].upload.finishedChunkUpload(this._getChunk(q[0],J),ye):this._finished(q,ye,pe):this._handleUploadError(q,J,ye)}}},{key:"_handleUploadError",value:function(q,J,pe){if(q[0].status!==ae.CANCELED){if(q[0].upload.chunked&&this.options.retryChunks){var ye=this._getChunk(q[0],J);if(ye.retries++<this.options.retryChunksLimit){this._uploadData(q,[ye.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(q,pe||this.options.dictResponseError.replace("{{statusCode}}",J.status),J)}}},{key:"submitRequest",value:function(q,J,pe){if(q.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}q.send(J)}},{key:"_finished",value:function(q,J,pe){var ye=N(q,!0),Ae;try{for(ye.s();!(Ae=ye.n()).done;){var Te=Ae.value;Te.status=ae.SUCCESS,this.emit("success",Te,J,pe),this.emit("complete",Te)}}catch(De){ye.e(De)}finally{ye.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",q,J,pe),this.emit("completemultiple",q)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(q,J,pe){var ye=N(q,!0),Ae;try{for(ye.s();!(Ae=ye.n()).done;){var Te=Ae.value;Te.status=ae.ERROR,this.emit("error",Te,J,pe),this.emit("complete",Te)}}catch(De){ye.e(De)}finally{ye.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",q,J,pe),this.emit("completemultiple",q)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=y,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(q){for(var J=arguments.length,pe=new Array(J>1?J-1:0),ye=1;ye<J;ye++)pe[ye-1]=arguments[ye];for(var Ae=0,Te=pe;Ae<Te.length;Ae++){var De=Te[Ae];for(var ne in De){var le=De[ne];q[ne]=le}}return q}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var J=Math.random()*16|0,pe=q==="x"?J:J&3|8;return pe.toString(16)})}}]),ae}(y);te.initClass(),te.version="5.9.3",te.options={},te.optionsForElement=function(Q){if(Q.getAttribute("id"))return te.options[Y(Q.getAttribute("id"))]},te.instances=[],te.forElement=function(Q){if(typeof Q=="string"&&(Q=document.querySelector(Q)),(Q!=null?Q.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return Q.dropzone},te.autoDiscover=!0,te.discover=function(){var Q;if(document.querySelectorAll)Q=document.querySelectorAll(".dropzone");else{Q=[];var oe=function(ce){return function(){var q=[],J=N(ce,!0),pe;try{for(J.s();!(pe=J.n()).done;){var ye=pe.value;/(^| )dropzone($| )/.test(ye.className)?q.push(Q.push(ye)):q.push(void 0)}}catch(Ae){J.e(Ae)}finally{J.f()}return q}()};oe(document.getElementsByTagName("div")),oe(document.getElementsByTagName("form"))}return function(){var ae=[],ce=N(Q,!0),q;try{for(ce.s();!(q=ce.n()).done;){var J=q.value;te.optionsForElement(J)!==!1?ae.push(new te(J)):ae.push(void 0)}}catch(pe){ce.e(pe)}finally{ce.f()}return ae}()},te.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],te.isBrowserSupported=function(){var Q=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))Q=!1;else{te.blacklistedBrowsers!==void 0&&(te.blockedBrowsers=te.blacklistedBrowsers);var oe=N(te.blockedBrowsers,!0),ae;try{for(oe.s();!(ae=oe.n()).done;){var ce=ae.value;if(ce.test(navigator.userAgent)){Q=!1;continue}}}catch(q){oe.e(q)}finally{oe.f()}}else Q=!1;return Q},te.dataURItoBlob=function(Q){for(var oe=atob(Q.split(",")[1]),ae=Q.split(",")[0].split(":")[1].split(";")[0],ce=new ArrayBuffer(oe.length),q=new Uint8Array(ce),J=0,pe=oe.length,ye=0<=pe;ye?J<=pe:J>=pe;ye?J++:J--)q[J]=oe.charCodeAt(J);return new Blob([ce],{type:ae})};var be=function(oe,ae){return oe.filter(function(ce){return ce!==ae}).map(function(ce){return ce})},Y=function(oe){return oe.replace(/[\-_](\w)/g,function(ae){return ae.charAt(1).toUpperCase()})};te.createElement=function(Q){var oe=document.createElement("div");return oe.innerHTML=Q,oe.childNodes[0]},te.elementInside=function(Q,oe){if(Q===oe)return!0;for(;Q=Q.parentNode;)if(Q===oe)return!0;return!1},te.getElement=function(Q,oe){var ae;if(typeof Q=="string"?ae=document.querySelector(Q):Q.nodeType!=null&&(ae=Q),ae==null)throw new Error("Invalid `".concat(oe,"` option provided. Please provide a CSS selector or a plain HTML element."));return ae},te.getElements=function(Q,oe){var ae,ce;if(Q instanceof Array){ce=[];try{var q=N(Q,!0),J;try{for(q.s();!(J=q.n()).done;)ae=J.value,ce.push(this.getElement(ae,oe))}catch(Ae){q.e(Ae)}finally{q.f()}}catch{ce=null}}else if(typeof Q=="string"){ce=[];var pe=N(document.querySelectorAll(Q),!0),ye;try{for(pe.s();!(ye=pe.n()).done;)ae=ye.value,ce.push(ae)}catch(Ae){pe.e(Ae)}finally{pe.f()}}else Q.nodeType!=null&&(ce=[Q]);if(ce==null||!ce.length)throw new Error("Invalid `".concat(oe,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return ce},te.confirm=function(Q,oe,ae){if(window.confirm(Q))return oe();if(ae!=null)return ae()},te.isValidFile=function(Q,oe){if(!oe)return!0;oe=oe.split(",");var ae=Q.type,ce=ae.replace(/\/.*$/,""),q=N(oe,!0),J;try{for(q.s();!(J=q.n()).done;){var pe=J.value;if(pe=pe.trim(),pe.charAt(0)==="."){if(Q.name.toLowerCase().indexOf(pe.toLowerCase(),Q.name.length-pe.length)!==-1)return!0}else if(/\/\*$/.test(pe)){if(ce===pe.replace(/\/.*$/,""))return!0}else if(ae===pe)return!0}}catch(ye){q.e(ye)}finally{q.f()}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(Q){return this.each(function(){return new te(this,Q)})}),te.ADDED="added",te.QUEUED="queued",te.ACCEPTED=te.QUEUED,te.UPLOADING="uploading",te.PROCESSING=te.UPLOADING,te.CANCELED="canceled",te.ERROR="error",te.SUCCESS="success";var ue=function(oe){oe.naturalWidth;var ae=oe.naturalHeight,ce=document.createElement("canvas");ce.width=1,ce.height=ae;var q=ce.getContext("2d");q.drawImage(oe,0,0);for(var J=q.getImageData(1,0,1,ae),pe=J.data,ye=0,Ae=ae,Te=ae;Te>ye;){var De=pe[(Te-1)*4+3];De===0?Ae=Te:ye=Te,Te=Ae+ye>>1}var ne=Te/ae;return ne===0?1:ne},ke=function(oe,ae,ce,q,J,pe,ye,Ae,Te,De){var ne=ue(ae);return oe.drawImage(ae,ce,q,J,pe,ye,Ae,Te,De/ne)},xe=function(){function Q(){R(this,Q)}return D(Q,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(ae){for(var ce="",q=void 0,J=void 0,pe="",ye=void 0,Ae=void 0,Te=void 0,De="",ne=0;q=ae[ne++],J=ae[ne++],pe=ae[ne++],ye=q>>2,Ae=(q&3)<<4|J>>4,Te=(J&15)<<2|pe>>6,De=pe&63,isNaN(J)?Te=De=64:isNaN(pe)&&(De=64),ce=ce+this.KEY_STR.charAt(ye)+this.KEY_STR.charAt(Ae)+this.KEY_STR.charAt(Te)+this.KEY_STR.charAt(De),q=J=pe="",ye=Ae=Te=De="",ne<ae.length;);return ce}},{key:"restore",value:function(ae,ce){if(!ae.match("data:image/jpeg;base64,"))return ce;var q=this.decode64(ae.replace("data:image/jpeg;base64,","")),J=this.slice2Segments(q),pe=this.exifManipulation(ce,J);return"data:image/jpeg;base64,".concat(this.encode64(pe))}},{key:"exifManipulation",value:function(ae,ce){var q=this.getExifArray(ce),J=this.insertExif(ae,q),pe=new Uint8Array(J);return pe}},{key:"getExifArray",value:function(ae){for(var ce=void 0,q=0;q<ae.length;){if(ce=ae[q],ce[0]===255&ce[1]===225)return ce;q++}return[]}},{key:"insertExif",value:function(ae,ce){var q=ae.replace("data:image/jpeg;base64,",""),J=this.decode64(q),pe=J.indexOf(255,3),ye=J.slice(0,pe),Ae=J.slice(pe),Te=ye;return Te=Te.concat(ce),Te=Te.concat(Ae),Te}},{key:"slice2Segments",value:function(ae){for(var ce=0,q=[];;){var J;if(ae[ce]===255&ae[ce+1]===218)break;if(ae[ce]===255&ae[ce+1]===216)ce+=2;else{J=ae[ce+2]*256+ae[ce+3];var pe=ce+J+2,ye=ae.slice(ce,pe);q.push(ye),ce=pe}if(ce>ae.length)break}return q}},{key:"decode64",value:function(ae){var ce=void 0,q=void 0,J="",pe=void 0,ye=void 0,Ae=void 0,Te="",De=0,ne=[],le=/[^A-Za-z0-9\+\/\=]/g;for(le.exec(ae)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),ae=ae.replace(/[^A-Za-z0-9\+\/\=]/g,"");pe=this.KEY_STR.indexOf(ae.charAt(De++)),ye=this.KEY_STR.indexOf(ae.charAt(De++)),Ae=this.KEY_STR.indexOf(ae.charAt(De++)),Te=this.KEY_STR.indexOf(ae.charAt(De++)),ce=pe<<2|ye>>4,q=(ye&15)<<4|Ae>>2,J=(Ae&3)<<6|Te,ne.push(ce),Ae!==64&&ne.push(q),Te!==64&&ne.push(J),ce=q=J="",pe=ye=Ae=Te="",De<ae.length;);return ne}}]),Q}();xe.initClass();var X=function(oe,ae){var ce=!1,q=!0,J=oe.document,pe=J.documentElement,ye=J.addEventListener?"addEventListener":"attachEvent",Ae=J.addEventListener?"removeEventListener":"detachEvent",Te=J.addEventListener?"":"on",De=function le(he){if(!(he.type==="readystatechange"&&J.readyState!=="complete")&&((he.type==="load"?oe:J)[Ae](Te+he.type,le,!1),!ce&&(ce=!0)))return ae.call(oe,he.type||he)},ne=function le(){try{pe.doScroll("left")}catch{setTimeout(le,50);return}return De("poll")};if(J.readyState!=="complete"){if(J.createEventObject&&pe.doScroll){try{q=!oe.frameElement}catch{}q&&ne()}return J[ye](Te+"DOMContentLoaded",De,!1),J[ye](Te+"readystatechange",De,!1),oe[ye](Te+"load",De,!1)}};te._autoDiscoverFunction=function(){if(te.autoDiscover)return te.discover()},X(window,te._autoDiscoverFunction);function K(Q,oe){return typeof Q<"u"&&Q!==null?oe(Q):void 0}function Oe(Q,oe,ae){if(typeof Q<"u"&&Q!==null&&typeof Q[oe]=="function")return ae(Q,oe)}window.Dropzone=te;var Fe=te}(),s}()})})(HO);var Zh=HO.exports;class zO extends vn{constructor(e){super(e),this.attachments={},this.mediaList=[],this.allMediaList={}}initialize(){this.page=1}get dropname(){return this.element.querySelector("#"+this.data.get("id"))}get activeAttachment(){return{id:this.activeAchivmentId,name:this[this.getAttachmentTargetKey("name")].value||"",alt:this[this.getAttachmentTargetKey("alt")].value||"",description:this[this.getAttachmentTargetKey("description")].value||"",original_name:this[this.getAttachmentTargetKey("original")].value||""}}set activeAttachment(e){this.activeAchivmentId=e.id,this[this.getAttachmentTargetKey("name")].value=e.name||"",this[this.getAttachmentTargetKey("original")].value=e.original_name||"",this[this.getAttachmentTargetKey("alt")].value=e.alt||"",this[this.getAttachmentTargetKey("description")].value=e.description||"",this.data.set("url",e.url)}openLink(e){e.preventDefault(),window.open(this.data.get("url"))}connect(){this.initDropZone(),this.initSortable()}save(){const e=this.activeAttachment,t=this.dropname;Ai.getOrCreateInstance(t.querySelector(".attachment.modal")).toggle();const i=e.name+e.id;this.attachments.hasOwnProperty(i)&&(this.attachments[i].name=e.name,this.attachments[i].alt=e.alt,this.attachments[i].description=e.description,this.attachments[i].original_name=e.original_name),axios.put(this.prefix(`/systems/files/post/${e.id}`),e).then()}getAttachmentTargetKey(e){return`${e}Target`}loadInfo(e){const t=e.name+e.id;this.attachments.hasOwnProperty(t)||(this.attachments[t]=e),this.activeAttachment=e}resortElement(){const e={},t=this,r=this.dropname,i=axios.CancelToken;typeof this.cancelRequest=="function"&&this.cancelRequest(),r.querySelectorAll(":scope .file-sort").forEach((l,h)=>{const c=l.getAttribute("data-file-id");e[c]=h}),axios.post(this.prefix("/systems/files/sort"),{files:e},{cancelToken:new i(function(h){t.cancelRequest=h})}).then()}initSortable(){new Kt(this.element.querySelector(".sortable-dropzone"),{animation:150,onEnd:()=>{this.resortElement()}})}addSortDataAtributes(e,t,r){const i=e.querySelectorAll(" .dz-complete");i!==null&&i.item(i.length-1)!==null&&(i.item(i.length-1).setAttribute("data-file-id",r.id),i.item(i.length-1).classList.add("file-sort"));const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",t+"[]"),s.setAttribute("value",r.id),s.classList.add("files-"+r.id),e.appendChild(s)}initDropZone(){const e=this,t=this.data.get("data")&&JSON.parse(this.data.get("data")),r=this.data.get("storage"),i=this.data.get("name"),s=this.loadInfo.bind(this),l=this.dropname,h=this.data.get("groups"),c=this.data.get("path"),d=!!this.data.get("multiple"),f=this.data.get("is-media-library"),g=this.element.querySelector("#"+this.data.get("id")+"-remove-button").innerHTML.trim(),y=this.element.querySelector("#"+this.data.get("id")+"-edit-button").innerHTML.trim(),E=this,_=this.prefix("/systems/files/");this.dropZone=new Zh.Dropzone(this.element.querySelector("#"+this.data.get("id")),{url:this.prefix("/systems/files"),method:"post",uploadMultiple:!0,maxFilesize:this.data.get("max-file-size"),maxFiles:d?this.data.get("max-files"):1,timeout:this.data.get("timeout"),acceptedFiles:this.data.get("accepted-files"),resizeQuality:this.data.get("resize-quality"),resizeWidth:this.data.get("resize-width"),resizeHeight:this.data.get("resize-height"),paramName:"files",previewsContainer:l.querySelector(".visual-dropzone"),addRemoveLinks:!1,dictFileTooBig:"File is big",autoDiscover:!1,init:function(){this.on("addedfile",M=>{console.log("dropzone.addedfile"),this.files.length>this.options.maxFiles&&(E.alert("Validation error","Max files"),this.removeFile(M));const b=Zh.Dropzone.createElement(y),k=Zh.Dropzone.createElement(g);k.addEventListener("click",A=>{A.preventDefault(),A.stopPropagation(),this.removeFile(M)}),b.addEventListener("click",()=>{s(M.data),Ai.getOrCreateInstance(l.querySelector(".attachment.modal")).show()}),M.previewElement.appendChild(k),M.previewElement.appendChild(b)}),this.on("maxfilesexceeded",M=>{E.alert("Validation error","Max files exceeded"),this.removeFile(M)}),this.on("sending",(M,b,k)=>{let A=document.querySelector("meta[name='csrf_token']").getAttribute("content");k.append("_token",A),k.append("storage",r),k.append("group",h),k.append("path",c)}),this.on("removedfile",M=>{if(M.hasOwnProperty("data")&&M.data.hasOwnProperty("id")){let b=l.querySelector(`.files-${M.data.id}`);b!==null&&b.parentNode!==null&&b.parentNode.removeChild(b),!f&&axios.delete(_+M.data.id,{storage:r}).then()}}),d||this.hiddenFileInput.removeAttribute("multiple");const w=t;w&&Object.values(w).forEach(M=>{const b={id:M.id,name:M.original_name,size:M.size,type:M.mime,status:Zh.Dropzone.ADDED,url:`${M.url}`,data:M};this.emit("addedfile",b),this.emit("thumbnail",b,b.url),this.emit("complete",b),this.files.push(b),e.addSortDataAtributes(l,i,M)});let C=l.querySelector(".dz-progress");C!==null&&C.parentNode!==null&&C.parentNode.removeChild(C)},error(w,C){return E.alert("Validation error","File upload error"),this.removeFile(w),Object.prototype.toString.call(C).replace(/^\[object (.+)\]$/,"$1").toLowerCase()==="string"?C:C.message},success(w,C){Array.isArray(C)||(C=[C]),C.forEach(M=>{if(w.name===M.original_name)return w.data=M,!1}),e.addSortDataAtributes(l,i,w.data),e.resortElement()}})}openMedia(){const e=this.dropname;e.querySelector(".media-loader").style.display="",e.querySelector(".media-results").style.display="none",this.resetPage(),this.loadMedia()}loadMore(e){e.preventDefault(),this.page++,this.loadMedia()}resetPage(){this.allMediaList={},this.page=1,this.dropname.querySelector(".media-results").innerHTML=""}loadMedia(){const e=this,t=axios.CancelToken,r=this.dropname;typeof this.cancelRequest=="function"&&this.cancelRequest(),Ai.getOrCreateInstance(r.querySelector(".media.modal")).show();let s={disk:this.data.get("storage"),original_name:this.searchTarget.value,group:this.data.get("groups")||null};Object.keys(s).forEach(l=>s[l]===null&&delete s[l]),axios.post(this.prefix(`/systems/media?page=${this.page}`),{filter:s},{cancelToken:new t(function(h){e.cancelRequest=h})}).then(l=>{this.mediaList=l.data.data,this.loadmoreTarget.classList.toggle("d-none",l.data.last_page===this.page),this.renderMedia()})}renderMedia(){this.mediaList.forEach((e,t)=>{const r=this.page+"-"+t,i=this.element.querySelector("#"+this.data.get("id")+"-media").content.querySelector(".media-item").cloneNode(!0);i.innerHTML=i.innerHTML.replace(/{index}/,r).replace(/{element.url}/,e.url).replace(/{element.original_name}/,e.original_name).replace(/{element.original_name}/,e.original_name),this.dropname.querySelector(".media-results").appendChild(i),this.allMediaList[r]=e}),this.dropname.querySelector(".media-loader").style.display="none",this.dropname.querySelector(".media-results").style.display=""}addFile(e){const t=e.currentTarget.dataset.key,r=this.allMediaList[t];this.addedExistFile(r),this.data.get("close-on-add")&&Ai.getOrCreateInstance(this.dropname.querySelector(".media.modal")).hide()}addedExistFile(e){const r=!!this.data.get("multiple")?this.data.get("max-files"):1;if(this.dropZone.files.length>=r){this.alert("Max files exceeded");return}const i={id:e.id,name:e.original_name,size:e.size,type:e.mime,status:Zh.Dropzone.ADDED,url:`${e.url}`,data:e};this.dropZone.emit("addedfile",i),this.dropZone.emit("thumbnail",i,i.url),this.dropZone.emit("complete",i),this.dropZone.files.push(i),this.addSortDataAtributes(this.dropname,this.data.get("name"),i),this.resortElement()}}$e(zO,"targets",["search","name","original","alt","description","url","loadmore"]);const fK=Object.freeze(Object.defineProperty({__proto__:null,default:zO},Symbol.toStringTag,{value:"Module"}));class UO extends vn{connect(){if(!this.urlTarget.value)return;let e=new URL(this.urlTarget.value);this.sourceTarget.value=this.loadParam(e,"source"),this.mediumTarget.value=this.loadParam(e,"medium"),this.campaignTarget.value=this.loadParam(e,"campaign"),this.termTarget.value=this.loadParam(e,"term"),this.contentTarget.value=this.loadParam(e,"content")}generate(){let e=new URL(this.urlTarget.value);this.urlTarget.value=e.protocol+"//"+e.host+e.pathname,this.addParams("source",this.sourceTarget.value),this.addParams("medium",this.mediumTarget.value),this.addParams("campaign",this.campaignTarget.value),this.addParams("term",this.termTarget.value),this.addParams("content",this.contentTarget.value)}slugify(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}add(e,t,r){this.urlTarget.value+=`${e+t}=${encodeURIComponent(r)}`}change(e,t){this.urlTarget.value=this.urlTarget.value.replace(e,`$1${encodeURIComponent(t)}`)}addParams(e,t){if(e=`utm_${e}`,t=this.slugify(t),t.trim().length===0)return;let r=new RegExp("([?&]"+e+"=)[^&]+","");if(this.urlTarget.value.indexOf("?")===-1){this.add("?",e,t);return}if(r.test(this.link)){this.change(r,t);return}this.add("&",e,t)}loadParam(e,t){return e.searchParams.get("utm_"+t)}}$e(UO,"targets",["url","source","medium","campaign","term","content"]);const pK=Object.freeze(Object.defineProperty({__proto__:null,default:UO},Symbol.toStringTag,{value:"Module"}));class mK extends sc{initialize(){this.intersectionObserver=new IntersectionObserver(e=>this.processIntersectionEntries(e))}connect(){this.intersectionObserver.observe(this.element)}disconnect(){this.intersectionObserver.unobserve(this.element)}processIntersectionEntries(e){e.forEach(t=>{this.element.classList.toggle(this.data.get("class"),t.isIntersecting&&window.document.body.scrollHeight>window.document.body.clientHeight+400)})}}const gK=Object.freeze(Object.defineProperty({__proto__:null,default:mK},Symbol.toStringTag,{value:"Module"})),vK={register(n,e){if(application.router.modulesByIdentifier.has(n)){console.warn(`Controller with name "${n}" already exists.`);return}application.register(n,e)}};var yK=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function bK(n,e){n.load(wK(e))}function wK(n){return Object.entries(n).map(_K).filter(e=>e)}function _K([n,e]){var t;const r=xK(n),i=(t=e.default)!=null?t:e;if(r&&typeof i=="function")return{identifier:r,controllerConstructor:i}}function xK(n){const e=(n.match(yK)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}window.Turbo=L5;window.Bootstrap=zB;window.application=yM.start();window.Controller=vn;window.Orchid=vK;const SK=Object.assign({"./controllers/application_controller.js":IM,"./controllers/attach_controller.js":sP,"./controllers/browsing_controller.js":lP,"./controllers/button_controller.js":uP,"./controllers/chart_controller.js":OI,"./controllers/checkbox_controller.js":MI,"./controllers/code_controller.js":HI,"./controllers/confirm_controller.js":UB,"./controllers/cropper_controller.js":N3,"./controllers/datetime_controller.js":W3,"./controllers/filter_controller.js":M8,"./controllers/form_controller.js":P8,"./controllers/html_load_controller.js":pH,"./controllers/input_controller.js":yH,"./controllers/listener_controller.js":bH,"./controllers/map_controller.js":_H,"./controllers/matrix_controller.js":xH,"./controllers/menu_controller.js":EH,"./controllers/modal_controller.js":AH,"./controllers/modal_toggle_controller.js":TH,"./controllers/notification_controller.js":kH,"./controllers/password_controller.js":CH,"./controllers/picture_controller.js":OH,"./controllers/popover_controller.js":MH,"./controllers/pull-to-refresh_controller.js":NH,"./controllers/quill_controller.js":sG,"./controllers/radiobutton_controller.js":lG,"./controllers/relation_controller.js":KY,"./controllers/reload_controller.js":XY,"./controllers/search_controller.js":JY,"./controllers/select_controller.js":eK,"./controllers/simplemde_controller.js":nK,"./controllers/sortable_controller.js":rK,"./controllers/table_controller.js":oK,"./controllers/tabs_controller.js":aK,"./controllers/toast_controller.js":cK,"./controllers/toggle_controller.js":uK,"./controllers/tooltip_controller.js":dK,"./controllers/upload_controller.js":fK,"./controllers/utm_controller.js":pK,"./controllers/viewport-entrance-toggle_controller.js":gK});bK(application,SK);window.addEventListener("turbo:before-fetch-request",n=>{var t,r,i,s;let e=(t=document.getElementById("screen-state"))==null?void 0:t.value;e&&e.length>0&&((s=(i=(r=n.detail)==null?void 0:r.fetchOptions)==null?void 0:i.body)==null||s.append("_state",e))})});export default EK();
