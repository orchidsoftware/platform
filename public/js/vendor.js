(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+u5z":function(t,e,n){var i,r,o;r=[n("zK8/"),n("qZCD")],void 0===(o="function"==typeof(i=function(t,e){return e.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,n){if(isNaN(t))return!1;var i=parseInt(t.concat(e.toString().slice(t.length))),r=parseInt(t.concat(n.toString().slice(t.length)));return!isNaN(i)&&e<=i&&i<=n||!isNaN(r)&&e<=r&&r<=n},determinebaseyear:function(t,e,n){var i=(new Date).getFullYear();if(t>i)return t;if(e<i){for(var r=e.toString().slice(0,2),o=e.toString().slice(2,4);e<r+n;)r--;var s=r+o;return t>s?t:s}if(t<=i&&i<=e){for(var a=i.toString().slice(0,2);e<a+n;)a--;var u=a+n;return u<t?t:u}return i},onKeyDown:function(n,i,r,o){var s=t(this);if(n.ctrlKey&&n.keyCode===e.keyCode.RIGHT){var a=new Date;s.val(a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()),s.trigger("setvalue")}},getFrontValue:function(t,e,n){for(var i=0,r=0,o=0;o<t.length&&"2"!==t.charAt(o);o++){var s=n.definitions[t.charAt(o)];s?(i+=r,r=s.cardinality):r++}return e.join("").substr(i,r)},postValidation:function(t,e,n){var i,r,o=t.join("");return 0===n.mask.indexOf("y")?(r=o.substr(0,4),i=o.substring(4,10)):(r=o.substring(6,10),i=o.substr(0,6)),e&&(i!==n.leapday||function(t){return isNaN(t)||29===new Date(t,2,0).getDate()}(r))},definitions:{1:{validator:function(t,e,n,i,r){var o=r.regex.val1.test(t);return i||o||t.charAt(1)!==r.separator&&-1==="-./".indexOf(t.charAt(1))||!(o=r.regex.val1.test("0"+t.charAt(0)))?o:(e.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,n,i,r){var o=t;isNaN(e.buffer[n+1])||(o+=e.buffer[n+1]);var s=1===o.length?r.regex.val1pre.test(o):r.regex.val1.test(o);if(s&&e.validPositions[n]&&(r.regex.val2(r.separator).test(t+e.validPositions[n].input)||(e.validPositions[n].input="0"===t?"1":"0")),!i&&!s){if(s=r.regex.val1.test(t+"0"))return e.buffer[n]=t,e.buffer[++n]="0",{pos:n,c:"0"};if(s=r.regex.val1.test("0"+t))return e.buffer[n]="0",{pos:++n}}return s},cardinality:1}]},2:{validator:function(t,e,n,i,r){var o=r.getFrontValue(e.mask,e.buffer,r);-1!==o.indexOf(r.placeholder[0])&&(o="01"+r.separator);var s=r.regex.val2(r.separator).test(o+t);return i||s||t.charAt(1)!==r.separator&&-1==="-./".indexOf(t.charAt(1))||!(s=r.regex.val2(r.separator).test(o+"0"+t.charAt(0)))?s:(e.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,n,i,r){isNaN(e.buffer[n+1])||(t+=e.buffer[n+1]);var o=r.getFrontValue(e.mask,e.buffer,r);-1!==o.indexOf(r.placeholder[0])&&(o="01"+r.separator);var s=1===t.length?r.regex.val2pre(r.separator).test(o+t):r.regex.val2(r.separator).test(o+t);return s&&e.validPositions[n]&&(r.regex.val2(r.separator).test(t+e.validPositions[n].input)||(e.validPositions[n].input="0"===t?"1":"0")),i||s||!(s=r.regex.val2(r.separator).test(o+"0"+t))?s:(e.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(t,e,n,i,r){return r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(t,e,n,i,r){var o=r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!o){var s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t+"0").toString().slice(0,1);if(o=r.isInYearRange(s+t,r.yearrange.minyear,r.yearrange.maxyear))return e.buffer[n++]=s.charAt(0),{pos:n};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t+"0").toString().slice(0,2),o=r.isInYearRange(s+t,r.yearrange.minyear,r.yearrange.maxyear))return e.buffer[n++]=s.charAt(0),e.buffer[n++]=s.charAt(1),{pos:n}}return o},cardinality:1},{validator:function(t,e,n,i,r){var o=r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!o){var s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t).toString().slice(0,2);if(o=r.isInYearRange(t[0]+s[1]+t[1],r.yearrange.minyear,r.yearrange.maxyear))return e.buffer[n++]=s.charAt(1),{pos:n};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t).toString().slice(0,2),o=r.isInYearRange(s+t,r.yearrange.minyear,r.yearrange.maxyear))return e.buffer[n-1]=s.charAt(0),e.buffer[n++]=s.charAt(1),e.buffer[n++]=t.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return o},cardinality:2},{validator:function(t,e,n,i,r){return r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,r,o){var s=t(this);if(n.ctrlKey&&n.keyCode===e.keyCode.RIGHT){var a=new Date;s.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),s.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n,i,r,o){var s=t(this);if(n.ctrlKey&&n.keyCode===e.keyCode.RIGHT){var a=new Date;s.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),s.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,n,i,r){if("24"===r.hourFormat&&24===parseInt(t,10))return e.buffer[n-1]="0",e.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var o=r.regex.hrs.test(t);if(!i&&!o&&(t.charAt(1)===r.timeseparator||-1!=="-.:".indexOf(t.charAt(1)))&&(o=r.regex.hrs.test("0"+t.charAt(0))))return e.buffer[n-1]="0",e.buffer[n]=t.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:r.timeseparator};if(o&&"24"!==r.hourFormat&&r.regex.hrs24.test(t)){var s=parseInt(t,10);return 24===s?(e.buffer[n+5]="a",e.buffer[n+6]="m"):(e.buffer[n+5]="p",e.buffer[n+6]="m"),(s-=12)<10?(e.buffer[n]=s.toString(),e.buffer[n-1]="0"):(e.buffer[n]=s.toString().charAt(1),e.buffer[n-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:e.buffer[n]}}return o},cardinality:2,prevalidator:[{validator:function(t,e,n,i,r){var o=r.regex.hrspre.test(t);return i||o||!(o=r.regex.hrs.test("0"+t))?o:(e.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,n,i,r){var o=r.regex.mspre.test(t);return i||o||!(o=r.regex.ms.test("0"+t))?o:(e.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(t,e,n,i,r){return r.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n,i,r,o){var s=t(this);if(n.ctrlKey&&n.keyCode===e.keyCode.RIGHT){var a=new Date;s.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),s.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0},"yyyy-mm-dd hh:mm:ss":{mask:"y-1-2 h:s:s",placeholder:"yyyy-mm-dd hh:mm:ss",alias:"datetime",separator:"-",leapday:"-02-29",regex:{val2pre:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(t){var n=e.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},onKeyDown:function(t,e,n,i){}}}),e})?i.apply(e,r):i)||(t.exports=o)},0:function(t,e){},"19Vz":function(t,e,n){!function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function n(t){e(t);var n=t.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=t.getOption("direction"),n.className="CodeMirror-placeholder";var i=t.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),t.display.lineSpace.insertBefore(n,t.display.lineSpace.firstChild)}function i(t){o(t)&&n(t)}function r(t){var i=t.getWrapperElement(),r=o(t);i.className=i.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?n(t):e(t)}function o(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",function(n,o,s){var a=s&&s!=t.Init;if(o&&!a)n.on("blur",i),n.on("change",r),n.on("swapDoc",r),r(n);else if(!o&&a){n.off("blur",i),n.off("change",r),n.off("swapDoc",r),e(n);var u=n.getWrapperElement();u.className=u.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&i(n)})}(n("VrN/"))},"1eCo":function(t,e,n){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(i,r){var o,s,a=i.indentUnit,u={},l=r.htmlMode?e:n;for(var c in l)u[c]=l[c];for(var c in r)u[c]=r[c];function h(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();return"<"==i?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(d("atom","]]>")):null:t.match("--")?n(d("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,i){for(var r;null!=(r=n.next());){if("<"==r)return i.tokenize=t(e+1),i.tokenize(n,i);if(">"==r){if(1==e){i.tokenize=h;break}return i.tokenize=t(e-1),i.tokenize(n,i)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=d("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=f,"tag bracket"):"&"==i?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function f(t,e){var n,i,r=t.next();if(">"==r||"/"==r&&t.eat(">"))return e.tokenize=h,o=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return o="equals",null;if("<"==r){e.tokenize=h,e.state=v,e.tagName=e.tagStart=null;var s=e.tokenize(t,e);return s?s+" tag error":"tag error"}return/[\'\"]/.test(r)?(e.tokenize=(n=r,(i=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=f;break}return"string"}).isInAttribute=!0,i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=h;break}n.next()}return t}}function p(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(u.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function g(t){t.context&&(t.context=t.context.prev)}function m(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!u.contextGrabbers.hasOwnProperty(n)||!u.contextGrabbers[n].hasOwnProperty(e))return;g(t)}}function v(t,e,n){return"openTag"==t?(n.tagStart=e.column(),y):"closeTag"==t?b:v}function y(t,e,n){return"word"==t?(n.tagName=e.current(),s="tag",C):u.allowMissingTagName&&"endTag"==t?(s="tag bracket",C(t,0,n)):(s="error",y)}function b(t,e,n){if("word"==t){var i=e.current();return n.context&&n.context.tagName!=i&&u.implicitlyClosed.hasOwnProperty(n.context.tagName)&&g(n),n.context&&n.context.tagName==i||!1===u.matchClosing?(s="tag",_):(s="tag error",w)}return u.allowMissingTagName&&"endTag"==t?(s="tag bracket",_(t,0,n)):(s="error",w)}function _(t,e,n){return"endTag"!=t?(s="error",_):(g(n),v)}function w(t,e,n){return s="error",_(t,0,n)}function C(t,e,n){if("word"==t)return s="attribute",E;if("endTag"==t||"selfcloseTag"==t){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||u.autoSelfClosers.hasOwnProperty(i)?m(n,i):(m(n,i),n.context=new p(n,i,r==n.indented)),v}return s="error",C}function E(t,e,n){return"equals"==t?S:(u.allowMissing||(s="error"),C(t,0,n))}function S(t,e,n){return"string"==t?T:"word"==t&&u.allowUnquoted?(s="string",C):(s="error",C(t,0,n))}function T(t,e,n){return"string"==t?T:C(t,0,n)}return h.isInText=!0,{startState:function(t){var e={tokenize:h,state:v,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var n=e.tokenize(t,e);return(n||o)&&"comment"!=n&&(s=null,e.state=e.state(o||n,t,e),s&&(n="error"==s?n+" error":s)),n},indent:function(e,n,i){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(r&&r.noIndent)return t.Pass;if(e.tokenize!=f&&e.tokenize!=h)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==u.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;r;){if(r.tagName==o[2]){r=r.prev;break}if(!u.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)for(;r;){var s=u.contextGrabbers[r.tagName];if(!s||!s.hasOwnProperty(o[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(t){t.state==S&&(t.state=C)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n("VrN/"))},2:function(t,e,n){n("Y5Mo"),n("M8vm"),n("SnIs"),n("EVdn"),n("8L3F"),n("4yks"),n("SYky"),n("eeMe"),n("9hI5"),n("DjPg"),n("tfx8"),n("mVcw"),n("I9E9"),n("6/sb"),n("5WJX"),n("vDqi"),n("4R65"),n("hKaO"),t.exports=n("EfFS")},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"4R65":function(t,e,n){!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function a(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function u(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function l(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var g=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(g,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function C(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||_("RequestAnimationFrame")||C,S=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||E!==C)return E.call(window,r(t,e));t.call(e)}function x(t){t&&S.call(window,t)}var k=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:r,lastId:o,stamp:s,throttle:a,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:f,setOptions:d,getParamString:p,template:m,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:E,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:x});function D(){}D.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var s in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(i(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},D.include=function(t){return n(this.prototype,t),this},D.mergeOptions=function(t){return n(this.prototype.options,t),this},D.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=l;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var O=D.extend(A);function P(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function B(t,e,n){return t instanceof P?t:v(t)?new P(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new P(t.x,t.y):new P(t,e,n)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function R(t,e){return!t||t instanceof F?t:new F(t,e)}function I(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function H(t,e){return t instanceof I?t:new I(t,e)}function z(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function W(t,e,n){return t instanceof z?t:v(t)&&"object"!=typeof t[0]?3===t.length?new z(t[0],t[1],t[2]):2===t.length?new z(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new z(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new z(t,e,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(t){return this.clone()._add(B(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(B(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new P(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new P(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=B(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=B(t)).x===this.x&&t.y===this.y},contains:function(t){return t=B(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},F.prototype={extend:function(t){return t=B(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new P(this.min.x,this.max.y)},getTopRight:function(){return new P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof P?B(t):R(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},I.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof z)e=t,n=t;else{if(!(t instanceof I))return t?this.extend(W(t)||H(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new z(e.lat,e.lng),this._northEast=new z(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new I(new z(e.lat-i,e.lng-r),new z(n.lat+i,n.lng+r))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof z||"lat"in t?W(t):H(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof I?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=H(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=H(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=H(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(t,e){if(!t)return!1;t=W(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,W(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return H([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var j,U={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new F(i,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new z(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast(),a=new z(o.lat-i,o.lng-r),u=new z(s.lat-i,s.lng-r);return new I(a,u)}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),Y={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new P(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(j=6378137*Math.PI,new F([-j,-j],[j,j]))};function V(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Z(t,e,n,i){return new V(t,e,n,i)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new P((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=n({},q,{code:"EPSG:3857",projection:Y,transformation:function(){var t=.5/(Math.PI*Y.R);return Z(t,.5,-t,.5)}()}),G=n({},K,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?kt?"z":"x":""}return u||"M0 0"}var Q=document.documentElement.style,J="ActiveXObject"in window,$=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=At("webkit"),nt=At("android"),it=At("android 2")||At("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=nt&&At("Google")&&rt<537&&!("AudioNode"in window),st=!!window.opera,at=At("chrome"),ut=At("gecko")&&!et&&!st&&!J,lt=!at&&At("safari"),ct=At("phantom"),ht="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),dt=J&&"transition"in Q,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,gt="MozPerspective"in Q,mt=!window.L_DISABLE_3D&&(dt||pt||gt)&&!ht&&!ct,vt="undefined"!=typeof orientation||At("mobile"),yt=vt&&et,bt=vt&&pt,_t=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!_t),Ct=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Et=vt&&st,St=vt&&ut,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xt=!!document.createElement("canvas").getContext,kt=!(!document.createElementNS||!X("svg").createSVGRect),Dt=!kt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function At(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ot=(Object.freeze||Object)({ie:J,ielt9:$,edge:tt,webkit:et,android:nt,android23:it,androidStock:ot,opera:st,chrome:at,gecko:ut,safari:lt,phantom:ct,opera12:ht,win:ft,ie3d:dt,webkit3d:pt,gecko3d:gt,any3d:mt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:_t,pointer:wt,touch:Ct,mobileOpera:Et,mobileGecko:St,retina:Tt,canvas:xt,svg:kt,vml:Dt}),Pt=_t?"MSPointerDown":"pointerdown",Nt=_t?"MSPointerMove":"pointermove",Lt=_t?"MSPointerUp":"pointerup",Bt=_t?"MSPointerCancel":"pointercancel",Ft=["INPUT","SELECT","OPTION"],Rt={},It=!1,Ht=0;function zt(t,e,n,i){return"touchstart"===e?function(t,e,n){var i=r(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ft.indexOf(t.target.tagName)<0))return;Re(t)}qt(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(Pt,i,!1),It||(document.documentElement.addEventListener(Pt,Wt,!0),document.documentElement.addEventListener(Nt,jt,!0),document.documentElement.addEventListener(Lt,Ut,!0),document.documentElement.addEventListener(Bt,Ut,!0),It=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&qt(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Nt,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){qt(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Lt,i,!1),t.addEventListener(Bt,i,!1)}(t,n,i),this}function Wt(t){Rt[t.pointerId]=t,Ht++}function jt(t){Rt[t.pointerId]&&(Rt[t.pointerId]=t)}function Ut(t){delete Rt[t.pointerId],Ht--}function qt(t,e){for(var n in t.touches=[],Rt)t.touches.push(Rt[n]);t.changedTouches=[t],e(t)}var Yt=_t?"MSPointerDown":wt?"pointerdown":"touchstart",Vt=_t?"MSPointerUp":wt?"pointerup":"touchend",Zt="_leaflet_";function Kt(t,e,n){var i,r,o=!1,s=250;function a(t){var e;if(wt){if(!tt||"mouse"===t.pointerType)return;e=Ht}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);r=t.touches?t.touches[0]:t,o=a>0&&a<=s,i=n}}function u(t){if(o&&!r.cancelBubble){if(wt){if(!tt||"mouse"===t.pointerType)return;var n,s,a={};for(s in r)n=r[s],a[s]=n&&n.bind?n.bind(r):n;r=a}r.type="dblclick",e(r),i=null}}return t[Zt+Yt+n]=a,t[Zt+Vt+n]=u,t[Zt+"dblclick"+n]=e,t.addEventListener(Yt,a,!1),t.addEventListener(Vt,u,!1),t.addEventListener("dblclick",e,!1),this}function Gt(t,e){var n=t[Zt+Yt+e],i=t[Zt+Vt+e],r=t[Zt+"dblclick"+e];return t.removeEventListener(Yt,n,!1),t.removeEventListener(Vt,i,!1),tt||t.removeEventListener("dblclick",r,!1),this}var Xt,Mt,Qt,Jt,$t,te=me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function ie(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function oe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ue(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function he(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ce(t,e)){var o=pe(t);de(t,(o?o+" ":"")+e)}}function fe(t,e){void 0!==t.classList?t.classList.remove(e):de(t,h((" "+pe(t)+" ").replace(" "+e+" "," ")))}function de(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ge(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ve(t,e,n){var i=e||new P(0,0);t.style[te]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ye(t,e){t._leaflet_pos=e,mt?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new P(0,0)}if("onselectstart"in document)Xt=function(){De(window,"selectstart",Re)},Mt=function(){Oe(window,"selectstart",Re)};else{var _e=me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(_e){var t=document.documentElement.style;Qt=t[_e],t[_e]="none"}},Mt=function(){_e&&(document.documentElement.style[_e]=Qt,Qt=void 0)}}function we(){De(window,"dragstart",Re)}function Ce(){Oe(window,"dragstart",Re)}function Ee(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Se(),Jt=t,$t=t.style.outline,t.style.outline="none",De(window,"keydown",Se))}function Se(){Jt&&(Jt.style.outline=$t,Jt=void 0,$t=void 0,Oe(window,"keydown",Se))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function xe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var ke=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:ie,getStyle:re,create:oe,remove:se,empty:ae,toFront:ue,toBack:le,hasClass:ce,addClass:he,removeClass:fe,setClass:de,getClass:pe,setOpacity:ge,testProp:me,setTransform:ve,setPosition:ye,getPosition:be,disableTextSelection:Xt,enableTextSelection:Mt,disableImageDrag:we,enableImageDrag:Ce,preventOutline:Ee,restoreOutline:Se,getSizedParentNode:Te,getScale:xe});function De(t,e,n,i){if("object"==typeof e)for(var r in e)Pe(t,r,e[r],n);else{e=f(e);for(var o=0,s=e.length;o<s;o++)Pe(t,e[o],n,i)}return this}var Ae="_leaflet_events";function Oe(t,e,n,i){if("object"==typeof e)for(var r in e)Ne(t,r,e[r],n);else if(e){e=f(e);for(var o=0,s=e.length;o<s;o++)Ne(t,e[o],n,i)}else{for(var a in t[Ae])Ne(t,a,t[Ae][a]);delete t[Ae]}return this}function Pe(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Ae]&&t[Ae][r])return this;var o=function(e){return n.call(i||t,e||window.event)},a=o;wt&&0===e.indexOf("touch")?zt(t,e,o,r):!Ct||"dblclick"!==e||!Kt||wt&&at?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ve(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&nt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=je&&n-je;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?Ie(t):(je=n,e(t))}(t,a)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Kt(t,o,r),t[Ae]=t[Ae]||{},t[Ae][r]=o}function Ne(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):""),o=t[Ae]&&t[Ae][r];if(!o)return this;wt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Pt,i,!1):"touchmove"===e?t.removeEventListener(Nt,i,!1):"touchend"===e&&(t.removeEventListener(Lt,i,!1),t.removeEventListener(Bt,i,!1))}(t,e,r):!Ct||"dblclick"!==e||!Gt||wt&&at?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):Gt(t,r),t[Ae][r]=null}function Le(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ye(t),this}function Be(t){return Pe(t,"mousewheel",Le),this}function Fe(t){return De(t,"mousedown touchstart dblclick",Le),Pe(t,"click",qe),this}function Re(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ie(t){return Re(t),Le(t),this}function He(t,e){if(!e)return new P(t.clientX,t.clientY);var n=xe(e),i=n.boundingClientRect;return new P((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var ze=ft&&at?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function We(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var je,Ue={};function qe(t){Ue[t.type]=!0}function Ye(t){var e=Ue[t.type];return Ue[t.type]=!1,e}function Ve(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ze=(Object.freeze||Object)({on:De,off:Oe,stopPropagation:Le,disableScrollPropagation:Be,disableClickPropagation:Fe,preventDefault:Re,stop:Ie,getMousePosition:He,getWheelDelta:We,fakeStop:qe,skipped:Ye,isExternalTarget:Ve,addListener:De,removeListener:Oe}),Ke=O.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ye(this._el,n),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ge=O.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(W(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&mt&&!Et&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(W(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof P?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():H(t);var n=B(e.paddingTopLeft||e.padding||[0,0]),i=B(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r),u=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:u,zoom:r}},fitBounds:function(t,e){if(!(t=H(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=B(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ke,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){he(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!mt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=W(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),u=a*this.getZoomScale(s,e),l=r.distanceTo(i)||1,c=1.42,h=c*c;function f(t){var e=t?-1:1,n=t?u:a,i=u*u-a*a+e*h*h*l*l,r=2*n*h*l,o=i/r,s=Math.sqrt(o*o+1)-o,c=s<1e-9?-18:Math.log(s);return c}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var g=f(0);function m(t){return a*(p(g)*(d(e=g+c*t)/p(e))-d(g))/h;var e}var v=Date.now(),y=(f(1)-g)/c,b=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-v)/b,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*y;o<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(m(u)/l)),s),this.getScaleZoom(a/function(t){return a*(p(g)/p(g+c*t))}(u),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=H(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,H(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=B((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=B(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),s=this.project(t),a=this.getPixelBounds(),u=a.getSize().divideBy(2),l=R([a.min.add(n),a.max.subtract(i)]);if(!l.contains(s)){this._enforcingBounds=!0;var c=o.subtract(s),h=B(s.x+c.x,s.y+c.y);(s.x<l.min.x||s.x>l.max.x)&&(h.x=o.x-c.x,c.x>0?h.x+=u.x-n.x:h.x-=u.x-i.x),(s.y<l.min.y||s.y>l.max.y)&&(h.y=o.y-c.y,c.y>0?h.y+=u.y-n.y:h.y-=u.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),s=i.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new z(e,n),r=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(a[u]=t.coords[u]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=oe("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new I(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=H(t),n=B(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=R(this.project(a,i),this.project(s,i)).getSize(),c=mt?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(W(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(B(t),e)},layerPointToLatLng:function(t){var e=B(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(W(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(W(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(H(t))},distance:function(t,e){return this.options.crs.distance(W(t),W(e))},containerPointToLayerPoint:function(t){return B(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return B(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(B(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ie(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");De(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,he(t,"leaflet-container"+(Ct?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+($?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(t.markerPane,"leaflet-zoom-hide"),he(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Oe:De;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ve(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||a||r||!Ve(o,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Ye(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Ee(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&Re(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(e,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new P(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return R([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new F(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=R(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new P(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=mt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=te,n=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(T(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}}),Xe=D.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return he(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Me=function(t){return new Xe(t)};Ge.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=oe("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qe=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),Be(e);var i=this._section=oe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||De(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=oe("a",t+"-toggle",e);r.href="#",r.title="Layers",Ct?(De(r,"click",Ie),De(r,"click",this.expand,this)):De(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",i),this._separator=oe("div",t+"-separator",i),this._overlaysList=oe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ae(this._baseLayersList),ae(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(e),e.layerId=s(t.layer),De(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");n.appendChild(o),o.appendChild(e),o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=oe("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Fe(o),De(o,"click",Ie),De(o,"click",r,this),De(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";fe(this._zoomInButton,e),fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var $e=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=oe("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Xe.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Fe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)}),Xe.Layers=Qe,Xe.Zoom=Je,Xe.Scale=$e,Xe.Attribution=tn,Me.layers=function(t,e,n){return new Qe(t,e,n)},Me.zoom=function(t){return new Je(t)},Me.scale=function(t){return new $e(t)},Me.attribution=function(t){return new tn(t)};var en=D.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:A},on=Ct?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},an={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=O.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(De(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Oe(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(un._dragging=this,this._preventOutline&&Ee(this._element),we(),Xt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new P(e.clientX,e.clientY),this._parentScale=xe(n),De(document,an[t.type],this._onMove,this),De(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new P(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Re(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),he(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,x(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an)Oe(document,an[t],this._onMove,this),Oe(document,sn[t],this._onUp,this);Ce(),Mt(),this._moved&&this._moving&&(x(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var s,a,u,l=0;for(a=r+1;a<=o-1;a++)(u=pn(e[a],e[r],e[o],!0))>l&&(s=a,l=u);l>i&&(n[s]=1,t(e,n,i,r,s),t(e,n,i,s,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)s=t[i],a=t[r],u=void 0,l=void 0,u=a.x-s.x,l=a.y-s.y,u*u+l*l>e&&(n.push(t[i]),r=i);var s,a,u,l;return r<o-1&&n.push(t[o-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function hn(t,e,n,i,r){var o,s,a,u=i?nn:dn(t,n),l=dn(e,n);for(nn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=fn(t,e,o=u||l,n,r),a=dn(s,n),o===u?(t=s,u=a):(e=s,l=a)}}function fn(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new P(o,s,r)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&((r=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new P(o,s)}function gn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(t)}var vn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:hn,_getEdgeIntersection:fn,_getBitCode:dn,_sqClosestPointOnSegment:pn,isFlat:gn,_flat:mn});function yn(t,e,n){var i,r,o,s,a,u,l,c,h,f=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=dn(t[r],e);for(s=0;s<4;s++){for(c=f[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],u=t[o],a._code&c?u._code&c||((h=fn(u,a,c,e,n))._code=dn(h,e),i.push(h)):(u._code&c&&((h=fn(u,a,c,e,n))._code=dn(h,e),i.push(h)),i.push(a));t=i}return t}var bn=(Object.freeze||Object)({clipPolygon:yn}),_n={project:function(t){return new P(t.lng,t.lat)},unproject:function(t){return new z(t.y,t.x)},bounds:new F([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new P(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new z(a*n,t.x*n/i)}},Cn=(Object.freeze||Object)({LonLat:_n,Mercator:wn,SphericalMercator:Y}),En=n({},q,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return Z(t,.5,-t,.5)}()}),Sn=n({},q,{code:"EPSG:4326",projection:_n,transformation:Z(1/180,1,-1/180,.5)}),Tn=n({},U,{projection:_n,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});U.Earth=q,U.EPSG3395=En,U.EPSG3857=K,U.EPSG900913=G,U.EPSG4326=Sn,U.Simple=Tn;var xn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?v(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=xn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Dn=kn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),kn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),kn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new I;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),An=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=B(i),o=B("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),On=An.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return On.imagePath||(On.imagePath=this._detectIconPath()),(this.options.imagePath||On.imagePath)+An.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=be(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=R(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!u.contains(o)){var l=B((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ye(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=be(e._icon),r=e._map.layerPointToLatLng(i);n&&ye(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Nn=xn.extend({options:{icon:new On,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=W(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=W(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),he(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(he(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;ge(this._icon,t),this._shadow&&ge(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ln=xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Bn=Ln.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=W(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=W(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ln.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new F(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Fn=Bn.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=W(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ln.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var r=Math.PI/180,o=this._mRadius/q.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Rn=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=pn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){e=u[l-1],n=u[l];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if(r=a[t],o=a[t+1],n=r.distanceTo(o),(i+=n)>e)return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=W(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new I,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=gn(t),i=0,r=t.length;i<r;i++)n?(e[i]=W(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new P(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof z,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)(s=hn(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&cn(t,a[r],a[i])<=u)return!0;return!1}});Rn._flat=mn;var In=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=s=a=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Rn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof z&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Rn.prototype._setLatLngs.call(this,t),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new P(e,e);if(t=new F(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=yn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,u=e.length,s=u-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||Rn.prototype._containsPoint.call(this,t,!0)}}),Hn=Dn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=v(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=zn(t,o);return s?(s.feature=Vn(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function zn(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Wn;if(!a&&!s)return null;switch(s.type){case"Point":return n=c(a),l?l(t,n):new Nn(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=c(a[r]),u.push(l?l(t,n):new Nn(n));return new Dn(u);case"LineString":case"MultiLineString":return i=jn(a,"LineString"===s.type?0:1,c),new Rn(i,e);case"Polygon":case"MultiPolygon":return i=jn(a,"Polygon"===s.type?1:2,c),new In(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=zn({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Dn(u);default:throw new Error("Invalid GeoJSON object.")}}function Wn(t){return new z(t[1],t[0],t[2])}function jn(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?jn(t[o],e-1,n):(n||Wn)(t[o]),r.push(i);return r}function Un(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function qn(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?qn(t[o],e-1,n,i):Un(t[o],i));return!e&&n&&r.push(r[0]),r}function Yn(t,e){return t.feature?n({},t.feature,{geometry:e}):Vn(e)}function Vn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Zn={toGeoJSON:function(t){return Yn(this,{type:"Point",coordinates:Un(this.getLatLng(),t)})}};function Kn(t,e){return new Hn(t,e)}Nn.include(Zn),Fn.include(Zn),Bn.include(Zn),Rn.include({toGeoJSON:function(t){var e=!gn(this._latlngs),n=qn(this._latlngs,e?1:0,!1,t);return Yn(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),In.include({toGeoJSON:function(t){var e=!gn(this._latlngs),n=e&&!gn(this._latlngs[0]),i=qn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Yn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),kn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Yn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=Vn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?Yn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Gn=Kn,Xn=xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=H(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=H(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),this.options.className&&he(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,n,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ye(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Mn=Xn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(he(e,"leaflet-image-layer"),this._zoomAnimated&&he(e,"leaflet-zoom-animated"),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=oe("source");a.src=this._url[s],e.appendChild(a)}}}}),Qn=xn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ge(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(r(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=W(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=B(this.options.offset),n=this._getAnchor();this._zoomAnimated?ye(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Jn=Qn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Qn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",Le))},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",Le))},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",n),Fe(n),Be(this._contentNode),De(n,"contextmenu",Le),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=oe("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",De(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",he(t,"leaflet-popup-scrolled")):fe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ye(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new P(this._containerLeft,-n-this._containerBottom);r._add(be(this._container));var o=t.layerPointToContainerPoint(r),s=B(this.options.autoPanPadding),a=B(this.options.autoPanPaddingTopLeft||s),u=B(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;o.x+i+u.x>l.x&&(c=o.x+i-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Ie(t)},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(t,e,n){return t instanceof Jn||(t=new Jn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),xn.include({bindPopup:function(t,e){return t instanceof Jn?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Jn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof xn||(e=t,t=this),t instanceof Dn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ie(t),e instanceof Ln?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var $n=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Qn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return Ct&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=B(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(B(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(B(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(B(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(B(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(B(s+l.x-u.x,a/2-l.y-u.y,!0))),fe(n,"leaflet-tooltip-right"),fe(n,"leaflet-tooltip-left"),fe(n,"leaflet-tooltip-top"),fe(n,"leaflet-tooltip-bottom"),he(n,"leaflet-tooltip-"+o),ye(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ge(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ge.include({openTooltip:function(t,e,n){return t instanceof $n||(t=new $n(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),xn.include({bindTooltip:function(t,e){return t instanceof $n?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new $n(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Ct&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof xn||(e=t,t=this),t instanceof Dn)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ti=An.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=B(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});An.Default=On;var ei=xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof P?t:new P(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){ge(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);ge(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(x(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new P(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new P(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();mt?ve(t.el,r,i):ye(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new F(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new F(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new P(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new P(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:s.push(d)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return H(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z);return[o,s]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new I(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new P(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,$&&this.options.opacity<1&&ge(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(r(this._tileReady,this,t,null,o)),ye(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(ge(n.el,0),x(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(he(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new P(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ni=ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Tt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return De(n,"load",r(this._tileOnLoad,this,e,n)),De(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){$?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=b,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return ot||e.el.setAttribute("src",b),ei.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return ei.prototype._tileReady.call(this,t,e,n)}});function ii(t,e){return new ni(t,e)}var ri=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=d(this,e)).detectRetina&&Tt?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ni.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=R(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===Sn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=ni.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ni.WMS=ri,ii.wms=function(t,e){return new ri(t,e)};var oi=xn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=be(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(a);mt?ve(this._container,u,n):ye(this._container,u)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),si=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");De(t,"mousemove",a(this._onMouseMove,32,this),this),De(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,se(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Tt?2:1;ye(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Tt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(qe(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(fe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(he(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ai(t){return xt?new si(t):null}var ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),li={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ui("shape");he(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ui("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ui("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ui("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ue(t._container)},_bringToBack:function(t){le(t._container)}},ci=Dt?ui:X,hi=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ci("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ci("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ye(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ci("path");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,M(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ue(t._path)},_bringToBack:function(t){le(t._path)}});function fi(t){return kt||Dt?new hi(t):null}Dt&&hi.include(li),Ge.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ai(t)||fi(t)}});var di=In.extend({initialize:function(t,e){In.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=H(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});hi.create=ci,hi.pointsToPath=M,Hn.geometryToLayer=zn,Hn.coordsToLatLng=Wn,Hn.coordsToLatLngs=jn,Hn.latLngToCoords=Un,Hn.latLngsToCoords=qn,Hn.getFeature=Yn,Hn.asFeature=Vn,Ge.mergeOptions({boxZoom:!0});var pi=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),De(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();ye(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),fe(this._container,"leaflet-crosshair")),Mt(),Ce(),Oe(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ge.addInitHook("addHandler","boxZoom",pi),Ge.mergeOptions({doubleClickZoom:!0});var gi=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Ge.addInitHook("addHandler","doubleClickZoom",gi),Ge.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mi=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=H(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(n.inertiaDeceleration*s),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),T(function(){e.panBy(f,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ge.addInitHook("addHandler","dragging",mi),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),De(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=B(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ie(t)}}});Ge.addInitHook("addHandler","keyboard",vi),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yi=en.extend({addHooks:function(){De(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=We(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ie(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ge.addInitHook("addHandler","scrollWheelZoom",yi),Ge.mergeOptions({tap:!0,tapTolerance:15});var bi=en.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Re(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new P(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&he(n,"leaflet-active"),this._holdTimeout=setTimeout(r(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),De(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Oe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new P(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Ct&&!wt&&Ge.addInitHook("addHandler","tap",bi),Ge.mergeOptions({touchZoom:Ct&&!it,bounceAtZoomLimits:!0});var _i=en.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend",this._onTouchEnd,this),Re(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),Re(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),Oe(document,"touchmove",this._onTouchMove),Oe(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ge.addInitHook("addHandler","touchZoom",_i),Ge.BoxZoom=pi,Ge.DoubleClickZoom=gi,Ge.Drag=mi,Ge.Keyboard=vi,Ge.ScrollWheelZoom=yi,Ge.Tap=bi,Ge.TouchZoom=_i,Object.freeze=e,t.version="1.4.0",t.Control=Xe,t.control=Me,t.Browser=Ot,t.Evented=O,t.Mixin=rn,t.Util=k,t.Class=D,t.Handler=en,t.extend=n,t.bind=r,t.stamp=s,t.setOptions=d,t.DomEvent=Ze,t.DomUtil=ke,t.PosAnimation=Ke,t.Draggable=un,t.LineUtil=vn,t.PolyUtil=bn,t.Point=P,t.point=B,t.Bounds=F,t.bounds=R,t.Transformation=V,t.transformation=Z,t.Projection=Cn,t.LatLng=z,t.latLng=W,t.LatLngBounds=I,t.latLngBounds=H,t.CRS=U,t.GeoJSON=Hn,t.geoJSON=Kn,t.geoJson=Gn,t.Layer=xn,t.LayerGroup=kn,t.layerGroup=function(t,e){return new kn(t,e)},t.FeatureGroup=Dn,t.featureGroup=function(t){return new Dn(t)},t.ImageOverlay=Xn,t.imageOverlay=function(t,e,n){return new Xn(t,e,n)},t.VideoOverlay=Mn,t.videoOverlay=function(t,e,n){return new Mn(t,e,n)},t.DivOverlay=Qn,t.Popup=Jn,t.popup=function(t,e){return new Jn(t,e)},t.Tooltip=$n,t.tooltip=function(t,e){return new $n(t,e)},t.Icon=An,t.icon=function(t){return new An(t)},t.DivIcon=ti,t.divIcon=function(t){return new ti(t)},t.Marker=Nn,t.marker=function(t,e){return new Nn(t,e)},t.TileLayer=ni,t.tileLayer=ii,t.GridLayer=ei,t.gridLayer=function(t){return new ei(t)},t.SVG=hi,t.svg=fi,t.Renderer=oi,t.Canvas=si,t.canvas=ai,t.Path=Ln,t.CircleMarker=Bn,t.circleMarker=function(t,e){return new Bn(t,e)},t.Circle=Fn,t.circle=function(t,e,n){return new Fn(t,e,n)},t.Polyline=Rn,t.polyline=function(t,e){return new Rn(t,e)},t.Polygon=In,t.polygon=function(t,e){return new In(t,e)},t.Rectangle=di,t.rectangle=function(t,e){return new di(t,e)},t.Map=Ge,t.map=function(t,e){return new Ge(t,e)};var wi=window.L;t.noConflict=function(){return window.L=wi,this},window.L=t}(e)},"4yks":function(t,e,n){var i,r,o;r=[n("EVdn")],void 0===(o="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,r=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},u=e.split(".")[0];e=e.split(".")[1];var l=u+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[u]=t[u]||{},r=t[u][e],o=t[u][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:u,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),u=this;return s?this.length||"instance"!==o?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(u=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):u=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.on(l,c,a):n.on(l,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,u=/%$/,l=t.fn.position;function c(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),i=o.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return l.apply(this,arguments);e=t.extend({},e);var u,f,d,p,g,m,v,y,b=t(e.of),_=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(_),C=(e.collision||"flip").split(" "),E={};return y=(v=b)[0],m=9===y.nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:t.isWindow(y)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},b[0].preventDefault&&(e.at="left top"),f=m.width,d=m.height,p=m.offset,g=t.extend({},p),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=s.exec(i[0]),n=s.exec(i[1]),E[this]=[t?t[0]:0,n?n[0]:0],e[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?g.left+=f:"center"===e.at[0]&&(g.left+=f/2),"bottom"===e.at[1]?g.top+=d:"center"===e.at[1]&&(g.top+=d/2),u=c(E.at,f,d),g.left+=u[0],g.top+=u[1],this.each(function(){var r,o,s=t(this),a=s.outerWidth(),l=s.outerHeight(),m=h(this,"marginLeft"),v=h(this,"marginTop"),y=a+m+h(this,"marginRight")+w.width,S=l+v+h(this,"marginBottom")+w.height,T=t.extend({},g),x=c(E.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?T.left-=a:"center"===e.my[0]&&(T.left-=a/2),"bottom"===e.my[1]?T.top-=l:"center"===e.my[1]&&(T.top-=l/2),T.left+=x[0],T.top+=x[1],r={marginLeft:m,marginTop:v},t.each(["left","top"],function(n,i){t.ui.position[C[n]]&&t.ui.position[C[n]][i](T,{targetWidth:f,targetHeight:d,elemWidth:a,elemHeight:l,collisionPosition:r,collisionWidth:y,collisionHeight:S,offset:[u[0]+x[0],u[1]+x[1]],my:e.my,at:e.at,within:_,elem:s})}),e.using&&(o=function(t){var r=p.left-T.left,o=r+f-a,u=p.top-T.top,c=u+d-l,h={target:{element:b,left:p.left,top:p.top,width:f,height:d},element:{element:s,left:T.left,top:T.top,width:a,height:l},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":u>0?"bottom":"middle"};f<a&&i(r+o)<f&&(h.horizontal="center"),d<l&&i(u+c)<d&&(h.vertical="middle"),n(i(r),i(o))>n(i(u),i(c))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),s.offset(t.extend(T,{using:o}))})},t.ui.position={fit:{left:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,u=o-a,l=a+e.collisionWidth-s-o;e.collisionWidth>s?u>0&&l<=0?(i=t.left+u+e.collisionWidth-s-o,t.left+=u-i):t.left=l>0&&u<=0?o:u>l?o+s-e.collisionWidth:o:u>0?t.left+=u:l>0?t.left-=l:t.left=n(t.left-a,t.left)},top:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,u=o-a,l=a+e.collisionHeight-s-o;e.collisionHeight>s?u>0&&l<=0?(i=t.top+u+e.collisionHeight-s-o,t.top+=u-i):t.top=l>0&&u<=0?o:u>l?o+s-e.collisionHeight:o:u>0?t.top+=u:l>0?t.top-=l:t.top=n(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,u=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,h=l+e.collisionWidth-a-u,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+f+d+p+e.collisionWidth-a-s)<0||n<i(c))&&(t.left+=f+d+p):h>0&&((r=t.left-e.collisionPosition.marginLeft+f+d+p-u)>0||i(r)<h)&&(t.left+=f+d+p)},top:function(t,e){var n,r,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,u=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,h=l+e.collisionHeight-a-u,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?((r=t.top+d+p+g+e.collisionHeight-a-s)<0||r<i(c))&&(t.top+=d+p+g):h>0&&((n=t.top-e.collisionPosition.marginTop+d+p+g-u)>0||i(n)<h)&&(t.top+=d+p+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(e,n){var i,r,o,s,a,u=e.nodeName.toLowerCase();return"area"===u?(i=e.parentNode,r=i.name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(u)?(s=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(s=!a.disabled):s="a"===u&&e.href||n,s&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(s=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(s,"\\$1")}),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(o=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var o,s,a=!1;t(document).on("mouseup",function(){a=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),(i=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(u=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,u,l,c,h,f,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)u=i.snapElements[f].left-i.margins.left,l=u+i.snapElements[f].width,c=i.snapElements[f].top-i.margins.top,h=c+i.snapElements[f].height,v<u-g||m>l+g||b<c-g||y>h+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(u-v)<=g,a=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(u-m)<=g,a=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&u(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,u=s+e.helperProportions.height,l=n.offset.left,c=n.offset.top,h=l+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return l<=o&&a<=h&&c<=s&&u<=f;case"intersect":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<s+e.helperProportions.height/2&&u-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(s>=c&&s<=f||u>=c&&u<=f||s<c&&u>f)&&(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=u(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,u,l=this.options;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,u=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(s,{top:u,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),i&&l&&(t.left=a-e.maxWidth),s&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,u={width:n.size.width-a,height:n.size.height-s},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,u=t(this).resizable("instance"),l=u.options,c=u.element,h=l.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;f&&(u.containerElement=t(f),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,s=u._hasScroll(f,"left")?f.scrollWidth:o,a=u._hasScroll(f)?f.scrollHeight:r,u.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,u=s.containerOffset,l=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=u),l.left<(s._helper?u.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-u.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?u.left:0),l.top<(s._helper?u.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-u.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?u.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-u.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-u.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),u=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,u="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,h=Math.round((r.width-o.width)/l)*l,f=Math.round((r.height-o.height)/c)*c,d=o.width+h,p=o.height+f,g=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=u,v&&(d+=l),y&&(p+=c),g&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.left=s.left-h):((p-c<=0||d-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=s.top-f):(p=c-e.height,n.size.height=p,n.position.top=s.top+o.height-p),d-l>0?(n.size.width=d,n.position.left=s.left-h):(d=l-e.width,n.size.width=d,n.position.left=s.left+o.width-d))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,u=e.pageY;return o>a&&(n=a,a=o,o=n),s>u&&(n=u,u=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:u-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?l=!(c.left>a||c.right<o||c.top>u||c.bottom<s):"fit"===r.tolerance&&(l=c.left>o&&c.right<a&&c.top>s&&c.bottom<u),l?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,u=a+t.height,l=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+l>a&&i+l<u,f="y"===this.options.axis||e+c>o&&e+c<s,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(r=t(u[n],this.document[0]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(l);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,u,l,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,l=a.length;i<l;i++)(u=t(a[i])).data(this.widgetName+"-item",s),c.push({item:u,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,u,l,c,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,c=f.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[s],l=!1,e[h]-u>this.items[i][a]/2&&(l=!0),Math.abs(e[h]-u)<r&&(r=Math.abs(e[h]-u),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],u=a&&r.collapsible,l=u?t():s.next(),c=o.next(),h={oldHeader:o,oldPanel:c,newHeader:u?t():s,newPanel:l};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,h)||(r.active=!u&&this.headers.index(s),this.active=a?t():s,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,u=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=l&&c.down||c,f=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===u&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,f):t.animate(this.showProps,o,r,f)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,s=this,a=this.options.icons.submenu,u=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=u.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=u.add(this.element),(n=e.find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var l,c,h=/ui-corner-([a-z]){2,6}/g;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=d(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,p)}function p(){t.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function g(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function m(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var u=r[i]("widget");t.data(u[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(u[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(h,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return g(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?d(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,a,u,l,c,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),g(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,u=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,u/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),l===r&&(l=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,u=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),a=this._getMinMaxDate(u,"max"),g(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,a)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,r,o,s,a,u;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),!1!==(r=i?i.apply(e,[e,n]):{})&&(g(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),u):n.dpDiv[a||"show"](a?u:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,l=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&p.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>u&&u>r?Math.abs(n.left+r-u):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,s,a,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},w=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(u).match(o);if(!s)throw"Missing number at position "+u;return u+=s[0].length,parseInt(s[0],10)},C=function(e,i,r){var o=-1,s=t.map(_(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];if(n.substr(u,i.length).toLowerCase()===i.toLowerCase())return o=e[0],u+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+u},E=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||_("'")?E():b=!1;else switch(e.charAt(r)){case"d":v=w("d");break;case"D":C("D",h,f);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=C("M",d,p);break;case"y":g=w("y");break;case"@":a=new Date(w("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?E():b=!0;break;default:E()}if(u<n.length&&(s=n.substr(u),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;o=this._getDaysInMonth(g,m-1),!(v<=o);)m++,v-=o;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,u=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},h="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||u("'")?h+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=u("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?h+="'":f=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=a.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}u=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b,_,w,C,E,S,T,x,k,D,A,O,P,N,L,B,F,R,I,H,z,W=new Date,j=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),U=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),Z=this._getNumberOfMonths(t),K=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==Z[0]||1!==Z[1],M=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),$=t.drawMonth-K,tt=t.drawYear;if($<0&&($+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Z[0]*Z[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,$,1))>e;)--$<0&&($=11,tt--);for(t.drawMonth=$,t.drawYear=tt,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,$-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,$)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,$+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,$)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?M:j,s=V?this.formatDate(s,a,this._getFormatConfig(t)):s,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?u:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(U?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",C=0;C<Z[0];C++){for(E="",this.maxRows=4,S=0;S<Z[1];S++){if(T=this._daylightSavingAdjust(new Date(tt,$,t.selectedDay)),x=" ui-corner-all",k="",X){if(k+="<div class='ui-datepicker-group",Z[1]>1)switch(S){case 0:k+=" ui-datepicker-group-first",x=" ui-corner-"+(U?"right":"left");break;case Z[1]-1:k+=" ui-datepicker-group-last",x=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",x=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===C?U?o:i:"")+(/all|right/.test(x)&&0===C?U?i:o:"")+this._generateMonthYearHeader(t,$,tt,Q,J,C>0||S>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)D+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[A=(w+c)%7]+"'>"+d[A]+"</span></th>";for(k+=D+"</tr></thead><tbody>",O=this._getDaysInMonth(tt,$),tt===t.selectedYear&&$===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,O)),P=(this._getFirstDayOfMonth(tt,$)-c+7)%7,N=Math.ceil((P+O)/7),L=X&&this.maxRows>N?this.maxRows:N,this.maxRows=L,B=this._daylightSavingAdjust(new Date(tt,$,1-P)),F=0;F<L;F++){for(k+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(B)+"</td>":"",w=0;w<7;w++)I=m?m.apply(t.input?t.input[0]:null,[B]):[!0,""],H=B.getMonth()!==$,z=H&&!y||!I[0]||Q&&B<Q||J&&B>J,R+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(B.getTime()===T.getTime()&&$===t.selectedMonth&&t._keyEvent||b.getTime()===B.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+I[1]+(B.getTime()===M.getTime()?" "+this._currentClass:"")+(B.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!I[2]?"":" title='"+I[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+B.getMonth()+"' data-year='"+B.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+B.getDate()+"</span>":"<a class='ui-state-default"+(B.getTime()===j.getTime()?" ui-state-highlight":"")+(B.getTime()===M.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+B.getDate()+"</a>")+"</td>",B.setDate(B.getDate()+1),B=this._daylightSavingAdjust(B);k+=R+"</tr>"}++$>11&&($=0,tt++),k+="</tbody></table>"+(X?"</div>"+(Z[0]>0&&S===Z[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),E+=k}_+=E}return _+=l,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var u,l,c,h,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!m)_+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),p=(d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),g=Math.max(p,d(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new f,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),u=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(u>=0?"+":"")+u,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,u,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-l.values(e));(r>n||r===n&&(e===l._lastChangedValue||l.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;(t=i+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,u=this,l=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(u.values(i)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===i&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:m(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:m(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:m(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:m(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:m(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());m(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(c=/#.*$/,function(t){var e,n;e=t.href.replace(c,""),n=location.href.replace(c,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),u=t(i).closest("li"),l=u.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=u.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&u.data("ui-tabs-aria-controls",l),u.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),u=i.length?this._getPanelForTab(i):t(),l={oldTab:i,oldPanel:u,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),u.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function s(){i.running=!1,i._trigger("activate",e,n)}function a(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,s):(r.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},u=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),u(r,e)},1)}).fail(function(t,e){setTimeout(function(){u(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,u=t.extend({},this.options.position);function l(t){u.of=t,o.is(":hidden")||o.position(u)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),o=r.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):o.position(t.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){o.is(":visible")&&(l(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var v,y="ui-effects-animated",b=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=o.support={},l=t("<p>")[0],c=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function f(e){var i=o(),a=i._rgba=[];return e=e.toLowerCase(),c(r,function(t,n){var r,o=n.re.exec(e),u=o&&n.parse(o),l=n.space||"rgba";if(u)return r=i[l](u),i[s[l].cache]=r[s[l].cache],a=i._rgba=r._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function d(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=l.style.backgroundColor.indexOf("rgba")>-1,c(s,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(e,i,r,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var u=this,l=t.type(e),d=this._rgba=[];return void 0!==i&&(e=[e,i,r,a],l="array"),"string"===l?this.parse(f(e)||n._default):"array"===l?(c(s.rgba.props,function(t,n){d[n.idx]=h(e[n.idx],n)}),this):"object"===l?(c(s,e instanceof o?function(t,n){e[n.cache]&&(u[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;c(i.props,function(t,n){if(!u[r]&&i.to){if("alpha"===t||null==e[t])return;u[r]=i.to(u._rgba)}u[r][n.idx]=h(e[t],n,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return c(s,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return c(s,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],u=0===this.alpha()?o("transparent"):this,l=u[r.cache]||r.to(u._rgba),f=l.slice();return n=n[r.cache],c(r.props,function(t,i){var r=i.idx,o=l[r],s=n[r],u=a[i.type]||{};null!==s&&(null===o?f[r]=s:(u.mod&&(s-o>u.mod/2?o+=u.mod:o-s>u.mod/2&&(o-=u.mod)),f[r]=h((s-o)*e+o,i)))}),this[i](f)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),u=Math.min(i,r,o),l=a-u,c=a+u,h=.5*c;return e=u===a?0:i===a?60*(r-o)/l+360:r===a?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:h<=.5?l/c:l/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*d(s,o,e+1/3)),Math.round(255*d(s,o,e)),Math.round(255*d(s,o,e-1/3)),r]},c(s,function(e,n){var r=n.props,s=n.cache,a=n.to,u=n.from;o.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,i=t.type(e),l="array"===i||"object"===i?e:arguments,f=this[s].slice();return c(r,function(t,e){var n=l["object"===i?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=h(n,e)}),u?((n=o(u(f)))[s]=f,n):o(f)},c(r,function(n,r){o.fn[n]||(o.fn[n]=function(o){var s,a=t.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":e,l=this[u](),c=l[r.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&r.empty?this:("string"===a&&(s=i.exec(o))&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1)),l[r.idx]=o,this[u](l)))})})}),o.hook=function(e){var n=e.split(" ");c(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=f(i)))){if(i=o(r||i),!u.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var u=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",l=u.children?s.find("*").addBack():s;l=l.map(function(){var e=t(this);return{el:e,start:r(this)}}),(o=function(){t.each(n,function(t,n){e[n]&&s[n+"Class"](e[n])})})(),l=l.map(function(){return this.end=r(this.el[0]),this.diff=function(e,n){var r,o,s={};for(r in n)o=n[r],e[r]!==o&&(i[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(s[r]=o));return s}(this.start,this.end),this}),s.attr("class",a),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(s[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){var e;function n(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function r(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(n){return!!t(n).data(y)||e(n)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data("ui-effects-"+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e="ui-effects-placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){var e=n.apply(this,arguments),i=t.effects.effect[e.effect],r=i.mode,o=e.queue,s=o||"fx",a=e.complete,u=e.mode,l=[],c=function(e){var n=t(this),i=t.effects.mode(n,u)||r;n.data(y,!0),l.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return u?this[u](e.duration,a):this.each(function(){a&&a.call(this)});function h(n){var o=t(this);function s(){t.isFunction(a)&&a.call(o[0]),t.isFunction(n)&&n()}e.mode=l.shift(),!1===t.uiBackCompat||r?"none"===e.mode?(o[u](),s()):i.call(o[0],e,function(){o.removeData(y),t.effects.cleanUp(o),"hide"===e.mode&&o.hide(),s()}):(o.is(":hidden")?"hide"===u:"show"===u)?(o[u](),s()):i.call(o[0],e,s)}return!1===o?this.each(c).each(h):this.queue(s,c).queue(s,h)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,u=o?s.scrollLeft():0,l=r.offset(),c={top:l.top-a,left:l.left-u,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-u,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),v={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){v[e]=function(e){return Math.pow(e,t+2)}}),t.extend(v,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(v,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}}),t.effects,t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},u=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),u&&u.css(t.effects.clipToBox(a)),a.clip=s),u&&u.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,u="hide"===a,l="show"===a,c=e.direction||"up",h=e.distance,f=e.times||5,d=2*f+(l||u?1:0),p=e.duration/d,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),l&&((r={opacity:1})[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,p,g)),u&&(h/=Math.pow(2,f-1)),(r={})[m]=o;y<f;y++)(i={})[m]=(v?"-=":"+=")+h,s.animate(i,p,g).animate(r,p,g),h=u?2*h:h/2;u&&((i={opacity:0})[m]=(v?"-=":"+=")+h,s.animate(i,p,g)),s.queue(n),t.effects.unshift(s,b,d+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,u=a||"horizontal"===s,l=a||"vertical"===s;i=o.cssClip(),r.clip={top:l?(i.bottom-i.top)/2:i.top,right:u?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:u?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",u="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"-=":"+=",c="+="===l?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,h[u]=l+i,s&&(r.css(h),h[u]=c+i,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){var i,r,o,s,a,u,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,h=t(this),f=e.mode,d="show"===f,p=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/c),m=Math.ceil(h.outerHeight()/l),v=[];function y(){v.push(this),v.length===l*c&&(h.css({visibility:"visible"}),t(v).remove(),n())}for(i=0;i<l;i++)for(s=p.top+i*m,u=i-(l-1)/2,r=0;r<c;r++)o=p.left+r*g,a=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*g,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:o+(d?a*g:0),top:s+(d?u*m:0),opacity:d?0:1}).animate({left:o+(d?0:a*g),top:s+(d?0:u*m),opacity:d?1:0},e.duration||500,e.easing,y)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,u=/([0-9]+)%/.exec(a),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],h=e.duration/2,f=t.effects.createPlaceholder(i),d=i.cssClip(),p={clip:t.extend({},d)},g={clip:t.extend({},d)},m=[d[c[0]],d[c[1]]],v=i.queue().length;u&&(a=parseInt(u[1],10)/100*m[s?0:1]),p.clip[c[0]]=a,g.clip[c[0]]=a,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),f&&f.css(t.effects.clipToBox(g)),g.clip=d),i.queue(function(n){f&&f.animate(t.effects.clipToBox(p),h,e.easing).animate(t.effects.clipToBox(g),h,e.easing),n()}).animate(p,h,e.easing).animate(g,h,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,f=e.scale||"both",d=e.origin||["middle","center"],p=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==f&&"both"!==f||(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,u,r.from.y,v),y=t.effects.setTransition(s,u,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,l,r.from.x,v),y=t.effects.setTransition(s,l,r.to.x,y))),"content"!==f&&"both"!==f||r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),d&&(i=t.effects.getBaseline(d,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),"content"!==f&&"both"!==f||(u=u.concat(["marginTop","marginBottom"]).concat(a),l=l.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,u,r.from.y,o),s=t.effects.setTransition(n,u,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,l,r.from.x,o),s=t.effects.setTransition(n,l,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,u=2*(e.times||5)+(a?1:0),l=e.duration/u,c=0,h=1,f=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),c=1);h<u;h++)i.animate({opacity:c},l,e.easing),c=1-c;i.animate({opacity:c},l,e.easing),i.queue(n),t.effects.unshift(i,f,u+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,u=2*a+1,l=Math.round(e.duration/u),c="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,f={},d={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),f[c]=(h?"-=":"+=")+s,d[c]=(h?"+=":"-=")+2*s,p[c]=(h?"-=":"+=")+2*s,r.animate(f,l,e.easing);i<a;i++)r.animate(d,l,e.easing).animate(p,l,e.easing);r.animate(d,l,e.easing).animate(f,l/2,e.easing).queue(n),t.effects.unshift(r,g,u+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u,h=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),f={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[l],f[l]=(c?-1:1)*h+r,f.clip=o.cssClip(),f.clip[s[u][1]]=f.clip[s[u][0]],"show"===a&&(o.cssClip(f.clip),o.css(l,f[l]),f.clip=i,f[l]=r),o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)})})?i.apply(e,r):i)||(t.exports=o)},"5WJX":function(t,e,n){(function(e){!function(){"use strict";var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},i=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,n))}},r=function(t){return function(){return t}},o=function(t){return t};function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.concat(n);return t.apply(null,r)}}var a,u,l,c,h,f,d,p,g,m,v,y,b,_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},w=r(!1),C=r(!0),E=w,S=C,T=function(){return x},x=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t,e){return t()},is:E,isSome:E,isNone:S,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:n,orThunk:e,map:T,ap:T,each:function(){},bind:T,flatten:T,exists:E,forall:S,filter:T,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(i),i}(),k=function(t){var e=function(){return t},n=function(){return r},i=function(e){return e(t)},r={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:S,isNone:E,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return k(e(t))},ap:function(e){return e.fold(T,function(e){return k(e(t))})},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?r:x},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(E,function(e){return n(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r},D={some:k,none:T,from:function(t){return null==t?x:k(t)}},A=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e}(e)===t}},O=A("string"),P=A("object"),N=A("array"),L=A("null"),B=A("boolean"),F=A("function"),R=A("number"),I=void 0===(a=Array.prototype.indexOf)?function(t,e){return Z(t,e)}:function(t,e){return a.call(t,e)},H=function(t,e){return I(t,e)>-1},z=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},W=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},j=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r,t)?n:i).push(s)}return{pass:n,fail:i}},U=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},q=function(t,e,n){return W(t,function(t){n=e(n,t)}),n},Y=function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return D.some(r)}return D.none()},V=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return D.some(n);return D.none()},Z=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},K=Array.prototype.push,G=function(t,e){return function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);K.apply(e,t[n])}return e}(z(t,e))},X=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},M=Array.prototype.slice,Q=function(t,e){return U(t,function(t){return!H(e,t)})},J=function(t){return 0===t.length?D.none():D.some(t[0])},$=function(t){return 0===t.length?D.none():D.some(t[t.length-1])},tt=F(Array.from)?Array.from:function(t){return M.call(t)},et="undefined"!=typeof window?window:Function("return this;")(),nt=function(t,e){return function(t,e){for(var n=null!=e?e:et,i=0;i<t.length&&null!=n;++i)n=n[t[i]];return n}(t.split("."),e)},it={getOrDie:function(t,e){var n=function(t,e){return nt(t,e)}(t,e);if(null==n)throw t+" not available on this browser";return n}},rt=function(){return it.getOrDie("URL")},ot={createObjectURL:function(t){return rt().createObjectURL(t)},revokeObjectURL:function(t){rt().revokeObjectURL(t)}},st=navigator,at=st.userAgent,ut=function(t){return"matchMedia"in window&&matchMedia(t).matches};g=/Android/.test(at),l=(l=!(u=/WebKit/.test(at))&&/MSIE/gi.test(at)&&/Explorer/gi.test(st.appName))&&/MSIE (\w+)\./.exec(at)[1],c=-1!==at.indexOf("Trident/")&&(-1!==at.indexOf("rv:")||-1!==st.appName.indexOf("Netscape"))&&11,h=-1!==at.indexOf("Edge/")&&!l&&!c&&12,l=l||c||h,f=!u&&!c&&/Gecko/.test(at),d=-1!==at.indexOf("Mac"),p=/(iPad|iPhone)/.test(at),m="FormData"in window&&"FileReader"in window&&"URL"in window&&!!ot.createObjectURL,v=ut("only screen and (max-device-width: 480px)")&&(g||p),y=ut("only screen and (min-width: 800px)")&&(g||p),b=-1!==at.indexOf("Windows Phone"),h&&(u=!1);var lt,ct={opera:!1,webkit:u,ie:l,gecko:f,mac:d,iOS:p,android:g,contentEditable:!p||m||parseInt(at.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==l,range:window.getSelection&&"Range"in window,documentMode:l&&!h?document.documentMode||7:10,fileApi:m,ceFalse:!1===l||l>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===l||l>11,desktop:!v&&!y,windowsPhone:b},ht=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(s,this),t(a,this))},r=i.immediateFn||"function"==typeof e&&e||function(t){setTimeout(t,1)};function o(t){var e=this;null!==this._state?r(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)}):this._deferreds.push(t)}function s(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(s,this),t(a,this))}this._state=!0,this._value=e,u.call(this)}catch(t){a.call(this,t)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function c(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}return i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=this;return new i(function(i,r){o.call(n,new l(t,e,i,r))})},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new i(function(e,n){if(0===t.length)return e([]);var i=t.length;function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(o,t)},n)}t[o]=s,0==--i&&e(t)}catch(t){n(t)}}for(var o=0;o<t.length;o++)r(o,t[o])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},i}(),ft=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},dt=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},pt=function(t,e){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=ft(function(){t.apply(this,i)},e)}).stop=function(){clearTimeout(n)},i},gt={requestAnimationFrame:function(t,e){lt?lt.then(t):lt=new ht(function(t){e||(e=document.body),function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=function(t){window.setTimeout(t,0)}),i(t,e)}(t,e)}).then(t)},setTimeout:ft,setInterval:dt,setEditorTimeout:function(t,e,n){return ft(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i;return i=dt(function(){t.removed?clearInterval(i):e()},n)},debounce:pt,throttle:pt,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},mt=/^(?:mouse|contextmenu)|click/,vt={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},yt=function(){return!1},bt=function(){return!0},_t=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},wt=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Ct=function(t,e){var n,i=e||{};for(n in t)vt[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),ct.experimentalShadowDom&&(i.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&n.length>0)return n[0]}return e}(t,i.target)),t&&mt.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=bt,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=bt,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=bt,i.stopPropagation()},!1===function(t){return t.isDefaultPrevented===bt||t.isDefaultPrevented===yt}(i)&&(i.isDefaultPrevented=yt,i.isPropagationStopped=yt,i.isImmediatePropagationStopped=yt),void 0===i.metaKey&&(i.metaKey=!1),i},Et=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,e(r))},a=function(){o()&&(wt(i,"readystatechange",a),s())},u=function(){try{i.documentElement.doScroll("left")}catch(t){return void gt.setTimeout(u)}s()};!i.addEventListener||ct.ie&&ct.ie<11?(_t(i,"readystatechange",a),i.documentElement.doScroll&&t.self===t.top&&u()):o()?s():_t(t,"DOMContentLoaded",s),_t(t,"load",s)}},St=function(){var t,e,n,i,r,o=this,s={};e="mce-data-"+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,o.domLoaded=!1,o.events=s;var a=function(t,e){var n,i,r,o,a=s[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return};o.bind=function(u,l,c,h){var f,d,p,g,m,v,y,b=window,_=function(t){a(Ct(t||b.event),f)};if(u&&3!==u.nodeType&&8!==u.nodeType){for(u[e]?f=u[e]:(f=t++,u[e]=f,s[f]={}),h=h||u,p=(l=l.split(" ")).length;p--;)v=_,m=y=!1,"DOMContentLoaded"===(g=l[p])&&(g="ready"),o.domLoaded&&"ready"===g&&"complete"===u.readyState?c.call(h,Ct({type:g})):(i||(m=r[g])&&(v=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Ct(t||b.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,a(t,f))}),n||"focusin"!==g&&"focusout"!==g||(y=!0,m="focusin"===g?"focus":"blur",v=function(t){(t=Ct(t||b.event)).type="focus"===t.type?"focusin":"focusout",a(t,f)}),(d=s[f][g])?"ready"===g&&o.domLoaded?c({type:g}):d.push({func:c,scope:h}):(s[f][g]=d=[{func:c,scope:h}],d.fakeName=m,d.capture=y,d.nativeHandler=v,"ready"===g?Et(u,v,o):_t(u,m||g,v,y)));return u=d=0,c}},o.unbind=function(t,n,i){var r,a,u,l,c,h;if(!t||3===t.nodeType||8===t.nodeType)return o;if(r=t[e]){if(h=s[r],n){for(u=(n=n.split(" ")).length;u--;)if(a=h[c=n[u]]){if(i)for(l=a.length;l--;)if(a[l].func===i){var f=a.nativeHandler,d=a.fakeName,p=a.capture;(a=a.slice(0,l).concat(a.slice(l+1))).nativeHandler=f,a.fakeName=d,a.capture=p,h[c]=a}i&&0!==a.length||(delete h[c],wt(t,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in h)a=h[c],wt(t,a.fakeName||c,a.nativeHandler,a.capture);h={}}for(c in h)return o;delete s[r];try{delete t[e]}catch(n){t[e]=null}}return o},o.fire=function(t,n,i){var r;if(!t||3===t.nodeType||8===t.nodeType)return o;(i=Ct(null,i)).type=n,i.target=t;do{(r=t[e])&&a(i,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return o},o.clean=function(t){var n,i,r=o.unbind;if(!t||3===t.nodeType||8===t.nodeType)return o;if(t[e]&&r(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(r(t),n=(i=t.getElementsByTagName("*")).length;n--;)(t=i[n])[e]&&r(t);return o},o.destroy=function(){s={}},o.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};St.Event=new St,St.Event.bind(window,"ready",function(){});var Tt,xt,kt,Dt,At,Ot,Pt,Nt,Lt,Bt,Ft,Rt,It,Ht,zt,Wt,jt,Ut,qt="sizzle"+-new Date,Yt=window.document,Vt=0,Zt=0,Kt=xe(),Gt=xe(),Xt=xe(),Mt=function(t,e){return t===e&&(Ft=!0),0},Qt="undefined",Jt=1<<31,$t={}.hasOwnProperty,te=[],ee=te.pop,ne=te.push,ie=te.push,re=te.slice,oe=te.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},se="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ue="\\["+se+"*("+ae+")(?:"+se+"*([*^$|!~]?=)"+se+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+se+"*\\]",le=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ue+")*)|.*)\\)|)",ce=new RegExp("^"+se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+se+"+$","g"),he=new RegExp("^"+se+"*,"+se+"*"),fe=new RegExp("^"+se+"*([>+~]|"+se+")"+se+"*"),de=new RegExp("="+se+"*([^\\]'\"]*?)"+se+"*\\]","g"),pe=new RegExp(le),ge=new RegExp("^"+ae+"$"),me={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae+"|[*])"),ATTR:new RegExp("^"+ue),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+se+"*(even|odd|(([+-]|)(\\d*)n|)"+se+"*(?:([+-]|)"+se+"*(\\d+)|))"+se+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+se+"*((?:-\\d)?\\d*)"+se+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,be=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,Ce=/'|\\/g,Ee=new RegExp("\\\\([\\da-f]{1,6}"+se+"?|("+se+")|.)","ig"),Se=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{ie.apply(te=re.call(Yt.childNodes),Yt.childNodes),te[Yt.childNodes.length].nodeType}catch(t){ie={apply:te.length?function(t,e){ne.apply(t,re.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Te=function(t,e,n,i){var r,o,s,a,u,l,c,h,f,d;if((e?e.ownerDocument||e:Yt)!==It&&Rt(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||It).nodeType)&&9!==a)return[];if(zt&&!i){if(r=_e.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&Ut(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return ie.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&xt.getElementsByClassName)return ie.apply(n,e.getElementsByClassName(s)),n}if(xt.qsa&&(!Wt||!Wt.test(t))){if(h=c=qt,f=e,d=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=Ot(t),(c=e.getAttribute("id"))?h=c.replace(Ce,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+Be(l[u]);f=we.test(t)&&Ne(e.parentNode)||e,d=l.join(",")}if(d)try{return ie.apply(n,f.querySelectorAll(d)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return Nt(t.replace(ce,"$1"),e,n,i)};function xe(){var t=[];return function e(n,i){return t.push(n+" ")>kt.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ke(t){return t[qt]=!0,t}function De(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Jt)-(~t.sourceIndex||Jt);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Ae(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function Oe(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Pe(t){return ke(function(e){return e=+e,ke(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function Ne(t){return t&&typeof t.getElementsByTagName!==Qt&&t}for(Tt in xt=Te.support={},At=Te.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Rt=Te.setDocument=function(t){var e,n=t?t.ownerDocument||t:Yt,i=n.defaultView;return n!==It&&9===n.nodeType&&n.documentElement?(It=n,Ht=n.documentElement,zt=!At(n),i&&i!==function(t){try{return t.top}catch(t){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){Rt()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Rt()})),xt.attributes=!0,xt.getElementsByTagName=!0,xt.getElementsByClassName=be.test(n.getElementsByClassName),xt.getById=!0,kt.find.ID=function(t,e){if(typeof e.getElementById!==Qt&&zt){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},kt.filter.ID=function(t){var e=t.replace(Ee,Se);return function(t){return t.getAttribute("id")===e}},kt.find.TAG=xt.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==Qt)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},kt.find.CLASS=xt.getElementsByClassName&&function(t,e){if(zt)return e.getElementsByClassName(t)},jt=[],Wt=[],xt.disconnectedMatch=!0,Wt=Wt.length&&new RegExp(Wt.join("|")),jt=jt.length&&new RegExp(jt.join("|")),e=be.test(Ht.compareDocumentPosition),Ut=e||be.test(Ht.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Mt=e?function(t,e){if(t===e)return Ft=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!xt.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===Yt&&Ut(Yt,t)?-1:e===n||e.ownerDocument===Yt&&Ut(Yt,e)?1:Bt?oe.call(Bt,t)-oe.call(Bt,e):0:4&i?-1:1)}:function(t,e){if(t===e)return Ft=!0,0;var i,r=0,o=t.parentNode,s=e.parentNode,a=[t],u=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:Bt?oe.call(Bt,t)-oe.call(Bt,e):0;if(o===s)return De(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;a[r]===u[r];)r++;return r?De(a[r],u[r]):a[r]===Yt?-1:u[r]===Yt?1:0},n):It},Te.matches=function(t,e){return Te(t,null,null,e)},Te.matchesSelector=function(t,e){if((t.ownerDocument||t)!==It&&Rt(t),e=e.replace(de,"='$1']"),xt.matchesSelector&&zt&&(!jt||!jt.test(e))&&(!Wt||!Wt.test(e)))try{var n=(void 0).call(t,e);if(n||xt.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return Te(e,It,null,[t]).length>0},Te.contains=function(t,e){return(t.ownerDocument||t)!==It&&Rt(t),Ut(t,e)},Te.attr=function(t,e){(t.ownerDocument||t)!==It&&Rt(t);var n=kt.attrHandle[e.toLowerCase()],i=n&&$t.call(kt.attrHandle,e.toLowerCase())?n(t,e,!zt):void 0;return void 0!==i?i:xt.attributes||!zt?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Te.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Te.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Ft=!xt.detectDuplicates,Bt=!xt.sortStable&&t.slice(0),t.sort(Mt),Ft){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return Bt=null,t},Dt=Te.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Dt(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Dt(e);return n},(kt=Te.selectors={cacheLength:50,createPseudo:ke,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ee,Se),t[3]=(t[3]||t[4]||t[5]||"").replace(Ee,Se),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Te.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Te.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return me.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&pe.test(n)&&(e=Ot(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ee,Se).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Kt[t+" "];return e||(e=new RegExp("(^|"+se+")"+t+"("+se+"|$)"))&&Kt(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Qt&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=Te.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(d=(l=(c=m[qt]||(m[qt]={}))[t]||[])[0]===Vt&&l[1],f=l[0]===Vt&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[Vt,d,f];break}}else if(y&&(l=(e[qt]||(e[qt]={}))[t])&&l[0]===Vt)f=l[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[qt]||(h[qt]={}))[t]=[Vt,f]),h!==e)););return(f-=r)===i||f%i==0&&f/i>=0}}},PSEUDO:function(t,e){var n,i=kt.pseudos[t]||kt.setFilters[t.toLowerCase()]||Te.error("unsupported pseudo: "+t);return i[qt]?i(e):i.length>1?(n=[t,t,"",e],kt.setFilters.hasOwnProperty(t.toLowerCase())?ke(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=oe.call(t,o[s])]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:ke(function(t){var e=[],n=[],i=Pt(t.replace(ce,"$1"));return i[qt]?ke(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:ke(function(t){return function(e){return Te(t,e).length>0}}),contains:ke(function(t){return t=t.replace(Ee,Se),function(e){return(e.textContent||e.innerText||Dt(e)).indexOf(t)>-1}}),lang:ke(function(t){return ge.test(t||"")||Te.error("unsupported lang: "+t),t=t.replace(Ee,Se).toLowerCase(),function(e){var n;do{if(n=zt?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Ht},focus:function(t){return t===It.activeElement&&(!It.hasFocus||It.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!kt.pseudos.empty(t)},header:function(t){return ye.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Pe(function(){return[0]}),last:Pe(function(t,e){return[e-1]}),eq:Pe(function(t,e,n){return[n<0?n+e:n]}),even:Pe(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Pe(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Pe(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:Pe(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=kt.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})kt.pseudos[Tt]=Ae(Tt);for(Tt in{submit:!0,reset:!0})kt.pseudos[Tt]=Oe(Tt);function Le(){}function Be(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function Fe(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=Zt++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l=[Vt,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(u=e[qt]||(e[qt]={}))[i])&&a[0]===Vt&&a[1]===o)return l[2]=a[2];if(u[i]=l,l[2]=t(e,n,s))return!0}}}function Re(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ie(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function He(t,e,n,i,r,o){return i&&!i[qt]&&(i=He(i)),r&&!r[qt]&&(r=He(r,o)),ke(function(o,s,a,u){var l,c,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)Te(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:Ie(g,f,t,a,u),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,u),i)for(l=Ie(v,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(v[d[c]]=!(m[d[c]]=h));if(o){if(r||t){if(r){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(m[c]=h);r(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=r?oe.call(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else v=Ie(v===s?v.splice(p,v.length):v),r?r(null,s,v,u):ie.apply(s,v)})}function ze(t){for(var e,n,i,r=t.length,o=kt.relative[t[0].type],s=o||kt.relative[" "],a=o?1:0,u=Fe(function(t){return t===e},s,!0),l=Fe(function(t){return oe.call(e,t)>-1},s,!0),c=[function(t,n,i){return!o&&(i||n!==Lt)||((e=n).nodeType?u(t,n,i):l(t,n,i))}];a<r;a++)if(n=kt.relative[t[a].type])c=[Fe(Re(c),n)];else{if((n=kt.filter[t[a].type].apply(null,t[a].matches))[qt]){for(i=++a;i<r&&!kt.relative[t[i].type];i++);return He(a>1&&Re(c),a>1&&Be(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,a<i&&ze(t.slice(a,i)),i<r&&ze(t=t.slice(i)),i<r&&Be(t))}c.push(n)}return Re(c)}Le.prototype=kt.filters=kt.pseudos,kt.setFilters=new Le,Ot=Te.tokenize=function(t,e){var n,i,r,o,s,a,u,l=Gt[t+" "];if(l)return e?0:l.slice(0);for(s=t,a=[],u=kt.preFilter;s;){for(o in n&&!(i=he.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=fe.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ce," ")}),s=s.slice(n.length)),kt.filter)!(i=me[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?Te.error(t):Gt(t,a).slice(0)},Pt=Te.compile=function(t,e){var n,i=[],r=[],o=Xt[t+" "];if(!o){for(e||(e=Ot(t)),n=e.length;n--;)(o=ze(e[n]))[qt]?i.push(o):r.push(o);(o=Xt(t,function(t,e){var n=e.length>0,i=t.length>0,r=function(r,o,s,a,u){var l,c,h,f=0,d="0",p=r&&[],g=[],m=Lt,v=r||i&&kt.find.TAG("*",u),y=Vt+=null==m?1:Math.random()||.1,b=v.length;for(u&&(Lt=o!==It&&o);d!==b&&null!=(l=v[d]);d++){if(i&&l){for(c=0;h=t[c++];)if(h(l,o,s)){a.push(l);break}u&&(Vt=y)}n&&((l=!h&&l)&&f--,r&&p.push(l))}if(f+=d,n&&d!==f){for(c=0;h=e[c++];)h(p,g,o,s);if(r){if(f>0)for(;d--;)p[d]||g[d]||(g[d]=ee.call(a));g=Ie(g)}ie.apply(a,g),u&&!r&&g.length>0&&f+e.length>1&&Te.uniqueSort(a)}return u&&(Vt=y,Lt=m),p};return n?ke(r):r}(r,i))).selector=t}return o},Nt=Te.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,c=!i&&Ot(t=l.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&xt.getById&&9===e.nodeType&&zt&&kt.relative[o[1].type]){if(!(e=(kt.find.ID(s.matches[0].replace(Ee,Se),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=me.needsContext.test(t)?0:o.length;r--&&(s=o[r],!kt.relative[a=s.type]);)if((u=kt.find[a])&&(i=u(s.matches[0].replace(Ee,Se),we.test(o[0].type)&&Ne(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&Be(o)))return ie.apply(n,i),n;break}}return(l||Pt(t,c))(i,e,!zt,n,we.test(t)&&Ne(e.parentNode)||e),n},xt.sortStable=qt.split("").sort(Mt).join("")===qt,xt.detectDuplicates=!!Ft,Rt(),xt.sortDetached=!0;var We=Array.isArray,je=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},Ue=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},qe={isArray:We,toArray:function(t){var e,n,i=t;if(!We(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},each:je,map:function(t,e){var n=[];return je(t,function(i,r){n.push(e(i,r,t))}),n},filter:function(t,e){var n=[];return je(t,function(i,r){e&&!e(i,r,t)||n.push(i)}),n},indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:Ue,find:function(t,e,n){var i=Ue(t,e,n);if(-1!==i)return t[i]},last:function(t){return t[t.length-1]}},Ye=/^\s*|\s*$/g,Ve=function(t){return null==t?"":(""+t).replace(Ye,"")},Ze=function(t,e){return e?!("array"!==e||!qe.isArray(t))||typeof t===e:void 0!==t},Ke=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),qe.each(t,function(t,r){if(!1===e.call(i,t,r,n))return!1;Ke(t,e,n,i)}))},Ge={trim:Ve,isArray:qe.isArray,is:Ze,toArray:qe.toArray,makeMap:function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},each:qe.each,map:qe.map,grep:qe.filter,inArray:qe.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,i,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,u=arguments;for(n=1,i=u.length;n<i;n++)for(r in e=u[n])e.hasOwnProperty(r)&&void 0!==(a=e[r])&&(t[r]=a);return t},create:function(t,e,n){var i,r,o,s,a,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=this.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],this.extend(r[o].prototype,e),t[5]&&(i=this.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],this.each(i,function(t,e){r[o].prototype[e]=i[e]}),this.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)})),this.each(e.static,function(t,e){r[o][e]=t})}},walk:Ke,createNS:function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},resolve:function(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},explode:function(t,e){return!t||Ze(t,"array")?t:qe.map(t.split(e||","),Ve)},_addCacheSuffix:function(t){var e=ct.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},Xe=document,Me=Array.prototype.push,Qe=Array.prototype.slice,Je=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,$e=St.Event,tn=Ge.makeMap("children,contents,next,prev"),en=function(t){return void 0!==t},nn=function(t){return"string"==typeof t},rn=function(t,e){var n,i,r;for(r=(e=e||Xe).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},on=function(t,e,n,i){var r;if(nn(e))e=rn(e,bn(t[0]));else if(e.length&&!e.nodeType){if(e=pn.makeArray(e),i)for(r=e.length-1;r>=0;r--)on(t,e[r],n,i);else for(r=0;r<e.length;r++)on(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},sn=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},an=function(t,e,n){var i,r;return e=pn(e)[0],t.each(function(){n&&i===this.parentNode?r.appendChild(this):(i=this.parentNode,r=e.cloneNode(!1),this.parentNode.insertBefore(r,this),r.appendChild(this))}),t},un=Ge.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ln=Ge.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),cn={for:"htmlFor",class:"className",readonly:"readOnly"},hn={float:"cssFloat"},fn={},dn={},pn=function(t,e){return new pn.fn.init(t,e)},gn=/^\s*|\s*$/g,mn=function(t){return null==t?"":(""+t).replace(gn,"")},vn=function(t,e){var n,i,r,o;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},yn=function(t,e){var n=[];return vn(t,function(t,i){e(i,t)&&n.push(i)}),n},bn=function(t){return t?9===t.nodeType?t:t.ownerDocument:Xe};pn.fn=pn.prototype={constructor:pn,selector:"",context:null,length:0,init:function(t,e){var n,i;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(e&&e.nodeType)this.context=e;else{if(e)return pn(t).attr(e);this.context=e=document}if(nn(t)){if(this.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Je.exec(t)))return pn(e).find(t);if(n[1])for(i=rn(t,bn(e)).firstChild;i;)Me.call(this,i),i=i.nextSibling;else{if(!(i=bn(e).getElementById(n[2])))return this;if(i.id!==n[2])return this.find(t);this.length=1,this[0]=i}}else this.add(t,!1);return this},toArray:function(){return Ge.toArray(this)},add:function(t,e){var n,i;if(nn(t))return this.add(pn(t));if(!1!==e)for(n=pn.unique(this.toArray().concat(pn.makeArray(t))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else Me.apply(this,pn.makeArray(t));return this},attr:function(t,e){var n,i=this;if("object"==typeof t)vn(t,function(t,e){i.attr(t,e)});else{if(!en(e)){if(i[0]&&1===i[0].nodeType){if((n=fn[t])&&n.get)return n.get(i[0],t);if(ln[t])return i.prop(t)?t:void 0;null===(e=i[0].getAttribute(t,2))&&(e=void 0)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=fn[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=cn[t]||t))vn(t,function(t,e){n.prop(t,e)});else{if(!en(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){var n,i,r=this,o=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},s=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof t)vn(t,function(t,e){r.css(t,e)});else if(en(e))t=o(t),"number"!=typeof e||un[t]||(e=e.toString()+"px"),r.each(function(){var n=this.style;if((i=dn[t])&&i.set)i.set(this,e);else{try{this.style[hn[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}});else{if(n=r[0],(i=dn[t])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(t){return}}return r},remove:function(){for(var t,e=this.length;e--;)t=this[e],$e.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(en(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){pn(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(en(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return on(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return on(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?on(this,arguments,function(t){this.parentNode.insertBefore(t,this)}):this},after:function(){return this[0]&&this[0].parentNode?on(this,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):this},appendTo:function(t){return pn(t).append(this),this},prependTo:function(t){return pn(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return an(this,t)},wrapAll:function(t){return an(this,t,!0)},wrapInner:function(t){return this.each(function(){pn(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){pn(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),pn(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?vn(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;(o=sn(i,t))!==e&&(r=i.className,o?i.className=mn((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return sn(this[0],t)},each:function(t){return vn(this,t)},on:function(t,e){return this.each(function(){$e.bind(this,t,e)})},off:function(t,e){return this.each(function(){$e.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?$e.fire(this,t.type,t):$e.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new pn(Qe.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)pn.find(t,this[e],i);return pn(i)},filter:function(t){return pn("function"==typeof t?yn(this.toArray(),function(e,n){return t(n,e)}):pn.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof pn&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&pn(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}}),pn(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:Me,sort:[].sort,splice:[].splice},Ge.extend(pn,{extend:Ge.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:Ge.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:Ge.isArray,each:vn,trim:mn,grep:yn,find:Te,expr:Te.selectors,unique:Te.uniqueSort,text:Te.getText,contains:Te.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?pn.find.matchesSelector(e[0],t)?[e[0]]:[]:pn.find.matches(t,e)}});var _n=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof pn&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&pn(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},wn=function(t,e,n,i){var r=[];for(i instanceof pn&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&pn(t).is(i))break}r.push(t)}return r},Cn=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};vn({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _n(t,"parentNode")},next:function(t){return Cn(t,"nextSibling",1)},prev:function(t){return Cn(t,"previousSibling",1)},children:function(t){return wn(t.firstChild,"nextSibling",1)},contents:function(t){return Ge.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){pn.fn[t]=function(n){var i=[];return this.each(function(){var t=e.call(i,this,n,i);t&&(pn.isArray(t)?i.push.apply(i,t):i.push(t))}),this.length>1&&(tn[t]||(i=pn.unique(i)),0===t.indexOf("parents")&&(i=i.reverse())),i=pn(i),n?i.filter(n):i}}),vn({parentsUntil:function(t,e){return _n(t,"parentNode",e)},nextUntil:function(t,e){return wn(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return wn(t,"previousSibling",1,e).slice(1)}},function(t,e){pn.fn[t]=function(n,i){var r=[];return this.each(function(){var t=e.call(r,this,n,r);t&&(pn.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(r=pn.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse())),r=pn(r),i?r.filter(i):r}}),pn.fn.is=function(t){return!!t&&this.filter(t).length>0},pn.fn.init.prototype=pn.fn,pn.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return pn.extend(n,this),n};var En=function(t,e,n){vn(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})};ct.ie&&ct.ie<8&&(En(fn,"get",{maxlength:function(t){var e=t.maxLength;if(2147483647!==e)return e},size:function(t){var e=t.size;if(20!==e)return e},class:function(t){return t.className},style:function(t){var e=t.style.cssText;if(0!==e.length)return e}}),En(fn,"set",{class:function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),ct.ie&&ct.ie<9&&(hn.float="styleFloat",En(dn,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),pn.attrHooks=fn,pn.cssHooks=dn;var Sn,Tn,xn,kn=function(){return Dn(0,0)},Dn=function(t,e){return{major:t,minor:e}},An={nu:Dn,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?kn():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}}(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return Dn(i(1),i(2))}(t,n)},unknown:kn},On=function(t,e){return function(){return e===t}},Pn=function(t){var e=t.current;return{current:e,version:t.version,isEdge:On("Edge",e),isChrome:On("Chrome",e),isIE:On("IE",e),isOpera:On("Opera",e),isFirefox:On("Firefox",e),isSafari:On("Safari",e)}},Nn={unknown:function(){return Pn({current:void 0,version:An.unknown()})},nu:Pn,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},Ln=function(t,e){return function(){return e===t}},Bn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:Ln("Windows",e),isiOS:Ln("iOS",e),isAndroid:Ln("Android",e),isOSX:Ln("OSX",e),isLinux:Ln("Linux",e),isSolaris:Ln("Solaris",e),isFreeBSD:Ln("FreeBSD",e)}},Fn={unknown:function(){return Bn({current:void 0,version:An.unknown()})},nu:Bn,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD")},Rn=function(t,e){var n=String(e).toLowerCase();return Y(t,function(t){return t.search(n)})},In=function(t,e){return Rn(t,e).map(function(t){var n=An.detect(t.versionRegexes,e);return{current:t.name,version:n}})},Hn=function(t,e){return Rn(t,e).map(function(t){var n=An.detect(t.versionRegexes,e);return{current:t.name,version:n}})},zn=function(t,e){return-1!==t.indexOf(e)},Wn=function(t){return t.replace(/^\s+|\s+$/g,"")},jn=function(t){return t.replace(/\s+$/g,"")},Un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qn=function(t){return function(e){return zn(e,t)}},Yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return zn(t,"edge/")&&zn(t,"chrome")&&zn(t,"safari")&&zn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Un],search:function(t){return zn(t,"chrome")&&!zn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return zn(t,"msie")||zn(t,"trident")}},{name:"Opera",versionRegexes:[Un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qn("firefox")},{name:"Safari",versionRegexes:[Un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(zn(t,"safari")||zn(t,"mobile/"))&&zn(t,"applewebkit")}}],Vn=[{name:"Windows",search:qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return zn(t,"iphone")||zn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:qn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qn("linux"),versionRegexes:[]},{name:"Solaris",search:qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qn("freebsd"),versionRegexes:[]}],Zn={browsers:r(Yn),oses:r(Vn)},Kn=function(t){var e=Zn.browsers(),n=Zn.oses(),i=In(e,t).fold(Nn.unknown,Nn.nu),o=Hn(n,t).fold(Fn.unknown,Fn.nu),s=function(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),o=t.isiOS()&&!i,s=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,u=i||s||a&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),c=l&&!u,h=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:r(i),isiPhone:r(o),isTablet:r(u),isPhone:r(c),isTouch:r(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(h)}}(o,i,t);return{browser:i,os:o,deviceType:s}},Gn={detect:(Sn=function(){var t=navigator.userAgent;return Kn(t)},xn=!1,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xn||(xn=!0,Tn=Sn.apply(null,t)),Tn})},Xn=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},Mn={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return Xn(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return Xn(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return Xn(n)},fromDom:Xn,fromPoint:function(t,e,n){var i=t.dom();return D.from(i.elementFromPoint(e,n)).map(Xn)}},Qn=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),Jn=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),$n=Node.TEXT_NODE,ti=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(t){return t.dom().nodeName.toLowerCase()}),ei=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},ni=ei(Jn),ii=ei($n),ri=Object.keys,oi=Object.hasOwnProperty,si=function(t,e){for(var n=ri(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},ai=function(t,e){return ui(t,function(t,n,i){return{k:n,v:e(t,n,i)}})},ui=function(t,e){var n={};return si(t,function(i,r){var o=e(i,r,t);n[o.k]=o.v}),n},li=function(t,e,n){if(!(O(n)||B(n)||R(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ci=function(t,e,n){li(t.dom(),e,n)},hi=function(t,e){var n=t.dom();si(e,function(t,e){li(n,e,t)})},fi=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},di=function(t,e){t.dom().removeAttribute(e)},pi=function(t){return void 0!==t.style},gi=function(t,e){var n=t.dom();si(e,function(t,e){!function(t,e,n){if(!O(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);pi(t)&&t.style.setProperty(e,n)}(n,e,t)})},mi=function(t,e){var n=t.dom(),i=window.getComputedStyle(n).getPropertyValue(e),r=""!==i||function(t){var e=ii(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)}(t)?i:vi(n,e);return null===r?void 0:r},vi=function(t,e){return pi(t)?t.style.getPropertyValue(e):""},yi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return W(t,function(t,n){i[t]=r(e[n])}),i}},bi=function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do{r=r.bind(i)}while(r.isSome());return n},_i=function(){return it.getOrDie("Node")},wi=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},Ci=function(t,e){return wi(t,e,_i().DOCUMENT_POSITION_CONTAINED_BY)},Ei=Jn,Si=Qn,Ti=function(t,e){var n=t.dom();if(n.nodeType!==Ei)return!1;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},xi=function(t){return t.nodeType!==Ei&&t.nodeType!==Si||0===t.childElementCount},ki=function(t,e){return t.dom()===e.dom()},Di=Gn.detect().browser.isIE()?function(t,e){return Ci(t.dom(),e.dom())}:function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Ai=function(t){return Mn.fromDom(t.dom().ownerDocument)},Oi=function(t){var e=t.dom();return D.from(e.parentNode).map(Mn.fromDom)},Pi=function(t){var e=t.dom();return D.from(e.previousSibling).map(Mn.fromDom)},Ni=function(t){var e=t.dom();return D.from(e.nextSibling).map(Mn.fromDom)},Li=function(t){return e=bi(t,Pi),(n=M.call(e,0)).reverse(),n;var e,n},Bi=function(t){return bi(t,Ni)},Fi=function(t){var e=t.dom();return z(e.childNodes,Mn.fromDom)},Ri=function(t,e){var n=t.dom().childNodes;return D.from(n[e]).map(Mn.fromDom)},Ii=function(t){return Ri(t,0)},Hi=function(t){return Ri(t,t.dom().childNodes.length-1)},zi=(yi("element","offset"),Gn.detect().browser),Wi=function(t){return Y(t,ni)},ji={getPos:function(t,e,n){var i,r,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===mi(Mn.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=r.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=function(t){return zi.isFirefox()&&"table"===ti(t)?Wi(Fi(t)).filter(function(t){return"caption"===ti(t)}).bind(function(t){return Wi(Bi(t)).map(function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0}(Mn.fromDom(e))}return{x:o,y:s}}},Ui=function(t){var e=D.none(),n=[],i=function(t){r()?s(t):n.push(t)},r=function(){return e.isSome()},o=function(t){W(t,s)},s=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(function(t){e=D.some(t),o(n),n=[]}),{get:i,map:function(t){return Ui(function(e){i(function(n){e(t(n))})})},isReady:r}},qi={nu:Ui,pure:function(t){return Ui(function(e){e(t)})}},Yi=function(t){var e=function(e){var n;t((n=e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this;setTimeout(function(){n.apply(i,t)},0)}))},n=function(){return qi.nu(e)};return{map:function(t){return Yi(function(n){e(function(e){var i=t(e);n(i)})})},bind:function(t){return Yi(function(n){e(function(e){t(e).get(n)})})},anonBind:function(t){return Yi(function(n){e(function(e){t.get(n)})})},toLazy:n,toCached:function(){var t=null;return Yi(function(e){null===t&&(t=n()),t.get(e)})},get:e}},Vi={nu:Yi,pure:function(t){return Yi(function(e){e(t)})}},Zi=function(t,e){return e(function(e){var n=[],i=0;0===t.length?e([]):W(t,function(r,o){r.get(function(r){return function(o){n[r]=o,++i>=t.length&&e(n)}}(o))})})},Ki=function(t){return Zi(t,Vi.nu)},Gi=function(t){return{is:function(e){return t===e},isValue:C,isError:w,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(e){return Gi(t)},orThunk:function(e){return Gi(t)},fold:function(e,n){return n(t)},map:function(e){return Gi(e(t))},mapError:function(e){return Gi(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return D.some(t)}}},Xi=function(t){return{is:w,isValue:w,isError:C,getOr:o,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Xi(t)},mapError:function(e){return Xi(e(t))},each:n,bind:function(e){return Xi(t)},exists:w,forall:C,toOption:D.none}},Mi={value:Gi,error:Xi};function Qi(t,e){var n=t,i=function(t,n,i,r){var o,s;if(t){if(!r&&t[n])return t[n];if(t!==e){if(o=t[i])return o;for(s=t.parentNode;s&&s!==e;s=s.parentNode)if(o=s[i])return o}}};this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)},this.prev2=function(t){return n=function(t,n,i,r){var o,s,a;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((s=t.parentNode)&&s!==e)return s}}(n,"lastChild","previousSibling",t)}}var Ji,$i,tr,er=function(t){var e;return function(n){return(e=e||function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n}(t,r(!0))).hasOwnProperty(ti(n))}},nr=er(["h1","h2","h3","h4","h5","h6"]),ir=er(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),rr=function(t){return ni(t)&&!ir(t)},or=function(t){return ni(t)&&"br"===ti(t)},sr=er(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ar=er(["ul","ol","dl"]),ur=er(["li","dd","dt"]),lr=er(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),cr=er(["thead","tbody","tfoot"]),hr=er(["td","th"]),fr=er(["pre","script","textarea","style"]),dr=function(t){return function(e){return!!e&&e.nodeType===t}},pr=dr(1),gr=function(t){var e=t.toLowerCase().split(" ");return function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}},mr=function(t){return function(e){if(pr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},vr=dr(3),yr=dr(8),br=dr(9),_r=gr("br"),wr=mr("true"),Cr=mr("false"),Er={isText:vr,isElement:pr,isComment:yr,isDocument:br,isBr:_r,isContentEditableTrue:wr,isContentEditableFalse:Cr,matchNodeNames:gr,hasPropValue:function(t,e){return function(n){return pr(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return pr(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return pr(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(pr(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},isBogus:function(t){return pr(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return pr(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return pr(t)&&"TABLE"===t.tagName}},Sr=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Tr=function(t,e){var n,i=e.childNodes;if(!Er.isElement(e)||!Sr(e)){for(n=i.length-1;n>=0;n--)Tr(t,i[n]);if(!1===Er.isDocument(e)){if(Er.isText(e)&&e.nodeValue.length>0){var r=Ge.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||r>0)return;if(0===r&&function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n}(e))return}else if(Er.isElement(e)&&(1===(i=e.childNodes).length&&Sr(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||lr(Mn.fromDom(e))))return;t.remove(e)}return e}},xr={trimNode:Tr},kr=Ge.makeMap,Dr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ar=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Or=/[<>&\"\']/g,Pr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Nr={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};$i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},tr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Lr=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),$i[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}};Ji=Lr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Br=function(t,e){return t.replace(e?Dr:Ar,function(t){return $i[t]||t})},Fr=function(t,e){return t.replace(e?Dr:Ar,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":$i[t]||"&#"+t.charCodeAt(0)+";"})},Rr=function(t,e,n){return n=n||Ji,t.replace(e?Dr:Ar,function(t){return $i[t]||n[t]||t})},Ir={encodeRaw:Br,encodeAllRaw:function(t){return(""+t).replace(Or,function(t){return $i[t]||t})},encodeNumeric:Fr,encodeNamed:Rr,getEncodeFunc:function(t,e){var n=Lr(e)||Ji,i=kr(t.replace(/\+/g,","));return i.named&&i.numeric?function(t,e){return t.replace(e?Dr:Ar,function(t){return void 0!==$i[t]?$i[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})}:i.named?e?function(t,e){return Rr(t,e,n)}:Rr:i.numeric?Fr:Br},decode:function(t){return t.replace(Pr,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Nr[e]||String.fromCharCode(e):tr[t]||Ji[t]||(n=t,(i=Mn.fromTag("div").dom()).innerHTML=n,i.textContent||i.innerText||n);var n,i})}},Hr={},zr={},Wr=Ge.makeMap,jr=Ge.each,Ur=Ge.extend,qr=Ge.explode,Yr=Ge.inArray,Vr=function(t,e){return(t=Ge.trim(t))?t.split(e||" "):[]},Zr=function(t){var e,n,i,r,o,s,a={},u=function(t,n,i){var r,o,s,u=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=Vr(i)),r=(t=Vr(t)).length;r--;)s={attributes:u(o=Vr([e,n].join(" "))),attributesOrder:o,children:u(i,zr)},a[t[r]]=s},l=function(t,e){var n,i,r,o;for(n=(t=Vr(t)).length,e=Vr(e);n--;)for(i=a[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return Hr[t]?Hr[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),jr(Vr(s),function(t){u(t,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),jr(Vr(o),function(t){u(t,"",r)})),r=r||[n,i].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("address dt dd div caption","",r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",i),u("q","cite",i),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",i),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?r:i),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),"html4"!==t&&(u("wbr"),u("ruby","",[i,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp summary bdi","",i),u("canvas","width height",r),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[i,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",i),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",i),u("progress","value max",i),u("meter","value min max low high optimum",i),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed","align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select","onchange"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li","type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink")),"html4"!==t&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("iframe","sandbox seamless allowfullscreen")),jr(Vr("a form meter progress dfn"),function(t){a[t]&&delete a[t].children[t]}),delete a.caption.children.table,delete a.script,Hr[t]=a,a)},Kr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),jr(t,function(t,i){n[i]=n[i.toUpperCase()]="map"===e?Wr(t,/[, ]/):qr(t,/[, ]/)})),n};function Gr(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p={},g={},m=[],v={},y={},b=function(e,n,i){var r=t[e];return r?r=Wr(r,/[, ]/,Wr(r.toUpperCase(),/[, ]/)):(r=Hr[e])||(r=Wr(n," ",Wr(n.toUpperCase()," ")),r=Ur(r,i),Hr[e]=r),r};i=Zr((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=Kr(t.valid_styles),n=Kr(t.invalid_styles,"map"),u=Kr(t.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=b("non_empty_elements","td th iframe video audio object script pre code",s),h=b("move_caret_before_on_enter_elements","table",c),f=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),l=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),d=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),jr((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){y[t]=new RegExp("</"+t+"[^>]*>","gi")});var _=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},w=function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,g,v,y,b,w,C,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(t)for(t=Vr(t,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=E.exec(t[e])){if(g=o[1],l=o[2],v=o[3],u=o[5],s={attributes:f={},attributesOrder:d=[]},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),y){for(w in y)f[w]=y[w];d.push.apply(d,b)}if(u)for(i=0,r=(u=Vr(u,"|")).length;i<r;i++)if(o=S.exec(u[i])){if(a={},h=o[1],c=o[2].replace(/[\\:]:/g,":"),g=o[3],C=o[4],"!"===h&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===h){delete f[c],d.splice(Yr(d,c),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:C}),a.defaultValue=C),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:C}),a.forcedValue=C),"<"===g&&(a.validValues=Wr(C,"?"))),T.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=_(c),s.attributePatterns.push(a)):(f[c]||d.push(c),f[c]=a)}y||"@"!==l||(y=f,b=d),v&&(s.outputName=l,p[v]=s),T.test(l)?(s.pattern=_(l),m.push(s)):p[l]=s}},C=function(t){p={},m=[],w(t),jr(i,function(t,e){g[e]=t.children})},E=function(t){var e=/^(~)?(.+)$/;t&&(Hr.text_block_elements=Hr.block_elements=null,jr(Vr(t,","),function(t){var n=e.exec(t),i="~"===n[1],r=i?"span":"div",o=n[2];if(g[o]=g[r],v[o]=r,i||(l[o.toUpperCase()]={},l[o]={}),!p[o]){var s=p[r];delete(s=Ur({},s)).removeEmptyAttrs,delete s.removeEmpty,p[o]=s}jr(g,function(t,e){t[r]&&(g[e]=t=Ur({},g[e]),t[o]=t[r])})}))},S=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Hr[t.schema]=null,e&&jr(Vr(e,","),function(t){var e,i,r=n.exec(t);r&&(i=r[1],e=i?g[r[2]]:g[r[2]]={"#comment":{}},e=g[r[2]],jr(Vr(r[3],"|"),function(t){"-"===i?delete e[t]:e[t]={}}))})},T=function(t){var e,n=p[t];if(n)return n;for(e=m.length;e--;)if((n=m[e]).pattern.test(t))return n};return t.valid_elements?C(t.valid_elements):(jr(i,function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},g[e]=t.children}),"html5"!==t.schema&&jr(Vr("strong/b em/i"),function(t){t=Vr(t,"/"),p[t[1]].outputName=t[0]}),jr(Vr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){p[t]&&(p[t].removeEmpty=!0)}),jr(Vr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){p[t].paddEmpty=!0}),jr(Vr("span"),function(t){p[t].removeEmptyAttrs=!0})),E(t.custom_elements),S(t.valid_children),w(t.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),jr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){p[e]&&(p[e].parentsRequired=Vr(t))}),t.invalid_elements&&jr(qr(t.invalid_elements),function(t){p[t]&&delete p[t]}),T("span")||w("span[!data-mce-type|*]"),{children:g,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return u},getBlockElements:function(){return l},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return f},getTextInlineElements:function(){return d},getBoolAttrs:function(){return a},getElementRule:T,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return h},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(t,e){var n=g[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,i,r=T(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:C,addCustomElements:E,addValidChildren:S}}var Xr=function(t,e,n,i){var r=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)};function Mr(t,e){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,c={};for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<i.length;n++)c[i[n]]="\ufeff"+n,c["\ufeff"+n]=i[n];return{toHex:function(t){return t.replace(s,Xr)},parse:function(e){var i,r,o,h,f,d,p,g,m={},v=t.url_converter,y=t.url_converter_scope||this,b=function(t,e,i){var r,o,s,a;if((r=m[t+"-top"+e])&&(o=m[t+"-right"+e])&&(s=m[t+"-bottom"+e])&&(a=m[t+"-left"+e])){var u=[r,o,s,a];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&i||(m[t+e]=-1===n?u[0]:u.join(" "),delete m[t+"-top"+e],delete m[t+"-right"+e],delete m[t+"-bottom"+e],delete m[t+"-left"+e])}},_=function(t){var e,n=m[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return m[t]=n[0],!0}},w=function(t){return h=!0,c[t]},C=function(t,e){return h&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return c[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},E=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},S=function(t){return t.replace(/\\[0-9a-f]+/gi,E)},T=function(e,n,i,r,o,s){if(o=o||s)return"'"+(o=C(o)).replace(/\'/g,"\\'")+"'";if(n=C(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return v&&(n=v.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,w)});i=u.exec(e);)if(u.lastIndex=i.index+i[0].length,r=i[1].replace(l,"").toLowerCase(),o=i[2].replace(l,""),r&&o){if(r=S(r),o=S(o),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(s,Xr)).replace(a,T),m[r]=h?C(o,!0):o}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),f="border",p="border-style",g="border-color",_(d="border-width")&&_(p)&&_(g)&&(m[f]=m[d]+" "+m[p]+" "+m[g],delete m[d],delete m[p],delete m[g]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(t,e){var n,i,s="",a=function(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],(a=t[e])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},u=function(t,e){var n;return!((n=o["*"])&&n[t]||(n=o[e])&&n[t])};if(e&&r)a("*"),a(e);else for(n in t)!(i=t[n])||o&&!u(n,e)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}}var Qr=Ge.each,Jr=Ge.grep,$r=ct.ie,to=/^([a-z0-9],?)+$/i,eo=/^[ \t\r\n]*$/,no=function(t,e,n){var i={},r=e.keep_values,o={set:function(t,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,r,t[0])),t.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}};return i={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}},r&&(i.href=i.src=o),i},io=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},ro=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};function oo(t,e){var n,s=this;void 0===e&&(e={});var a={},u=window,l={},c=0,h=function(t,e){void 0===e&&(e={});var n,s=0,a={};n=e.maxLoadTime||5e3;var u=function(e){t.getElementsByTagName("head")[0].appendChild(e)},l=function(i,r,o){var l,c,h,f,d=function(){for(var t=f.passed,e=t.length;e--;)t[e]();f.status=2,f.passed=[],f.failed=[]},p=function(){for(var t=f.failed,e=t.length;e--;)t[e]();f.status=3,f.passed=[],f.failed=[]},g=function(t,e){t()||((new Date).getTime()-h<n?gt.setTimeout(e):p())},m=function(){g(function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===l.id)return d(),!0},m)},v=function(){g(function(){try{var t=c.sheet.cssRules;return d(),!!t}catch(t){}},v)};if(i=Ge._addCacheSuffix(i),a[i]?f=a[i]:(f={passed:[],failed:[]},a[i]=f),r&&f.passed.push(r),o&&f.failed.push(o),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(l=t.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+s++,l.async=!1,l.defer=!1,h=(new Date).getTime(),e.contentCssCors&&(l.crossOrigin="anonymous"),"onload"in l&&!((y=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(y[1],10)<536))l.onload=m,l.onerror=p;else{if(navigator.userAgent.indexOf("Firefox")>0)return(c=t.createElement("style")).textContent='@import "'+i+'"',v(),void u(c);m()}var y;u(l),l.href=i}else p();else d()},c=function(t){return Vi.nu(function(e){l(t,i(e,r(Mi.value(t))),i(e,r(Mi.error(t))))})},h=function(t){return t.fold(o,o)};return{load:l,loadAll:function(t,e,n){Ki(z(t,c)).get(function(t){var i=j(t,function(t){return t.isValue()});i.fail.length>0?n(i.fail.map(h)):e(i.pass.map(h))})}}}(t,{contentCssCors:e.contentCssCors}),f=[],d=e.schema?e.schema:Gr({}),p=Mr({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),g=e.ownEvents?new St(e.proxy):St.Event,m=d.getBlockElements(),v=pn.overrideDefaults(function(){return{context:t,element:Z.getRoot()}}),y=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},b=function(t){return"string"==typeof t&&(t=y(t)),v(t)},_=function(t,e,i){var r,o,s=b(t);return s.length&&(o=(r=n[e])&&r.get?r.get(s,e):s.attr(e)),void 0===o&&(o=i||""),o},w=function(t){var e=y(t);return e?e.attributes:[]},C=function(t,i,r){var o,s;""===r&&(r=null);var a=b(t);o=a.attr(i),a.length&&((s=n[i])&&s.set?s.set(a,r,i):a.attr(i,r),o!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:a,attrName:i,attrValue:r}))},E=function(){return e.root_element||t.body},S=function(e,n){return ji.getPos(t.body,y(e),n)},T=function(t,e,n){var i=b(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=ct.ie&&ct.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:void 0)},x=function(t){var e,n;return t=y(t),e=T(t,"width"),n=T(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},k=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(to.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return Te(e,o[0].ownerDocument||o[0],null,o).length>0},D=function(t,e,n,i){var r,o=[],s=y(t);for(i=void 0===i,n=n||("BODY"!==E().nodeName?E().parentNode:null),Ge.is(e,"string")&&(r=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return k(t,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},A=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return k(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},O=function(t,e,n){var i,r="string"==typeof t?y(t):t;if(!r)return!1;if(Ge.isArray(r)&&(r.length||0===r.length))return i=[],Qr(r,function(t,r){t&&("string"==typeof t&&(t=y(t)),i.push(e.call(n,t,r)))}),i;var o=n||s;return e.call(o,r)},P=function(t,e){b(t).each(function(t,n){Qr(e,function(t,e){C(n,e,t)})})},N=function(t,e){var n=b(t);$r?n.each(function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){pn("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)},L=function(e,n,i,r,o){return O(e,function(e){var s="string"==typeof n?t.createElement(n):n;return P(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&N(s,r)),o?s:e.appendChild(s)})},B=function(e,n,i){return L(t.createElement(e),e,n,i,!0)},F=Ir.decode,R=Ir.encodeAllRaw,I=function(t,e){var n=b(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},H=function(t,e,n){b(t).toggleClass(e,n).each(function(){""===this.className&&pn(this).attr("class",null)})},W=function(t,e,n){return O(e,function(e){return Ge.is(e,"array")&&(t=t.cloneNode(!0)),n&&Qr(Jr(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},U=function(){return t.createRange()},q=function(n,i,r,o){if(Ge.isArray(n)){for(var s=n.length;s--;)n[s]=q(n[s],i,r,o);return n}return!e.collect||n!==t&&n!==u||f.push([n,i,r,o]),g.bind(n,i,r,o||Z)},Y=function(e,n,i){var r;if(Ge.isArray(e)){for(r=e.length;r--;)e[r]=Y(e[r],n,i);return e}if(f&&(e===t||e===u))for(r=f.length;r--;){var o=f[r];e!==o[0]||n&&n!==o[1]||i&&i!==o[2]||g.unbind(o[0],o[1],o[2])}return g.unbind(e,n,i)},V=function(t){if(t&&Er.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},Z={doc:t,settings:e,win:u,files:l,stdMode:!0,boxModel:!0,styleSheetLoader:h,boundEvents:f,styles:p,schema:d,events:g,isBlock:function(t){if("string"==typeof t)return!!m[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!m[t.nodeName])}return!1},$:v,$$:b,root:null,clone:function(e,n){if(!$r||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return Qr(w(e),function(t){C(i,t.nodeName,_(e,t.nodeName))}),i}return null},getRoot:E,getViewPort:function(t){var e=t||u,n=e.document,i=n.documentElement;return{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},getRect:function(t){var e,n;return t=y(t),e=S(t),n=x(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:x,getParent:function(t,e,n){var i=D(t,e,n,!1);return i&&i.length>0?i[0]:null},getParents:D,get:y,getNext:function(t,e){return A(t,e,"nextSibling")},getPrev:function(t,e){return A(t,e,"previousSibling")},select:function(n,i){return Te(n,y(i)||e.root_element||t,[])},is:k,add:L,create:B,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(r+=" "+i+'="'+R(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r},remove:I,setStyle:function(t,n,i){var r=b(t).css(n,i);e.update_styles&&io(p,r)},getStyle:T,setStyles:function(t,n){var i=b(t).css(n);e.update_styles&&io(p,i)},removeAllAttribs:function(t){return O(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:C,setAttribs:P,getAttrib:_,getPos:S,parseStyle:function(t){return p.parse(t)},serializeStyle:function(t,e){return p.serialize(t,e)},addStyle:function(e){var n,i;if(Z!==oo.DOM&&t===document){if(a[e])return;a[e]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(n=t.getElementsByTagName("head")[0]).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(t.createTextNode(e))},loadCSS:function(e){var n;Z===oo.DOM||t!==document?(e||(e=""),n=t.getElementsByTagName("head")[0],Qr(e.split(","),function(t){var e;t=Ge._addCacheSuffix(t),l[t]||(l[t]=!0,e=B("link",{rel:"stylesheet",href:t}),n.appendChild(e))})):oo.DOM.loadCSS(e)},addClass:function(t,e){b(t).addClass(e)},removeClass:function(t,e){H(t,e,!1)},hasClass:function(t,e){return b(t).hasClass(e)},toggleClass:H,show:function(t){b(t).show()},hide:function(t){b(t).hide()},isHidden:function(t){return"none"===b(t).css("display")},uniqueId:function(t){return(t||"mce_")+c++},setHTML:N,getOuterHTML:function(t){var e="string"==typeof t?y(t):t;return Er.isElement(e)?e.outerHTML:pn("<div></div>").append(pn(e).clone()).html()},setOuterHTML:function(t,e){b(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}I(pn(this).html(e),!0)})},decode:F,encode:R,insertAfter:function(t,e){var n=y(e);return O(t,function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t})},replace:W,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=B(e),Qr(w(t),function(e){C(n,e.nodeName,_(t,e.nodeName))}),W(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return p.toHex(Ge.trim(t))},run:O,getAttribs:w,isEmpty:function(t,e){var n,i,r,o,s,a,u=0;if(t=t.firstChild){s=new Qi(t,t.parentNode),e=e||(d?d.getNonEmptyElements():null),o=d?d.getWhiteSpaceElements():{};do{if(r=t.nodeType,Er.isElement(t)){var l=t.getAttribute("data-mce-bogus");if(l){t=s.next("all"===l);continue}if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){u++,t=s.next();continue}return!1}for(n=(i=w(t)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!eo.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&eo.test(t.nodeValue))return!1;t=s.next()}while(t)}return u<=1},createRng:U,nodeIndex:ro,split:function(t,e,n){var i,r,o,s=U();if(t&&e)return s.setStart(t.parentNode,ro(t)),s.setEnd(e.parentNode,ro(e)),i=s.extractContents(),(s=U()).setStart(e.parentNode,ro(e)+1),s.setEnd(t.parentNode,ro(t)+1),r=s.extractContents(),(o=t.parentNode).insertBefore(xr.trimNode(Z,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(xr.trimNode(Z,r),t),I(t),n||e},bind:q,unbind:Y,fire:function(t,e,n){return g.fire(t,e,n)},getContentEditable:V,getContentEditableParent:function(t){for(var e=E(),n=null;t&&t!==e&&null===(n=V(t));t=t.parentNode);return n},destroy:function(){if(f)for(var t=f.length;t--;){var e=f[t];g.unbind(e[0],e[1],e[2])}Te.setDocument&&Te.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return n=no(p,e,function(){return Z}),Z}!function(t){t.DOM=t(document),t.nodeIndex=ro}(oo||(oo={}));var so=oo,ao=so.DOM,uo=Ge.each,lo=Ge.grep,co=function(t){return"function"==typeof t},ho=function(){var t={},e=[],n={},i=[],r=0;this.isDone=function(e){return 2===t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(i,r,o,s){void 0===t[i]&&(e.push(i),t[i]=0),r&&(n[i]||(n[i]=[]),n[i].push({success:r,failure:s,scope:o||this}))},this.remove=function(e){delete t[e],delete n[e]},this.loadQueue=function(t,n,i){this.loadScripts(e,t,n,i)},this.loadScripts=function(e,o,s,a){var u,l=[],c=function(t,e){uo(n[e],function(e){co(e[t])&&e[t].call(e.scope)}),n[e]=void 0};i.push({success:o,failure:a,scope:s||this}),(u=function(){var n=lo(e);if(e.length=0,uo(n,function(e){2!==t[e]?3!==t[e]?1!==t[e]&&(t[e]=1,r++,function(t,e,n){var i,r,o=ao;r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=Ge._addCacheSuffix(t),i.onload=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),e()},i.onerror=function(){co(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}(e,function(){t[e]=2,r--,c("success",e),u()},function(){t[e]=3,r--,l.push(e),c("failure",e),u()})):c("failure",e):c("success",e)}),!r){var o=i.slice(0);i.length=0,uo(o,function(t){0===l.length?co(t.success)&&t.success.call(t.scope):co(t.failure)&&t.failure.call(t.scope,l)})}})()}};ho.ScriptLoader=new ho;var fo=Ge.each;function po(){var t=this,e=[],n={},i={},r=[],o=function(t){var e;return i[t]&&(e=i[t].dependencies),e||[]},s=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},a=function(t,e,n,i){var r=o(t);fo(r,function(t){var n=s(e,t);u(n.resource,n,void 0,void 0)}),n&&(i?n.call(i):n.call(ho))},u=function(t,e,r,o,s){if(!n[t]){var u="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=po.baseURL+"/"+u),n[t]=u.substring(0,u.lastIndexOf("/")),i[t]?a(t,e,r,o):ho.ScriptLoader.add(u,function(){return a(t,e,r,o)},o,s)}};return{items:e,urls:n,lookup:i,_listeners:r,get:function(t){if(i[t])return i[t].instance},dependencies:o,requireLangPack:function(t,e){var i=po.language;if(i&&!1!==po.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===e.indexOf(","+i+","))return;ho.ScriptLoader.add(n[t]+"/langs/"+i+".js")}},add:function(t,n,o){e.push(n),i[t]={instance:n,dependencies:o};var s=j(r,function(e){return e.name===t});return r=s.fail,fo(s.pass,function(t){t.callback()}),n},remove:function(t){delete n[t],delete i[t]},createUrl:s,addComponents:function(e,n){var i=t.urls[e];fo(n,function(t){ho.ScriptLoader.add(i+"/"+t)})},load:u,waitFor:function(t,e){i.hasOwnProperty(t)?e():r.push({name:t,callback:e})}}}!function(t){t.PluginManager=t(),t.ThemeManager=t()}(po||(po={}));var go=function(t,e){Oi(t).each(function(n){n.dom().insertBefore(e.dom(),t.dom())})},mo=function(t,e){Ni(t).fold(function(){Oi(t).each(function(t){yo(t,e)})},function(t){go(t,e)})},vo=function(t,e){Ii(t).fold(function(){yo(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})},yo=function(t,e){t.dom().appendChild(e.dom())},bo=function(t,e){W(e,function(e){yo(t,e)})},_o=function(t){t.dom().textContent="",W(Fi(t),function(t){wo(t)})},wo=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Co=function(t){var e,n=Fi(t);n.length>0&&(e=t,W(n,function(t){go(e,t)})),wo(t)},Eo=function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];null===n&&(n=setTimeout(function(){t.apply(null,i),n=null},e))}}},So=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return So(n())}}},To=function(t,e){var n=fi(t,e);return void 0===n||""===n?[]:n.split(" ")},xo=function(t){return void 0!==t.dom().classList},ko=function(t,e){return function(t,e,n){var i=To(t,e).concat([n]);return ci(t,e,i.join(" ")),!0}(t,"class",e)},Do=function(t,e){return function(t,e,n){var i=U(To(t,e),function(t){return t!==n});return i.length>0?ci(t,e,i.join(" ")):di(t,e),!1}(t,"class",e)},Ao=function(t,e){xo(t)?t.dom().classList.add(e):ko(t,e)},Oo=function(t){0===(xo(t)?t.dom().classList:function(t){return To(t,"class")}(t)).length&&di(t,"class")},Po=function(t,e){return xo(t)&&t.dom().classList.contains(e)},No=function(t,e){var n=[];return W(Fi(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(No(t,e))}),n},Lo=function(t,e){return function(t,e){var n=void 0===e?document:e.dom();return xi(n)?[]:z(n.querySelectorAll(t),Mn.fromDom)}(e,t)};function Bo(t,e,n,i,r){return t(n,i)?D.some(n):F(r)&&r(n)?D.none():e(n,i,r)}var Fo=function(t,e,n){for(var i=t.dom(),o=F(n)?n:r(!1);i.parentNode;){i=i.parentNode;var s=Mn.fromDom(i);if(e(s))return D.some(s);if(o(s))break}return D.none()},Ro=function(t,e,n){return Bo(function(t){return e(t)},Fo,t,e,n)},Io=function(t,e,n){return Fo(t,function(t){return Ti(t,e)},n)},Ho=function(t,e){return function(t,e){var n=void 0===e?document:e.dom();return xi(n)?D.none():D.from(n.querySelector(t)).map(Mn.fromDom)}(e,t)},zo=function(t,e,n){return Bo(Ti,Io,t,e,n)},Wo=r("mce-annotation"),jo=r("data-mce-annotation"),Uo=r("data-mce-annotation-uid"),qo=function(t,e){var n=t.selection.getRng(),i=Mn.fromDom(n.startContainer),r=Mn.fromDom(t.getBody()),o=e.fold(function(){return"."+Wo()},function(t){return"["+jo()+'="'+t+'"]'}),s=Ri(i,n.startOffset).getOr(i),a=zo(s,o,function(t){return ki(t,r)}),u=function(t,e){return n=e,(i=t.dom())&&i.hasAttribute&&i.hasAttribute(n)?D.some(fi(t,e)):D.none();var n,i};return a.bind(function(e){return u(e,""+Uo()).bind(function(n){return u(e,""+jo()).map(function(e){var i=Yo(t,n);return{uid:n,name:e,elements:i}})})})},Yo=function(t,e){var n=Mn.fromDom(t.getBody());return Lo(n,"["+Uo()+'="'+e+'"]')},Vo=function(t,e){var n=Mn.fromDom(t.getBody()),i=Lo(n,"["+jo()+'="'+e+'"]'),r={};return W(i,function(t){var e=fi(t,Uo()),n=r.hasOwnProperty(e)?r[e]:[];r[e]=n.concat([t])}),r},Zo=function(t,e){var n,i,r,o=So({}),s=function(t,e){a(t,function(t){return e(t),t})},a=function(t,e){var n=o.get(),i=e(n.hasOwnProperty(t)?n[t]:{listeners:[],previous:So(D.none())});n[t]=i,o.set(n)},u=(n=function(){var e,n,i,r=o.get(),u=(e=ri(r),(i=M.call(e,0)).sort(n),i);W(u,function(e){a(e,function(n){var i=n.previous.get();return qo(t,D.some(e)).fold(function(){i.isSome()&&(function(t){s(t,function(e){W(e.listeners,function(e){return e(!1,t)})})}(e),n.previous.set(D.none()))},function(t){var e=t.uid,r=t.name,o=t.elements;i.is(e)||(function(t,e,n){s(t,function(i){W(i.listeners,function(i){return i(!0,t,{uid:e,nodes:z(n,function(t){return t.dom()})})})})}(r,e,o),n.previous.set(D.some(e)))}),{previous:n.previous,listeners:n.listeners}})})},i=30,r=null,{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==r&&clearTimeout(r),r=setTimeout(function(){n.apply(null,t),r=null},i)}});return t.on("remove",function(){u.cancel()}),t.on("nodeChange",function(){u.throttle()}),{addListener:function(t,e){a(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})}}},Ko=function(t,e){t.on("init",function(){t.serializer.addNodeFilter("span",function(t){W(t,function(t){(function(t){return D.from(t.attributes.map[jo()]).bind(e.lookup)})(t).each(function(e){!1===e.persistent&&t.unwrap()})})})})},Go=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?D.from(t[e]).map(function(t){return t.settings}):D.none()}}},Xo=0,Mo=function(t,e){return Mn.fromDom(t.dom().cloneNode(e))},Qo=function(t){return Mo(t,!1)},Jo=function(t){return Mo(t,!0)},$o=function(t,e){var n,i,r=Ai(t).dom(),o=Mn.fromDom(r.createDocumentFragment()),s=(n=e,(i=(r||document).createElement("div")).innerHTML=n,Fi(Mn.fromDom(i)));bo(o,s),_o(t),yo(t,o)},ts=function(t){return"\ufeff"===t},es="\ufeff",ns=function(t){return t.replace(new RegExp("\ufeff","g"),"")},is=Er.isElement,rs=Er.isText,os=function(t){return rs(t)&&(t=t.parentNode),is(t)&&t.hasAttribute("data-mce-caret")},ss=function(t){return rs(t)&&ts(t.data)},as=function(t){return os(t)||ss(t)},us=function(t){return t.firstChild!==t.lastChild||!Er.isBr(t.firstChild)},ls=function(t){var e=t.container();return t&&Er.isText(e)&&e.data.charAt(t.offset())===es},cs=function(t){var e=t.container();return t&&Er.isText(e)&&e.data.charAt(t.offset()-1)===es},hs=function(t,e,n){var i,r,o;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=e.parentNode,n?r.insertBefore(i,e):e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i),i},fs=function(t){return rs(t)&&t.data[0]===es},ds=function(t){return rs(t)&&t.data[t.data.length-1]===es},ps=function(t){return t&&t.hasAttribute("data-mce-caret")?(e=t.getElementsByTagName("br"),n=e[e.length-1],Er.isBogus(n)&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},gs=Er.isContentEditableTrue,ms=Er.isContentEditableFalse,vs=Er.isBr,ys=Er.isText,bs=Er.matchNodeNames("script style textarea"),_s=Er.matchNodeNames("img input textarea hr iframe video audio object"),ws=Er.matchNodeNames("table"),Cs=as,Es=function(t){return!Cs(t)&&(ys(t)?!bs(t.parentNode):_s(t)||vs(t)||ws(t)||Ss(t))},Ss=function(t){return!1===function(t){return Er.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&ms(t)},Ts=function(t,e){return Es(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Ss(t))return!1;if(gs(t))return!0}return!0}(t,e)},xs=Math.round,ks=function(t){return t?{left:xs(t.left),top:xs(t.top),bottom:xs(t.bottom),right:xs(t.right),width:xs(t.width),height:xs(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ds=function(t,e){return t=ks(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},As=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Os=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&As(e.top-t.bottom,t,e)},Ps=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&As(e.bottom-t.top,t,e)},Ns=function(t,e){return e.left>t.left&&e.right<t.right?0:e.left<t.left?e.left-t.left:e.right-t.right},Ls=function(t,e){return e.top>t.top&&e.bottom<t.bottom?0:e.top<t.top?e.top-t.top:e.bottom-t.bottom},Bs=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Fs=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Rs=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Is=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Rs.test(t)},Hs=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.isSome())return D.none();n.push(r.getOrDie())}return D.some(e.apply(null,n))},zs=[].slice,Ws=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=zs.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},js=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=zs.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},Us=Er.isElement,qs=Es,Ys=Er.matchStyleValues("display","block table"),Vs=Er.matchStyleValues("float","left right"),Zs=Ws(Us,qs,_(Vs)),Ks=_(Er.matchStyleValues("white-space","pre pre-line pre-wrap")),Gs=Er.isText,Xs=Er.isBr,Ms=so.nodeIndex,Qs=Fs,Js=function(t){return"createRange"in t?t.createRange():so.DOM.createRng()},$s=function(t){return t&&/[\r\n\t ]/.test(t)},ta=function(t){return!!t.setStart&&!!t.setEnd},ea=function(t){var e,n=t.startContainer,i=t.startOffset;return!!($s(t.toString())&&Ks(n.parentNode)&&Er.isText(n)&&(e=n.data,$s(e[i-1])||$s(e[i+1])))},na=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},ia=function(t){var e,n;return e=(n=t.getClientRects()).length>0?ks(n[0]):ks(t.getBoundingClientRect()),!ta(t)&&Xs(t)&&na(e)?function(t){var e,n=t.ownerDocument,i=Js(n),r=n.createTextNode(""),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=ks(i.getBoundingClientRect()),o.removeChild(r),e}(t):na(e)&&ta(t)?function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;if(e===n&&Er.isText(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),ia(o)}return null}(t):e},ra=function(t,e){var n=Ds(t,e);return n.width=1,n.right=n.left+1,n},oa=function(t){var e,n,i=[],r=function(t){var e,n;0!==t.height&&(i.length>0&&(e=t,n=i[i.length-1],e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right)||i.push(t))},o=function(t,e){var n=Js(t.ownerDocument);if(e<t.data.length){if(Is(t.data[e]))return i;if(Is(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!ea(n)))return r(ra(ia(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),ea(n)||r(ra(ia(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),ea(n)||r(ra(ia(n),!0)))};if(Gs(t.container()))return o(t.container(),t.offset()),i;if(Us(t.container()))if(t.isAtEnd())n=Qs(t.container(),t.offset()),Gs(n)&&o(n,n.data.length),Zs(n)&&!Xs(n)&&r(ra(ia(n),!1));else{if(n=Qs(t.container(),t.offset()),Gs(n)&&o(n,0),Zs(n)&&t.isAtEnd())return r(ra(ia(n),!1)),i;e=Qs(t.container(),t.offset()-1),Zs(e)&&!Xs(e)&&(Ys(e)||Ys(n)||!Zs(n))&&r(ra(ia(e),!1)),Zs(n)&&r(ra(ia(n),!0))}return i};function sa(t,e,n){var i=function(){return n||(n=oa(sa(t,e))),n};return{container:r(t),offset:r(e),toRange:function(){var n;return(n=Js(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:i,isVisible:function(){return i().length>0},isAtStart:function(){return Gs(t),0===e},isAtEnd:function(){return Gs(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return Qs(t,n?e-1:e)}}}!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Ms(e)+1)},t.before=function(e){return t(e.parentNode,Ms(e))},t.isAbove=function(t,e){return Hs([J(e.getClientRects()),$(t.getClientRects())],Os).getOr(!1)},t.isBelow=function(t,e){return Hs([$(e.getClientRects()),J(t.getClientRects())],Ps).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&Er.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(sa||(sa={}));var aa,ua,la=sa,ca=Er.isText,ha=Er.isBogus,fa=so.nodeIndex,da=function(t){var e=t.parentNode;return ha(e)?da(e):e},pa=function(t){return t?qe.reduce(t.childNodes,function(t,e){return ha(e)&&"BR"!==e.nodeName?t=t.concat(pa(e)):t.push(e),t},[]):[]},ga=function(t){return function(e){return t===e}},ma=function(t){return(ca(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,i;return e=pa(da(t)),n=qe.findIndex(e,ga(t),t),e=e.slice(0,n+1),i=qe.reduce(e,function(t,n,i){return ca(n)&&ca(e[i-1])&&t++,t},0),e=qe.filter(e,Er.matchNodeNames(t.nodeName)),(n=qe.findIndex(e,ga(t),t))-i}(t)+"]"},va=function(t,e){var n,i,r,o,s,a=[];return n=e.container(),i=e.offset(),ca(n)?r=function(t,e){for(;(t=t.previousSibling)&&ca(t);)e+=t.data.length;return e}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(ma(n)),s=function(t,e,n){var i=[];for(e=e.parentNode;!(e===t||n&&n(e));e=e.parentNode)i.push(e);return i}(t,n),s=qe.filter(s,_(Er.isBogus)),(a=a.concat(qe.map(s,function(t){return ma(t)}))).reverse().join("/")+","+r},ya=function(t,e){var n,i,r;return e?(n=e.split(","),e=n[0].split("/"),r=n.length>1?n[1]:"before",(i=qe.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),n=t,i=e[1],r=parseInt(e[2],10),o=pa(n),o=qe.filter(o,function(t,e){return!ca(t)||!ca(o[e-1])}),(o=qe.filter(o,Er.matchNodeNames(i)))[r]):null;var n,i,r,o},t))?ca(i)?function(t,e){for(var n,i=t,r=0;ca(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!ca(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return ca(t)&&e>t.data.length&&(e=t.data.length),la(t,e)}(i,parseInt(r,10)):(r="after"===r?fa(i)+1:fa(i),la(i.parentNode,r)):null):null},ba=Er.isContentEditableFalse,_a=function(t,e,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],u=[],l=0,c=t.getRoot();for(Er.isText(s)?u.push(n?function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&Er.isText(i);i=i.previousSibling)r+=t(i.data).length;return r}(e,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(l=1,a=Math.max(0,o.length-1)),u.push(t.nodeIndex(o[a],n)+l));s&&s!==c;s=s.parentNode)u.push(t.nodeIndex(s,n));return u},wa=function(t){Er.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},Ca=function(t,e,n){var i=0;return Ge.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},Ea=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],Er.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},Sa=function(t){return Ea(t,!0),Ea(t,!1),t},Ta=function(t,e){var n;if(Er.isElement(t)&&(t=Fs(t,e),ba(t)))return t;if(as(t)){if(Er.isText(t)&&os(t)&&(t=t.parentNode),n=t.previousSibling,ba(n))return n;if(n=t.nextSibling,ba(n))return n}},xa=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(ba(i)||"IMG"===r)return{name:r,index:Ca(n.dom,r,i)};var s=function(t){return Ta(t.startContainer,t.startOffset)||Ta(t.endContainer,t.endOffset)}(o);return s?{name:r=s.tagName,index:Ca(n.dom,r,s)}:function(t,e,n,i){var r=e.dom,o={};return o.start=_a(r,t,n,i,!0),e.isCollapsed()||(o.end=_a(r,t,n,i,!1)),o}(t,n,e,o)},ka=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Da=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:Ca(n,a,s)};var u=Sa(i.cloneRange());if(!o){u.collapse(!1);var l=ka(n,r+"_end",e);u.insertNode(l),wa(l.nextSibling)}(i=Sa(i)).collapse(!0);var c=ka(n,r+"_start",e);return i.insertNode(c),wa(c.previousSibling),wa(c.nextSibling),t.moveToBookmark({id:r,keep:1}),{id:r}},Aa={getBookmark:function(t,e,n){return 2===e?xa(ns,n,t):3===e?function(t){var e=t.getRng();return{start:va(t.dom.getRoot(),la.fromRangeStart(e)),end:va(t.dom.getRoot(),la.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):Da(t,!1)},getUndoBookmark:s(xa,o,!0),getPersistentBookmark:Da},Oa=function(t){return Er.isElement(t)&&"_mce_caret"===t.id},Pa=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},Na=Er.isElement,La=Er.isText,Ba=function(t){var e=t.parentNode;e&&e.removeChild(t)},Fa=function(t,e){0===e.length?Ba(t):t.nodeValue=e},Ra=function(t){var e=ns(t);return{count:t.length-e.length,text:e}},Ia=function(t,e){return Wa(t),e},Ha=function(t,e){var n,i,r,o=e.container(),s=(n=tt(o.childNodes),i=t,r=I(n,i),-1===r?D.none():D.some(r)).map(function(t){return t<e.offset()?la(o,e.offset()-1):e}).getOr(e);return Wa(t),s},za=function(t,e){return La(t)&&e.container()===t?function(t,e){var n=Ra(t.data.substr(0,e.offset())),i=Ra(t.data.substr(e.offset())),r=n.text+i.text;return r.length>0?(Fa(t,r),la(t,e.offset()-n.count)):e}(t,e):Ia(t,e)},Wa=function(t){if(Na(t)&&as(t)&&(us(t)?t.removeAttribute("data-mce-caret"):Ba(t)),La(t)){var e=ns(function(t){try{return t.nodeValue}catch(t){return""}}(t));Fa(t,e)}},ja={removeAndReposition:function(t,e){return la.isTextPosition(e)?za(t,e):function(t,e){return e.container()===t.parentNode?Ha(t,e):Ia(t,e)}(t,e)},remove:Wa},Ua=Gn.detect().browser,qa=Er.isContentEditableFalse,Ya=function(t,e,n){var i,r,o,s,a,u=Ds(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),r=t.scrollLeft-a.left,o=t.scrollTop-a.top),u.left+=r,u.right+=r,u.top+=o,u.bottom+=o,u.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u},Va=function(t,e,n){var i,r,o=So(D.none()),s=function(){!function(t){var e,n,i,r,o;for(e=pn("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,ds(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,fs(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}(t),r&&(ja.remove(r),r=null),o.get().each(function(t){pn(t.caret).remove(),o.set(D.none())}),clearInterval(i)},a=function(){i=gt.setInterval(function(){n()?pn("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):pn("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:function(n,i){var u,l,c;if(s(),c=i,Er.isElement(c)&&/^(TD|TH)$/i.test(c.tagName))return null;if(!e(i))return r=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(es),r=t.parentNode,e){if(n=t.previousSibling,rs(n)){if(as(n))return n;if(ds(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(n=t.nextSibling,rs(n)){if(as(n))return n;if(fs(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i}(i,n),l=i.ownerDocument.createRange(),qa(r.nextSibling)?(l.setStart(r,0),l.setEnd(r,0)):(l.setStart(r,1),l.setEnd(r,1)),l;r=hs("p",i,n),u=Ya(t,i,n),pn(r).css("top",u.top);var h=pn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(t)[0];return o.set(D.some({caret:h,element:i,before:n})),o.get().each(function(t){n&&pn(t.caret).addClass("mce-visual-caret-before")}),a(),(l=i.ownerDocument.createRange()).setStart(r,0),l.setEnd(r,0),l},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each(function(e){var n=Ya(t,e.element,e.before);pn(e.caret).css(n)})},destroy:function(){return gt.clearInterval(i)}}},Za=function(){return Ua.isIE()||Ua.isEdge()||Ua.isFirefox()},Ka=function(t){return qa(t)||Er.isTable(t)&&Za()},Ga=(aa="",function(t){return aa===t}),Xa=function(t){return/^[\r\n\t ]$/.test(t)},Ma=function(t){return!Xa(t)&&!Ga(t)},Qa=Er.isContentEditableFalse,Ja=Er.matchStyleValues("display","block table table-cell table-caption list-item"),$a=as,tu=os,eu=Er.isElement,nu=Es,iu=function(t){return t>0},ru=function(t){return t<0},ou=function(t,e){for(var n;n=t(e);)if(!tu(n))return n;return null},su=function(t,e,n,i,r){var o=new Qi(t,i);if(ru(e)){if((Qa(t)||tu(t))&&n(t=ou(o.prev,!0)))return t;for(;t=ou(o.prev,r);)if(n(t))return t}if(iu(e)){if((Qa(t)||tu(t))&&n(t=ou(o.next,!0)))return t;for(;t=ou(o.next,r);)if(n(t))return t}return null},au=function(t,e){for(;t&&t!==e;){if(Ja(t))return t;t=t.parentNode}return null},uu=function(t,e,n){return au(t.container(),n)===au(e.container(),n)},lu=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),eu(n)?n.childNodes[i+t]:null):null},cu=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},hu=function(t,e,n){return au(e,t)===au(n,t)},fu=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],$a(i)&&(i=i[r]),Qa(i)){if(hu(e,i,n))return i;break}if(nu(i))break;n=n.parentNode}return null},du=s(cu,!0),pu=s(cu,!1),gu=function(t,e,n){var i,r,o,a,u=s(fu,!0,e),l=s(fu,!1,e);if(r=n.startContainer,o=n.startOffset,os(r)){if(eu(r)||(r=r.parentNode),"before"===(a=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Ka(i)))return du(i);if("after"===a&&(i=r.previousSibling,Ka(i)))return pu(i)}if(!n.collapsed)return n;if(Er.isText(r)){if($a(r)){if(1===t){if(i=l(r))return du(i);if(i=u(r))return pu(i)}if(-1===t){if(i=u(r))return pu(i);if(i=l(r))return du(i)}return n}if(ds(r)&&o>=r.data.length-1)return 1===t&&(i=l(r))?du(i):n;if(fs(r)&&o<=1)return-1===t&&(i=u(r))?pu(i):n;if(o===r.data.length)return(i=l(r))?du(i):n;if(0===o)return(i=u(r))?pu(i):n}return n},mu=function(t,e){var n=lu(t,e);return Qa(n)&&!Er.isBogusAll(n)},vu=function(t,e){return Er.isTable(lu(t,e))},yu=function(t,e){return D.from(lu(t?0:-1,e)).filter(Qa)},bu=function(t,e,n){var i=gu(t,e,n);return-1===t?sa.fromRangeStart(i):sa.fromRangeEnd(i)},_u=s(mu,0),wu=s(mu,-1),Cu=s(vu,0),Eu=s(vu,-1),Su=function(t,e,n){return D.from(n.container()).filter(Er.isText).exists(function(i){var r=t?0:-1;return e(i.data.charAt(n.offset()+r))})},Tu=s(Su,!0,Xa),xu=s(Su,!1,Xa),ku=function(t){return D.from(t.getNode()).map(Mn.fromDom)};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(ua||(ua={}));var Du=Er.isContentEditableFalse,Au=Er.isText,Ou=Er.isElement,Pu=Er.isBr,Nu=Es,Lu=function(t){return _s(t)||function(t){return!!Ss(t)&&!0!==q(tt(t.getElementsByTagName("*")),function(t,e){return t||gs(e)},!1)}(t)},Bu=Ts,Fu=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Ru=function(t,e){if(iu(t)){if(Nu(e.previousSibling)&&!Au(e.previousSibling))return la.before(e);if(Au(e))return la(e,0)}if(ru(t)){if(Nu(e.nextSibling)&&!Au(e.nextSibling))return la.after(e);if(Au(e))return la(e,e.data.length)}return ru(t)?Pu(e)?la.before(e):la.after(e):la.before(e)},Iu=function(t,e,n){var i,o,s,a,u;if(!Ou(n)||!e)return null;if(e.isEqual(la.after(n))&&n.lastChild){if(u=la.after(n.lastChild),ru(t)&&Nu(n.lastChild)&&Ou(n.lastChild))return Pu(n.lastChild)?la.before(n.lastChild):u}else u=e;var l=u.container(),c=u.offset();if(Au(l)){if(ru(t)&&c>0)return la(l,--c);if(iu(t)&&c<l.length)return la(l,++c);i=l}else{if(ru(t)&&c>0&&(o=Fu(l,c-1),Nu(o)))return!Lu(o)&&(s=su(o,t,Bu,o))?Au(s)?la(s,s.data.length):la.after(s):Au(o)?la(o,o.data.length):la.before(o);if(iu(t)&&c<l.childNodes.length&&(o=Fu(l,c),Nu(o)))return Pu(o)?function(t,e){var n=e.nextSibling;return n&&Nu(n)?Au(n)?la(n,0):la.before(n):Iu(ua.Forwards,la.after(e),t)}(n,o):!Lu(o)&&(s=su(o,t,Bu,o))?Au(s)?la(s,0):la.before(s):Au(o)?la(o,0):la.after(o);i=o||u.getNode()}return(iu(t)&&u.isAtEnd()||ru(t)&&u.isAtStart())&&(i=su(i,t,r(!0),n,!0),Bu(i,n))?Ru(t,i):(o=su(i,t,Bu,n),!(a=qe.last(U(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(l,n),Du)))||o&&a.contains(o)?o?Ru(t,o):null:u=iu(t)?la.after(a):la.before(a))},Hu=function(t){return{next:function(e){return Iu(ua.Forwards,e,t)},prev:function(e){return Iu(ua.Backwards,e,t)}}},zu=function(t){return la.isTextPosition(t)?0===t.offset():Es(t.getNode())},Wu=function(t){if(la.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Es(t.getNode(!0))},ju=function(t,e){return!la.isTextPosition(t)&&!la.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Uu=function(t,e,n){return t?!ju(e,n)&&(i=e,!(!la.isTextPosition(i)&&Er.isBr(i.getNode())))&&Wu(e)&&zu(n):!ju(n,e)&&zu(e)&&Wu(n);var i},qu=function(t,e,n){var i=Hu(e);return D.from(t?i.next(n):i.prev(n))},Yu=function(t,e){var n,i=t?e.firstChild:e.lastChild;return Er.isText(i)?D.some(la(i,t?0:i.data.length)):i?Es(i)?D.some(t?la.before(i):(n=i,Er.isBr(n)?la.before(n):la.after(n))):function(t,e,n){var i=t?la.before(n):la.after(n);return qu(t,e,i)}(t,e,i):D.none()},Vu=s(qu,!0),Zu=s(qu,!1),Ku={fromPosition:qu,nextPosition:Vu,prevPosition:Zu,navigate:function(t,e,n){return qu(t,e,n).bind(function(i){return uu(n,i,e)&&Uu(t,n,i)?qu(t,e,i):D.some(i)})},positionIn:Yu,firstPositionIn:s(Yu,!0),lastPositionIn:s(Yu,!1)},Gu=function(t,e){return!t.isBlock(e)||e.innerHTML||ct.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},Xu=function(t,e){return Ku.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},Mu=function(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!Pa(t,e)||(function(t,e){var n=t.ownerDocument.createTextNode(es);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),0))},Qu=function(t,e,n,i){var r,o,s,a,u=n[e?"start":"end"],l=t.getRoot();if(u){for(s=u[0],o=l,r=u.length-1;r>=1;r--){if(a=o.childNodes,Mu(l,o,i))return!0;if(u[r]>a.length-1)return!!Mu(l,o,i)||Xu(o,i);o=a[u[r]]}3===o.nodeType&&(s=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(u[0],o.childNodes.length)),e?i.setStart(o,s):i.setEnd(o,s)}return!0},Ju=function(t){return Er.isText(t)&&t.data.length>0},$u=function(t,e,n){var i,r,o,s,a,u,l=t.get(n.id+"_"+e),c=n.keep;if(l){if(i=l.parentNode,"start"===e?(c?l.hasChildNodes()?(i=l.firstChild,r=1):Ju(l.nextSibling)?(i=l.nextSibling,r=0):Ju(l.previousSibling)?(i=l.previousSibling,r=l.previousSibling.data.length):(i=l.parentNode,r=t.nodeIndex(l)+1):r=t.nodeIndex(l),a=i,u=r):(c?l.hasChildNodes()?(i=l.firstChild,r=1):Ju(l.previousSibling)?(i=l.previousSibling,r=l.previousSibling.data.length):(i=l.parentNode,r=t.nodeIndex(l)):r=t.nodeIndex(l),a=i,u=r),!c){for(s=l.previousSibling,o=l.nextSibling,Ge.each(Ge.grep(l.childNodes),function(t){Er.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});l=t.get(n.id+"_"+e);)t.remove(l,!0);s&&o&&s.nodeType===o.nodeType&&Er.isText(s)&&!ct.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,u=r)}return D.some(la(a,u))}return D.none()},tl=function(t,e){var n=t.dom;if(e){if(function(t){return Ge.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return Qu(t,!0,e,n)&&Qu(t,!1,e,n)?D.some(n):D.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return D.some(function(t,e){var n,i;return n=t.createRng(),i=ya(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=ya(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n,i,r=$u(t,"start",e),o=$u(t,"end",e);return Hs([r,(n=o,i=r,n.isSome()?n:i)],function(e,n){var i=t.createRng();return i.setStart(Gu(t,e.container()),e.offset()),i.setEnd(Gu(t,n.container()),n.offset()),i})}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return D.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return D.some(e.rng)}return D.none()},el={getBookmark:function(t,e,n){return Aa.getBookmark(t,e,n)},moveToBookmark:function(t,e){tl(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(t){return Er.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},nl=function(t){return t&&/^(IMG)$/.test(t.nodeName)},il=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},rl=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},ol={isInlineBlock:nl,moveStart:function(t,e,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!nl(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new Qi(a=o[s],t.getParent(a,t.isBlock)):(i=new Qi(a=o[o.length-1],t.getParent(a,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!il(r))return n.setStart(r,0),void e.setRng(n)},getNonWhiteSpaceSibling:function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!il(t))return t},isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:il,replaceVars:function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:rl,getStyle:function(t,e,n){return rl(t,t.getStyle(e,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},sl=el.isBookmarkNode,al=ol.getParents,ul=ol.isWhiteSpaceNode,ll=ol.isTextBlock,cl=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},hl=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},fl=function(t,e,n,i){var r,o,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?-1!==(r=(r=s.lastIndexOf(" ",i))>(o=s.lastIndexOf("",i))?r:o)&&!e&&(r<i||!t)&&r<=s.length&&r++:(r=s.indexOf(" ",i),o=s.indexOf("",i),r=-1!==r&&(-1===o||r<o)?r:o),r},dl=function(t,e,n,i,r,o){var s,a,u,l;if(3===n.nodeType){if(-1!==(u=fl(r,o,n,i)))return{container:n,offset:u};l=n}for(s=new Qi(n,t.getParent(n,t.isBlock)||e);a=s[r?"prev":"next"]();)if(3!==a.nodeType||sl(a.parentNode)){if(t.isBlock(a)||ol.isEq(a,"BR"))break}else if(l=a,-1!==(u=fl(r,o,a)))return{container:a,offset:u};if(l)return{container:l,offset:i=r?0:l.length}},pl=function(t,e,n,i,r){var o,s,a,u;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=al(t,i),s=0;s<o.length;s++)for(a=0;a<e.length;a++)if(!("collapsed"in(u=e[a])&&u.collapsed!==n.collapsed)&&t.is(o[s],u.selector))return o[s];return i},gl=function(t,e,n,i){var r,o=t.dom,s=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==s&&ll(t,e)},a)}if(r&&e[0].wrapper&&(r=al(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!ol.isEq(r,"br")););return r||n},ml=function(t,e,n,i,r,o,s){var a,u,l,c,h,f;if(a=u=s?n:r,c=s?"previousSibling":"nextSibling",h=t.getRoot(),3===a.nodeType&&!ul(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(u))return u;for(l=u[c];l;l=l[c])if(!sl(l)&&!ul(l)&&("BR"!==(f=l).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return u;if(u===h||u.parentNode===h){a=u;break}u=u.parentNode}return a},vl=function(t,e,n,i){var r,o=e.startContainer,s=e.startOffset,a=e.endContainer,u=e.endOffset,l=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Fs(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Fs(a,e.collapsed?u:u-1)).nodeType&&(u=a.nodeValue.length),o=hl(l,o),a=hl(l,a),(sl(o.parentNode)||sl(o))&&(o=sl(o)?o:o.parentNode,3===(o=e.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(s=e.collapsed?o.length:0)),(sl(a.parentNode)||sl(a))&&(a=sl(a)?a:a.parentNode,3===(a=e.collapsed?a.nextSibling||a:a.previousSibling||a).nodeType&&(u=e.collapsed?0:a.length)),e.collapsed&&((r=dl(l,t.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=dl(l,t.getBody(),a,u,!1,i))&&(a=r.container,u=r.offset)),n[0].inline&&(a=i?a:function(t,e){var n=cl(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=cl(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node).splitText(n.offset-1)}return t}(a,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=ml(l,n,o,s,a,u,!0)),n[0].inline&&3===a.nodeType&&u!==a.nodeValue.length||(a=ml(l,n,o,s,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=pl(l,n,e,o,"previousSibling"),a=pl(l,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=gl(t,n,o,"previousSibling"),a=gl(t,n,a,"nextSibling"),n[0].block&&(l.isBlock(o)||(o=ml(l,n,o,s,a,u,!0)),l.isBlock(a)||(a=ml(l,n,o,s,a,u,!1)))),1===o.nodeType&&(s=l.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(u=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:u}},yl=Ge.each,bl={walk:function(t,e,n){var i,r,o,s,a,u,l,c=e.startContainer,h=e.startOffset,f=e.endContainer,d=e.endOffset;if((l=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)yl(l,function(t){n([t])});else{var p,g,m,v=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&h>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===d&&t.length>0&&e===f&&3===e.nodeType&&t.splice(t.length-1,1),t},y=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},b=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},_=function(t,e,i){var r=i?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(u=y(s===t?s:s[r],r)).length&&(i||u.reverse(),n(v(u)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[h]),1===f.nodeType&&f.hasChildNodes()&&(g=d,m=(p=f).childNodes,--g>m.length-1?g=m.length-1:g<0&&(g=0),f=m[g]||p),c===f)return n(v([c]));for(i=t.findCommonAncestor(c,f),s=c;s;s=s.parentNode){if(s===f)return _(c,i,!0);if(s===i)break}for(s=f;s;s=s.parentNode){if(s===c)return _(f,i);if(s===i)break}r=b(c,i)||c,o=b(f,i)||f,_(c,r,!0),(u=y(r===c?r:r.nextSibling,"nextSibling",o===f?o.nextSibling:o)).length&&n(v(u)),_(f,o)}}},_l=function(t,e){var n=function(e){return t(e)?D.from(e.dom().nodeValue):D.none()},i=Gn.detect().browser,r=i.isIE()&&10===i.version.major?function(t){try{return n(t)}catch(t){return D.none()}}:n;return{get:function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},getOption:r,set:function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=i}}}(ii,"text"),wl=function(t){return _l.get(t)},Cl=function(t,e,n,i){return Oi(e).fold(function(){return"skipping"},function(r){return"br"===i||function(t){return ii(t)&&"\ufeff"===wl(t)}(e)?"valid":function(t){return ni(t)&&Po(t,Wo())}(e)?"existing":Oa(e)?"caret":ol.isValid(t,n,i)&&ol.isValid(t,ti(r),n)?"valid":"invalid-child"})},El=function(t,e,n,i){var r,o,s=e.uid,a=void 0===s?(r="mce-annotation",o=(new Date).getTime(),r+"_"+Math.floor(1e9*Math.random())+ ++Xo+String(o)):s,u=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}(e,["uid"]),l=Mn.fromTag("span",t);Ao(l,Wo()),ci(l,""+Uo(),a),ci(l,""+jo(),n);var c=i(a,u),h=c.attributes,f=void 0===h?{}:h,d=c.classes,p=void 0===d?[]:d;return hi(l,f),function(t,e){W(e,function(e){Ao(t,e)})}(l,p),l},Sl=function(t,e,n,i,r){var o=[],s=El(t.getDoc(),r,n,i),a=So(D.none()),u=function(){a.set(D.none())},l=function(t){W(t,c)},c=function(e){var n,i;switch(Cl(t,e,"span",ti(e))){case"invalid-child":u();var r=Fi(e);l(r),u();break;case"valid":var a=i.get().getOrThunk(function(){var t=Qo(s);return o.push(t),i.set(D.some(t)),t});go(n=e,i=a),yo(i,n)}};return bl.walk(t.dom,e,function(t){u(),function(t){var e=z(t,Mn.fromDom);l(e)}(t)}),o},Tl=function(t,e,n,i){t.undoManager.transact(function(){var r=t.selection.getRng();if(r.collapsed&&function(t,e){var n=vl(t,e,[{inline:!0}],function(t){return 3===t.startContainer.nodeType&&t.startContainer.nodeValue.length>=t.startOffset&&""===t.startContainer.nodeValue[t.startOffset]}(e));e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,r),t.selection.getRng().collapsed){var o=El(t.getDoc(),i,e,n.decorate);$o(o,""),t.selection.getRng().insertNode(o.dom()),t.selection.select(o.dom())}else{var s=Aa.getPersistentBookmark(t.selection,!1),a=t.selection.getRng();Sl(t,a,e,n.decorate,i),t.selection.moveToBookmark(s)}})};function xl(t){var e=Go();Ko(t,e);var n=Zo(t,e);return{register:function(t,n){e.register(t,n)},annotate:function(n,i){e.lookup(n).each(function(e){Tl(t,n,e,i)})},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){qo(t,D.some(e)).each(function(t){var e=t.elements;W(e,Co)})},getAll:function(e){var n=Vo(t,e);return ai(n,function(t){return z(t,function(t){return t.dom()})})}}}var kl=function(t){return Ge.grep(t.childNodes,function(t){return"LI"===t.nodeName})},Dl=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return""===t.data||Er.isBr(t)}(t.firstChild)},Al=function(t){return t.length>0&&(!(e=t[t.length-1]).firstChild||Dl(e))?t.slice(0,-1):t;var e},Ol=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Pl=function(t,e){var n=la.after(t),i=Hu(e).prev(n);return i?i.toRange():null},Nl=function(t,e,n){var i=t.parentNode;return Ge.each(e,function(e){i.insertBefore(e,t)}),function(t,e){var n=la.before(t),i=Hu(e).next(n);return i?i.toRange():null}(t,n)},Ll=function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||""===t.value}(e.firstChild)}(t,e))}(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},Bl=function(t,e,n,i){var r=function(t,e,n){var i=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(i))}(e,t,i),o=Ol(e,n.startContainer),s=Al(kl(r.firstChild)),a=e.getRoot(),u=function(t){var i=la.fromRangeStart(n),r=Hu(e.getRoot()),s=1===t?r.prev(i):r.next(i);return!s||Ol(e,s.getNode())!==o};return u(1)?Nl(o,s,a):u(2)?function(t,e,n,i){return i.insertAfter(e.reverse(),t),Pl(e[0],n)}(o,s,a,e):function(t,e,n,i){var r=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]}(t,i),o=t.parentNode;return o.insertBefore(r[0],t),Ge.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),Pl(e[e.length-1],n)}(o,s,a,n)},Fl=function(t,e){return!!Ol(t,e)},Rl=Ge.each,Il=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return Rl(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n},r=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!(!r(i(e),i(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||el.isBookmarkNode(e)||el.isBookmarkNode(n))}},Hl=function(t){var e=Lo(t,"br"),n=U(function(t){for(var e=[],n=t.dom();n;)e.push(Mn.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),or);e.length===n.length&&W(n,wo)},zl=function(t){_o(t),yo(t,Mn.fromHtml('<br data-mce-bogus="1">'))},Wl=function(t){Hi(t).each(function(e){Pi(e).each(function(n){ir(t)&&or(e)&&ir(n)&&wo(e)})})},jl=Ge.makeMap;function Ul(t){var e,n,i,r,o,s=[];return e=(t=t||{}).indent,n=jl(t.indent_before||""),i=jl(t.indent_after||""),r=Ir.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,a,u){var l,c,h,f;if(e&&n[t]&&s.length>0&&(f=s[s.length-1]).length>0&&"\n"!==f&&s.push("\n"),s.push("<",t),a)for(l=0,c=a.length;l<c;l++)h=a[l],s.push(" ",h.name,'="',r(h.value,!0),'"');s[s.length]=!u||o?">":" />",u&&e&&i[t]&&s.length>0&&(f=s[s.length-1]).length>0&&"\n"!==f&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&i[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:r(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?s.push("<?",t," ",r(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function ql(t,e){void 0===e&&(e=Gr());var n=Ul(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(i){var r,o;o=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var i,a,u,l,c,h,f,d,p,g=r[t.type];if(g)g(t);else{if(i=t.name,a=t.shortEnded,u=t.attributes,o&&u&&u.length>1&&((h=[]).map={},p=e.getElementRule(t.name))){for(f=0,d=p.attributesOrder.length;f<d;f++)(l=p.attributesOrder[f])in u.map&&(c=u.map[l],h.map[l]=c,h.push({name:l,value:c}));for(f=0,d=u.length;f<d;f++)(l=u[f].name)in h.map||(c=u.map[l],h.map[l]=c,h.push({name:l,value:c}));u=h}if(n.start(t.name,u,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(i)}}};return 1!==i.type||t.inner?r[11](i):s(i),n.getContent()}}}var Yl=function(t){var e=la.fromRangeStart(t),n=la.fromRangeEnd(t),i=t.commonAncestorContainer;return Ku.fromPosition(!1,i,n).map(function(r){return!uu(e,n,i)&&uu(e,r,i)?function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r}(e.container(),e.offset(),r.container(),r.offset()):t}).getOr(t)},Vl=function(t){return t.collapsed?t:Yl(t)},Zl=Er.matchNodeNames("td th"),Kl=function(t,e){var n=t.selection.getRng(),i=n.startContainer,r=n.startOffset;n.collapsed&&function(t,e){return Er.isText(t)&&""===t.nodeValue[e-1]}(i,r)&&Er.isText(i)&&(i.insertData(r-1," "),i.deleteData(r,1),n.setStart(i,r),n.setEnd(i,r),t.selection.setRng(n)),t.selection.setContent(e)},Gl=function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p=t.selection,g=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,i;n=t.startContainer,i=t.startOffset;var r=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(p.getRng(),e)),i=t.parser,d=n.merge,r=ql({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:e,format:"html",selection:!0,paste:n.paste},(u=t.fire("BeforeSetContent",u)).isDefaultPrevented())t.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=u.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var m=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),v=t.getBody();m===v&&p.isCollapsed()&&g.isBlock(v.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,v.firstChild)&&g.isEmpty(v.firstChild)&&((c=g.createRng()).setStart(v.firstChild,0),c.setEnd(v.firstChild,0),p.setRng(c)),p.isCollapsed()||(t.selection.setRng(Vl(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=function(t,e){var n,i;return n=t.startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&(""===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):""===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var y,b={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,b),!0===n.paste&&Ll(t.schema,a)&&Fl(g,o))return c=Bl(r,g,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",u);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(a),"mce_marker"===(h=a.lastChild).attr("id"))for(l=h,h=h.prev;h;h=h.walk(!0))if(3===h.type||!g.isBlock(h.name)){t.schema.isValidChild(h.parent.name,"span")&&h.parent.insert(l,h,"br"===h.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),b.invalid){for(Kl(t,f),o=p.getNode(),s=t.getBody(),9===o.nodeType?o=h=s:h=o;h!==s;)o=h,h=h.parentNode;e=o===s?s.innerHTML:g.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(a)}))),o===s?g.setHTML(s,e):g.setOuterHTML(o,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):Kl(t,e)}}(t,e=r.serialize(a),o);!function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var r=t.getBody(),o=new Il(i);Ge.each(i.select("*[data-mce-fragment]"),function(t){for(var e=t.parentNode;e&&e!==r;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&i.remove(t,!0)})}}(t,d),function(t,e){var n,i,r,o,s,a=t.dom,u=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return a.remove(e),void u.select(n);var l=a.createRng();(o=e.previousSibling)&&3===o.nodeType?(l.setStart(o,o.nodeValue.length),ct.ie||(s=e.nextSibling)&&3===s.nodeType&&(o.appendData(s.data),s.parentNode.removeChild(s))):(l.setStartBefore(e),l.setEndBefore(e)),i=a.getParent(e,a.isBlock),a.remove(e),i&&a.isEmpty(i)&&(t.$(i).empty(),l.setStart(i,0),l.setEnd(i,0),Zl(i)||function(t){return!!t.getAttribute("data-mce-fragment")}(i)||!(r=function(e){var n=la.fromRangeStart(e);if(n=Hu(t.getBody()).next(n))return n.toRange()}(l))?a.add(i,a.create("br",{"data-mce-bogus":"1"})):(l=r,a.remove(i))),u.setRng(l)}}(t,g.get("mce_marker")),y=t.getBody(),Ge.each(y.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")}),function(t,e){D.from(t.getParent(e,"td,th")).map(Mn.fromDom).each(Wl)}(t.dom,t.selection.getStart()),t.fire("SetContent",u),t.addVisual()}},Xl={insertAtCaret:function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=Ge.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);Gl(t,n.content,n.details)}},Ml=yi("sections","settings"),Ql=Gn.detect(),Jl=Ql.deviceType.isTouch(),$l=["lists","autolink","autosave"],tc={theme:"mobile"},ec=function(t){var e=N(t)?t.join(" "):t,n=z(O(e)?e.split(" "):[],Wn);return U(n,function(t){return t.length>0})},nc=function(t,e){var n,i,r,o=(n=function(e,n){return H(t,n)},i={},r={},si(e,function(t,e){(n(t,e)?i:r)[e]=t}),{t:i,f:r});return Ml(o.t,o.f)},ic=function(t,e){return t.sections().hasOwnProperty(e)},rc=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?Ge.extend({},t.external_plugins,n):n},oc=function(t,e,n,i){var r=ec(n.forced_plugins),o=ec(i.plugins),a=function(t,e){return[].concat(ec(t)).concat(ec(e))}(r,t&&ic(e,"mobile")?function(t){return U(t,s(H,$l))}(o):o);return Ge.extend(i,{plugins:a.join(" ")})},sc=function(t,e,n,i){var r=nc(["mobile"],i),o=Ge.extend(e,n,r.settings(),function(t,e){var n=e.settings().inline;return t&&ic(e,"mobile")&&!n}(t,r)?function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return Ge.extend({},n,r)}(r,"mobile",tc):{},{validate:!0,content_editable:r.settings().inline,external_plugins:rc(n,r.settings())});return oc(t,r,n,o)},ac=function(t,e,n){return D.from(e.settings[n]).filter(t)},uc=s(ac,O),lc=function(t,e,n,i){var r,o=e in t.settings?t.settings[e]:n;return"hash"===i?function(t){var e={};return"string"==typeof t?W(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=");n.length>1?e[Ge.trim(n[0])]=Ge.trim(n[1]):e[Ge.trim(n[0])]=Ge.trim(n)}):e=t,e}(o):"string"===i?ac(O,t,e).getOr(n):"number"===i?ac(R,t,e).getOr(n):"boolean"===i?ac(B,t,e).getOr(n):"object"===i?ac(P,t,e).getOr(n):"array"===i?ac(N,t,e).getOr(n):"string[]"===i?ac((r=O,function(t){return N(t)&&X(t,r)}),t,e).getOr(n):"function"===i?ac(F,t,e).getOr(n):o},cc=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,hc=function(t,e){var n=e.container(),i=e.offset();return t?ss(n)?Er.isText(n.nextSibling)?la(n.nextSibling,0):la.after(n):ls(e)?la(n,i+1):e:ss(n)?Er.isText(n.previousSibling)?la(n.previousSibling,n.previousSibling.data.length):la.before(n):cs(e)?la(n,i-1):e},fc=s(hc,!0),dc=s(hc,!1),pc={isInlineTarget:function(t,e){var n=uc(t,"inline_boundaries_selector").getOr("a[href],code");return Ti(Mn.fromDom(e),n)},findRootInline:function(t,e,n){var i=function(t,e,n){return U(so.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return D.from(i[i.length-1])},isRtl:function(t){return"rtl"===so.DOM.getStyle(t,"direction",!0)||(e=t.textContent,cc.test(e));var e},isAtZwsp:function(t){return ls(t)||cs(t)},normalizePosition:hc,normalizeForwards:fc,normalizeBackwards:dc,hasSameParentBlock:function(t,e,n){var i=au(e,t),r=au(n,t);return i&&i===r}},gc=function(t,e){return Di(t,e)?Ro(e,function(t){return sr(t)||ur(t)},function(t){return function(e){return ki(t,Mn.fromDom(e.dom().parentNode))}}(t)):D.none()},mc=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},vc=function(t,e,n){return Hs([Ku.firstPositionIn(n),Ku.lastPositionIn(n)],function(i,r){var o=pc.normalizePosition(!0,i),s=pc.normalizePosition(!1,r),a=pc.normalizePosition(!1,e);return t?Ku.nextPosition(n,a).map(function(t){return t.isEqual(s)&&e.isEqual(o)}).getOr(!1):Ku.prevPosition(n,a).map(function(t){return t.isEqual(o)&&e.isEqual(s)}).getOr(!1)}).getOr(!0)},yc=function(t,e){var n,i,r,o=Mn.fromDom(t),a=Mn.fromDom(e);return n=a,i="pre,code",r=s(ki,o),Io(n,i,r).isSome()},bc=function(t,e){return Es(e)&&!1===function(t,e){return Er.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===yc(t,e)}(t,e)||function(t){return Er.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||_c(e)},_c=Er.hasAttribute("data-mce-bookmark"),wc=Er.hasAttribute("data-mce-bogus"),Cc=Er.hasAttributeValue("data-mce-bogus","all"),Ec=function(t){return function(t){var e,n,i=0;if(bc(t,t))return!1;if(!(n=t.firstChild))return!0;e=new Qi(n,t);do{if(Cc(n))n=e.next(!0);else if(wc(n))n=e.next();else if(Er.isBr(n))i++,n=e.next();else{if(bc(t,n))return!1;n=e.next()}}while(n);return i<=1}(t.dom())},Sc=yi("block","position"),Tc=yi("from","to"),xc=function(t,e){var n=Mn.fromDom(t),i=Mn.fromDom(e.container());return gc(n,i).map(function(t){return Sc(t,e)})},kc=function(t,e,n){var i=xc(t,la.fromRangeStart(n)),r=i.bind(function(n){return Ku.fromPosition(e,t,n.position()).bind(function(n){return xc(t,n).map(function(n){return function(t,e,n){return Er.isBr(n.position().getNode())&&!1===Ec(n.block())?Ku.positionIn(!1,n.block().dom()).bind(function(i){return i.isEqual(n.position())?Ku.fromPosition(e,t,i).bind(function(e){return xc(t,e)}):D.some(n)}).getOr(n):n}(t,e,n)})})});return Hs([i,r],Tc).filter(function(t){return function(t){return!1===ki(t.from().block(),t.to().block())}(t)&&function(t){return Oi(t.from().block()).bind(function(e){return Oi(t.to().block()).filter(function(t){return ki(e,t)})}).isSome()}(t)&&function(t){return!1===Er.isContentEditableFalse(t.from().block())&&!1===Er.isContentEditableFalse(t.to().block())}(t)})},Dc=function(t,e,n){return n.collapsed?kc(t,e,n):D.none()},Ac=function(t,e,n){return Di(e,t)?function(t,e){for(var n=F(e)?e:r(!1),i=t.dom(),o=[];null!==i.parentNode&&void 0!==i.parentNode;){var s=i.parentNode,a=Mn.fromDom(s);if(o.push(a),!0===n(a))break;i=s}return o}(t,function(t){return n(t)||ki(t,e)}).slice(0,-1):[]},Oc=function(t,e){return Ac(t,e,r(!1))},Pc=Oc,Nc=function(t,e){return[t].concat(Oc(t,e))},Lc=function(t){var e=function(t){var e=Fi(t);return V(e,ir).fold(function(){return e},function(t){return e.slice(0,t)})}(t);return W(e,wo),e},Bc=function(t,e){var n=Nc(e,t);return Y(n.reverse(),Ec).each(wo)},Fc=function(t,e,n,i){if(Ec(n))return zl(n),Ku.firstPositionIn(n.dom());0===U(Li(i),function(t){return!Ec(t)}).length&&Ec(e)&&go(i,Mn.fromTag("br"));var r=Ku.prevPosition(n.dom(),la.before(i.dom()));return W(Lc(e),function(t){go(i,t)}),Bc(t,e),r},Rc=function(t,e,n){if(Ec(n))return wo(n),Ec(e)&&zl(e),Ku.firstPositionIn(e.dom());var i=Ku.lastPositionIn(n.dom());return W(Lc(e),function(t){yo(n,t)}),Bc(t,e),i},Ic=function(t,e){return Di(e,t)?function(t,e){var n=Nc(e,t);return D.from(n[n.length-1])}(e,t):D.none()},Hc=function(t,e){Ku.positionIn(t,e.dom()).map(function(t){return t.getNode()}).map(Mn.fromDom).filter(or).each(wo)},zc=function(t,e,n){return Hc(!0,e),Hc(!1,n),Ic(e,n).fold(s(Rc,t,e,n),s(Fc,t,e,n))},Wc=function(t,e,n,i){return e?zc(t,i,n):zc(t,n,i)},jc=function(t,e){var n,i=Mn.fromDom(t.getBody());return(n=Dc(i.dom(),e,t.selection.getRng()).bind(function(t){return Wc(i,e,t.from().block(),t.to().block())})).each(function(e){t.selection.setRng(e.toRange())}),n.isSome()},Uc=function(t,e){var n=Mn.fromDom(e),i=s(ki,t);return Fo(n,hr,i).isSome()},qc=function(t,e){var n=Ku.prevPosition(t.dom(),la.fromRangeStart(e)).isNone(),i=Ku.nextPosition(t.dom(),la.fromRangeEnd(e)).isNone();return!function(t,e){return Uc(t,e.startContainer)||Uc(t,e.endContainer)}(t,e)&&n&&i},Yc=function(t){var e=Mn.fromDom(t.getBody()),n=t.selection.getRng();return qc(e,n)?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return Hs([gc(t,Mn.fromDom(n.startContainer)),gc(t,Mn.fromDom(n.endContainer))],function(i,r){return!1===ki(i,r)&&(n.deleteContents(),Wc(t,!0,i,r).each(function(t){e.setRng(t.toRange())}),!0)}).getOr(!1)}(e,t.selection)},Vc=function(t,e){return!t.selection.isCollapsed()&&Yc(t)},Zc=function(t){if(!N(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return W(t,function(i,r){var o=ri(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!N(a))throw new Error("case arguments must be an array");e.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[r].apply(null,i)},match:function(t){var n=ri(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!X(e,function(t){return H(n,t)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,i)},log:function(t){console.log(t,{constructors:e,constructor:s,params:i})}}}}),n},Kc=function(t){return ku(t).exists(or)},Gc=function(t,e,n){var i=U(Nc(Mn.fromDom(n.container()),e),ir),r=J(i).getOr(e);return Ku.fromPosition(t,r.dom(),n).filter(Kc)},Xc=function(t,e){return ku(e).exists(or)||Gc(!0,t,e).isSome()},Mc=function(t,e){return function(t){return D.from(t.getNode(!0)).map(Mn.fromDom)}(e).exists(or)||Gc(!1,t,e).isSome()},Qc=s(Gc,!1),Jc=s(Gc,!0),$c=Zc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),th=function(t,e,n,i){var r=i.getNode(!1===e);return gc(Mn.fromDom(t),Mn.fromDom(n.getNode())).map(function(t){return Ec(t)?$c.remove(t.dom()):$c.moveToElement(r)}).orThunk(function(){return D.some($c.moveToElement(r))})},eh=function(t,e,n){return Ku.fromPosition(e,t,n).bind(function(i){return o=i.getNode(),hr(Mn.fromDom(o))||ur(Mn.fromDom(o))?D.none():function(t,e,n,i){var o=function(e){return rr(Mn.fromDom(e))&&!uu(n,i,t)};return yu(!e,n).fold(function(){return yu(e,i).fold(r(!1),o)},o)}(t,e,n,i)?D.none():e&&Er.isContentEditableFalse(i.getNode())?th(t,e,n,i):!1===e&&Er.isContentEditableFalse(i.getNode(!0))?th(t,e,n,i):e&&wu(n)?D.some($c.moveToPosition(i)):!1===e&&_u(n)?D.some($c.moveToPosition(i)):D.none();var o})},nh=function(t,e,n){return function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return Er.isElement(n)&&n.getAttribute("data-mce-caret")===i}(e,n)?function(t,e){return t&&Er.isContentEditableFalse(e.nextSibling)?D.some($c.moveToElement(e.nextSibling)):!1===t&&Er.isContentEditableFalse(e.previousSibling)?D.some($c.moveToElement(e.previousSibling)):D.none()}(e,n.getNode(!1===e)).fold(function(){return eh(t,e,n)},D.some):eh(t,e,n).bind(function(e){return function(t,e,n){return n.fold(function(t){return D.some($c.remove(t))},function(t){return D.some($c.moveToElement(t))},function(n){return uu(e,n,t)?D.none():D.some($c.moveToPosition(n))})}(t,n,e)})},ih=function(t,e,n){if(0!==n){var i=t.data.slice(e,e+n),r=e+n>=t.data.length,o=0===e;t.replaceData(e,n,function(t,e,n){return q(t.split(""),function(i,r){return function(t){return-1!==" \f\n\r\t\v".indexOf(t)}(r)||""===r?i.previousCharIsSpace||""===i.str&&e||i.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:i.str+""}:{previousCharIsSpace:!0,str:i.str+" "}:{previousCharIsSpace:!1,str:i.str+r}},{previousCharIsSpace:!1,str:""}).str}(i,o,r))}},rh=function(t,e){var n,i=t.data.slice(e),r=i.length-(n=i,n.replace(/^\s+/g,"")).length;return ih(t,e,r)},oh=function(t,e){return function(t,e){var n=t.container(),i=t.offset();return!1===la.isTextPosition(t)&&n===e.parentNode&&i>la.before(e).offset()}(e,t)?la(e.container(),e.offset()-1):e},sh=function(t){return Es(t.previousSibling)?D.some((e=t.previousSibling,Er.isText(e)?la(e,e.data.length):la.after(e))):t.previousSibling?Ku.lastPositionIn(t.previousSibling):D.none();var e},ah=function(t){return Es(t.nextSibling)?D.some((e=t.nextSibling,Er.isText(e)?la(e,0):la.before(e))):t.nextSibling?Ku.firstPositionIn(t.nextSibling):D.none();var e},uh=function(t,e){return sh(e).orThunk(function(){return ah(e)}).orThunk(function(){return function(t,e){var n=la.before(e.previousSibling?e.previousSibling:e.parentNode);return Ku.prevPosition(t,n).fold(function(){return Ku.nextPosition(t,la.after(e))},D.some)}(t,e)})},lh=function(t,e){return ah(e).orThunk(function(){return sh(e)}).orThunk(function(){return function(t,e){return Ku.nextPosition(t,la.after(e)).fold(function(){return Ku.prevPosition(t,la.before(e))},D.some)}(t,e)})},ch=function(t,e,n){return function(t,e,n){return t?lh(e,n):uh(e,n)}(t,e,n).map(s(oh,n))},hh=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},fh=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(ti(e))},dh=function(t){if(Ec(t)){var e=Mn.fromHtml('<br data-mce-bogus="1">');return _o(t),yo(t,e),D.some(la.before(e.dom()))}return D.none()},ph=function(t,e,n){var i=Pi(t).filter(function(t){return Er.isText(t.dom())}),r=Ni(t).filter(function(t){return Er.isText(t.dom())});return wo(t),Hs([i,r,e],function(t,e,i){var r=t.dom(),o=e.dom(),s=r.data.length;return function(t,e,n){var i=jn(t.data).length;t.appendData(e.data),wo(Mn.fromDom(e)),n&&rh(t,i)}(r,o,n),i.container()===o?la(r,s):i}).orThunk(function(){return n&&(i.each(function(t){return e=t.dom(),n=t.dom().length,i=e.data.slice(0,n),r=i.length-jn(i).length,ih(e,n-r,r);var e,n,i,r}),r.each(function(t){return rh(t.dom(),0)})),e})},gh=function(t,e){return n=t.schema.getTextInlineElements(),i=ti(e),oi.call(n,i);var n,i},mh=function(t,e,n,i){void 0===i&&(i=!0);var r,o=ch(e,t.getBody(),n.dom()),a=Fo(n,s(fh,t),(r=t.getBody(),function(t){return t.dom()===r})),u=ph(n,o,gh(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(dh).fold(function(){i&&hh(t,e,u)},function(n){i&&hh(t,e,D.some(n))})},vh=function(t,e){return function(t,e,n){var i=gu(e?1:-1,t,n),r=la.fromRangeStart(i),o=Mn.fromDom(t);return!1===e&&wu(r)?D.some($c.remove(r.getNode(!0))):e&&_u(r)?D.some($c.remove(r.getNode())):!1===e&&_u(r)&&Mc(o,r)?Qc(o,r).map(function(t){return $c.remove(t.getNode())}):e&&wu(r)&&Xc(o,r)?Jc(o,r).map(function(t){return $c.remove(t.getNode())}):nh(t,e,r)}(t.getBody(),e,t.selection.getRng()).map(function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),mh(t,e,Mn.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var i=e?la.before(n):la.after(n);return t.selection.setRng(i.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))}).getOr(!1)},yh=function(t,e){var n,i=t.selection.getNode();return!!Er.isContentEditableFalse(i)&&(n=Mn.fromDom(t.getBody()),W(Lo(n,".mce-offscreen-selection"),wo),mh(t,e,Mn.fromDom(t.selection.getNode())),mc(t),!0)},bh=function(t,e){return t.selection.isCollapsed()?vh(t,e):yh(t,e)},_h=function(t){var e,n=function(t,e){for(;e&&e!==t;){if(Er.isContentEditableTrue(e)||Er.isContentEditableFalse(e))return e;e=e.parentNode}return null}(t.getBody(),t.selection.getNode());return Er.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(la.before(e).toRange())),!0},wh=Er.isText,Ch=function(t){return wh(t)&&t.data[0]===es},Eh=function(t){return wh(t)&&t.data[t.data.length-1]===es},Sh=function(t){return t.ownerDocument.createTextNode(es)},Th=function(t,e){return t?function(t){if(wh(t.previousSibling))return Eh(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(es),t.previousSibling);if(wh(t))return Ch(t)?t:(t.insertData(0,es),t);var e=Sh(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(wh(t.nextSibling))return Ch(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,es),t.nextSibling);if(wh(t))return Eh(t)?t:(t.appendData(es),t);var e=Sh(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},xh=s(Th,!0),kh=s(Th,!1),Dh=function(t,e){return Er.isText(t.container())?Th(e,t.container()):Th(e,t.getNode())},Ah=function(t,e){var n=e.get();return n&&t.container()===n&&ss(n)},Oh=function(t,e){return e.fold(function(e){ja.remove(t.get());var n=xh(e);return t.set(n),D.some(la(n,n.length-1))},function(e){return Ku.firstPositionIn(e).map(function(e){if(Ah(e,t))return la(t.get(),1);ja.remove(t.get());var n=Dh(e,!0);return t.set(n),la(n,1)})},function(e){return Ku.lastPositionIn(e).map(function(e){if(Ah(e,t))return la(t.get(),t.get().length-1);ja.remove(t.get());var n=Dh(e,!1);return t.set(n),la(n,n.length-1)})},function(e){ja.remove(t.get());var n=kh(e);return t.set(n),D.some(la(n,1))})},Ph=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return D.none()},Nh=Zc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Lh=function(t,e){var n=au(e,t);return n||t},Bh=function(t,e,n){var i=pc.normalizeForwards(n),r=Lh(e,i.container());return pc.findRootInline(t,r,i).fold(function(){return Ku.nextPosition(r,i).bind(s(pc.findRootInline,t,r)).map(function(t){return Nh.before(t)})},D.none)},Fh=function(t,e){return null===Pa(t,e)},Rh=function(t,e,n){return pc.findRootInline(t,e,n).filter(s(Fh,e))},Ih=function(t,e,n){var i=pc.normalizeBackwards(n);return Rh(t,e,i).bind(function(t){return Ku.prevPosition(t,i).isNone()?D.some(Nh.start(t)):D.none()})},Hh=function(t,e,n){var i=pc.normalizeForwards(n);return Rh(t,e,i).bind(function(t){return Ku.nextPosition(t,i).isNone()?D.some(Nh.end(t)):D.none()})},zh=function(t,e,n){var i=pc.normalizeBackwards(n),r=Lh(e,i.container());return pc.findRootInline(t,r,i).fold(function(){return Ku.prevPosition(r,i).bind(s(pc.findRootInline,t,r)).map(function(t){return Nh.after(t)})},D.none)},Wh=function(t){return!1===pc.isRtl(Uh(t))},jh=function(t,e,n){return Ph([Bh,Ih,Hh,zh],[t,e,n]).filter(Wh)},Uh=function(t){return t.fold(o,o,o,o)},qh=function(t){return t.fold(r("before"),r("start"),r("end"),r("after"))},Yh=function(t){return t.fold(Nh.before,Nh.before,Nh.after,Nh.after)},Vh=function(t,e,n,i,r,o){return Hs([pc.findRootInline(e,n,i),pc.findRootInline(e,n,r)],function(e,i){return e!==i&&pc.hasSameParentBlock(n,e,i)?Nh.after(t?e:i):o}).getOr(o)},Zh=function(t,e){return t.fold(r(!0),function(t){return i=e,!(qh(n=t)===qh(i)&&Uh(n)===Uh(i));var n,i})},Kh=function(t,e){return t?e.fold(i(D.some,Nh.start),D.none,i(D.some,Nh.after),D.none):e.fold(D.none,i(D.some,Nh.before),D.none,i(D.some,Nh.end))},Gh=function(t,e,n,i){var r=pc.normalizePosition(t,i),o=jh(e,n,r);return jh(e,n,r).bind(s(Kh,t)).orThunk(function(){return function(t,e,n,i,r){var o=pc.normalizePosition(t,r);return Ku.fromPosition(t,n,o).map(s(pc.normalizePosition,t)).fold(function(){return i.map(Yh)},function(r){return jh(e,n,r).map(s(Vh,t,e,n,o,r)).filter(s(Zh,i))}).filter(Wh)}(t,e,n,o,i)})},Xh=jh,Mh=Gh,Qh=(s(Gh,!1),s(Gh,!0),Yh),Jh=function(t){return t.fold(Nh.start,Nh.start,Nh.end,Nh.end)},$h=function(t){return F(t.selection.getSel().modify)},tf=function(t,e,n){var i=t?1:-1;return e.setRng(la(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},ef=function(t,e){var n=e.selection.getRng(),i=t?la.fromRangeEnd(n):la.fromRangeStart(n);return!!$h(e)&&(t&&ls(i)?tf(!0,e.selection,i):!(t||!cs(i))&&tf(!1,e.selection,i))},nf=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},rf=function(t){return!1!==t.settings.inline_boundaries},of=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},sf=function(t,e,n){return Oh(e,n).map(function(e){return nf(t,e),n})},af=function(t,e,n){return function(){return!!rf(e)&&ef(t,e)}},uf={move:function(t,e,n){return function(){return!!rf(t)&&function(t,e,n){var i=t.getBody(),r=la.fromRangeStart(t.selection.getRng()),o=s(pc.isInlineTarget,t);return Mh(n,o,i,r).bind(function(n){return sf(t,e,n)})}(t,e,n).isSome()}},moveNextWord:s(af,!0),movePrevWord:s(af,!1),setupSelectedState:function(t){var e=So(null),n=s(pc.isInlineTarget,t);return t.on("NodeChange",function(i){rf(t)&&(function(t,e,n){var i=U(e.select('*[data-mce-selected="inline-boundary"]'),t),r=U(n,t);W(Q(i,r),s(of,!1)),W(Q(r,i),s(of,!0))}(n,t.dom,i.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=la.fromRangeStart(t.selection.getRng());la.isTextPosition(n)&&!1===pc.isAtZwsp(n)&&(nf(t,ja.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,i){if(e.selection.isCollapsed()){var r=U(i,t);W(r,function(i){var r=la.fromRangeStart(e.selection.getRng());Xh(t,e.getBody(),r).bind(function(t){return sf(e,n,t)})})}}(n,t,e,i.parents))}),e},setCaretPosition:nf},lf=function(t,e){return function(n){return Oh(e,n).map(function(e){return uf.setCaretPosition(t,e),!0}).getOr(!1)}},cf=function(t,e,n,i){var r=t.getBody(),o=s(pc.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n}(n,i)),t.execCommand("Delete"),Xh(o,r,la.fromRangeStart(t.selection.getRng())).map(Jh).map(lf(t,e))}),t.nodeChanged()},hf=function(t,e,n,i){var o=function(t,e){var n=au(e,t);return n||t}(t.getBody(),i.container()),a=s(pc.isInlineTarget,t),u=Xh(a,o,i);return u.bind(function(t){return n?t.fold(r(D.some(Jh(t))),D.none,r(D.some(Qh(t))),D.none):t.fold(D.none,r(D.some(Qh(t))),D.none,r(D.some(Jh(t))))}).map(lf(t,e)).getOrThunk(function(){var r=Ku.navigate(n,o,i),s=r.bind(function(t){return Xh(a,o,t)});return u.isSome()&&s.isSome()?pc.findRootInline(a,o,i).map(function(e){return!!function(t){return Hs([Ku.firstPositionIn(t),Ku.lastPositionIn(t)],function(e,n){var i=pc.normalizePosition(!0,e),r=pc.normalizePosition(!1,n);return Ku.nextPosition(t,i).map(function(t){return t.isEqual(r)}).getOr(!0)}).getOr(!0)}(e)&&(mh(t,n,Mn.fromDom(e)),!0)}).getOr(!1):s.bind(function(o){return r.map(function(r){return n?cf(t,e,i,r):cf(t,e,r,i),!0})}).getOr(!1)})},ff=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var i=la.fromRangeStart(t.selection.getRng());return hf(t,e,n,i)}return!1},df=yi("start","end"),pf=yi("rng","table","cells"),gf=Zc([{removeTable:["element"]},{emptyCells:["cells"]}]),mf=function(t,e){return zo(Mn.fromDom(t),"td,th",e)},vf=function(t,e){return Io(t,"table",e)},yf=function(t){return!1===ki(t.start(),t.end())},bf=function(t,e){return vf(t.start(),e).bind(function(n){return vf(t.end(),e).bind(function(t){return ki(n,t)?D.some(n):D.none()})})},_f=function(t){return Lo(t,"td,th")},wf=function(t,e){var n=mf(e.startContainer,t),i=mf(e.endContainer,t);return e.collapsed?D.none():Hs([n,i],df).fold(function(){return n.fold(function(){return i.bind(function(e){return vf(e,t).bind(function(t){return J(_f(t)).map(function(t){return df(t,e)})})})},function(e){return vf(e,t).bind(function(t){return $(_f(t)).map(function(t){return df(e,t)})})})},function(e){return Cf(t,e)?D.none():function(t,e){return vf(t.start(),e).bind(function(e){return $(_f(e)).map(function(e){return df(t.start(),e)})})}(e,t)})},Cf=function(t,e){return bf(e,t).isSome()},Ef=function(t,e){var n=function(t){return s(ki,t)}(t);return function(t,e){var n=mf(t.startContainer,e),i=mf(t.endContainer,e);return Hs([n,i],df).filter(yf).filter(function(t){return Cf(e,t)}).orThunk(function(){return wf(e,t)})}(e,n).bind(function(t){return function(t,e){return bf(t,e).map(function(e){return pf(t,e,_f(e))})}(t,n)})},Sf=function(t,e){return V(t,function(t){return ki(t,e)})},Tf=function(t){return function(t){return Hs([Sf(t.cells(),t.rng().start()),Sf(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})}(t).map(function(e){var n=t.cells();return e.length===n.length?gf.removeTable(t.table()):gf.emptyCells(e)})},xf=function(t,e){return Ef(t,e).bind(Tf)},kf=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Df=kf,Af=function(t){return G(t,function(t){var e=Bs(t);return e?[Mn.fromDom(e)]:[]})},Of=function(t){return kf(t).length>1},Pf=function(t){return U(Af(t),hr)},Nf=function(t){return Lo(t,"td[data-mce-selected],th[data-mce-selected]")},Lf=function(t,e){var n=Nf(e),i=Pf(t);return n.length>0?n:i},Bf=Lf,Ff=function(t){return Lf(Df(t.selection.getSel()),Mn.fromDom(t.getBody()))},Rf=function(t,e){return W(e,zl),t.selection.setCursorLocation(e[0].dom(),0),!0},If=function(t,e){return mh(t,!1,e),!0},Hf=function(t,e,n,i){return Wf(e,i).fold(function(){return function(t,e,n){return xf(e,n).map(function(e){return e.fold(s(If,t),s(Rf,t))})}(t,e,n)},function(e){return function(t,e){return jf(t,e)}(t,e)}).getOr(!1)},zf=function(t,e){return Y(Nc(e,t),hr)},Wf=function(t,e){return Y(Nc(e,t),function(t){return"caption"===ti(t)})},jf=function(t,e){return zl(e),t.selection.setCursorLocation(e.dom(),0),D.some(!0)},Uf=function(t,e,n,i,r){return Ku.navigate(n,t.getBody(),r).bind(function(o){return function(t,e,n,i){return Ku.firstPositionIn(t.dom()).bind(function(r){return Ku.lastPositionIn(t.dom()).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)}(i,n,r,o)?function(t,e){return jf(t,e)}(t,i):function(t,e,n){return Wf(t,Mn.fromDom(n.getNode())).map(function(t){return!1===ki(t,e)})}(e,i,o)}).or(D.some(!0))},qf=function(t,e,n,i){var r=la.fromRangeStart(t.selection.getRng());return zf(n,i).bind(function(i){return Ec(i)?jf(t,i):function(t,e,n,i,r){return Ku.navigate(n,t.getBody(),r).bind(function(t){return zf(e,Mn.fromDom(t.getNode())).map(function(t){return!1===ki(t,i)})})}(t,n,e,i,r)})},Yf=function(t,e,n){var i=Mn.fromDom(t.getBody());return Wf(i,n).fold(function(){return qf(t,e,i,n)},function(n){return function(t,e,n,i){var r=la.fromRangeStart(t.selection.getRng());return Ec(i)?jf(t,i):Uf(t,n,e,i,r)}(t,e,i,n)}).getOr(!1)},Vf=function(t,e){var n=Mn.fromDom(t.selection.getStart(!0)),i=Ff(t);return t.selection.isCollapsed()&&0===i.length?Yf(t,e,n):function(t,e){var n=Mn.fromDom(t.getBody()),i=t.selection.getRng(),r=Ff(t);return 0!==r.length?Rf(t,r):Hf(t,n,i,e)}(t,n)},Zf=function(t,e){t.getDoc().execCommand(e,!1,null)},Kf={deleteCommand:function(t){bh(t,!1)||ff(t,!1)||jc(t,!1)||Vf(t)||Vc(t,!1)||(Zf(t,"Delete"),mc(t))},forwardDeleteCommand:function(t){bh(t,!0)||ff(t,!0)||jc(t,!0)||Vf(t)||Vc(t,!0)||Zf(t,"ForwardDelete")}},Gf=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},Xf={getIframeAttrs:function(t){return t.getParam("iframe_attrs",{})},getDocType:function(t){return t.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(t){return t.getParam("document_base_url","")},getBodyId:function(t){return Gf(t,"body_id","tinymce")},getBodyClass:function(t){return Gf(t,"body_class","")},getContentSecurityPolicy:function(t){return t.getParam("content_security_policy","")},shouldPutBrInPre:function(t){return t.getParam("br_in_pre",!0)},getForcedRootBlock:function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":e},getForcedRootBlockAttrs:function(t){return t.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(t){return t.getParam("no_newline_selector","")},shouldKeepStyles:function(t){return t.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(t){return t.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(t){return Ge.explode(t.getParam("font_size_style_values",""))},getFontSizeClasses:function(t){return Ge.explode(t.getParam("font_size_classes",""))},getImagesDataImgFilter:function(t){return t.getParam("images_dataimg_filter",r(!0),"function")},isAutomaticUploadsEnabled:function(t){return t.getParam("automatic_uploads",!0,"boolean")},shouldReuseFileName:function(t){return t.getParam("images_reuse_filename",!1,"boolean")},shouldReplaceBlobUris:function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},getImageUploadUrl:function(t){return t.getParam("images_upload_url","","string")},getImageUploadBasePath:function(t){return t.getParam("images_upload_base_path","","string")},getImagesUploadCredentials:function(t){return t.getParam("images_upload_credentials",!1,"boolean")},getImagesUploadHandler:function(t){return t.getParam("images_upload_handler",null,"function")},shouldUseContentCssCors:function(t){return t.getParam("content_css_cors",!1,"boolean")}},Mf=function(t,e,n){var i=function(e){return n=t,i=e.dom(),r=vi(i,n),D.from(r).filter(function(t){return t.length>0});var n,i,r};return Ro(Mn.fromDom(n),function(t){return i(t).isSome()},function(t){return ki(Mn.fromDom(e),t)}).bind(i)},Qf=function(t){return function(e,n){return D.from(n).map(Mn.fromDom).filter(ni).bind(function(n){return Mf(t,e,n.dom()).or(function(t,e){return D.from(so.DOM.getStyle(e,t,!0))}(t,n.dom()))}).getOr("")}},Jf={getFontSize:Qf("font-size"),getFontFamily:i(function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Qf("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},$f=function(t){return Ku.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return Er.isText(e)?e.parentNode:e})},td=function(t){return D.from(t.selection.getRng()).bind(function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?D.none():D.from(t.selection.getStart(!0))})},ed=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=Xf.getFontStyleValues(t),r=Xf.getFontSizeClasses(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},nd=function(t,e){t.formatter.toggle("fontname",{value:ed(t,e)}),t.nodeChanged()},id=function(t){return td(t).fold(function(){return $f(t).map(function(e){return Jf.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return Jf.getFontFamily(t.getBody(),e)})},rd=function(t,e){t.formatter.toggle("fontsize",{value:ed(t,e)}),t.nodeChanged()},od=function(t){return td(t).fold(function(){return $f(t).map(function(e){return Jf.getFontSize(t.getBody(),e)}).getOr("")},function(e){return Jf.getFontSize(t.getBody(),e)})},sd={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},ad=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},ud=function(t,e,n){return ad(t,e,function(t){return t.nodeName===n})},ld=function(t){return t&&"TABLE"===t.nodeName},cd=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},hd=function(t,e){return as(t)&&!1===ad(t,e,Oa)},fd=function(t,e,n){for(var i=new Qi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(Er.isBr(e))return!0},dd=function(t,e,n,i,r){var o,s,a,u,l=t.getRoot(),c=t.schema.getNonEmptyElements();if(a=t.getParent(r.parentNode,t.isBlock)||l,i&&Er.isBr(r)&&e&&t.isEmpty(a))return D.some(sa(r.parentNode,t.nodeIndex(r)));for(o=new Qi(r,a);u=o[i?"prev":"next"]();){if("false"===t.getContentEditableParent(u)||hd(u,l))return D.none();if(Er.isText(u)&&u.nodeValue.length>0)return!1===ud(u,l,"A")?D.some(sa(u,i?u.nodeValue.length:0)):D.none();if(t.isBlock(u)||c[u.nodeName.toLowerCase()])return D.none();s=u}return n&&s?D.some(sa(s,0)):D.none()},pd=function(t,e,n,i){var r,o,s,a,u,l,c,h=t.getRoot(),f=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=Er.isElement(r)&&o===r.childNodes.length,u=t.schema.getNonEmptyElements(),l=n,as(r))return D.none();if(Er.isElement(r)&&o>r.childNodes.length-1&&(l=!1),Er.isDocument(r)&&(r=h,o=0),r===h){if(l&&(a=r.childNodes[o>0?o-1:0])){if(as(a))return D.none();if(u[a.nodeName]||ld(a))return D.none()}if(r.hasChildNodes()){if(o=Math.min(!l&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Er.isText(r)&&c?r.data.length:0,!e&&r===h.lastChild&&ld(r))return D.none();if(function(t,e){for(;e&&e!==t;){if(Er.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(h,r)||as(r))return D.none();if(r.hasChildNodes()&&!1===ld(r)){a=r,s=new Qi(r,h);do{if(Er.isContentEditableFalse(a)||as(a)){f=!1;break}if(Er.isText(a)&&a.nodeValue.length>0){o=l?0:a.nodeValue.length,r=a,f=!0;break}if(u[a.nodeName.toLowerCase()]&&!cd(a)){o=t.nodeIndex(a),r=a.parentNode,l||o++,f=!0;break}}while(a=l?s.next():s.prev())}}}return e&&(Er.isText(r)&&0===o&&dd(t,c,e,!0,r).each(function(t){r=t.container(),o=t.offset(),f=!0}),Er.isElement(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!Er.isBr(a)||function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e}(a,"A")||fd(t,a,!1)||fd(t,a,!0)||dd(t,c,e,!0,a).each(function(t){r=t.container(),o=t.offset(),f=!0}))),l&&!e&&Er.isText(r)&&o===r.nodeValue.length&&dd(t,c,e,!1,r).each(function(t){r=t.container(),o=t.offset(),f=!0}),f?D.some(sa(r,o)):D.none()},gd={normalize:function(t,e){var n=e.collapsed,i=e.cloneRange(),r=sa.fromRangeStart(e);return pd(t,n,!0,i).each(function(t){n&&sa.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||pd(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),sd.isEq(e,i)?D.none():D.some(i)}},md=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},vd=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},yd=function(t,e){var n,i,r=t.selection,o=t.dom,s=r.getRng();gd.normalize(o,s).each(function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)});var a=s.startOffset,u=s.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var l=a>u.childNodes.length-1;u=u.childNodes[Math.min(a,u.childNodes.length-1)]||u,a=l&&3===u.nodeType?u.nodeValue.length:0}var c=o.getParent(u,o.isBlock),h=c?o.getParent(c.parentNode,o.isBlock):null,f=h?h.nodeName.toUpperCase():"",d=e&&e.ctrlKey;"LI"!==f||d||(c=h),u&&3===u.nodeType&&a>=u.nodeValue.length&&(function(t,e,n){for(var i,r=new Qi(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0}(t.schema,u,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),md(o,r,n),vd(o,r,n,i),t.undoManager.add()},bd=function(t,e){var n=Mn.fromTag("br");go(Mn.fromDom(e),n),t.undoManager.add()},_d=function(t,e){wd(t.getBody(),e)||mo(Mn.fromDom(e),Mn.fromTag("br"));var n=Mn.fromTag("br");mo(Mn.fromDom(e),n),md(t.dom,t.selection,n.dom()),vd(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},wd=function(t,e){return n=la.after(e),!!Er.isBr(n.getNode())||Ku.nextPosition(t,la.after(e)).map(function(t){return Er.isBr(t.getNode())}).getOr(!1);var n},Cd=function(t){return t&&"A"===t.nodeName&&"href"in t},Ed=function(t){return t.fold(r(!1),Cd,Cd,r(!1))},Sd=function(t,e){e.fold(n,s(bd,t),s(_d,t),n)},Td={insert:function(t,e){var n=function(t){var e=s(pc.isInlineTarget,t),n=la.fromRangeStart(t.selection.getRng());return Xh(e,t.getBody(),n).filter(Ed)}(t);n.isSome()?n.each(s(Sd,t)):yd(t,e)}},xd=(Zc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),kd=yi("start","soffset","finish","foffset"),Dd=(xd.domRange,xd.relative,xd.exact,Gn.detect().browser),Ad=function(t,e){var n=ii(e)?wl(e).length:Fi(e).length+1;return t>n?n:t<0?0:t},Od=function(t){return kd(t.start(),Ad(t.soffset(),t.start()),t.finish(),Ad(t.foffset(),t.finish()))},Pd=function(t,e){return Di(t,e)||ki(t,e)},Nd=function(t){return function(e){return Pd(t,e.start())&&Pd(t,e.finish())}},Ld=function(t){return!0===t.inline||Dd.isIE()},Bd=function(t){return kd(Mn.fromDom(t.startContainer),t.startOffset,Mn.fromDom(t.endContainer),t.endOffset)},Fd=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?D.from(e.getRangeAt(0)):D.none()).map(Bd)},Rd=function(t){var e=function(t){var e=t.dom().ownerDocument.defaultView;return Mn.fromDom(e)}(t);return Fd(e.dom()).filter(Nd(t))},Id=function(t,e){return D.from(e).filter(Nd(t)).map(Od)},Hd=function(t){var e=document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),D.some(e)}catch(t){return D.none()}},zd=function(t){return(t.bookmark?t.bookmark:D.none()).bind(s(Id,Mn.fromDom(t.getBody()))).bind(Hd)},Wd={store:function(t){var e=Ld(t)?Rd(Mn.fromDom(t.getBody())):D.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=Mn.fromDom(t.getBody()),i=(Ld(t)?D.from(e):D.none()).map(Bd).filter(Nd(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:Fd,restore:function(t){zd(t).each(function(e){t.selection.setRng(e)})},getRng:zd,getBookmark:Rd,validate:Id},jd=function(t){return ar(t)||ur(t)},Ud=function(t){return U(z(t.selection.getSelectedBlocks(),Mn.fromDom),function(t){return!jd(t)&&!function(t){return Oi(t).map(jd).getOr(!1)}(t)})},qd=function(t,e){var n=t.settings,i=t.dom,r=t.selection,o=t.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),u=t.getParam("indent_use_margin",!1);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),W(Ud(t),function(t){!function(t,e,n,i,r,o){if("false"!==t.getContentEditable(o)){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===t.getStyle(o,"direction",!0)?"Right":"Left","outdent"===e){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);t.setStyle(o,s,a?a+r:"")}else a=parseInt(o.style[s]||0,10)+i+r,t.setStyle(o,s,a)}}(i,e,u,a,s,t.dom())})},Yd=Ge.each,Vd=Ge.extend,Zd=Ge.map,Kd=Ge.inArray;function Gd(t){var e,n,i,r,o={state:{},exec:{},value:{}},s=t.settings;t.on("PreInit",function(){e=t.dom,n=t.selection,s=t.settings,i=t.formatter});var a=function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.state[e])return n(e);try{return t.getDoc().queryCommandState(e)}catch(t){}return!1}},u=function(t,e){e=e||"exec",Yd(t,function(t,n){Yd(n.toLowerCase().split(","),function(n){o[e][n]=t})})},l=function(e,n,i){e=e.toLowerCase(),o.value[e]=function(){return n.call(i||t)}};Vd(this,{execCommand:function(e,n,i,r){var s,a,u=!1;if(!t.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Wd.restore(t):t.focus(),(r=t.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),s=o.exec[a])return s(a,n,i),t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(Yd(t.plugins,function(r){if(r.execCommand&&r.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),u=!0,!1}),u)return u;if(t.theme&&t.theme.execCommand&&t.theme.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{u=t.getDoc().execCommand(e,n,i)}catch(t){}return!!u&&(t.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},queryCommandState:a,queryCommandValue:function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.value[e])return n(e);try{return t.getDoc().queryCommandValue(e)}catch(t){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),o.exec[e])return!0;try{return t.getDoc().queryCommandSupported(e)}catch(t){}return!1},addCommands:u,addCommand:function(e,n,i){e=e.toLowerCase(),o.exec[e]=function(e,r,o,s){return n.call(i||t,r,o,s)}},addQueryStateHandler:function(e,n,i){e=e.toLowerCase(),o.state[e]=function(){return n.call(i||t)}},addQueryValueHandler:l,hasCustomCommand:function(t){return t=t.toLowerCase(),!!o.exec[t]}});var c=function(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),t.getDoc().execCommand(e,n,i)},h=function(t){return i.match(t)},f=function(e,n){i.toggle(e,n?{value:n}:void 0),t.nodeChanged()},d=function(t){r=n.getBookmark(t)},p=function(){n.moveToBookmark(r)};u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(e){var n,i=t.getDoc();try{c(e)}catch(t){n=!0}if("paste"!==e||i.queryCommandEnabled(e)||(n=!0),n||!i.queryCommandSupported(e)){var r=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ct.mac&&(r=r.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),Yd("left,center,right,justify".split(","),function(t){e!==t&&i.remove("align"+t)}),"none"!==e&&f("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var i,r;c(t),(i=e.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(d(),e.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){f(t)},"ForeColor,HiliteColor":function(t,e,n){f(t,n)},FontName:function(e,n,i){nd(t,i)},FontSize:function(e,n,i){rd(t,i)},RemoveFormat:function(t){i.remove(t)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(t,e,n){return f(n||"p")},mceCleanup:function(){var e=n.getBookmark();t.setContent(t.getContent()),n.moveToBookmark(e)},mceRemoveNode:function(e,i,r){var o=r||n.getNode();o!==t.getBody()&&(d(),t.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var s=0;e.getParent(n.getNode(),function(t){if(1===t.nodeType&&s++===o)return n.select(t),!1},t.getBody())},mceSelectNode:function(t,e,i){n.select(i)},mceInsertContent:function(e,n,i){Xl.insertAtCaret(t,i)},mceInsertRawHTML:function(e,i,r){n.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(t,e,n){f(n)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){qd(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,i,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(t,r,o){var s;"string"==typeof o&&(o={href:o}),s=e.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var t=e.getParent(n.getStart(),Er.isContentEditableTrue);if(t){var i=e.createRng();i.selectNodeContents(t),n.setRng(i)}},delete:function(){Kf.deleteCommand(t)},forwardDelete:function(){Kf.forwardDeleteCommand(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return Td.insert(t,i),!0}});var g=function(t){return function(){var r=n.isCollapsed()?[e.getParent(n.getNode(),e.isBlock)]:n.getSelectedBlocks(),o=Zd(r,function(e){return!!i.matchNode(e,t)});return-1!==Kd(o,!0)}};u({JustifyLeft:g("alignleft"),JustifyCenter:g("aligncenter"),JustifyRight:g("alignright"),JustifyFull:g("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return h(t)},mceBlockQuote:function(){return h("blockquote")},Outdent:function(){var t;if(s.inline_styles){if((t=e.getParent(n.getStart(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0;if((t=e.getParent(n.getEnd(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0}return a("InsertUnorderedList")||a("InsertOrderedList")||!s.inline_styles&&!!e.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var i=e.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===t&&"UL"===i.tagName||"insertorderedlist"===t&&"OL"===i.tagName)}},"state"),u({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),l("FontName",function(){return id(t)},this),l("FontSize",function(){return od(t)},this)}var Xd=Ge.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Md=function(t){var e,n,i=this,r={},o=function(){return!1},s=function(){return!0};e=(t=t||{}).scope||i,n=t.toggleEvent||o;var a=function(t,e,s,a){var u,l,c;if(!1===e&&(e=o),e)for(e={func:e},a&&Ge.extend(e,a),c=(l=t.toLowerCase().split(" ")).length;c--;)t=l[c],(u=r[t])||(u=r[t]=[],n(t,!0)),s?u.unshift(e):u.push(e);return i},u=function(t,e){var o,s,a,u,l;if(t)for(o=(u=t.toLowerCase().split(" ")).length;o--;){if(t=u[o],s=r[t],!t){for(a in r)n(a,!1),delete r[a];return i}if(s){if(e)for(l=s.length;l--;)s[l].func===e&&(s=s.slice(0,l).concat(s.slice(l+1)),r[t]=s);else s.length=0;s.length||(n(t,!1),delete r[t])}}else{for(t in r)n(t,!1);r={}}return i};i.fire=function(n,i){var a,l,c,h;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=e),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),t.beforeFire&&t.beforeFire(i),a=r[n])for(l=0,c=a.length;l<c;l++){if((h=a[l]).once&&u(n,h.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===h.func.call(e,i))return i.preventDefault(),i}return i},i.on=a,i.off=u,i.once=function(t,e,n){return a(t,e,n,{once:!0})},i.has=function(t){return t=t.toLowerCase(),!(!r[t]||0===r[t].length)}};Md.isNative=function(t){return!!Xd[t.toLowerCase()]};var Qd,Jd=function(t){return t._eventDispatcher||(t._eventDispatcher=new Md({scope:t,toggleEvent:function(e,n){Md.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},$d={fire:function(t,e,n){if(this.removed&&"remove"!==t)return e;if(e=Jd(this).fire(t,e,n),!1!==n&&this.parent)for(var i=this.parent();i&&!e.isPropagationStopped();)i.fire(t,e,!1),i=i.parent();return e},on:function(t,e,n){return Jd(this).on(t,e,n)},off:function(t,e){return Jd(this).off(t,e)},once:function(t,e){return Jd(this).once(t,e)},hasEventListeners:function(t){return Jd(this).has(t)}},tp=function(t,e){return t.fire("PreProcess",e)},ep=function(t,e){return t.fire("PostProcess",e)},np=function(t){return t.fire("remove")},ip=function(t,e){return t.fire("SwitchMode",{mode:e})},rp=function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},op=function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})},sp=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},ap=function(t,e,n){var i,r;Po(t,e)&&!1===n?(r=e,xo(i=t)?i.dom().classList.remove(r):Do(i,r),Oo(i)):n&&Ao(t,e)},up=function(t,e){ap(Mn.fromDom(t.getBody()),"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable="false"):(t.readonly=!1,t.getBody().contentEditable="true",sp(t,"StyleWithCSS",!1),sp(t,"enableInlineTableEditing",!1),sp(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())},lp=function(t){return t.readonly?"readonly":"design"},cp=so.DOM,hp=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=cp.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},fp=function(t,e,n){!function(t){return!t.hidden&&!t.readonly}(t)?function(t){return!0===t.readonly}(t)&&n.preventDefault():t.fire(e,n)},dp=function(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=hp(t,e),t.settings.event_root){if(Qd||(Qd={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&Qd){for(e in Qd)t.dom.unbind(hp(t,e));Qd=null}})),Qd[e])return;i=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||cp.isChildOf(i,s))&&fp(r[o],e,n)}},Qd[e]=i,cp.bind(n,e,i)}else i=function(n){fp(t,e,n)},cp.bind(n,e,i),t.delegates[e]=i},pp={bindPendingEventDelegates:function(){var t=this;Ge.each(t._pendingNativeEvents,function(e){dp(t,e)})},toggleNativeEvent:function(t,e){"focus"!==t&&"blur"!==t&&(e?this.initialized?dp(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(hp(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this.getBody(),n=this.dom;if(this.delegates){for(t in this.delegates)this.dom.unbind(hp(this,t),t,this.delegates[t]);delete this.delegates}!this.inline&&e&&n&&(e.onload=null,n.unbind(this.getWin()),n.unbind(this.getDoc())),n&&(n.unbind(e),n.unbind(this.getContainer()))}},gp=pp=Ge.extend({},$d,pp),mp=Ge.each,vp=Ge.explode,yp={f9:120,f10:121,f11:122},bp=Ge.makeMap("alt,ctrl,shift,meta,access");function _p(t){var e={},n=[],i=function(t){var e,n,i={};for(n in mp(vp(t,"+"),function(t){t in bp?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=yp[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],bp)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,ct.mac?i.ctrl=!0:i.shift=!0),i.meta&&(ct.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},r=function(e,n,r,o){var s;return(s=Ge.map(vp(e,">"),i))[s.length-1]=Ge.extend(s[s.length-1],{func:r,scope:o||t}),Ge.extend(s[0],{desc:t.translate(n),subpatterns:s.slice(1)})},o=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},s=function(t){return t.func?t.func.call(t.scope):null};t.on("keyup keypress keydown",function(t){!function(t){return t.altKey||t.ctrlKey||t.metaKey}(t)&&!function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}(t)||t.isDefaultPrevented()||(mp(e,function(e){if(o(t,e))return n=e.subpatterns.slice(0),"keydown"===t.type&&s(e),!0}),o(t,n[0])&&(1===n.length&&"keydown"===t.type&&s(n[0]),n.shift()))}),this.add=function(n,i,o,s){var a;return a=o,"string"==typeof o?o=function(){t.execCommand(a,!1,null)}:Ge.isArray(a)&&(o=function(){t.execCommand(a[0],a[1],a[2])}),mp(vp(Ge.trim(n.toLowerCase())),function(t){var n=r(t,i,o,s);e[n.id]=n}),!0},this.remove=function(t){var n=r(t);return!!e[n.id]&&(delete e[n.id],!0)}}var wp=function(t){var e=Ai(t).dom();return t.dom()===e.activeElement},Cp=function(t){return(e=Ai(t),n=void 0!==e?e.dom():document,D.from(n.activeElement).map(Mn.fromDom)).filter(function(e){return t.dom().contains(e.dom())});var e,n},Ep=function(t,e){return function(t){return t.collapsed?D.from(Fs(t.startContainer,t.startOffset)).map(Mn.fromDom):D.none()}(e).bind(function(e){return cr(e)?D.some(e):!1===Di(t,e)?D.some(t):D.none()})},Sp=function(t,e){Ep(Mn.fromDom(t.getBody()),e).bind(function(t){return Ku.firstPositionIn(t.dom())}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Tp=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},xp=function(t){var e,n=t.getBody();return n&&(e=Mn.fromDom(n),wp(e)||Cp(e).isSome())},kp=function(t){return t.inline?xp(t):function(t){return t.iframeElement&&wp(Mn.fromDom(t.iframeElement))}(t)},Dp=function(t){return t.editorManager.setActive(t)},Ap=function(t,e){t.removed||(e?Dp(t):function(t){var e=t.selection,n=t.settings.content_editable,i=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable();var o=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})}(t,e.getNode());if(t.$.contains(i,o))return Tp(o),Sp(t,r),void Dp(t);void 0!==t.bookmark&&!1===kp(t)&&Wd.getRng(t).each(function(e){t.selection.setRng(e),r=e}),n||(ct.opera||Tp(i),t.getWin().focus()),(ct.gecko||n)&&(Tp(i),Sp(t,r)),Dp(t)}(t))},Op=kp,Pp=function(t,e){return e.dom()[t]},Np=function(t,e){return parseInt(mi(e,t),10)},Lp=s(Pp,"clientWidth"),Bp=s(Pp,"clientHeight"),Fp=s(Np,"margin-top"),Rp=s(Np,"margin-left"),Ip={isXYInContentArea:function(t,e,n){var i,r=Mn.fromDom(t.getBody()),o=t.inline?r:(i=r,Mn.fromDom(i.dom().ownerDocument.documentElement)),s=function(t,e,n,i){var r=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?r.left+e.dom().clientLeft+Rp(e):0),y:i-(t?r.top+e.dom().clientTop+Fp(e):0)}}(t.inline,o,e,n);return function(t,e,n){var i=Lp(t),r=Bp(t);return e>=0&&n>=0&&e<=i&&n<=r}(o,s.x,s.y)},isEditorAttachedToDom:function(t){var e,n=t.inline?t.getBody():t.getContentAreaContainer();return(e=n,D.from(e).map(Mn.fromDom)).map(function(t){return Di(Ai(t),t)}).getOr(!1)}};function Hp(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},i=function(){e.length>0&&n().reposition(e)},r=function(t){V(e,function(e){return e===t}).each(function(t){e.splice(t,1)})},o=function(o){if(!t.removed&&Ip.isEditorAttachedToDom(t))return Y(e,function(t){return e=n().getArgs(t),i=o,!(e.type!==i.type||e.text!==i.text||e.progressBar||e.timeout||i.progressBar||i.timeout);var e,i}).getOrThunk(function(){t.editorManager.setActive(t);var s=n().open(o,function(){r(s),i()});return function(t){e.push(t)}(s),i(),s})};return function(t){t.on("SkinLoaded",function(){var e=t.settings.service_message;e&&o({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){gt.requestAnimationFrame(i)}),t.on("remove",function(){W(e.slice(),function(t){n().close(t)})})}(t),{open:o,close:function(){D.from(e[0]).each(function(t){n().close(t),r(t),i()})},getNotifications:function(){return e}}}function zp(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:e,confirm:e,close:e,getParams:e,setParams:e}},i=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},r=function(n){e.push(n),function(e){t.fire("OpenWindow",{win:e})}(n)},o=function(n){V(e,function(t){return t===n}).each(function(i){e.splice(i,1),function(e){t.fire("CloseWindow",{win:e})}(n),0===e.length&&t.focus()})},s=function(){return D.from(e[e.length-1])};return t.on("remove",function(){W(e.slice(0),function(t){n().close(t)})}),{windows:e,open:function(e,i){t.editorManager.setActive(t),Wd.store(t);var s=n().open(e,i,o);return r(s),s},alert:function(t,e,s){var a=n().alert(t,i(s||this,e),o);r(a)},confirm:function(t,e,s){var a=n().confirm(t,i(s||this,e),o);r(a)},close:function(){s().each(function(t){n().close(t),o(t)})},getParams:function(){return s().map(n().getParams).getOr(null)},setParams:function(t){s().each(function(e){n().setParams(e,t)})},getWindows:function(){return e}}}var Wp=po.PluginManager,jp=function(t,e){var n=function(t,e){for(var n in Wp.urls)if(Wp.urls[n]+"/plugin"+e+".js"===t)return n;return null}(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},Up=function(t,e){t.notificationManager.open({type:"error",text:e})},qp=function(t,e){t._skinLoaded?Up(t,e):t.on("SkinLoaded",function(){Up(t,e)})},Yp={pluginLoadError:function(t,e){qp(t,jp(t,e))},uploadError:function(t,e){qp(t,"Failed to upload image: "+e)},displayError:qp,initError:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))}},Vp=po.PluginManager,Zp=po.ThemeManager;function Kp(){return new(it.getOrDie("XMLHttpRequest"))}function Gp(t,e){var n={},i=function(t,n,i,r){var o,s;(o=Kp()).open("POST",e.url),o.withCredentials=e.credentials,o.upload.onprogress=function(t){r(t.loaded/t.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t,r,s;o.status<200||o.status>=300?i("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((r=e.basePath,s=t.location,r?r.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+o.responseText)},(s=new FormData).append("file",t.blob(),t.filename()),o.send(s)},r=function(t,e){return{url:e,blobInfo:t,status:!0}},o=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},s=function(t,e){Ge.each(n[t],function(t){t(e)}),delete n[t]},a=function(i,a){return i=Ge.grep(i,function(e){return!t.isUploaded(e.blobUri())}),ht.all(Ge.map(i,function(i){return t.isPending(i.blobUri())?function(t){var e=t.blobUri();return new ht(function(t){n[e]=n[e]||[],n[e].push(t)})}(i):function(e,n,i){return t.markPending(e.blobUri()),new ht(function(a){var u;try{var l=function(){u&&u.close()};n(e,function(n){l(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),r(e,n)),a(r(e,n))},function(n){l(),t.removeFailed(e.blobUri()),s(e.blobUri(),o(e,n)),a(o(e,n))},function(t){t<0||t>100||(u||(u=i()),u.progressBar.value(t))})}catch(t){a(o(e,t.message))}})}(i,e.handler,a)}))};return!1===F(e.handler)&&(e.handler=i),{upload:function(t,n){return e.url||e.handler!==i?a(t,n):new ht(function(t){t([])})}}}var Xp=function(t){return it.getOrDie("atob")(t)},Mp=function(t){var e,n,i=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(e=n[1]),{type:e,data:i[1]}},Qp=function(t){return new ht(function(e){var n,i,r,o=Mp(t);try{n=Xp(o.data)}catch(t){return void e(new Blob([]))}for(i=function(t){return new(it.getOrDie("Uint8Array"))(t)}(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);e(new Blob([i],{type:o.type}))})},Jp=function(t){return 0===t.indexOf("blob:")?function(t){return new ht(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=Kp();r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(t){i()}})}(t):0===t.indexOf("data:")?Qp(t):null},$p=function(t){return new ht(function(e){var n=new(it.getOrDie("FileReader"));n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},tg=Mp,eg=0,ng=function(t){return(t||"blobid")+eg++},ig=function(t,e,n,i){var r,o;0!==e.src.indexOf("blob:")?(r=tg(e.src).data,(o=t.findFirst(function(t){return t.base64()===r}))?n({image:e,blobInfo:o}):Jp(e.src).then(function(i){o=t.create(ng(),i,r),t.add(o),n({image:e,blobInfo:o})},function(t){i(t)})):(o=t.getByUri(e.src))?n({image:e,blobInfo:o}):Jp(e.src).then(function(i){$p(i).then(function(s){r=tg(s).data,o=t.create(ng(),i,r),t.add(o),n({image:e,blobInfo:o})})},function(t){i(t)})},rg=function(t){return t?tt(t.getElementsByTagName("img")):[]},og=0,sg={uuid:function(t){return t+og+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e}};function ag(t){var e,n,i,o,s,a,u,l,c,h=(e=[],n=function(t){var e,n,i;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return e=t.id||sg.uuid("blobid"),n=t.name||e,{id:r(e),name:r(n),filename:r(n+"."+(i=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[i.toLowerCase()]||"dat")),blob:r(t.blob),base64:r(t.base64),blobUri:r(t.blobUri||ot.createObjectURL(t.blob)),uri:r(t.uri)}},{create:function(t,e,i,r){if(O(t))return n({id:t,name:r,blob:e,base64:i});if(P(t))return n(t);throw new Error("Unknown input type")},add:function(t){i(t.id())||e.push(t)},get:i=function(t){return o(function(e){return e.id()===t})},getByUri:function(t){return o(function(e){return e.blobUri()===t})},findFirst:o=function(t){return U(e,t)[0]},removeByUri:function(t){e=U(e,function(e){return e.blobUri()!==t||(ot.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){W(e,function(t){ot.revokeObjectURL(t.blobUri())}),e=[]}}),f=(u={},l=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:c=function(t){return t in u},getResultUri:function(t){var e=u[t];return e?e.resultUri:null},isPending:function(t){return!!c(t)&&1===u[t].status},isUploaded:function(t){return!!c(t)&&2===u[t].status},markPending:function(t){u[t]=l(1,null)},markUploaded:function(t,e){u[t]=l(2,e)},removeFailed:function(t){delete u[t]},destroy:function(){u={}}}),d=[],p=function(e){return function(n){return t.selection?e(n):[]}},g=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},m=function(t,e,n){return t=g(t,'src="'+e+'"','src="'+n+'"'),t=g(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},v=function(e,n){W(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=z(t.fragments,function(t){return m(t,e,n)}):t.content=m(t.content,e,n)})},y=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(e){return s||(s=Gp(f,{url:Xf.getImageUploadUrl(t),basePath:Xf.getImageUploadBasePath(t),credentials:Xf.getImagesUploadCredentials(t),handler:Xf.getImagesUploadHandler(t)})),C().then(p(function(n){var i;return i=z(n,function(t){return t.blobInfo}),s.upload(i,y).then(p(function(i){var r=z(i,function(e,i){var r=n[i].image;return e.status&&Xf.shouldReplaceBlobUris(t)?function(e,n){h.removeByUri(e.src),v(e.src,n),t.$(e).attr({src:Xf.shouldReuseFileName(t)?n+"?"+(new Date).getTime():n,"data-mce-src":t.convertURL(n,"src")})}(r,e.url):e.error&&Yp.uploadError(t,e.error),{element:r,status:e.status}});return e&&e(r),r}))}))},_=function(e){if(Xf.isAutomaticUploadsEnabled(t))return b(e)},w=function(e){return!1!==X(d,function(t){return t(e)})&&(0!==e.getAttribute("src").indexOf("data:")||Xf.getImagesDataImgFilter(t)(e))},C=function(){return a||(a=function(t,e){var n={};return{findAll:function(i,o){var s;o||(o=r(!0)),s=U(rg(i),function(e){var n=e.src;return!!ct.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===ct.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e))});var a=z(s,function(t){if(n[t.src])return new ht(function(e){n[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var i=new ht(function(n,i){ig(e,t,n,i)}).then(function(t){return delete n[t.image.src],t}).catch(function(e){return delete n[t.src],e});return n[t.src]=i,i});return ht.all(a)}}}(f,h)),a.findAll(t.getBody(),w).then(p(function(e){return e=U(e,function(e){return"string"!=typeof e||(Yp.displayError(t,e),!1)}),W(e,function(t){v(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},E=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=f.getResultUri(n);if(i)return'src="'+i+'"';var r=h.getByUri(n);return r||(r=q(t.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})};return t.on("setContent",function(){Xf.isAutomaticUploadsEnabled(t)?_():C()}),t.on("RawSaveContent",function(t){t.content=E(t.content)}),t.on("getContent",function(t){t.source_view||"raw"===t.format||(t.content=E(t.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(t){W(t,function(t){var e=t.attr("src");if(!h.getByUri(e)){var n=f.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:h,addFilter:function(t){d.push(t)},uploadImages:b,uploadImagesAuto:_,scanForImages:C,destroy:function(){h.destroy(),f.destroy(),a=s=null}}}var ug=function(t,e){return t.hasOwnProperty(e.nodeName)},lg=function(t,e){return!!Er.isText(e)||!!Er.isElement(e)&&!ug(t,e)&&!el.isBookmarkNode(e)},cg=function(t,e,n){return i=Pc(Mn.fromDom(n),Mn.fromDom(e)),V(i,function(e){return ug(t,e.dom())}).isSome();var i},hg=function(t,e){if(Er.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||ug(t,e.nextSibling)))return!0}return!1},fg=function(t){var e,n,i,r,o,s,a,u,l,c,h,f=t.settings,d=t.dom,p=t.selection,g=t.schema,m=g.getBlockElements(),v=p.getStart(),y=t.getBody();if(h=f.forced_root_block,v&&Er.isElement(v)&&h&&(c=y.nodeName.toLowerCase(),g.isValidChild(c,h.toLowerCase())&&!cg(m,y,v))){for(n=(e=p.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,l=Op(t),v=y.firstChild;v;)if(lg(m,v)){if(hg(m,v)){a=v,v=v.nextSibling,d.remove(a);continue}s||(s=d.create(h,t.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),u=!0),a=v,v=v.nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;u&&l&&(e.setStart(n,i),e.setEnd(r,o),p.setRng(e),t.nodeChanged())}},dg=function(t){t.settings.forced_root_block&&t.on("NodeChange",s(fg,t))},pg=function(t){var e=t.startContainer,n=t.startOffset;return Er.isText(e)?0===n?D.some(Mn.fromDom(e)):D.none():D.from(e.childNodes[n]).map(Mn.fromDom)},gg=function(t){var e=t.endContainer,n=t.endOffset;return Er.isText(e)?n===e.data.length?D.some(Mn.fromDom(e)):D.none():D.from(e.childNodes[n-1]).map(Mn.fromDom)},mg=function(t){return Ii(t).fold(r([t]),function(e){return[t].concat(mg(e))})},vg=function(t){return Hi(t).fold(r([t]),function(e){return"br"===ti(e)?Pi(e).map(function(e){return[t].concat(vg(e))}).getOr([]):[t].concat(vg(e))})},yg=function(t,e,n,i){var r=n,o=new Qi(n,r),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Ge.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(ct.ie&&ct.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},bg=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0};function _g(t){var e,n=[];"onselectionchange"in t.getDoc()||t.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;r={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&sd.isEq(r,e)||t.fire("SelectionChange"),e=r}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!ct.range&&t.selection.isCollapsed()||bg(t)&&!function(e){var i,r;if((r=t.$(e).parentsUntil(t.getBody()).add(e)).length===n.length){for(i=r.length;i>=0&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1}(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("MouseUp",function(e){!e.isDefaultPrevented()&&bg(t)&&("IMG"===t.selection.getNode().nodeName?gt.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())}),this.nodeChanged=function(e){var n,i,r,o=t.selection;t.initialized&&o&&!t.settings.disable_nodechange&&!t.readonly&&(r=t.getBody(),(n=o.getStart(!0)||r).ownerDocument===t.getDoc()&&t.dom.isChildOf(n,r)||(n=r),i=[],t.dom.getParent(n,function(t){if(t===r)return!0;i.push(t)}),(e=e||{}).element=n,e.parents=i,t.fire("NodeChange",e))}}var wg,Cg=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Eg=function(t,e){return n=function(t){return t.inline?Cg(t.getBody()):{left:0,top:0}}(t),i=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),{pageX:(r=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=Cg(t.getContentAreaContainer()),i=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r}(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}}(t,e)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r},Sg=Er.isContentEditableFalse,Tg=Er.isContentEditableTrue,xg=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},kg=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var i=Y(e.dom.getParents(n.target),js(Sg,Tg)).getOr(null);if(a=e.getBody(),Sg(u=i)&&u!==a){var r=e.dom.getPos(i),o=e.getBody(),s=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(e,i,t.width,t.height)}}var a,u}},Dg=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!Sg(e)}(e,(a=e.selection,3===(u=a.getSel().getRangeAt(0).startContainer).nodeType?u.parentNode:u),t.element)){var i=(o=t.element,(s=o.cloneNode(!0)).removeAttribute("data-mce-selected"),s),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){xg(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}var o,s,a,u;Ag(t)}},Ag=function(t){t.dragging=!1,t.element=null,xg(t.ghost)},Og=function(t){var e,n,i,r,o,s,a={};e=so.DOM,s=document,n=kg(a,t),i=function(t,e){var n=gt.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var r,o,s=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&s>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,Eg(e,i));r=t.ghost,o=e.getBody(),r.parentNode!==o&&o.appendChild(r),function(t,e,n,i,r,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(s=e.pageX+n-r),e.pageY+i>o&&(a=e.pageY+i-o),t.style.width=n-s+"px",t.style.height=i-a+"px"}(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}}(a,t),r=Dg(a,t),o=function(t,e){return function(){t.dragging&&e.fire("dragend"),Ag(t)}}(a,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(s,"mousemove",i),e.bind(s,"mouseup",o),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",o)})},Pg=function(t){Og(t),function(t){t.on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Sg(n)||Sg(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}(t)},Ng=function(t){return q(t,function(t,e){return t.concat(function(t){var e=function(e){return z(e,function(e){return(e=ks(e)).node=t,e})};if(Er.isElement(t))return e(t.getClientRects());if(Er.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))},[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(wg||(wg={}));var Lg=function(t,e,n,i,r,o){var s,a,u=0,l=[],c=function(i){var o,s,c;for(c=Ng([i]),-1===t&&(c=c.reverse()),o=0;o<c.length;o++)if(s=c[o],!n(s,a)){if(l.length>0&&e(s,qe.last(l))&&u++,s.line=u,r(s))return!0;l.push(s)}};return(a=qe.last(o.getClientRects()))?(c(s=o.getNode()),function(t,e,n,i){for(;i=su(i,t,Ts,e);)if(n(i))return}(t,i,c,s),l):l},Bg=s(Lg,wg.Up,Os,Ps),Fg=s(Lg,wg.Down,Ps,Os),Rg=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},Ig=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},Hg=Er.isContentEditableFalse,zg=su,Wg=function(t,e){return Math.abs(t.left-e)},jg=function(t,e){return Math.abs(t.right-e)},Ug=function(t,e){return t>=e.left&&t<=e.right},qg=function(t,e){return qe.reduce(t,function(t,n){var i,r;return i=Math.min(Wg(t,e),jg(t,e)),r=Math.min(Wg(n,e),jg(n,e)),Ug(e,n)?n:Ug(e,t)?t:r===i&&Hg(n.node)?n:r<i?n:t})},Yg=function(t,e,n,i){for(;i=zg(i,t,Ts,e);)if(n(i))return},Vg=function(t,e,n){var i,r=Ng(function(t){return U(tt(t.getElementsByTagName("*")),Ka)}(t)),o=U(r,function(t){return n>=t.top&&n<=t.bottom});return(i=qg(o,e))&&(i=qg(function(t,e){var n=[],i=function(t,i){var r;return r=U(Ng([i]),function(n){return!t(n,e)}),n=n.concat(r),0===r.length};return n.push(e),Yg(wg.Up,t,s(i,Os),e.node),Yg(wg.Down,t,s(i,Ps),e.node),n}(t,i),e))&&Ka(i.node)?function(t,e){return{node:t.node,before:Wg(t,e)<jg(t,e)}}(i,e):null},Zg=function(t,e,n){return!n.collapsed&&q(n.getClientRects(),function(n,i){return n||function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}(i,t,e)},!1)},Kg=Er.isContentEditableTrue,Gg=Er.isContentEditableFalse,Xg=function(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)},Mg=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)},Qg=function(t,e,n){var i=gu(1,t.getBody(),e),r=la.fromRangeStart(i),o=r.getNode();if(Gg(o))return Xg(1,t,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(Gg(s))return Xg(1,t,s,!1,!1);var a=t.dom.getParent(r.getNode(),function(t){return Gg(t)||Kg(t)});return Gg(a)?Xg(1,t,a,!1,n):null},Jg=function(t,e,n){if(!e||!e.collapsed)return e;var i=Qg(t,e,n);return i||e},$g=function(t){var e=Eo(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=Jg(t,t.selection.getRng(),!1);t.selection.setRng(e)}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},tm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return ct.mac?t.metaKey:t.ctrlKey&&!t.altKey}},em=Er.isContentEditableTrue,nm=Er.isContentEditableFalse,im=wu,rm=_u,om=function(t,e){for(var n=t.getBody();e&&e!==n;){if(em(e)||nm(e))return e;e=e.parentNode}return null},sm=function(t){var e,n,i=t.getBody(),r=Va(t.getBody(),function(e){return t.dom.isBlock(e)},function(){return Op(t)}),o="sel-"+t.dom.uniqueId(),s=function(e){e&&t.selection.setRng(e)},a=function(){return t.selection.getRng()},u=function(e,n,i,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),r.show(i,n))},l=function(t,e){return e=gu(t,i,e),-1===t?la.fromRangeStart(e):la.fromRangeEnd(e)},c=function(t){return as(t)||fs(t)||ds(t)},h=function(t){return c(t.startContainer)||c(t.endContainer)},f=function(n,i){var r,s,a,c,f,d,g,m,v,y,b=t.$,_=t.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(!1===i){if(m=l(-1,n),Ka(m.getNode(!0)))return u(-1,m.getNode(!0),!1,!1);if(Ka(m.getNode()))return u(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=l(1,n),Ka(m.getNode()))return u(1,m.getNode(),!m.isAtEnd(),!1);if(Ka(m.getNode(!0)))return u(1,m.getNode(!0),!1,!1)}return null}return c=n.startContainer,f=n.startOffset,d=n.endOffset,3===c.nodeType&&0===f&&nm(c.parentNode)&&(c=c.parentNode,f=_.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(d===f+1&&(r=c.childNodes[f]),nm(r)?(v=y=r.cloneNode(!0),(g=t.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(s=Ho(Mn.fromDom(t.getBody()),"#"+o).fold(function(){return b([])},function(t){return b([t.dom()])}),v=g.targetClone,0===s.length&&(s=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),n=t.dom.createRng(),v===y&&ct.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(v),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(v)):(s.empty().append("").append(v).append(""),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:_.getPos(r,t.getBody()).y}),s[0].focus(),(a=t.selection.getSel()).removeAllRanges(),a.addRange(n),W(Lo(Mn.fromDom(t.getBody()),"*[data-mce-selected]"),function(t){di(t,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),e=r,p(),n)):null)},d=function(){e&&(e.removeAttribute("data-mce-selected"),Ho(Mn.fromDom(t.getBody()),"#"+o).each(wo),e=null),Ho(Mn.fromDom(t.getBody()),"#"+o).each(wo),e=null},p=function(){r.hide()};return ct.ceFalse&&(function(){t.on("mouseup",function(e){var n=a();n.collapsed&&Ip.isXYInContentArea(t,e.clientX,e.clientY)&&s(Qg(t,n,!1))}),t.on("click",function(e){var n;(n=om(t,e.target))&&(nm(n)&&(e.preventDefault(),t.focus()),em(n)&&t.dom.isChildOf(n,t.selection.getNode())&&d())}),t.on("blur NewBlock",function(){d()}),t.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var n=function(e,n){var i,r,o=t.dom.getParent(e,t.dom.isBlock),s=t.dom.getParent(n,t.dom.isBlock);return!(!o||!t.dom.isChildOf(o,s)||!1!==nm(om(t,o)))||o&&(i=o,r=s,!(t.dom.getParent(i,t.dom.isBlock)===t.dom.getParent(r,t.dom.isBlock)))&&function(t){var e=Hu(t);if(!t.firstChild)return!1;var n=la.before(t.firstChild),i=e.next(n);return i&&!rm(i)&&!im(i)}(o)};!function(t){var e=!1;t.on("touchstart",function(){e=!1}),t.on("touchmove",function(){e=!0}),t.on("touchend",function(n){var i=om(t,n.target);nm(i)&&(e||(n.preventDefault(),f(Mg(t,i))))})}(t),t.on("mousedown",function(e){var r,o=e.target;if((o===i||"HTML"===o.nodeName||t.dom.isChildOf(o,i))&&!1!==Ip.isXYInContentArea(t,e.clientX,e.clientY))if(r=om(t,o))nm(r)?(e.preventDefault(),f(Mg(t,r))):(d(),em(r)&&e.shiftKey||Zg(e.clientX,e.clientY,t.selection.getRng())||(p(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Ka(o)){d(),p();var a=Vg(i,e.clientX,e.clientY);if(a&&!n(e.target,a.node)){e.preventDefault();var l=u(1,a.node,a.before,!1);t.getBody().focus(),s(l)}}}),t.on("keypress",function(e){tm.modifierPressed(e)||(e.keyCode,nm(t.selection.getNode())&&e.preventDefault())}),t.on("getSelectionRange",function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}}),t.on("setSelectionRange",function(t){var e;(e=f(t.range,t.forward))&&(t.range=e)}),t.on("AfterSetSelectionRange",function(e){var n,i=e.range;h(i)||"mcepastebin"===i.startContainer.parentNode.id||p(),n=i.startContainer.parentNode,t.dom.hasClass(n,"mce-offscreen-selection")||d()}),t.on("copy",function(e){var n,i=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!ct.ie){var r=(n=t.dom.get(o))?n.getElementsByTagName("*")[0]:n;r&&(e.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}}),Pg(t),$g(t)}(),(n=t.contentStyles).push(r.getCss()),n.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),{showCaret:u,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(ps(e),s(a()),t.selection.scrollIntoView(e[0]))},hideFakeCaret:p,destroy:function(){r.destroy(),e=null}}},am=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},um=function(t){return t.replace(/<!--|-->/g,"")},lm=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},cm=function(t,e,n){var i,r,o,s,a=1;for(s=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};function hm(t,e){void 0===e&&(e=Gr());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,a=t.end?t.end:n,u=t.pi?t.pi:n,l=t.doctype?t.doctype:n;return{parse:function(n){var c,h,f,d,p,g,m,v,y,b,_,w,C,E,S,T,x,k,D,A,O,P,N,L,B,F,R,I,H,z=0,W=[],j=0,U=Ir.decode,q=Ge.makeMap("src,href,data,background,formaction,poster,xlink:href"),Y=/((java|vb)script|mhtml):/i,V=function(t){var e,n;for(e=W.length;e--&&W[e].name!==t;);if(e>=0){for(n=W.length-1;n>=e;n--)(t=W[n]).valid&&a(t.name);W.length=e}},Z=function(e,n,i,r,o){var s,a;if(i=(n=n.toLowerCase())in _?n:U(i||r||o||""),C&&!v&&!1===am(n)){if(!(s=k[n])&&D){for(a=D.length;a--&&!(s=D[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(q[n]&&!t.allow_script_urls){var u=i.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}if(Y.test(u))return;if(lm(t,u))return}v&&(n in q||0===n.indexOf("on"))||(d.map[n]=i,d.push({name:n,value:i}))};for(B=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),F=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=e.getShortEndedElements(),L=t.self_closing_elements||e.getSelfClosingElements(),_=e.getBoolAttrs(),C=t.validate,y=t.remove_internals,H=t.fix_self_closing,R=e.getSpecialElements(),N=n+">";c=B.exec(N);){if(z<c.index&&o(U(n.substr(z,c.index-z))),h=c[6])":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),V(h);else if(h=c[7]){if(c.index+c[0].length>n.length){o(U(n.substr(c.index))),z=c.index+c[0].length;continue}if(":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),w=h in b,H&&L[h]&&W.length>0&&W[W.length-1].name===h&&V(h),!C||(E=e.getElementRule(h))){if(S=!0,C&&(k=E.attributes,D=E.attributePatterns),(x=c[8])?((v=-1!==x.indexOf("data-mce-type"))&&y&&(S=!1),(d=[]).map={},x.replace(F,Z)):(d=[]).map={},C&&!v){if(A=E.attributesRequired,O=E.attributesDefault,P=E.attributesForced,E.removeEmptyAttrs&&!d.length&&(S=!1),P)for(p=P.length;p--;)m=(T=P[p]).name,"{$uid}"===(I=T.value)&&(I="mce_"+j++),d.map[m]=I,d.push({name:m,value:I});if(O)for(p=O.length;p--;)(m=(T=O[p]).name)in d.map||("{$uid}"===(I=T.value)&&(I="mce_"+j++),d.map[m]=I,d.push({name:m,value:I}));if(A){for(p=A.length;p--&&!(A[p]in d.map););-1===p&&(S=!1)}if(T=d.map["data-mce-bogus"]){if("all"===T){z=cm(e,n,B.lastIndex),B.lastIndex=z;continue}S=!1}}S&&s(h,d,w)}else S=!1;if(f=R[h]){f.lastIndex=z=c.index+c[0].length,(c=f.exec(n))?(S&&(g=n.substr(z,c.index-z)),z=c.index+c[0].length):(g=n.substr(z),z=n.length),S&&(g.length>0&&o(g,!0),a(h)),B.lastIndex=z;continue}w||(x&&x.indexOf("/")===x.length-1?S&&a(h):W.push({name:h,valid:S}))}else(h=c[1])?(">"===h.charAt(0)&&(h=" "+h),t.allow_conditional_comments||"[if"!==h.substr(0,3).toLowerCase()||(h=" "+h),i(h)):(h=c[2])?r(um(h)):(h=c[3])?l(h):(h=c[4])&&u(h,c[5]);z=c.index+c[0].length}for(z<n.length&&o(U(n.substr(z))),p=W.length-1;p>=0;p--)(h=W[p]).valid&&a(h.name)}}}!function(t){t.findEndTag=cm}(hm||(hm={}));var fm=hm,dm=function(t,e){var n,i,r,o,s,a=e,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=t.schema;for(a=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),a),s=l.getShortEndedElements();o=u.exec(a);)i=u.lastIndex,r=o[0].length,n=s[o[1]]?i:fm.findEndTag(l,a,i),a=a.substring(0,i-r)+a.substring(n),u.lastIndex=i-r;return ns(a)},pm={trimExternal:dm,trimInternal:dm},gm=0,mm=2,vm=1,ym=function(t,e){var n=t.length+e.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,s,u){var l=a(n,i,r,s);if(null===l||l.start===i&&l.diag===i-s||l.end===n&&l.diag===n-r)for(var c=n,h=r;c<i||h<s;)c<i&&h<s&&t[c]===e[h]?(u.push([0,t[c]]),++c,++h):i-n>s-r?(u.push([2,t[c]]),++c):(u.push([1,e[h]]),++h);else{o(n,l.start,r,l.start-l.diag,u);for(var f=l.start;f<l.end;++f)u.push([0,t[f]]);o(l.end,i,l.end-l.diag,s,u)}},s=function(n,i,r,o){for(var s=n;s-i<o&&s<r&&t[s]===e[s-i];)++s;return function(t,e,n){return{start:t,end:e,diag:n}}(n,s,i)},a=function(n,o,a,u){var l=o-n,c=u-a;if(0===l||0===c)return null;var h,f,d,p,g,m=l-c,v=c+l,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,h=0;h<=y;++h){for(f=-h;f<=h;f+=2){for(d=f+y,f===-h||f!==h&&i[d-1]<i[d+1]?i[d]=i[d+1]:i[d]=i[d-1]+1,g=(p=i[d])-n+a-f;p<o&&g<u&&t[p]===e[g];)i[d]=++p,++g;if(m%2!=0&&m-h<=f&&f<=m+h&&r[d-m]<=i[d])return s(r[d-m],f+n-a,o,u)}for(f=m-h;f<=m+h;f+=2){for(d=f+y-m,f===m-h||f!==m+h&&r[d+1]<=r[d-1]?r[d]=r[d+1]-1:r[d]=r[d-1],g=(p=r[d]-1)-n+a-f;p>=n&&g>=a&&t[p]===e[g];)r[d]=p--,g--;if(m%2==0&&-h<=f&&f<=h&&r[d]<=i[d+m])return s(r[d],f+n-a,o,u)}}},u=[];return o(0,t.length,0,e.length,u),u},bm=function(t){return Er.isElement(t)?t.outerHTML:Er.isText(t)?Ir.encodeRaw(t.data,!1):Er.isComment(t)?"\x3c!--"+t.data+"--\x3e":""},_m=function(t,e,n){var i=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e}(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},wm=function(t){return U(z(tt(t.childNodes),bm),function(t){return t.length>0})},Cm=function(t,e){var n=z(tt(e.childNodes),bm);return function(t,e){var n=0;W(t,function(t){t[0]===gm?n++:t[0]===vm?(_m(e,t[1],n),n++):t[0]===mm&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(e,n)})}(ym(n,t),e),e},Em=So(D.none()),Sm=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},Tm=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},xm=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},km=function(t){var e=Mn.fromTag("body",Em.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return Em.set(D.some(t)),t}));return $o(e,xm(t)),W(Lo(e,"*[data-mce-bogus]"),Co),e.dom().innerHTML},Dm={createFragmentedLevel:Sm,createCompleteLevel:Tm,createFromEditor:function(t){var e,n,i;return e=wm(t.getBody()),-1!==(n=(i=G(e,function(e){var n=pm.trimInternal(t.serializer,e);return n.length>0?[n]:[]})).join("")).indexOf("</iframe>")?Sm(i):Tm(n)},applyToEditor:function(t,e,n){"fragmented"===e.type?Cm(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},isEq:function(t,e){return!(!t||!e)&&(!!function(t,e){return xm(t)===xm(e)}(t,e)||function(t,e){return km(t)===km(e)}(t,e))}};function Am(t){var e,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},u=function(t){a()&&(i.typing=t)},l=function(e){t.setDirty(e)},c=function(t){u(!1),i.add({},t)},h=function(){i.typing&&(u(!1),i.add())};return t.on("init",function(){i.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(h(),i.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&c(t)}),t.on("ObjectResizeStart Cut",function(){i.beforeChange()}),t.on("SaveContent ObjectResized blur",c),t.on("DragEnd",c),t.on("KeyUp",function(e){var r=e.keyCode;e.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||e.ctrlKey)&&(c(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),n&&i.typing&&!1===Dm.isEq(Dm.createFromEditor(t),o[0])&&(!1===t.isDirty()&&(l(!0),t.fire("change",{level:o[0],lastLevel:null})),t.fire("TypingUndo"),n=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(e>=33&&e<=36||e>=37&&e<=40||45===e)i.typing&&c(t);else{var r=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||i.typing||r||(i.beforeChange(),u(!0),i.add({},t),n=!0)}}),t.on("MouseDown",function(t){i.typing&&c(t)}),t.on("input",function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&c(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){a()&&(e=Aa.getUndoBookmark(t.selection))},add:function(n,i){var s,u,c,h=t.settings;if(c=Dm.createFromEditor(t),n=n||{},n=Ge.extend(n,c),!1===a()||t.removed)return null;if(u=o[r],t.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:i}).isDefaultPrevented())return null;if(u&&Dm.isEq(u,n))return null;if(o[r]&&(o[r].beforeBookmark=e),h.custom_undo_redo_levels&&o.length>h.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=Aa.getUndoBookmark(t.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var f={level:n,lastLevel:u,originalEvent:i};return t.fire("AddUndo",f),r>0&&(l(!0),t.fire("change",f)),n},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1,u(!1)),r>0&&(e=o[--r],Dm.applyToEditor(t,e,!0),l(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return r<o.length-1&&(e=o[++r],Dm.applyToEditor(t,e,!1),l(!0),t.fire("redo",{level:e})),e},clear:function(){o=[],r=0,i.typing=!1,i.data=o,t.fire("ClearUndos")},hasUndo:function(){return r>0||i.typing&&o[0]&&!Dm.isEq(Dm.createFromEditor(t),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(t){return h(),i.beforeChange(),i.ignore(t),i.add()},ignore:function(t){try{s++,t()}finally{s--}},extra:function(e,n){var s,a;i.transact(e)&&(a=o[r].bookmark,s=o[r-1],Dm.applyToEditor(t,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}var Om=ol.isEq,Pm=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},Nm=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!Pm(t,e,n)||e.parentNode===r||!!Fm(t,e,n,i,!0)}),Fm(t,e,n,i))},Lm=function(t,e,n){return!!Om(e,n.inline)||!!Om(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},Bm=function(t,e,n,i,r,o){var s,a,u,l=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(l)if(void 0===l.length){for(s in l)if(l.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):ol.getStyle(t,e,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!Om(a,ol.normalizeStyleValue(t,ol.replaceVars(l[s],o),s)))return}}else for(u=0;u<l.length;u++)if("attributes"===i?t.getAttrib(e,l[u]):ol.getStyle(t,e,l[u]))return n;return n},Fm=function(t,e,n,i,r){var o,s,a,u,l=t.formatter.get(n),c=t.dom;if(l&&e)for(s=0;s<l.length;s++)if(o=l[s],Lm(t.dom,e,o)&&Bm(c,e,o,"attributes",r,i)&&Bm(c,e,o,"styles",r,i)){if(u=o.classes)for(a=0;a<u.length;a++)if(!t.dom.hasClass(e,u[a]))return;return o}},Rm={matchNode:Fm,matchName:Lm,match:function(t,e,n,i){var r;return i?Nm(t,i,e,n):(i=t.selection.getNode(),!!Nm(t,i,e,n)||!((r=t.selection.getStart())===i||!Nm(t,r,e,n)))},matchAll:function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,function(i){var s,a;for(s=0;s<e.length;s++)a=e[s],!o[a]&&Fm(t,i,a,n)&&(o[a]=!0,r.push(a))},t.dom.getRoot()),r},canApply:function(t,e){var n,i,r,o,s,a=t.formatter.get(e),u=t.dom;if(a)for(n=t.selection.getStart(),i=ol.getParents(u,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(u.is(i[r],s))return!0}return!1},matchesUnInheritedFormatSelector:Pm},Im=function(t,e){return t.splitText(e)},Hm={split:function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&Er.isText(e)?n>0&&n<e.nodeValue.length&&(e=(i=Im(e,n)).previousSibling,r>n?(e=i=Im(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Er.isText(e)&&n>0&&n<e.nodeValue.length&&(e=Im(e,n),n=0),Er.isText(i)&&r>0&&r<i.nodeValue.length&&(r=(i=Im(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}}},zm=es,Wm=function(t){return function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==zm||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length>0},jm=function(t){var e;if(t)for(t=(e=new Qi(t,t)).current();t;t=e.next())if(3===t.nodeType)return t;return null},Um=function(t){var e=Mn.fromTag("span");return hi(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&yo(e,Mn.fromText(zm)),e},qm=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(Wm(e))mh(t,!1,Mn.fromDom(e),n);else{var o=r.getRng(),s=i.getParent(e,i.isBlock),a=function(t){var e=jm(t);return e&&e.nodeValue.charAt(0)===zm&&e.deleteData(0,1),e}(e);o.startContainer===a&&o.startOffset>0&&o.setStart(a,o.startOffset-1),o.endContainer===a&&o.endOffset>0&&o.setEnd(a,o.endOffset-1),i.remove(e,!0),s&&i.isEmpty(s)&&zl(Mn.fromDom(s)),r.setRng(o)}},Ym=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(e)qm(t,e,n);else if(!(e=Pa(t.getBody(),r.getStart())))for(;e=i.get("_mce_caret");)qm(t,e,!1)},Vm=function(t,e,n){var i=t.dom,r=i.getParent(n,s(ol.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(Hl(Mn.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},Zm=function(t,e){return t.appendChild(e),e},Km=function(t,e){var n,i,r=(n=function(t,e){return Zm(t,e.cloneNode(!1))},i=e,function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n,t)}(t,function(t){i=n(i,t)}),i);return Zm(r,r.ownerDocument.createTextNode(zm))},Gm=function(t){t.on("mouseup keydown",function(e){!function(t,e){var n=t.selection,i=t.getBody();Ym(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==zm||Ym(t,Pa(i,n.getStart())),37!==e&&39!==e||Ym(t,Pa(i,n.getStart()))}(t,e.keyCode)})},Xm=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(ti(e))&&!Oa(e.dom())&&!Er.isBogus(e.dom())},Mm={},Qm=qe.filter,Jm=qe.each;!function(t,e){var n=Mm[t];n||(Mm[t]=n=[]),Mm[t].push(e)}("pre",function(t){var e,n,i=t.selection.getRng();e=Er.matchNodeNames("pre"),i.collapsed||(n=t.selection.getSelectedBlocks(),Jm(Qm(Qm(n,e),function(t){return e(t.previousSibling)&&-1!==qe.indexOf(n,t.previousSibling)}),function(t){var e,n;e=t.previousSibling,pn(n=t).remove(),pn(e).append("<br><br>").append(n.childNodes)}))});var $m=function(t,e){Jm(Mm[t],function(t){t(e)})},tv=/^(src|href|style)$/,ev=Ge.each,nv=ol.isEq,iv=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},rv=function(t,e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],Er.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),Er.isText(i)&&n&&r>=i.nodeValue.length&&(i=new Qi(i,t.getBody()).next()||i),Er.isText(i)&&!n&&0===r&&(i=new Qi(i,t.getBody()).prev()||i),i},ov=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},sv=function(t,e,n,i,r){var o=Mn.fromDom(e),s=Mn.fromDom(t.create(i,r)),a=n?Bi(o):Li(o);return bo(s,a),n?(go(o,s),vo(s,o)):(mo(o,s),yo(s,o)),s.dom()},av=function(t,e,n,i){return!(e=ol.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},uv=function(t,e,n,i,r){var o,s,a,u=t.dom;if(!function(t,e,n){return!!nv(e,n.inline)||!!nv(e,n.block)||(n.selector?Er.isElement(e)&&t.is(e,n.selector):void 0)}(u,i,e)&&!function(t,e){return e.links&&"A"===t.tagName}(i,e))return!1;if("all"!==e.remove)for(ev(e.styles,function(t,o){t=ol.normalizeStyleValue(u,ol.replaceVars(t,n),o),"number"==typeof o&&(o=t,r=0),(e.remove_similar||!r||nv(ol.getStyle(u,r,o),t))&&u.setStyle(i,o,""),a=1}),a&&""===u.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),ev(e.attributes,function(t,e){var o;if(t=ol.replaceVars(t,n),"number"==typeof e&&(e=t,r=0),!r||nv(u.getAttrib(r,e),t)){if("class"===e&&(t=u.getAttrib(i,e))&&(o="",ev(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o))return void u.setAttrib(i,e,o);"class"===e&&i.removeAttribute("className"),tv.test(e)&&i.removeAttribute("data-mce-"+e),i.removeAttribute(e)}}),ev(e.classes,function(t){t=ol.replaceVars(t,n),r&&!u.hasClass(r,t)||u.removeClass(i,t)}),s=u.getAttribs(i),o=0;o<s.length;o++){var l=s[o].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return!1}return"none"!==e.remove?(function(t,e,n){var i,r=e.parentNode,o=t.dom,s=t.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&nv(e,n.list_block)||ev(Ge.grep(e.childNodes),function(e){ol.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=ov(o,e,s),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(av(o,e,!1)||av(o,e.firstChild,!0,1)||e.insertBefore(o.create("br"),e.firstChild),av(o,e,!0)||av(o,e.lastChild,!1,1)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!nv(n.inline,e)||o.remove(e,1)}(t,i,e),!0):void 0},lv={removeFormat:uv,remove:function(t,e,n,i,r){var o,s,a=t.formatter.get(e),u=a[0],l=!0,c=t.dom,h=t.selection,f=function(i){var o=function(t,e,n,i,r){var o;return ev(ol.getParents(t.dom,e.parentNode).reverse(),function(e){var s;o||"_start"===e.id||"_end"===e.id||(s=Rm.matchNode(t,e,n,i,r))&&!1!==s.split&&(o=e)}),o}(t,i,e,n,r);return function(t,e,n,i,r,o,s,a){var u,l,c,h,f,d,p=t.dom;if(n){for(d=n.parentNode,u=i.parentNode;u&&u!==d;u=u.parentNode){for(l=p.clone(u,!1),f=0;f<e.length;f++)if(uv(t,e[f],a,l,l)){l=0;break}l&&(c&&l.appendChild(c),h||(h=l),c=l)}!o||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),h.appendChild(r))}return i}(t,a,o,i,i,!0,u,n)},d=function(e){var i,r,o,s,h;if(Er.isElement(e)&&c.getContentEditable(e)&&(s=l,l="true"===c.getContentEditable(e),h=!0),i=Ge.grep(e.childNodes),l&&!h)for(r=0,o=a.length;r<o&&!uv(t,a[r],n,e,e);r++);if(u.deep&&i.length){for(r=0,o=i.length;r<o;r++)d(i[r]);h&&(l=s)}},p=function(t){var e=c.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return el.isBookmarkNode(t)&&Er.isElement(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),Er.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),c.remove(e,!0),n},g=function(e){var n,i,r=e.commonAncestorContainer;if(e=vl(t,e,a,!0),u.split){if(e=Hm.split(e),(n=rv(t,e,!0))!==(i=rv(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i=i.firstChild||i),iv(c,n,i)){var o=D.from(n.firstChild).getOr(n);return f(sv(c,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(iv(c,i,n))return o=D.from(i.lastChild).getOr(i),f(sv(c,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);n=ov(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=ov(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(i),n=p(!0),i=p()}else n=i=f(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=c.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=c.nodeIndex(i)+1}bl.walk(c,e,function(e){ev(e,function(e){d(e),Er.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===ol.getTextDecoration(c,e.parentNode)&&uv(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(i)i.nodeType?((s=c.createRng()).setStartBefore(i),s.setEndAfter(i),g(s)):g(i);else if("false"!==c.getContentEditable(h.getNode()))h.isCollapsed()&&u.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,i){var r,o,s,a,u,l,c,h=t.dom,f=t.selection,d=[],p=f.getRng();for(r=p.startContainer,o=p.startOffset,u=r,3===r.nodeType&&(o!==r.nodeValue.length&&(a=!0),u=u.parentNode);u;){if(Rm.matchNode(t,u,e,n,i)){l=u;break}u.nextSibling&&(a=!0),d.push(u),u=u.parentNode}if(l)if(a){s=f.getBookmark(),p.collapse(!0);var g=vl(t,p,t.formatter.get(e),!0);g=Hm.split(g),t.formatter.remove(e,n,g),f.moveToBookmark(s)}else{c=Pa(t.getBody(),l);var m=Um(!1).dom(),v=Km(d,m);Vm(t,m,c||l),qm(t,c,!1),f.setCursorLocation(v,1),h.isEmpty(l)&&h.remove(l)}}(t,e,n,r):(o=Aa.getPersistentBookmark(t.selection,!0),g(h.getRng()),h.moveToBookmark(o),u.inline&&Rm.match(t,e,n,h.getStart())&&ol.moveStart(c,h,h.getRng()),t.nodeChanged());else{i=h.getNode();for(var m=0,v=a.length;m<v&&(!a[m].ceFalseOverride||!uv(t,a[m],n,i,i));m++);}}},cv=Ge.each,hv=function(t){return t&&1===t.nodeType&&!el.isBookmarkNode(t)&&!Oa(t)&&!Er.isBogus(t)},fv=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!el.isBookmarkNode(n))return n}return t},dv=function(t,e,n){var i,r,o=new Il(t);if(e&&n&&(e=fv(e,"previousSibling"),n=fv(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,e.appendChild(r);return t.remove(n),Ge.each(Ge.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},pv=function(t,e,n){cv(t.childNodes,function(t){hv(t)&&(e(t)&&n(t),t.hasChildNodes()&&pv(t,e,n))})},gv=function(t,e){return s(function(e,n){return!(!n||!ol.getStyle(t,n,e))},e)},mv=function(t,e,n){return s(function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),vv(t,i)},e,n)},vv=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},yv=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=ol.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},bv=function(t,e,n,i){cv(e,function(e){cv(t.dom.select(e.inline,i),function(i){hv(i)&&lv.removeFormat(t,e,n,i,e.exact?i:null)}),function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";cv(t.select(i,n),function(n){hv(n)&&cv(e.styles,function(e,i){t.setStyle(n,i,"")})})}}(t.dom,e,i)})},_v=function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(Ge.walk(i,s(yv,t),"childNodes"),yv(t,i))},wv=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&pv(i,gv(t,"fontSize"),mv(t,"backgroundColor",ol.replaceVars(e.styles.backgroundColor,n)))},Cv=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(pv(i,gv(t,"fontSize"),mv(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},Ev=function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=dv(t,ol.getNonWhiteSpaceSibling(i),i),i=dv(t,i,ol.getNonWhiteSpaceSibling(i,!0)))},Sv=function(t,e,n,i,r){Rm.matchNode(t,r.parentNode,n,i)&&lv.removeFormat(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(Rm.matchNode(t,o,n,i))return lv.removeFormat(t,e,i,r),!0})},Tv=Ge.each,xv=function(t,e,n,i){var r,o,s=t.formatter.get(e),a=s[0],u=!i&&t.selection.isCollapsed(),l=t.dom,c=t.selection,h=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,i),Tv(e.styles,function(e,i){l.setStyle(t,i,ol.replaceVars(e,n))}),e.styles){var r=l.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}Tv(e.attributes,function(e,i){l.setAttrib(t,i,ol.replaceVars(e,n))}),Tv(e.classes,function(e){e=ol.replaceVars(e,n),l.hasClass(t,e)||l.addClass(t,e)})}},f=function(t,e){var n=!1;return!!a.selector&&(Tv(t,function(t){if(!("collapsed"in t&&t.collapsed!==u))return l.is(e,t.selector)&&!Oa(e)?(h(e,t),n=!0,!1):void 0}),n)},d=function(i,r,o,u){var l,c,d=[],p=!0;l=a.inline||a.block,c=i.create(l),h(c),bl.walk(i,r,function(r){var o,g=function(r){var m,v,y,b;if(b=p,m=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),ol.isEq(m,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&Rm.matchNode(t,r,e,n))o=0;else{if(p&&!y&&a.block&&!a.wrapper&&ol.isTextBlock(t,m)&&ol.isValid(t,v,l))return r=i.rename(r,l),h(r),d.push(r),void(o=0);if(a.selector){var _=f(s,r);if(!a.inline||_)return void(o=0)}!p||y||!ol.isValid(t,l,m)||!ol.isValid(t,v,l)||!u&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Oa(r)||a.inline&&i.isBlock(r)?(o=0,Tv(Ge.grep(r.childNodes),g),y&&(p=b),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),d.push(o)),o.appendChild(r))}};Tv(r,g)}),!0===a.links&&Tv(d,function(t){var e=function(t){"A"===t.nodeName&&h(t,a),Tv(Ge.grep(t.childNodes),e)};e(t)}),Tv(d,function(r){var o,u=function(t){var e=!1;return Tv(t.childNodes,function(t){if(function(t){return t&&1===t.nodeType&&!el.isBookmarkNode(t)&&!Oa(t)&&!Er.isBogus(t)}(t))return e=t,!1}),e};o=function(t){var e=0;return Tv(t.childNodes,function(t){ol.isWhiteSpaceNode(t)||el.isBookmarkNode(t)||e++}),e}(r),!(d.length>1)&&i.isBlock(r)||0!==o?(a.inline||a.wrapper)&&(a.exact||1!==o||(r=function(t){var e,n;return(e=u(t))&&!el.isBookmarkNode(e)&&Rm.matchName(i,e,a)&&(n=i.clone(e,!1),h(n),i.replace(n,t,!0),i.remove(e,1)),n||t}(r)),bv(t,s,n,r),Sv(t,a,e,n,r),wv(i,a,n,r),Cv(i,a,n,r),Ev(i,a,n,r)):i.remove(r,1)})};if("false"!==l.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?f(s,i)||((o=l.createRng()).setStartBefore(i),o.setEndAfter(i),d(l,vl(t,o,s),0,!0)):d(l,i,0,!0);else if(u&&a.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var i,r,o,s,a,u,l=t.selection;s=(i=l.getRng(!0)).startOffset,u=i.startContainer.nodeValue,(r=Pa(t.getBody(),l.getStart()))&&(o=jm(r));var c,h,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&s>0&&s<u.length&&f.test(u.charAt(s))&&f.test(u.charAt(s-1))?(a=l.getBookmark(),i.collapse(!0),i=vl(t,i,t.formatter.get(e)),i=Hm.split(i),t.formatter.apply(e,n,i),l.moveToBookmark(a)):(r&&o.nodeValue===zm?t.formatter.apply(e,n,r):(c=t.getDoc(),h=Um(!0).dom(),o=(r=c.importNode(h,!0)).firstChild,i.insertNode(r),s=1,t.formatter.apply(e,n,r)),l.setCursorLocation(o,s))}(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||l.getParent(p,l.isBlock)||xv(t,s[0].defaultBlock),t.selection.setRng(Vl(t.selection.getRng())),r=Aa.getPersistentBookmark(t.selection,!0),d(l,vl(t,c.getRng(),s)),a.styles&&_v(l,a,n,p),c.moveToBookmark(r),ol.moveStart(l,c,c.getRng()),t.nodeChanged()}$m(e,t)}}else{i=c.getNode();for(var g=0,m=s.length;g<m;g++)if(s[g].ceFalseOverride&&l.is(i,s[g].selector))return void h(i,s[g])}},kv={applyFormat:xv},Dv=Ge.each,Av={formatChanged:function(t,e,n,i,r){null===e.get()&&function(t,e){var n={};t.set({}),e.on("NodeChange",function(i){var r=ol.getParents(e.dom,i.element),o={};r=Ge.grep(r,function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}),Dv(t.get(),function(t,i){Dv(r,function(s){return e.formatter.matchNode(s,i,{},t.similar)?(n[i]||(Dv(t,function(t){t(!0,{node:s,format:i,parents:r})}),n[i]=t),o[i]=t,!1):!Rm.matchesUnInheritedFormatSelector(e,s,i)&&void 0})}),Dv(n,function(t,e){o[e]||(delete n[e],Dv(t,function(t){t(!1,{node:i.element,format:e,parents:r})}))})})}(e,t),function(t,e,n,i){var r=t.get();Dv(e.split(","),function(t){r[t]||(r[t]=[],r[t].similar=i),r[t].push(n)}),t.set(r)}(e,n,i,r)}},Ov={get:function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){Ge.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ge.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e}},Pv=Ge.each,Nv=so.DOM,Lv=function(t,e){var n,i,r,o=e&&e.schema||Gr({}),s=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,function(t,e){e.classes.length&&Nv.addClass(t,e.classes.join(" ")),Nv.setAttribs(t,e.attrs)}(e=Nv.create(i.name),i),e},a=function(t,e,n){var i,r,u,l=e.length>0&&e[0],c=l&&l.name;if(u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==Ge.inArray(r,e)?e:r[0])}(t,c))c===u?(r=e[0],e=e.slice(1)):r=u;else if(l)r=e[0],e=e.slice(1);else if(!n)return t;return r&&(i=s(r)).appendChild(t),n&&(i||(i=Nv.create("div")).appendChild(t),Ge.each(n,function(e){var n=s(e);i.insertBefore(n,t)})),a(i,e,r&&r.siblings)};return t&&t.length?(i=t[0],n=s(i),(r=Nv.create("div")).appendChild(a(n,t.slice(1),i.siblings)),r):""},Bv=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=Ge.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Ge.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=e||"div",n},Fv=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ge.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=Ge.map(t.split(/(?:~\+|~|\+)/),Bv),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},Rv={getCssText:function(t,e){var n,i,r,o,s,a,u="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var l=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(o=Fv(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,i=Lv(o,t)):i=Lv([n],t),r=Nv.select(n,i)[0]||i.firstChild,Pv(e.styles,function(t,e){(t=l(t))&&Nv.setStyle(r,e,t)}),Pv(e.attributes,function(t,e){(t=l(t))&&Nv.setAttrib(r,e,t)}),Pv(e.classes,function(t){t=l(t),Nv.hasClass(r,t)||Nv.addClass(r,t)}),t.fire("PreviewFormats"),Nv.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),s=Nv.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,Pv(a.split(" "),function(e){var n=Nv.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Nv.getStyle(t.getBody(),e,!0),"#ffffff"===Nv.toHex(n).toLowerCase())||"color"===e&&"#000000"===Nv.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(u+="padding:0 2px;"),u+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),Nv.remove(i),u)},parseSelector:Fv,selectorToHtml:function(t,e){return Lv(Fv(t),e)}},Iv={toggle:function(t,e,n,i,r){var o=e.get(n);!Rm.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?kv.applyFormat(t,n,i,r):lv.remove(t,n,i,r)}},Hv={setup:function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function zv(t){var e=function(t){var e={},n=function(t,i){t&&("string"!=typeof t?Ge.each(t,function(t,e){n(e,t)}):(i=i.length?i:[i],Ge.each(i,function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),e[t]=i))};return n(Ov.get(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=So(null);return Hv.setup(t),Gm(t),{get:e.get,register:e.register,unregister:e.unregister,apply:s(kv.applyFormat,t),remove:s(lv.remove,t),toggle:s(Iv.toggle,t,e),match:s(Rm.match,t),matchAll:s(Rm.matchAll,t),matchNode:s(Rm.matchNode,t),canApply:s(Rm.canApply,t),formatChanged:s(Av.formatChanged,t,n),getCssText:s(Rv.getCssText,t)}}var Wv,jv=Object.prototype.hasOwnProperty,Uv=(Wv=function(t,e){return e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<t.length;i++){var r=t[i];for(var o in r)jv.call(r,o)&&(n[o]=Wv(n[o],r[o]))}return n}),qv={register:function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),t.addAttributeFilter("src,href,style",function(t,i){for(var r,o,s=t.length,a="data-mce-"+i,u=e.url_converter,l=e.url_converter_scope;s--;)void 0!==(o=(r=t[s]).attributes.map[a])?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):u&&(o=u.call(l,o,i,r.name)),r.attr(i,o.length>0?o:null))}),t.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),t.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),t.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=Ir.decode(e.value))}),t.addNodeFilter("script,style",function(t,n){for(var i,r,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)r=(i=t[s]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),t.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){W(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},trimTrailingBr:function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())}},Yv={process:function(t,e,n){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,n)?function(t,e,n){var i,r,o,s=t.dom;return e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),Ge.each("BODY"===e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=s.doc,s.doc=r),tp(t,Uv(n,{node:e})),o&&(s.doc=o),e}(t,e,n):e}},Vv=function(t,e,n){t.addNodeFilter("font",function(t){W(t,function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),s=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),function(t,e){W(e,function(e){t.attr(e,null)})}(t,["color","face","size"])})})},Zv=function(t,e){var n=Mr();e.convert_fonts_to_spans&&Vv(t,n,Ge.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",function(t){W(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})}(t,n)},Kv={register:function(t,e){e.inline_styles&&Zv(t,e)}},Gv=/^[ \t\r\n]*$/,Xv={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Mv=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[s])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[s])return i}},Qv=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i,r;if(i=new t(e,Xv[e]||1),n)for(r in n)i.attr(r,n[r]);return i},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n,i;if("string"!=typeof t){for(i in t)this.attr(i,t[i]);return this}if(n=this.attributes){if(void 0!==e){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),this;return this}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}return n.map[t]}},t.prototype.clone=function(){var e,n,i,r,o,s=new t(this.name,this.type);if(i=this.attributes){for((o=[]).map={},e=0,n=i.length;e<n;e++)"id"!==(r=i[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=this.value,s.shortEnded=this.shortEnded,s},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){var t,e;for(t=this.firstChild;t;)e=t.next,this.insert(t,this,!0),t=e;this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e,e&&(e.prev=null)):n.next=e,t.lastChild===this?(t.lastChild=n,n&&(n.next=null)):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){var e;return t.parent&&t.remove(),(e=this.lastChild)?(e.next=t,t.prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){var e,n=[];for(e=this.firstChild;e;e=Mv(e,this))e.name===t&&n.push(e);return n},t.prototype.empty=function(){var t,e,n;if(this.firstChild){for(t=[],n=this.firstChild;n;n=Mv(n,this))t.push(n);for(e=t.length;e--;)(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){var i,r,o=this.firstChild;if(e=e||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(t[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!Gv.test(o.value))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&Gv.test(o.value))return!1;if(n&&n(o))return!1}while(o=Mv(o,this));return!0},t.prototype.walk=function(t){return Mv(this,null,t)},t}(),Jv=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new Qv("br",1)).shortEnded=!0:i.empty().append(new Qv("#text",3)).value=""},$v=function(t){return ty(t,"#text")&&""===t.firstChild.value},ty=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},ey=function(t,e,n,i){return i.isEmpty(e,n,function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)})},ny=function(t,e){return t&&(e[t.name]||"br"===t.name)},iy=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,i,r){var o,s,a,u,l,c,h,f,d=t.length,p=Ge.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m=n.getNonEmptyElements();for(p.body=1,o=0;o<d;o++)if(a=(s=t[o]).parent,p[s.parent.name]&&s===a.lastChild){for(l=s.prev;l;){if("span"!==(c=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}l=l.prev}s&&(s.remove(),ey(n,g,m,a)&&(h=n.getElementRule(a.name))&&(h.removeEmpty?a.remove():h.paddEmpty&&Jv(e,r,p,a)))}else{for(u=s;a&&a.firstChild===u&&a.lastChild===u&&(u=a,!p[a.name]);)a=a.parent;u===a&&!0!==e.padd_empty_with_br&&((f=new Qv("#text",3)).value="",s.replace(f))}}),t.addAttributeFilter("href",function(t){var n,i,r,o=t.length;if(!e.allow_unsafe_link_target)for(;o--;)"a"===(n=t[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(i=n.attr("rel"),r=void 0,r=i?Ge.trim(i):"",/\b(noopener)\b/g.test(r)?r:function(t){return t.split(" ").filter(function(t){return t.length>0}).concat(["noopener"]).sort().join(" ")}(r)))}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do{n=e.prev,i.insert(e,r),e=n}while(e)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new Qv("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,i,r,o,s,a,u,l=t.length,c=n.getValidClasses();l--;){for(i=(e=t[l]).attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],u=!1,(a=c["*"])&&a[o]&&(u=!0),a=c[e.name],!u&&a&&a[o]&&(u=!0),u&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}})},ry=Ge.makeMap,oy=Ge.each,sy=Ge.explode,ay=Ge.extend;function uy(t,e){void 0===e&&(e=Gr());var n={},i=[],r={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var e,s,a;(s=t.name)in n&&((a=r[s])?a.push(t):r[s]=[t]),e=i.length;for(;e--;)(s=i[e].name)in t.attributes.map&&((a=o[s])?a.push(t):o[s]=[t]);return t},a={schema:e,addAttributeFilter:function(t,e){oy(sy(t),function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(t,e){oy(sy(t),function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)})},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:s,parse:function(a,u){var l,c,h,f,d,p,g,m,v,y,b,_=[];u=u||{},r={},o={},v=ay(ry("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w=e.getNonEmptyElements(),C=e.children,E=t.validate,S="forced_root_block"in u?u.forced_root_block:t.forced_root_block,T=e.getWhiteSpaceElements(),x=/^[ \t\r\n]+/,k=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;y=T.hasOwnProperty(u.context)||T.hasOwnProperty(t.root_name);var O=function(t,e){var i,o=new Qv(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o},P=function(t){var n,i,r,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((r=n.value.replace(k,"")).length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};l=fm({validate:E,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){b.append(O("#cdata",4)).value=t},text:function(t,e){var n;y||(t=t.replace(D," "),ny(b.lastChild,v)&&(t=t.replace(x,""))),0!==t.length&&((n=O("#text",3)).raw=!!e,b.append(n).value=t)},comment:function(t){b.append(O("#comment",8)).value=t},pi:function(t,e){b.append(O(t,7)).value=e,P(b)},doctype:function(t){b.append(O("#doctype",10)).value=t,P(b)},start:function(t,n,r){var s,a,u,l,c;if(u=E?e.getElementRule(t):{}){for((s=O(u.outputName||t,1)).attributes=n,s.shortEnded=r,b.append(s),(c=C[b.name])&&C[s.name]&&!c[s.name]&&_.push(s),a=i.length;a--;)(l=i[a].name)in n.map&&((g=o[l])?g.push(s):o[l]=[s]);v[t]&&P(s),r||(b=s),!y&&T[t]&&(y=!0)}},end:function(n){var i,r,o,s,a;if(r=E?e.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if((o=i.value.replace(x,"")).length>0)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||A.test(o))&&(i.remove(),i=s),i=s;if((i=b.lastChild)&&3===i.type)if((o=i.value.replace(k,"")).length>0)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||A.test(o))&&(i.remove(),i=s),i=s}if(y&&T[n]&&(y=!1),r.removeEmpty&&ey(e,w,T,b)&&!b.attributes.map.name&&!b.attr("id"))return a=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=a);r.paddEmpty&&($v(b)||ey(e,w,T,b))&&Jv(t,u,v,b),b=b.parent}}},e);var N=b=new Qv(u.context||t.root_name,11);if(l.parse(a),E&&_.length&&(u.context?u.invalid=!0:function(t){var n,i,r,o,a,u,l,c,h,f,d,p,g,m,v,y;for(p=ry("tr,td,th,tbody,thead,tfoot,table"),f=e.getNonEmptyElements(),d=e.getWhiteSpaceElements(),g=e.getTextBlockElements(),m=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(g[i.name]&&"li"===i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),a=u=s(o[0].clone()),h=0;h<o.length-1;h++){for(e.isValidChild(u.name,o[h].name)?(l=s(o[h].clone()),u.append(l)):l=u,c=o[h].firstChild;c&&c!==o[h+1];)y=c.next,l.append(c),c=y;u=l}ey(e,f,d,a)?r.insert(i,o[0],!0):(r.insert(a,o[0],!0),r.insert(i,a)),r=o[0],(ey(e,f,d,r)||ty(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(s(new Qv("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(s(new Qv("div",1))):m[i.name]?i.empty().remove():i.unwrap()}}}(_)),S&&("body"===N.name||u.isRootContent)&&function(){var n,i,r=N.firstChild,o=function(t){t&&((r=t.firstChild)&&3===r.type&&(r.value=r.value.replace(x,"")),(r=t.lastChild)&&3===r.type&&(r.value=r.value.replace(k,"")))};if(e.isValidChild(N.name,S.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?i?i.append(r):((i=O(S,1)).attr(t.forced_root_block_attrs),N.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!u.invalid){for(m in r){for(g=n[m],d=(c=r[m]).length;d--;)c[d].parent||c.splice(d,1);for(h=0,f=g.length;h<f;h++)g[h](c,m,u)}for(h=0,f=i.length;h<f;h++)if((g=i[h]).name in o){for(d=(c=o[g.name]).length;d--;)c[d].parent||c.splice(d,1);for(d=0,p=g.callbacks.length;d<p;d++)g.callbacks[d](c,g.name,u)}}return N}};return iy(a,t),Kv.register(a,t),a}var ly=function(t,e,n){-1===Ge.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},cy=function(t,e,n){var i=ns(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||fr(Mn.fromDom(e))?i:Ge.trim(i)},hy=function(t,e,n){var i=n.selection?Uv({forced_root_block:!1},n):n,r=t.parse(e,i);return qv.trimTrailingBr(r),r},fy=function(t,e,n,i,r){return function(t,e,n){return!e.no_events&&t?ep(t,Uv(e,{content:n})).content:n}(t,r,function(t,e,n){return ql(t,e).serialize(n)}(e,n,i))};function dy(t,e){var n=function(t,e){var n,i,r,o=["data-mce-selected"];return n=e&&e.dom?e.dom:so.DOM,i=e&&e.schema?e.schema:Gr(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=uy(t,i),qv.register(r,t,n),{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(o,s){var a=Uv({format:"html"},s||{}),u=Yv.process(e,o,a),l=cy(n,u,a),c=hy(r,l,a);return"tree"===a.format?c:fy(e,t,i,c,a)},addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:s(ly,r,o),getTempAttrs:function(){return o}}}(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function py(t){return{getBookmark:s(el.getBookmark,t),moveToBookmark:s(el.moveToBookmark,t)}}!function(t){t.isBookmarkNode=el.isBookmarkNode}(py||(py={}));var gy,my=py,vy=Er.isContentEditableFalse,yy=Er.isContentEditableTrue,by=function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b=e.dom,_=Ge.each,w=e.getDoc(),C=document,E=Math.abs,S=Math.round,T=e.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var x=".mce-content-body";e.contentStyles.push(x+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+x+" .mce-resizehandle:hover {background: #000}"+x+" img[data-mce-selected],"+x+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+x+" .mce-clonedresizable {position: absolute;"+(ct.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+x+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var k=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},D=function(t){var n=t.target;(function(t,e){return k(t.target)&&!Zg(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),e.selection.select(n))},A=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},O=function(t){var n=e.settings.object_resizing;return!1!==n&&!ct.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&Ti(Mn.fromDom(t),n))},P=function(t){var o,_,w,C;o=t.screenX-a,_=t.screenY-u,g=o*s[2]+h,m=_*s[3]+f,g=g<5?5:g,m=m<5?5:m,(k(n)&&!1!==e.settings.resize_img_proportional?!tm.modifierPressed(t):tm.modifierPressed(t)||k(n)&&s[2]*s[3]!=0)&&(E(o)>E(_)?(m=S(g*d),g=S(m/d)):(g=S(m/d),m=S(g*d))),b.setStyles(A(i),{width:g,height:m}),w=(w=s.startPos.x+o)>0?w:0,C=(C=s.startPos.y+_)>0?C:0,b.setStyles(r,{left:w,top:C,display:"block"}),r.innerHTML=g+" &times; "+m,s[2]<0&&i.clientWidth<=g&&b.setStyle(i,"left",l+(h-g)),s[3]<0&&i.clientHeight<=m&&b.setStyle(i,"top",c+(f-m)),(o=T.scrollWidth-v)+(_=T.scrollHeight-y)!=0&&b.setStyles(r,{left:w-o,top:C-_}),p||(rp(e,n,h,f),p=!0)},N=function(){p=!1;var t=function(t,i){i&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?b.setStyle(A(n),t,i):b.setAttrib(A(n),t,i))};t("width",g),t("height",m),b.unbind(w,"mousemove",P),b.unbind(w,"mouseup",N),C!==w&&(b.unbind(C,"mousemove",P),b.unbind(C,"mouseup",N)),b.remove(i),b.remove(r),L(n),op(e,n,g,m),b.setAttrib(n,"style",b.getAttrib(n,"style")),e.nodeChanged()},L=function(t){var p,E,S,x,k;B(),I(),p=b.getPos(t,T),l=p.x,c=p.y,k=t.getBoundingClientRect(),E=k.width||k.right-k.left,S=k.height||k.bottom-k.top,n!==t&&(n=t,g=m=0),x=e.fire("ObjectSelected",{target:t}),O(t)&&!x.isDefaultPrevented()?_(o,function(t,e){var o;(o=b.get("mceResizeHandle"+e))&&b.remove(o),o=b.add(T,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===ct.ie&&(o.contentEditable=!1),b.bind(o,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){a=e.screenX,u=e.screenY,h=A(n).clientWidth,f=A(n).clientHeight,d=f/h,s=t,t.startPos={x:E*t[0]+l,y:S*t[1]+c},v=T.scrollWidth,y=T.scrollHeight,i=n.cloneNode(!0),b.addClass(i,"mce-clonedresizable"),b.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,b.setStyles(i,{left:l,top:c,margin:0}),i.removeAttribute("data-mce-selected"),T.appendChild(i),b.bind(w,"mousemove",P),b.bind(w,"mouseup",N),C!==w&&(b.bind(C,"mousemove",P),b.bind(C,"mouseup",N)),r=b.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+f)}(e)}),t.elm=o,b.setStyles(o,{left:E*t[0]+l-o.offsetWidth/2,top:S*t[1]+c-o.offsetHeight/2})}):B(),n.setAttribute("data-mce-selected","1")},B=function(){var t,e;for(t in I(),n&&n.removeAttribute("data-mce-selected"),o)(e=b.get("mceResizeHandle"+t))&&(b.unbind(e),b.remove(e))},F=function(n){var i,r=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||e.removed||(_(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"===n.type?n.target:t.getNode(),r(i=b.$(i).closest("table,img,figure.image,hr")[0],T)&&(H(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?L(i):B())},R=function(t){return vy(function(t,e){for(;e&&e!==t;){if(yy(e)||vy(e))return e;e=e.parentNode}return null}(e.getBody(),t))},I=function(){for(var t in o){var e=o[t];e.elm&&(b.unbind(e.elm),delete e.elm)}},H=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return e.on("init",function(){H(),ct.ie&&ct.ie>=11&&(e.on("mousedown click",function(t){var n=t.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||R(n)||(2!==t.button&&e.selection.select(n,"TABLE"===i),"mousedown"===t.type&&e.nodeChanged())}),e.dom.bind(T,"mscontrolselect",function(t){var n=function(t){gt.setEditorTimeout(e,function(){e.selection.select(t)})};if(R(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))}));var t=gt.throttle(function(t){e.composing||F(t)});e.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),e.on("keyup compositionend",function(e){n&&"TABLE"===n.nodeName&&t(e)}),e.on("hide blur",B),e.on("contextmenu",D)}),e.on("remove",I),{isResizable:O,showResizeRect:L,hideResizeRect:B,updateResizeRect:F,destroy:function(){n=i=null}}},_y=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},wy=function(t,e,n){var i,r,o,s,a=t.dom,u=a.getRoot(),l=0;if(!function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()}(t,e,n)&&Er.isElement(e)){if(!1===n&&(l=e.offsetHeight),"BODY"!==u.nodeName){var c=t.selection.getScrollContainer();if(c)return i=_y(e).y-_y(c).y+l,s=c.clientHeight,void((i<(o=c.scrollTop)||i+25>o+s)&&(c.scrollTop=i<o?i:i-s+25))}r=a.getViewPort(t.getWin()),i=a.getPos(e).y+l,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&t.getWin().scrollTo(0,i<o?i:i-s+25)}},Cy=function(t,e){J(sa.fromRangeStart(e).getClientRects()).each(function(e){var n,i,r=function(t){if(t.inline)return t.getBody().getBoundingClientRect();var e=t.getWin();return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}}(t),o={x:Ns(n=r,i=e),y:Ls(n,i)};!function(t,e,n){t.inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)}(t,0!==o.x?o.x>0?o.x+4:o.x-4:0,0!==o.y?o.y>0?o.y+4:o.y-4:0)})},Ey=function(t){return Er.isContentEditableTrue(t)||Er.isContentEditableFalse(t)},Sy={fromPoint:function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(r){i=function(t,e,n){var i,r,o;if(i=n.elementFromPoint(t,e),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),(o=(o=Ge.toArray(r.getClientRects())).sort(function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))})).length>0){e=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(t,e),r.collapse(!0),r}catch(t){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Er.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,Ey))?null:t}(i,n.body)}return i}},Ty=function(t,e){return z(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})},xy=function(t,e){var n=(e||document).createDocumentFragment();return W(t,function(t){n.appendChild(t.dom())}),Mn.fromDom(n)},ky=yi("element","width","rows"),Dy=yi("element","cells"),Ay=yi("x","y"),Oy=function(t,e){var n=parseInt(fi(t,e),10);return isNaN(n)?1:n},Py=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},Ny=function(t){return q(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)},Ly=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(ki(r[o],e))return D.some(Ay(o,i));return D.none()},By=function(t,e,n,i,r){for(var o=[],s=t.rows(),a=n;a<=r;a++){var u=s[a].cells(),l=e<i?u.slice(e,i+1):u.slice(i,e+1);o.push(Dy(s[a].element(),l))}return o},Fy=function(t){var e=ky(Qo(t),0,[]);return W(Lo(t,"tr"),function(t,n){W(Lo(t,"td,th"),function(i,r){!function(t,e,n,i,r){for(var o=Oy(r,"rowspan"),s=Oy(r,"colspan"),a=t.rows(),u=n;u<n+o;u++){a[u]||(a[u]=Dy(Jo(i),[]));for(var l=e;l<e+s;l++)a[u].cells()[l]=u===n&&l===e?r:Qo(r)}}(e,function(t,e,n){for(;Py(t,e,n);)e++;return e}(e,r,n),n,t,i)})}),ky(e.element(),Ny(e.rows()),e.rows())},Ry=function(t){return function(t,e){var n=Qo(t.element()),i=Mn.fromTag("tbody");return bo(i,e),yo(n,i),n}(t,function(t){return z(t.rows(),function(t){var e=z(t.cells(),function(t){var e=Jo(t);return di(e,"colspan"),di(e,"rowspan"),e}),n=Qo(t.element());return bo(n,e),n})}(t))},Iy=function(t,e,n){return Ly(t,e).bind(function(e){return Ly(t,n).map(function(n){return function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),s=n.y(),a=r<s?By(t,i,r,o,s):By(t,i,s,o,r);return ky(t.element(),Ny(a),a)}(t,e,n)})})},Hy=function(t,e){return Y(t,function(t){return"li"===ti(t)&&function(t,e){return Hs([pg(e),gg(e)],function(e,n){var i=Y(mg(t),s(ki,e)),r=Y(vg(t),s(ki,n));return i.isSome()&&r.isSome()}).getOr(!1)}(t,e)}).fold(r([]),function(e){return function(t){return Y(t,function(t){return"ul"===ti(t)||"ol"===ti(t)})}(t).map(function(t){return[Mn.fromTag("li"),Mn.fromTag(ti(t))]}).getOr([])})},zy=function(t,e){var n=Mn.fromDom(e.commonAncestorContainer),i=Nc(n,t),o=U(i,function(t){return rr(t)||nr(t)}),s=Hy(i,e),a=o.concat(s.length?s:function(t){return ur(t)?Oi(t).filter(ar).fold(r([]),function(e){return[t,e]}):ar(t)?[t]:[]}(n));return z(a,Qo)},Wy=function(){return xy([])},jy=function(t,e){return n=Mn.fromDom(e.cloneContents()),i=zy(t,e),r=q(i,function(t,e){return yo(e,t),e},n),i.length>0?xy([r]):r;var n,i,r},Uy=function(t,e){return(n=t,i=e[0],Io(i,"table",s(ki,n))).bind(function(t){var n=e[0],i=e[e.length-1],r=Fy(t);return Iy(r,n,i).map(function(t){return xy([Ry(t)])})}).getOrThunk(Wy);var n,i},qy=function(t,e){var n=Bf(e,t);return n.length>0?Uy(t,n):function(t,e){return e.length>0&&e[0].collapsed?Wy():jy(t,e[0])}(t,e)},Yy=function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return function(t){return D.from(t.selection.getRng()).map(function(t){return ns(t.toString())}).getOr("")}(t);e.getInner=!0;var n=function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),s=Ty(t,Df(o));return i.cloneContents?(n=e.contextual?qy(Mn.fromDom(t.getBody()),s).dom():i.cloneContents())&&r.appendChild(n):r.innerHTML=i.toString(),t.selection.serializer.serialize(r,e)}(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)},Vy=function(t,e,n){var i,r,o,s=t.selection.getRng(),a=t.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=e,n.no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){if(e=n.content,s.insertNode){e+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=e:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=e,s.insertNode(r))),i=t.dom.get("__caret"),(s=a.createRange()).setStartBefore(i),s.setEndBefore(i),t.selection.setRng(s),t.dom.remove("__caret");try{t.selection.setRng(s)}catch(t){}}else s.item&&(a.execCommand("Delete",!1,null),s=t.getRng()),/^\s+/.test(e)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):s.pasteHTML(e);n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)},Zy=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return D.from(o).map(Mn.fromDom).map(function(t){return i&&e.collapsed?t:Ri(t,r(t,s)).getOr(t)}).bind(function(t){return ni(t)?D.some(t):Oi(t)}).map(function(t){return t.dom()}).getOr(t)},Ky=function(t,e,n){return Zy(t,e,!0,n,function(t,e){return Math.min(t.dom().childNodes.length,e)})},Gy=function(t,e,n){return Zy(t,e,!1,n,function(t,e){return e>0?e-1:e})},Xy=function(t,e){for(var n=t;t&&Er.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},My=Ge.each,Qy=function(t){return!!t.select},Jy=function(t){return!(!t||!t.ownerDocument)&&Di(Mn.fromDom(t.ownerDocument),Mn.fromDom(t))},$y=function(t,e,n,i){var r,o,s,a,u,l=function(t,e){return Vy(i,t,e)},c=function(t){var e=f();e.collapse(!!t),d(e)},h=function(){return e.getSelection?e.getSelection():e.document.selection},f=function(){var n,r,o,u,l=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;if(null==(u=e.document))return null;if(void 0!==i.bookmark&&!1===Op(i)){var c=Wd.getRng(i);if(c.isSome())return c.map(function(t){return Ty(i,[t])[0]}).getOr(u.createRange())}try{(n=h())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(t){}return(r=Ty(i,[r])[0])||(r=u.createRange?u.createRange():u.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=t.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===l(r.START_TO_START,r,s)&&0===l(r.END_TO_END,r,s)?r=a:(s=null,a=null)),r},d=function(t,e){var n,r;if(function(t){return!!t&&(!!Qy(t)||Jy(t.startContainer)&&Jy(t.endContainer))}(t)){var o=Qy(t)?t:null;if(o){a=null;try{o.select()}catch(t){}}else{if(n=h(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||ct.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},p=function(){var e,n,i=h();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:c,setCursorLocation:function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),d(r),c(!1)):(yg(t,r,i.getBody(),!0),d(r))},getContent:function(t){return Yy(i,t)},setContent:l,getBookmark:function(t,e){return r.getBookmark(t,e)},moveToBookmark:function(t){return r.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return D.from(e).map(function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(yg(t,r,e,!0),yg(t,r,e,!1)),r})}(t,e,n).each(d),e},isCollapsed:function(){var t=f(),e=h();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:p,setNode:function(e){return l(t.getOuterHTML(e)),e},getNode:function(){return t=i.getBody(),(e=f())?(r=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(r===o&&a-s<2&&r.hasChildNodes()&&(n=r.childNodes[s]),3===r.nodeType&&3===o.nodeType&&(r=r.length===s?Xy(r.nextSibling,!0):r.parentNode,o=0===a?Xy(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,r,o,s,a},getSel:h,setRng:d,getRng:f,getStart:function(t){return Ky(i.getBody(),f(),t)},getEnd:function(t){return Gy(i.getBody(),f(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,i){var r,o,s=[];if(o=t.getRoot(),n=t.getParent(n||Ky(o,e,e.collapsed),t.isBlock),i=t.getParent(i||Gy(o,e,e.collapsed),t.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i){r=n;for(var a=new Qi(n,o);(r=a.next())&&r!==i;)t.isBlock(r)&&s.push(r)}return i&&n!==i&&i!==o&&s.push(i),s}(t,f(),e,n)},normalize:function(){var e=f(),n=h();if(!Of(n)&&bg(i)){var r=gd.normalize(t,e);return r.each(function(t){d(t,p())}),r.getOr(e)}return e},selectorChanged:function(e,n){var r;return u||(u={},r={},i.on("NodeChange",function(e){var n=e.element,i=t.getParents(n,null,t.getRoot()),o={};My(u,function(e,n){My(i,function(s){if(t.is(s,n))return r[n]||(My(e,function(t){t(!0,{node:s,selector:n,parents:i})}),r[n]=e),o[n]=e,!1})}),My(r,function(t,e){o[e]||(delete r[e],My(t,function(t){t(!1,{node:n,selector:e,parents:i})}))})})),u[e]||(u[e]=[]),u[e].push(n),g},getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return wy(i,t,e)},placeCaretAt:function(t,e){return d(Sy.fromPoint(t,e,i.getDoc()))},getBoundingClientRect:function(){var t=f();return t.collapsed?la.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=s=a=null,o.destroy()}};return r=my(g),o=by(g,i),g.bookmarkManager=r,g.controlSelection=o,g},tb=Er.isContentEditableFalse,eb=Bs,nb=wu,ib=_u,rb=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},ob=function(t,e,n,i){var r,o,s,a,u,l,c=t===ua.Forwards,h=c?ib:nb;return!i.collapsed&&(r=eb(i),tb(r))?Xg(t,e,r,t===ua.Backwards,!0):(a=os(i.startContainer),h(o=bu(t,e.getBody(),i))?Mg(e,o.getNode(!c)):(o=n(o))?h(o)?Xg(t,e,o.getNode(!c),c,!0):h(s=n(o))&&(!(l=uu(u=o,s))&&Er.isBr(u.getNode())||l)?Xg(t,e,s.getNode(!c),c,!0):a?Jg(e,o.toRange(),!0):null:a?i:null)},sb=function(t,e,n,i){var r,o,s,a,u,l,c,h,f;if(f=eb(i),r=bu(t,e.getBody(),i),o=n(e.getBody(),Rg(1),r),s=U(o,Ig(1)),u=qe.last(r.getClientRects()),(ib(r)||Cu(r))&&(f=r.getNode()),(nb(r)||Eu(r))&&(f=r.getNode(!0)),!u)return null;if(l=u.left,(a=qg(s,l))&&tb(a.node))return c=Math.abs(l-a.left),h=Math.abs(l-a.right),Xg(t,e,a.node,c<h,!0);if(f){var d=function(t,e,n,i){var r,o,s,a,u,l,c=Hu(e),h=[],f=0,d=function(t){return qe.last(t.getClientRects())};1===t?(r=c.next,o=Ps,s=Os,a=la.after(i)):(r=c.prev,o=Os,s=Ps,a=la.before(i)),l=d(a);do{if(a.isVisible()&&!s(u=d(a),l)){if(h.length>0&&o(u,qe.last(h))&&f++,(u=ks(u)).position=a,u.line=f,n(u))return h;h.push(u)}}while(a=r(a));return h}(t,e.getBody(),Rg(1),f);if(a=qg(U(d,Ig(1)),l))return Jg(e,a.position.toRange(),!0);if(a=qe.last(U(d,Ig(0))))return Jg(e,a.position.toRange(),!0)}},ab=function(t,e,n){var i,r,o=Hu(t.getBody()),a=s(rb,o.next),u=s(rb,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?a(la.fromRangeStart(n)):u(la.fromRangeStart(n)))||(r=function(t){var e=t.dom.create(t.settings.forced_root_block);return(!ct.ie||ct.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}},ub=function(t,e){return function(){var n=function(t,e){var n,i=Hu(t.getBody()),r=s(rb,i.next),o=s(rb,i.prev),a=e?ua.Forwards:ua.Backwards,u=e?r:o,l=t.selection.getRng();return(n=ob(a,t,u,l))?n:(n=ab(t,a,l))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},lb=function(t,e){return function(){var n=function(t,e){var n,i=e?1:-1,r=e?Fg:Bg,o=t.selection.getRng();return(n=sb(i,t,r,o))?n:(n=ab(t,i,o))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(gy||(gy={}));var cb=function(t,e){return t===ua.Backwards?e.reverse():e},hb=function(t,e,n){return t===ua.Forwards?e.next(n):e.prev(n)},fb=function(t,e,n,i){return Er.isBr(i.getNode(e===ua.Forwards))?gy.Br:!1===uu(n,i)?gy.Block:gy.Wrap},db=function(t,e,n,i){for(var r,o=Hu(n),s=i,a=[];s&&(r=hb(e,o,s));){if(Er.isBr(r.getNode(!1)))return e===ua.Forwards?{positions:cb(e,a).concat([r]),breakType:gy.Br,breakAt:D.some(r)}:{positions:cb(e,a),breakType:gy.Br,breakAt:D.some(r)};if(r.isVisible()){if(t(s,r)){var u=fb(0,e,s,r);return{positions:cb(e,a),breakType:u,breakAt:D.some(r)}}a.push(r),s=r}else s=r}return{positions:cb(e,a),breakType:gy.Eol,breakAt:D.none()}},pb=function(t,e,n,i){return e(n,i).breakAt.map(function(i){var r=e(n,i).positions;return t===ua.Backwards?r.concat(i):[i].concat(r)}).getOr([])},gb=function(t,e){return q(t,function(t,n){return t.fold(function(){return D.some(n)},function(i){return Hs([J(i.getClientRects()),J(n.getClientRects())],function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i}).or(t)})},D.none())},mb=function(t,e){return J(e.getClientRects()).bind(function(e){return gb(t,e.left)})},vb=s(db,sa.isAbove,-1),yb=s(db,sa.isBelow,1),bb=s(pb,-1,vb),_b=s(pb,1,yb),wb=function(t,e,n,i,r){var o=Lo(Mn.fromDom(n),"td,th,caption").map(function(t){return t.dom()});return function(t,e,n){return q(t,function(t,i){return t.fold(function(){return D.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return D.some(o<r?i:t)})},D.none())}(U(function(t,e){return G(e,function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}}(ks(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})}(t,o),function(t){return e(t,r)}),i,r).map(function(t){return t.cell})},Cb=s(wb,function(t){return t.bottom},function(t,e){return t.y<e}),Eb=s(wb,function(t){return t.top},function(t,e){return t.y>e}),Sb=function(t,e){return J(e.getClientRects()).bind(function(e){return Cb(t,e.left,e.top)}).bind(function(t){return mb((n=t,Ku.lastPositionIn(n).map(function(t){return vb(n,t).positions.concat(t)}).getOr([])),e);var n})},Tb=function(t,e){return $(e.getClientRects()).bind(function(e){return Eb(t,e.left,e.top)}).bind(function(t){return mb((n=t,Ku.firstPositionIn(n).map(function(t){return[t].concat(yb(n,t).positions)}).getOr([])),e);var n})},xb=function(t,e){t.selection.setRng(e),Cy(t,e)},kb=function(t,e,n){var i=t(e,n);return function(t){return t.breakType===gy.Wrap&&0===t.positions.length}(i)||!Er.isBr(n.getNode())&&function(t){return t.breakType===gy.Br&&1===t.positions.length}(i)?!function(t,e,n){return n.breakAt.map(function(n){return t(e,n).breakAt.isSome()}).getOr(!1)}(t,e,i):i.breakAt.isNone()},Db=s(kb,vb),Ab=s(kb,yb),Ob=function(t,e,n,i){var r=t.selection.getRng(),o=e?1:-1;if(Za()&&function(t,e,n){var i=la.fromRangeStart(e);return Ku.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)}(e,r,n)){var s=Xg(o,t,n,!e,!0);return xb(t,s),!0}return!1},Pb=function(t,e){var n=e.getNode(t);return Er.isElement(n)&&"TABLE"===n.nodeName?D.some(n):D.none()},Nb=function(t,e,n){var i=Pb(!!e,n),r=!1===e;i.fold(function(){return xb(t,n.toRange())},function(i){return Ku.positionIn(r,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return xb(t,n.toRange())},function(r){return function(t,e,n,i){var r=Xf.getForcedRootBlock(e);r?e.undoManager.transact(function(){var i=Mn.fromTag(r);hi(i,Xf.getForcedRootBlockAttrs(e)),yo(i,Mn.fromTag("br")),t?mo(Mn.fromDom(n),i):go(Mn.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),xb(e,o)}):xb(e,i.toRange())}(e,t,i,n)})})},Lb=function(t,e,n,i){var r=t.selection.getRng(),o=la.fromRangeStart(r),s=t.getBody();if(!e&&Db(i,o)){var a=function(t,e,n){return Sb(e,n).orThunk(function(){return J(n.getClientRects()).bind(function(n){return gb(bb(t,la.before(e)),n.left)})}).getOr(la.before(e))}(s,n,o);return Nb(t,e,a),!0}return!(!e||!Ab(i,o))&&(a=function(t,e,n){return Tb(e,n).orThunk(function(){return J(n.getClientRects()).bind(function(n){return gb(_b(t,la.after(e)),n.left)})}).getOr(la.after(e))}(s,n,o),Nb(t,e,a),!0)},Bb=function(t,e){return function(){return D.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return D.from(t.dom.getParent(n,"table")).map(function(n){return Ob(t,e,n)})}).getOr(!1)}},Fb=function(t,e){return function(){return D.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return D.from(t.dom.getParent(n,"table")).map(function(i){return Lb(t,e,i,n)})}).getOr(!1)}},Rb=function(t){return H(["figcaption"],ti(t))},Ib=function(t){var e=document.createRange();return e.setStartBefore(t.dom()),e.setEndBefore(t.dom()),e},Hb=function(t,e,n){n?yo(t,e):vo(t,e)},zb=function(t,e,n,i){return""===e?function(t,e){var n=Mn.fromTag("br");return Hb(t,n,e),Ib(n)}(t,i):function(t,e,n,i){var r=Mn.fromTag(n),o=Mn.fromTag("br");return hi(r,i),yo(r,o),Hb(t,r,e),Ib(o)}(t,i,e,n)},Wb=function(t,e,n){return e?function(t,e){return yb(t,e).breakAt.isNone()}(t.dom(),n):function(t,e){return vb(t,e).breakAt.isNone()}(t.dom(),n)},jb=function(t,e){var n=Mn.fromDom(t.getBody()),i=la.fromRangeStart(t.selection.getRng()),r=Xf.getForcedRootBlock(t),o=Xf.getForcedRootBlockAttrs(t);return function(t,e){var n=s(ki,e);return Ro(Mn.fromDom(t.container()),ir,n).filter(Rb)}(i,n).exists(function(){if(Wb(n,e,i)){var s=zb(n,r,o,e);return t.selection.setRng(s),!0}return!1})},Ub=function(t,e){return function(){return!!t.selection.isCollapsed()&&jb(t,e)}},qb=function(t,e){return G(function(t){return z(t,function(t){return Uv({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:n},t)})}(t),function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,e)?[t]:[]})},Yb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},Vb=function(t,e){return Y(qb(t,e),function(t){return t.action()})},Zb=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var i=Gn.detect().os;Vb([{keyCode:tm.RIGHT,action:ub(t,!0)},{keyCode:tm.LEFT,action:ub(t,!1)},{keyCode:tm.UP,action:lb(t,!1)},{keyCode:tm.DOWN,action:lb(t,!0)},{keyCode:tm.RIGHT,action:Bb(t,!0)},{keyCode:tm.LEFT,action:Bb(t,!1)},{keyCode:tm.UP,action:Fb(t,!1)},{keyCode:tm.DOWN,action:Fb(t,!0)},{keyCode:tm.RIGHT,action:uf.move(t,e,!0)},{keyCode:tm.LEFT,action:uf.move(t,e,!1)},{keyCode:tm.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:uf.moveNextWord(t,e)},{keyCode:tm.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:uf.movePrevWord(t,e)},{keyCode:tm.UP,action:Ub(t,!1)},{keyCode:tm.DOWN,action:Ub(t,!0)}],n).each(function(t){n.preventDefault()})}(t,e,n)})},Kb=function(t){return 1===Fi(t).length},Gb=function(t,e,n,i){var r=s(Xm,e),o=z(U(i,r),function(t){return t.dom()});if(0===o.length)mh(e,t,n);else{var a=function(t,e){var n=Um(!1),i=Km(e,n.dom());return go(Mn.fromDom(t),n),wo(Mn.fromDom(t)),la(i,0)}(n.dom(),o);e.selection.setRng(a.toRange())}},Xb=function(t,e){var n=Mn.fromDom(t.getBody()),i=Mn.fromDom(t.selection.getStart()),o=U(function(t,e){var n=Nc(e,t);return V(n,ir).fold(r(n),function(t){return n.slice(0,t)})}(n,i),Kb);return $(o).map(function(n){var i,r=la.fromRangeStart(t.selection.getRng());return!(!vc(e,r,n.dom())||(i=n,Oa(i.dom())&&Wm(i.dom()))||(Gb(e,t,n,o),0))}).getOr(!1)},Mb=function(t,e){return!!t.selection.isCollapsed()&&Xb(t,e)},Qb=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(t,e,n){Vb([{keyCode:tm.BACKSPACE,action:Yb(bh,t,!1)},{keyCode:tm.DELETE,action:Yb(bh,t,!0)},{keyCode:tm.BACKSPACE,action:Yb(ff,t,e,!1)},{keyCode:tm.DELETE,action:Yb(ff,t,e,!0)},{keyCode:tm.BACKSPACE,action:Yb(Vf,t,!1)},{keyCode:tm.DELETE,action:Yb(Vf,t,!0)},{keyCode:tm.BACKSPACE,action:Yb(Vc,t,!1)},{keyCode:tm.DELETE,action:Yb(Vc,t,!0)},{keyCode:tm.BACKSPACE,action:Yb(jc,t,!1)},{keyCode:tm.DELETE,action:Yb(jc,t,!0)},{keyCode:tm.BACKSPACE,action:Yb(Mb,t,!1)},{keyCode:tm.DELETE,action:Yb(Mb,t,!0)}],n).each(function(t){n.preventDefault()})}(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&function(t,e){Vb([{keyCode:tm.BACKSPACE,action:Yb(_h,t)},{keyCode:tm.DELETE,action:Yb(_h,t)}],e)}(t,e)})},Jb=function(t){return D.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},$b=function(t,e){var n,i,r,o=e,s=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var u=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&e.insertBefore(s.doc.createTextNode(""),e.firstChild)}if(r=s.createRng(),e.normalize(),e.hasChildNodes()){for(n=new Qi(e,e);i=n.current();){if(Er.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(a[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}o=i,i=n.next()}i||(r.setStart(o,0),r.setEnd(o,0))}else Er.isBr(e)?e.nextSibling&&s.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),s.remove(void 0),t.selection.scrollIntoView(e)}},t_=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},e_=Jb,n_=function(t){return Jb(t).fold(r(""),function(t){return t.nodeName.toUpperCase()})},i_=function(t){return Jb(t).filter(function(t){return ur(Mn.fromDom(t))}).isSome()},r_=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},o_=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},s_=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},a_=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!Er.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},u_=function(t,e,n,i,r){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){var a;o_(a=n)&&o_(a.parentNode)&&(r="LI");var u=r?e(r):o.create("BR");if(a_(n,i,!0)&&a_(n,i,!1))r_(n,"LI")?o.insertAfter(u,s_(n)):o.replace(u,n);else if(a_(n,i,!0))r_(n,"LI")?(o.insertAfter(u,s_(n)),u.appendChild(o.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(a_(n,i,!1))o.insertAfter(u,s_(n));else{n=s_(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var c=l.extractContents();"LI"===r&&function(t,e){return t.firstChild&&t.firstChild.nodeName===e}(c,"LI")?(u=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(u,n))}o.remove(i),$b(t,u)}},l_=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},c_=function(t){t.innerHTML='<br data-mce-bogus="1">'},h_=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},f_=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},d_=function(t,e,n){return!1===Er.isText(e)?n:t?1===n&&e.data.charAt(n-1)===es?0:n:n===e.data.length-1&&e.data.charAt(n)===es?e.data.length:n},p_=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},g_=function(t,e){var n=Xf.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,Xf.getForcedRootBlockAttrs(t))},m_=function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g=t.dom,m=t.schema,v=m.getNonEmptyElements(),y=t.selection.getRng(),b=function(e){var n,o,a,u=r,l=m.getTextInlineElements();if(e||"TABLE"===h||"HR"===h?(n=g.create(e||d),g_(t,n)):n=s.cloneNode(!1),a=n,!1===Xf.shouldKeepStyles(t))g.setAttrib(n,"style",null),g.setAttrib(n,"class",null);else do{if(l[u.nodeName]){if(Oa(u))continue;o=u.cloneNode(!1),g.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==i);return c_(a),n},_=function(t){var e,n,i,a;if(a=d_(t,r,o),Er.isText(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!t)return!0;if(t&&Er.isElement(r)&&r===s.firstChild)return!0;if(h_(r,"TABLE")||h_(r,"HR"))return p&&!t||!p&&t;for(e=new Qi(r,s),Er.isText(r)&&(t&&0===a?e.prev():t||a!==r.nodeValue.length||e.next());n=e.current();){if(Er.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(Er.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;t?e.prev():e.next()}return!0},w=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(h)&&"HGROUP"!==f?b(d):b(),Xf.shouldEndContainerOnEmptyBlock(t)&&f_(g,c)&&g.isEmpty(s)?u=g.split(c,s):g.insertAfter(u,s),$b(t,u)};gd.normalize(g,y).each(function(t){y.setStart(t.startContainer,t.startOffset),y.setEnd(t.endContainer,t.endOffset)}),r=y.startContainer,o=y.startOffset,d=Xf.getForcedRootBlock(t),a=e.shiftKey,Er.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&Er.isText(r)?r.nodeValue.length:0),(i=p_(g,r))&&((d&&!a||!d&&a)&&(r=function(t,e,n,i,r){var o,s,a,u,l,c,h=e||"P",f=t.dom,d=p_(f,i);if(!(s=f.getParent(i,f.isBlock))||!f_(f,s)){if(c=(s=s||d)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=f.create(h),g_(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(u=i;u.parentNode!==s;)u=u.parentNode;for(;u&&!f.isBlock(u);)a=u,u=u.previousSibling;if(a&&t.schema.isValidChild(c,h.toLowerCase())){for(o=f.create(h),g_(t,o),a.parentNode.insertBefore(o,a),u=a;u&&!f.isBlock(u);)l=u.nextSibling,o.appendChild(u),u=l;n.setStart(i,r),n.setEnd(i,r)}}return i}(t,d,y,r,o)),s=g.getParent(r,g.isBlock),c=s?g.getParent(s.parentNode,g.isBlock):null,h=s?s.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||e.ctrlKey||(s=c,c=c.parentNode,h=f),/^(LI|DT|DD)$/.test(h)&&g.isEmpty(s)?u_(t,b,c,s,d):d&&s===t.getBody()||(d=d||"P",os(s)?(u=ps(s),g.isEmpty(s)&&c_(s),$b(t,u)):_()?w():_(!0)?(u=s.parentNode.insertBefore(b(),s),$b(t,h_(s,"HR")?u:s)):((n=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,d_(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,d_(!1,t.endContainer,t.endOffset)),e}(y).cloneRange()).setEndAfter(s),function(t){W(No(Mn.fromDom(t),ii),function(t){var e=t.dom();e.nodeValue=ns(e.nodeValue)})}(l=n.extractContents()),function(t){do{Er.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(l),u=l.firstChild,g.insertAfter(l,s),function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;Er.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):l_(t,r)&&t.remove(r)}}(g,v,u),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(g,s),g.isEmpty(s)&&c_(s),u.normalize(),g.isEmpty(u)?(g.remove(u),w()):$b(t,u)),g.setAttrib(u,"id",""),t.fire("NewBlock",{newBlock:u})))},v_=function(t,e){return e_(t).filter(function(t){return e.length>0&&Ti(Mn.fromDom(t),e)}).isSome()},y_=function(t){return v_(t,Xf.getBrNewLineSelector(t))},b_=function(t){return v_(t,Xf.getNoNewLineSelector(t))},__=Zc([{br:[]},{block:[]},{none:[]}]),w_=function(t,e){return b_(t)},C_=function(t){return function(e,n){return""===Xf.getForcedRootBlock(e)===t}},E_=function(t){return function(e,n){return i_(e)===t}},S_=function(t,e){return function(n,i){return n_(n)===t.toUpperCase()===e}},T_=function(t){return S_("pre",t)},x_=function(t){return function(e,n){return Xf.shouldPutBrInPre(e)===t}},k_=function(t,e){return y_(t)},D_=function(t,e){return e},A_=function(t){var e=Xf.getForcedRootBlock(t),n=t_(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},O_=function(t,e){return function(n,i){return q(t,function(t,e){return t&&e(n,i)},!0)?D.some(e):D.none()}},P_=function(t,e){return Ph([O_([w_],__.none()),O_([S_("summary",!0)],__.br()),O_([T_(!0),x_(!1),D_],__.br()),O_([T_(!0),x_(!1)],__.block()),O_([T_(!0),x_(!0),D_],__.block()),O_([T_(!0),x_(!0)],__.br()),O_([E_(!0),D_],__.br()),O_([E_(!0)],__.block()),O_([C_(!0),D_,A_],__.block()),O_([C_(!0)],__.br()),O_([k_],__.br()),O_([C_(!1),D_],__.br()),O_([A_],__.block())],[t,e.shiftKey]).getOr(__.none())},N_=function(t,e){P_(t,e).fold(function(){Td.insert(t,e)},function(){m_(t,e)},n)},L_=function(t){t.on("keydown",function(e){e.keyCode===tm.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),N_(t,e)}))}(t,e)})},B_=function(t,e){var n=e.container(),i=e.offset();return Er.isText(n)?(n.insertData(i,t),D.some(sa(n,i+t.length))):ku(e).map(function(n){var i=Mn.fromText(t);return e.isAtEnd()?mo(n,i):go(n,i),sa(i.dom(),t.length)})},F_=s(B_,""),R_=s(B_," "),I_=function(t,e,n){var i=U(Nc(Mn.fromDom(n.container()),e),ir);return J(i).fold(function(){return Ku.navigate(t,e.dom(),n).forall(function(t){return!1===uu(t,n,e.dom())})},function(e){return Ku.navigate(t,e.dom(),n).isNone()})},H_=s(I_,!1),z_=s(I_,!0),W_=function(t){return sa.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},j_=function(t,e){var n=U(Nc(Mn.fromDom(e.container()),t),ir);return J(n).getOr(t)},U_=function(t,e){return W_(e)?xu(e):xu(e)||Ku.prevPosition(j_(t,e).dom(),e).exists(xu)},q_=function(t,e){return W_(e)?Tu(e):Tu(e)||Ku.nextPosition(j_(t,e).dom(),e).exists(Tu)},Y_=function(t){return ku(t).bind(function(t){return Ro(t,ni)}).exists(function(t){return e=mi(t,"white-space"),H(["pre","pre-line","pre-wrap"],e);var e})},V_=function(t,e){return function(t,e){return Ku.prevPosition(t.dom(),e).isNone()}(t,e)||function(t,e){return Ku.nextPosition(t.dom(),e).isNone()}(t,e)||H_(t,e)||z_(t,e)||Mc(t,e)||Xc(t,e)},Z_=function(t,e){return Ga(t.charAt(e))},K_=function(t){var e=t.container();return Er.isText(e)&&zn(e.data,"")},G_=function(t,e,n){var i=sa(e,0);return Z_(n,0)&&!function(t,e){return!Y_(e)&&(H_(t,e)||Mc(t,e)||U_(t,e))}(t,i)?" "+n.slice(1):n},X_=function(t,e,n){var i=sa(e,n.length);return Z_(n,n.length-1)&&!function(t,e){return!Y_(e)&&(z_(t,e)||Xc(t,e)||q_(t,e))}(t,i)?n.slice(0,-1)+" ":n},M_=function(t,e){return D.some(e).filter(K_).bind(function(e){var n=e.container(),i=n.nodeValue,r=G_(t,n,function(t){return z(t.split(""),function(t,e,n){return Ga(t)&&e>0&&e<n.length-1&&Ma(n[e-1])&&Ma(n[e+1])?" ":t}).join("")}(X_(t,n,i)));return i!==r?(e.container().nodeValue=r,D.some(e)):D.none()})},Q_=function(t){var e=Mn.fromDom(t.getBody());t.selection.isCollapsed()&&M_(e,sa.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},J_=function(t,e){return function(n){return function(t,e){return!Y_(e)&&(V_(t,e)||U_(t,e)||q_(t,e))}(t,n)?F_(e):R_(e)}},$_=function(t){var e=la.fromRangeStart(t.selection.getRng()),n=Mn.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=s(pc.isInlineTarget,t),r=la.fromRangeStart(t.selection.getRng());return Xh(i,t.getBody(),r).bind(function(t){return function(e){return e.fold(function(e){return Ku.prevPosition(t.dom(),la.before(e))},function(t){return Ku.firstPositionIn(t)},function(t){return Ku.lastPositionIn(t)},function(e){return Ku.nextPosition(t.dom(),la.after(e))})}}(n)).bind(J_(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1},tw=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(t,e){Vb([{keyCode:tm.SPACEBAR,action:Yb($_,t)}],e).each(function(t){e.preventDefault()})}(t,e)})},ew=function(t,e){e.hasAttribute("data-mce-caret")&&(ps(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))},nw=function(t,e){var n=function(t){return Ho(Mn.fromDom(t.getBody()),"*[data-mce-caret]").fold(r(null),function(t){return t.dom()})}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void ew(t,n)):void(us(n)&&(ew(t,n),t.undoManager.add()))},iw=function(t){t.on("keyup compositionstart",s(nw,t))},rw=Gn.detect().browser,ow=function(t){!function(t){var e=Eo(function(){t.composing||Q_(t)},0);rw.isIE()&&(t.on("keypress",function(t){e.throttle()}),t.on("remove",function(t){e.cancel()}))}(t),t.on("input",function(e){!1===e.isComposing&&Q_(t)})},sw=function(t){var e=uf.setupSelectedState(t);iw(t),Zb(t,e),Qb(t,e),L_(t),tw(t),ow(t)};function aw(t){var e,n,i,r=Ge.each,o=tm.BACKSPACE,s=tm.DELETE,a=t.dom,u=t.selection,l=t.settings,c=t.parser,h=ct.gecko,f=ct.ie,d=ct.webkit,p=f?"Text":"URL",g=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},m=function(t){return t.isDefaultPrevented()},v=function(){t.shortcuts.add("meta+a",null,"SelectAll")},y=function(){t.on("keydown",function(t){if(!m(t)&&t.keyCode===o&&u.isCollapsed()&&0===u.getRng().startOffset){var e=u.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},b=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(ct.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))};return t.on("keydown",function(e){var n,i,r,o,s;if(!m(e)&&e.keyCode===tm.BACKSPACE&&(i=(n=u.getRng()).startContainer,r=n.startOffset,o=a.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(t.formatter.toggle("blockquote",null,s),(n=a.createRng()).setStart(i,0),n.setEnd(i,0),u.setRng(n))}}),e=function(t){var e=a.create("body"),n=t.cloneContents();return e.appendChild(n),u.serializer.serialize(e,{format:"html"})},t.on("keydown",function(n){var i,r,u,l,c,h=n.keyCode;if(!m(n)&&(h===s||h===o)){if(i=t.selection.isCollapsed(),r=t.getBody(),i&&!a.isEmpty(r))return;if(!i&&(u=t.selection.getRng(),l=e(u),(c=a.createRng()).selectNode(t.getBody()),l!==e(c)))return;n.preventDefault(),t.setContent(""),r.firstChild&&a.isBlock(r.firstChild)?t.selection.setCursorLocation(r.firstChild,0):t.selection.setCursorLocation(r,0),t.nodeChanged()}}),ct.windowsPhone||t.on("keyup focusin mouseup",function(t){tm.modifierPressed(t)||u.normalize()},!0),d&&(t.settings.content_editable||a.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=u.getRng(),t.getBody().focus(),"mousedown"===e.type){if(as(n.startContainer))return;u.placeCaretAt(e.clientX,e.clientY)}else u.setRng(n)}),t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),u.select(n))}),l.forced_root_block&&t.on("init",function(){g("DefaultParagraphSeparator",l.forced_root_block)}),t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(t){t.preventDefault()})}),y(),c.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()}),ct.iOS?(t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()}),b(),t.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),ct.ie>=11&&(b(),y()),ct.ie&&(v(),g("AutoUrlDetect",!1),t.on("dragstart",function(e){!function(e){var n,i;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&u.select(e.target),(n=t.selection.getContent()).length>0&&(i="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(p,i)))}(e)}),t.on("drop",function(e){if(!m(e)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(p))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(e);if(n&&n.id!==t.id){e.preventDefault();var i=Sy.fromPoint(e.x,e.y,t.getDoc());u.setRng(i),r=n.html,o=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):t.execCommand("mceInsertContent",!1,r)}}var r,o})),h&&(t.on("keydown",function(e){if(!m(e)&&e.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var n=u.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(a.remove(i),e.preventDefault())}}}),Range.prototype.getClientRects||t.on("mousedown",function(e){if(!m(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),gt.setEditorTimeout(t,function(){n.focus()})}}),n=function(){var e=a.getAttribs(u.getStart().cloneNode(!1));return function(){var n=u.getStart();n!==t.getBody()&&(a.setAttrib(n,"style",null),r(e,function(t){n.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!u.isCollapsed()&&a.getParent(u.getStart(),a.isBlock)!==a.getParent(u.getEnd(),a.isBlock)},t.on("keypress",function(e){var r;if(!m(e)&&(8===e.keyCode||46===e.keyCode)&&i())return r=n(),t.getDoc().execCommand("delete",!1,null),r(),e.preventDefault(),!1}),a.bind(t.getDoc(),"cut",function(e){var r;!m(e)&&i()&&(r=n(),gt.setEditorTimeout(t,function(){r()}))}),l.readonly||t.on("BeforeExecCommand MouseDown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),l.object_resizing||g("enableObjectResizing",!1)}),t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||r(a.select("a"),function(t){var e=t.parentNode,n=a.getRoot();if(e.lastChild===t){for(;e&&!a.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}a.add(e,"br",{"data-mce-bogus":1})}})}),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),ct.mac&&t.on("keydown",function(e){!tm.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),y()),{refreshContentEditable:function(){},isHidden:function(){var e;return!h||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}var uw=function(t){return Er.isElement(t)&&sr(Mn.fromDom(t))},lw=function(t){t.on("click",function(e){e.detail>=3&&function(t){var e=t.selection.getRng(),n=sa.fromRangeStart(e),i=sa.fromRangeEnd(e);if(sa.isElementPosition(n)){var r=n.container();uw(r)&&Ku.firstPositionIn(r).each(function(t){return e.setStart(t.container(),t.offset())})}sa.isElementPosition(i)&&(r=n.container(),uw(r)&&Ku.lastPositionIn(r).each(function(t){return e.setEnd(t.container(),t.offset())})),t.selection.setRng(Vl(e))}(t)})},cw=function(t){!function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})}(t),function(t){t.parser.addNodeFilter("details",function(t){W(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){W(t,function(t){var e=t.attr("data-mce-open");t.attr("open",O(e)?e:null),t.attr("data-mce-open",null)})})}(t)},hw=so.DOM,fw=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&gt.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)}(t)},dw=function(t,e){var n,i,r=t.settings,o=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(s.open(),s.write(t.iframeHTML),s.close()),r.content_editable&&(t.on("remove",function(){var t=this.getBody();hw.removeClass(t,"mce-content-body"),hw.removeClass(t,"mce-edit-focus"),hw.setAttrib(t,"contentEditable",null)}),hw.addClass(o,"mce-content-body"),t.contentDocument=s=r.content_document||document,t.contentWindow=r.content_window||window,t.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===hw.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=ag(t),t.schema=Gr(r),t.dom=so(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,contentCssCors:Xf.shouldUseContentCssCors(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(t){var e=uy(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o,s=e.length,a=t.dom;s--;)if(r=(i=e[s]).attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),e.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new Qv("br",1)).shortEnded=!0)}),e}(t),t.serializer=dy(r,t),t.selection=$y(t.dom,t.getWin(),t.serializer,t),t.annotator=xl(t),t.formatter=zv(t),t.undoManager=Am(t),t._nodeChangeDispatcher=new _g(t),t._selectionOverrides=sm(t),cw(t),lw(t),sw(t),dg(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,hw.setAttrib(n,"spellcheck","false")),t.quirks=aw(t),t.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",function(t){Ge.each(r.protect,function(e){t.content=t.content.replace(e,function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0&&(i="",Ge.each(t.contentStyles,function(t){i+=t+"\r\n"}),t.dom.addStyle(i)),function(t){return t.inline?hw.styleSheetLoader:t.dom.styleSheetLoader}(t).loadAll(t.contentCSS,function(e){fw(t)},function(e){fw(t)}),r.content_style&&function(t,e){var n=Mn.fromDom(t.getDoc().head),i=Mn.fromTag("style");ci(i,"type","text/css"),yo(i,Mn.fromText(e)),yo(n,i)}(t,r.content_style)},pw=so.DOM,gw=function(t){var e="number"==typeof t?t+"px":t;return e||""},mw=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=function(t,e,n,i){var r=Mn.fromTag("iframe");return hi(r,i),hi(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),gi(r,{width:"100%",height:gw(n),display:"block"}),r}(t.id,n,e.height,Xf.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=function(t,e){if(document.domain!==window.location.hostname&&ct.ie&&ct.ie<12){var n=sg.uuid("mce");t[n]=function(){dw(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return pw.setAttrib(e,"src",i),!0}return!1}(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=function(t){var e,n,i;return i=Xf.getDocType(t)+"<html><head>",Xf.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=Xf.getBodyId(t),n=Xf.getBodyClass(t),Xf.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+Xf.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(t),pw.add(e.iframeContainer,i),r},vw=function(t,e){var n=mw(t,e);e.editorContainer&&(pw.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=pw.isHidden(e.editorContainer)),t.getElement().style.display="none",pw.setAttrib(t.id,"aria-hidden","true"),n||dw(t)},yw=so.DOM,bw=function(t,e,n){var i,r,o=Vp.get(n);if(i=Vp.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=Ge.trim(n),o&&-1===Ge.inArray(e,n)){if(Ge.each(Vp.dependencies(n),function(n){bw(t,e,n)}),t.plugins[n])return;r=new o(t,i,t.$),t.plugins[n]=r,r.init&&(r.init(t,i),e.push(n))}},_w=function(t){return t.replace(/^\-/,"")},ww=function(t){return{editorContainer:t,iframeContainer:t}},Cw=function(t){var e=t.getElement();return t.inline?ww(null):function(t){var e=yw.create("div");return yw.insertAfter(e,t),ww(e)}(e)},Ew=function(t){var e=t.settings,n=t.getElement();return t.orgDisplay=n.style.display,O(e.theme)?function(t){var e,n,i,r,o,s=t.settings,a=t.getElement();return e=s.width||yw.getStyle(a,"width")||"100%",n=s.height||yw.getStyle(a,"height")||a.offsetHeight,i=s.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:a,width:e,height:n,deltaWidth:s.delta_width,deltaHeight:s.delta_height}),s.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i),o.height=n,o}(t):F(e.theme)?function(t){var e,n=t.getElement();return(e=t.settings.theme(t,n)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e}(t):Cw(t)},Sw=function(t){var e,n=t.settings,i=t.getElement();return t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||yw.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),function(t){var e,n=t.settings.theme;O(n)?(t.settings.theme=_w(n),e=Zp.get(n),t.theme=new e(t,Zp.urls[n]),t.theme.init&&t.theme.init(t,Zp.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}}(t),function(t){var e=[];Ge.each(t.settings.plugins.split(/[ ,]/),function(n){bw(t,e,_w(n))})}(t),e=Ew(t),t.editorContainer=e.editorContainer?e.editorContainer:null,n.content_css&&Ge.each(Ge.explode(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_editable?dw(t):vw(t,e)},Tw=so.DOM,xw=function(t){return"-"===t.charAt(0)},kw=function(t,e){var n=ho.ScriptLoader;!function(t,e,n,i){var r=e.settings,o=r.theme;if(O(o)){if(!xw(o)&&!Zp.urls.hasOwnProperty(o)){var s=r.theme_url;s?Zp.load(o,e.documentBaseURI.toAbsolute(s)):Zp.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){Zp.waitFor(o,i)})}else i()}(n,t,e,function(){!function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)}(n,t),function(t,e){Ge.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),Ge.each(t.external_plugins,function(e,n){Vp.load(n,e),t.plugins+=" "+n}),Ge.each(t.plugins.split(/[ ,]/),function(t){if((t=Ge.trim(t))&&!Vp.urls[t])if(xw(t)){t=t.substr(1,t.length);var n=Vp.dependencies(t);Ge.each(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=Vp.createUrl(n,t),Vp.load(t.resource,t)})}else Vp.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"})})}(t.settings,e),n.loadQueue(function(){t.removed||Sw(t)},t,function(e){Yp.pluginLoadError(t,e[0]),t.removed||Sw(t)})})},Dw=function(t){var e=t.settings,n=t.id,i=function(){Tw.unbind(window,"ready",i),t.render()};if(St.Event.domLoaded){if(t.getElement()&&ct.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var r=t.getElement().form||Tw.getParent(n,"form");r&&(t.formElement=r,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(Tw.insertAfter(Tw.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Tw.bind(r,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!e.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),r._mceOldSubmit(r)})),t.windowManager=zp(t),t.notificationManager=Hp(t),"xml"===e.encoding&&t.on("GetContent",function(t){t.save&&(t.content=Tw.encode(t.content))}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),kw(t,t.suffix)}}else Tw.bind(window,"ready",i)},Aw=function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i},Ow=Ge.each,Pw=Ge.trim,Nw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Lw={ftp:21,http:80,https:443,mailto:25},Bw=function(t,e){var n,i,r=this;if(t=Pw(t),n=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var o=0===t.indexOf("//");0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(i=e.base_uri?e.base_uri.path:new Bw(document.location.href).directory,""==e.base_uri.protocol?t="//mce_host"+r.toAbsPath(i,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),Ow(Nw,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[e]=i}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}};Bw.prototype={setPath:function(t){t=/^(.*?)\/?(\w+)?$/.exec(t),this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},toRelative:function(t){var e;if("./"===t)return t;if("mce_host"!==(t=new Bw(t,{base_uri:this})).host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var n=this.getURI(),i=t.getURI();return n===i||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===i?n:(e=this.toRelPath(this.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return(t=new Bw(t,{base_uri:this})).getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Lw[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,s="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!==n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,e){var n,i,r,o=0,s=[];for(i=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),Ow(t,function(t){t&&s.push(t)}),t=s,n=e.length-1,s=[];n>=0;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?o>0?o--:s.push(e[n]):o++);return 0!==(r=(n=t.length-o)<=0?s.reverse().join("/"):t.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(t){var e;return this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source}},Bw.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},Bw.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e};var Fw=function(t,e,n){var i;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=Ge.trim(pm.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=ns(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=function(t,e){var n=Xf.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")}(t,t.serializer.serialize(n,e))}return"text"===e.format||fr(Mn.fromDom(n))?e.content=i:e.content=Ge.trim(i),e.no_events||t.fire("GetContent",e),e.content},Rw=function(t,e){e(t),t.firstChild&&Rw(t.firstChild,e),t.next&&Rw(t.next,e)},Iw=function(t,e,n){var i=function(t,e,n){var i={},r={},o=[];for(var s in n.firstChild&&Rw(n.firstChild,function(n){W(t,function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}),W(e,function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})}),i)i.hasOwnProperty(s)&&o.push(i[s]);for(var s in r)r.hasOwnProperty(s)&&o.push(r[s]);return o}(t,e,n);W(i,function(t){W(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},Hw=function(t){return t instanceof Qv},zw=function(t,e){t.dom.setHTML(t.getBody(),e),function(t){Op(t)&&Ku.firstPositionIn(t.getBody()).each(function(e){var n=e.getNode(),i=Er.isTable(n)?Ku.firstPositionIn(n).getOr(e):e;t.selection.setRng(i.toRange())})}(t)},Ww=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Hw(e)?"":e,Hw(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),D.from(t.getBody()).fold(r(e),function(i){return Hw(e)?function(t,e,n,i){Iw(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=ql({validate:t.validate},t.schema).serialize(n);return i.content=fr(Mn.fromDom(e))?r:Ge.trim(r),zw(t,i.content),i.no_events||t.fire("SetContent",i),n}(t,i,e,n):function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(r=Xf.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),zw(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=ql({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=fr(Mn.fromDom(e))?n:Ge.trim(n),zw(t,i.content),i.no_events||t.fire("SetContent",i)),i.content}(t,i,e,n)})},jw=so.DOM,Uw=function(t){return D.from(t).each(function(t){return t.destroy()})},qw=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&jw.remove(r.nextSibling),!t.inline&&i&&function(t){jw.setStyle(t.id,"display",t.orgDisplay)}(t),np(t),t.editorManager.remove(t),jw.remove(t.getContainer()),Uw(e),Uw(n),t.destroy()}},Yw=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Uw(n),Uw(i)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),jw.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())},Vw=so.DOM,Zw=Ge.extend,Kw=Ge.each,Gw=Ge.resolve,Xw=ct.ie,Mw=function(t,e,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;e=function(t,e,n,i,r){var o=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}}(e,n,t);return sc(Jl,o,i,r)}(i,t,r,n.defaultSettings,e),i.settings=e,po.language=e.language||"en",po.languageLoad=e.language_load,po.baseURL=n.baseURL,i.id=t,i.setDirty(!1),i.plugins={},i.documentBaseURI=new Bw(e.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new _p(i),i.loadedCSS={},i.editorCommands=new Gd(i),i.suffix=n.suffix,i.editorManager=n,i.inline=e.inline,i.buttons={},i.menuItems={},e.cache_suffix&&(ct.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(ct.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=pn.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};Mw.prototype={render:function(){Dw(this)},focus:function(t){Ap(this,t)},hasFocus:function(){return Op(this)},execCallback:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this.settings[t];if(r)return this.callbackLookup&&(i=this.callbackLookup[t])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?Gw(i):0,r=Gw(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:r,scope:i}),r.apply(i||this,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&Ge.is(t,"string")){var e=this.settings.language||"en",n=this.editorManager.i18n;t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(void 0!==e?e:"{#"+t+"}")},getParam:function(t,e,n){return lc(this,t,e,n)},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&void 0===e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return Aw(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:sg.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(Vw.show(this.getContainer()),Vw.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var t=this.getDoc();this.hidden||(Xw&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(Vw.hide(this.getContainer()),Vw.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this.getElement();return this.removed?"":n?((t=t||{}).load=!0,e=this.setContent(void 0!==n.value?n.value:n.innerHTML,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(!t.is_removing&&i.inline||(r.innerHTML=e),(n=Vw.getParent(i.id,"form"))&&Kw(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){return Ww(this,t,e)},getContent:function(t){return function(t,e){return void 0===e&&(e={}),D.from(t.getBody()).fold(r("tree"===e.format?new Qv("body",11):""),function(n){return Fw(t,e,n)})}(this,t)},insertContent:function(t,e){e&&(t=Zw({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},setMode:function(t){!function(t,e){e!==lp(t)&&(t.initialized?up(t,"readonly"===e):t.on("init",function(){up(t,"readonly"===e)}),ip(t,e))}(this,t)},getContainer:function(){return this.container||(this.container=Vw.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=Vw.get(this.id)),this.targetElm},getWin:function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},getDoc:function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!i.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:i.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,i.remove_script_host)},addVisual:function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),Kw(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){qw(this)},destroy:function(t){Yw(this,t)},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Zw(Mw.prototype,gp);var Qw,Jw,$w,tC={isEditorUIElement:function(t){return-1!==t.className.toString().indexOf("mce-")}},eC=function(t,e){Gn.detect().browser.isIE()?function(t){t.on("focusout",function(){Wd.store(t)})}(t):function(t,e){t.on("mouseup touchend",function(t){e.throttle()})}(t,e),t.on("keyup nodechange",function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||Wd.store(t)})},nC=function(t){var e=Eo(function(){Wd.store(t)},0);t.inline&&function(t,e){var n=function(){e.throttle()};so.DOM.bind(document,"mouseup",n),t.on("remove",function(){so.DOM.unbind(document,"mouseup",n)})}(t,e),t.on("init",function(){eC(t,e)}),t.on("remove",function(){e.cancel()})},iC=so.DOM,rC=function(t){return tC.isEditorUIElement(t)},oC=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==iC.getParent(e,function(e){return rC(e)||!!n&&t.dom.is(e,n)})},sC=function(t,e){var n=e.editor;nC(n),n.on("focusin",function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),t.focusedEditor=this,this.fire("focus",{blurredEditor:e}),this.focus(!0))}),n.on("focusout",function(){var e=this;gt.setEditorTimeout(e,function(){var n=t.focusedEditor;oC(e,function(){try{return document.activeElement}catch(t){return document.body}}())||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Qw||(Qw=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument===document&&(n===document.body||oC(i,n)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},iC.bind(document,"focusin",Qw))},aC=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(iC.unbind(document,"focusin",Qw),Qw=null)},uC=function(t){t.on("AddEditor",s(sC,t)),t.on("RemoveEditor",s(aC,t))},lC={},cC="en",hC={setCode:function(t){t&&(cC=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return cC},rtl:!1,add:function(t,e){var n=lC[t];for(var i in n||(lC[t]=n={}),e)n[i]=e[i];this.setCode(t)},translate:function(t){var e=lC[cC]||{},n=function(t){return Ge.is(t,"function")?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||Ge.is(t,"undefined")},r=function(t){return t=n(t),Ge.hasOwn(e,t)?n(e[t]):t};if(i(t))return"";if(Ge.is(t,"object")&&Ge.hasOwn(t,"raw"))return n(t.raw);if(Ge.is(t,"array")){var o=t.slice(1);t=r(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return Ge.hasOwn(o,e)?n(o[e]):t})}return r(t).replace(/{context:\w+}$/,"")},data:lC},fC=so.DOM,dC=Ge.explode,pC=Ge.each,gC=Ge.extend,mC=0,vC=!1,yC=[],bC=[],_C=function(t){pC($w.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},wC=function(t){t!==vC&&(t?pn(window).on("resize scroll",_C):pn(window).off("resize scroll",_C),vC=t)},CC=function(t){var e=bC;delete yC[t.id];for(var n=0;n<yC.length;n++)if(yC[n]===t){yC.splice(n,1);break}return bC=U(bC,function(e){return t!==e}),$w.activeEditor===t&&($w.activeEditor=bC.length>0?bC[0]:null),$w.focusedEditor===t&&($w.focusedEditor=null),e.length!==bC.length};$w={defaultSettings:{},$:pn,majorVersion:"4",minorVersion:"9.2",releaseDate:"2018-12-17",editors:yC,i18n:hC,activeEditor:null,settings:{},setup:function(){var t,e,n,i,r="";if(e=Bw.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,r=n.suffix;else{for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var a=(i=o[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==a.indexOf(".min")&&(r=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(r=".min"),t=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new Bw(e).toAbsolute(t),this.documentBaseURL=e,this.baseURI=new Bw(this.baseURL),this.suffix=r,uC(this)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new Bw(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Bw(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var r in i)po.PluginManager.urls[r]=i[r]},init:function(t){var e,n,i=this;n=Ge.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(t){var e=t.id;return e||(e=(e=t.name)&&!fC.get(e)?t.name:fC.uniqueId(),t.setAttribute("id",e)),e},o=function(t,e){return e.constructor===RegExp?e.test(t.className):fC.hasClass(t,e)},s=function(t){e=t},a=function(){var e,u=0,l=[],c=function(t,n,r){var o=new Mw(t,n,i);l.push(o),o.on("init",function(){++u===e.length&&s(l)}),o.targetElm=o.targetElm||r,o.render()};fC.unbind(window,"ready",a),function(e){var n=t[e];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),e=pn.unique(function(t){var e,n=[];if(ct.ie&&ct.ie<11)return Yp.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return pC(t.types,function(t){n=n.concat(fC.select(t.selector))}),n;if(t.selector)return fC.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&pC(dC(e),function(t){var e;(e=fC.get(t))?n.push(e):pC(document.forms,function(e){pC(e.elements,function(e){e.name===t&&(t="mce_editor_"+mC++,fC.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":pC(fC.select("textarea"),function(e){t.editor_deselector&&o(e,t.editor_deselector)||t.editor_selector&&!o(e,t.editor_selector)||n.push(e)})}return n}(t)),t.types?pC(t.types,function(n){Ge.each(e,function(e){return!fC.is(e,n.selector)||(c(r(e),gC({},t,n),e),!1)})}):(Ge.each(e,function(t){var e;(e=i.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(CC(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}),0===(e=Ge.grep(e,function(t){return!i.get(t.id)})).length?s([]):pC(e,function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in n}(t,e)?c(r(e),t,e):Yp.initError("Could not initialize inline editor on invalid inline target element",e)}))};return i.settings=t,fC.bind(window,"ready",a),new ht(function(t){e?t(e):s=function(e){t(e)}})},get:function(t){return 0===arguments.length?bC.slice(0):O(t)?Y(bC,function(e){return e.id===t}).getOr(null):R(t)&&bC[t]?bC[t]:null},add:function(t){var e=this;return yC[t.id]===t?t:(null===e.get(t.id)&&("length"!==t.id&&(yC[t.id]=t),yC.push(t),bC.push(t)),wC(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),Jw||(Jw=function(){e.fire("BeforeUnload")},fC.bind(window,"beforeunload",Jw)),t)},createEditor:function(t,e){return this.add(new Mw(t,e,this))},remove:function(t){var e,n,i=this;if(t){if(!O(t))return n=t,L(i.get(n.id))?null:(CC(n)&&i.fire("RemoveEditor",{editor:n}),0===bC.length&&fC.unbind(window,"beforeunload",Jw),n.remove(),wC(bC.length>0),n);pC(fC.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})}else for(e=bC.length-1;e>=0;e--)i.remove(bC[e])},execCommand:function(t,e,n){var i=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new Mw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){pC(bC,function(t){t.save()})},addI18n:function(t,e){hC.add(t,e)},translate:function(t){return hC.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},gC($w,$d),$w.setup();var EC=$w;function SC(t){return{walk:function(e,n){return bl.walk(t,e,n)},split:Hm.split,normalize:function(e){return gd.normalize(t,e).fold(r(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}!function(t){t.compareRanges=sd.isEq,t.getCaretRangeFromPoint=Sy.fromPoint,t.getSelectedNode=Bs,t.getNode=Fs}(SC||(SC={}));var TC,xC,kC=SC,DC=Math.min,AC=Math.max,OC=Math.round,PC=function(t,e,n){var i,r,o,s,a,u;return i=e.x,r=e.y,o=t.w,s=t.h,a=e.w,u=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=u),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=OC(u/2)),"c"===n[1]&&(i+=OC(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=OC(s/2)),"c"===n[4]&&(i-=OC(o/2)),NC(i,r,o,s)},NC=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},LC={inflate:function(t,e,n){return NC(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:PC,findBestRelativePosition:function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=PC(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(t,e){var n,i,r,o;return n=AC(t.x,e.x),i=AC(t.y,e.y),r=DC(t.x+t.w,e.x+e.w),o=DC(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:NC(n,i,r-n,o-i)},clamp:function(t,e,n){var i,r,o,s,a,u,l,c,h,f;return a=t.x,u=t.y,l=t.x+t.w,c=t.y+t.h,h=e.x+e.w,f=e.y+e.h,i=AC(0,e.x-a),r=AC(0,e.y-u),o=AC(0,l-h),s=AC(0,c-f),a+=i,u+=r,n&&(l+=i,c+=r,a-=o,u-=s),NC(a,u,(l-=o)-a,(c-=s)-u)},create:NC,fromClientRect:function(t){return NC(t.left,t.top,t.width,t.height)}},BC={},FC={add:function(t,e){BC[t.toLowerCase()]=e},has:function(t){return!!BC[t.toLowerCase()]},get:function(t){var e=t.toLowerCase(),n=BC.hasOwnProperty(e)?BC[e]:null;if(null===n)throw new Error("Could not find module for type: "+t);return n},create:function(t,e){var n;if("string"==typeof t?(e=e||{}).type=t:t=(e=t).type,t=t.toLowerCase(),!(n=BC[t]))throw new Error("Could not find control by type: "+t);return(n=new n(e)).type=t,n}},RC=Ge.each,IC=Ge.extend,HC=function(){};HC.extend=TC=function(t){var e,n,i,r=this.prototype,o=function(){var t,e,n;if(!xC&&(this.init&&this.init.apply(this,arguments),e=this.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(this,arguments)},s=function(){return this},a=function(t,e){return function(){var n,i=this._super;return this._super=r[t],n=e.apply(this,arguments),this._super=i,n}};for(n in xC=!0,e=new this,xC=!1,t.Mixins&&(RC(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),r.Mixins&&(t.Mixins=r.Mixins.concat(t.Mixins))),t.Methods&&RC(t.Methods.split(","),function(e){t[e]=s}),t.Properties&&RC(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}}),t.Statics&&RC(t.Statics,function(t,e){o[e]=t}),t.Defaults&&r.Defaults&&(t.Defaults=IC({},r.Defaults,t.Defaults)),t)"function"==typeof(i=t[n])&&r[n]?e[n]=a(n,i):e[n]=i;return o.prototype=e,o.constructor=o,o.extend=TC,o};var zC=Math.min,WC=Math.max,jC=Math.round,UC=function(t,e){var n,i,r,o;if(e=e||'"',null===t)return"null";if("string"==(r=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",e+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,r){return'"'===e&&"'"===t?t:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(t=r.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)})+e;if("object"===r){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(n=0,i="[";n<t.length;n++)i+=(n>0?",":"")+UC(t[n],e);return i+"]"}for(o in i="{",t)t.hasOwnProperty(o)&&(i+="function"!=typeof t[o]?(i.length>1?","+e:e)+o+e+":"+UC(t[o],e):"");return i+"}"}return""+t},qC={serialize:UC,parse:function(t){try{return JSON.parse(t)}catch(t){}}},YC={callbacks:{},count:0,send:function(t){var e=this,n=so.DOM,i=void 0!==t.count?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},VC={send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",VC.fire("beforeInitialize",{settings:t}),e=Kp()){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&Ge.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=VC.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};Ge.extend(VC,$d);var ZC,KC=Ge.extend,GC=function(t){this.settings=KC({},t),this.count=0};GC.sendRPC=function(t){return(new GC).send(t)},GC.prototype={send:function(t){var e=t.error,n=t.success;(t=KC(this.settings,t)).success=function(i,r){void 0===(i=qC.parse(i))&&(i={error:"JSON Parse error."}),i.error?e.call(t.error_scope||t.scope,i.error,r):n.call(t.success_scope||t.scope,i.result)},t.error=function(n,i){e&&e.call(t.error_scope||t.scope,n,i)},t.data=qC.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),t.content_type="application/json",VC.send(t)}};try{ZC=window.localStorage}catch(t){ZC=function(){return t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,i){e.push(n),t[n]=String(i)},key:function(t){return e[t]},removeItem:function(n){e=e.filter(function(t){return t===n}),delete t[n]},clear:function(){e=[],t={}},length:0},Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n;var t,e,n}()}var XC=EC,MC={geom:{Rect:LC},util:{Promise:ht,Delay:gt,Tools:Ge,VK:tm,URI:Bw,Class:HC,EventDispatcher:Md,Observable:$d,I18n:hC,XHR:VC,JSON:qC,JSONRequest:GC,JSONP:YC,LocalStorage:ZC,Color:function(t){var e={},n=0,i=0,r=0,o=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,i=t.g,r=t.b):"v"in t&&function(t,e,o){var s,a,u,l;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=WC(0,zC(e,1)),o=WC(0,zC(o,1)),0!==e){switch(s=t/60,u=(a=o*e)*(1-Math.abs(s%2-1)),l=o-a,Math.floor(s)){case 0:n=a,i=u,r=0;break;case 1:n=u,i=a,r=0;break;case 2:n=0,i=a,r=u;break;case 3:n=0,i=u,r=a;break;case 4:n=u,i=0,r=a;break;case 5:n=a,i=0,r=u;break;default:n=i=r=0}n=jC(255*(n+l)),i=jC(255*(i+l)),r=jC(255*(r+l))}else n=i=r=jC(255*o)}(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,e};return t&&o(t),e.toRgb=function(){return{r:n,g:i,b:r}},e.toHsv=function(){return function(t,e,n){var i,r,o,s;return r=0,(o=zC(t/=255,zC(e/=255,n/=255)))===(s=WC(t,WC(e,n)))?{h:0,s:0,v:100*(r=o)}:(i=(s-o)/s,r=s,{h:jC(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/(s-o))),s:jC(100*i),v:jC(100*r)})}(n,i,r)},e.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(i)+t(r)},e.parse=o,e}},dom:{EventUtils:St,Sizzle:Te,DomQuery:pn,TreeWalker:Qi,DOMUtils:so,ScriptLoader:ho,RangeUtils:kC,Serializer:dy,ControlSelection:by,BookmarkManager:my,Selection:$y,Event:St.Event},html:{Styles:Mr,Entities:Ir,Node:Qv,Schema:Gr,SaxParser:fm,DomParser:uy,Writer:Ul,Serializer:ql},ui:{Factory:FC},Env:ct,AddOnManager:po,Annotator:xl,Formatter:zv,UndoManager:Am,EditorCommands:Gd,WindowManager:zp,NotificationManager:Hp,EditorObservable:gp,Shortcuts:_p,Editor:Mw,FocusManager:tC,EditorManager:EC,DOM:so.DOM,ScriptLoader:ho.ScriptLoader,PluginManager:po.PluginManager,ThemeManager:po.ThemeManager,trim:Ge.trim,isArray:Ge.isArray,is:Ge.is,toArray:Ge.toArray,makeMap:Ge.makeMap,each:Ge.each,map:Ge.map,grep:Ge.grep,inArray:Ge.inArray,extend:Ge.extend,create:Ge.create,walk:Ge.walk,createNS:Ge.createNS,resolve:Ge.resolve,explode:Ge.explode,_addCacheSuffix:Ge._addCacheSuffix,isOpera:ct.opera,isWebKit:ct.webkit,isIE:ct.ie,isGecko:ct.gecko,isMac:ct.mac},QC=XC=Ge.extend(XC,MC);!function(t){window.tinymce=t,window.tinyMCE=t}(QC),function(e){try{t.exports=e}catch(t){}}(QC)}()}).call(this,n("URgk").setImmediate)},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"6/sb":function(t,e,n){"use strict";var i=n("VrN/");n("HvfG"),n("v31x"),n("bXjK"),n("lZu9"),n("nrkQ"),n("19Vz"),n("mUiM"),n("RKCW"),n("1eCo");var r=n("6mXC"),o=n("DlQD"),s=/Mac/.test(navigator.platform),a={toggleBold:m,toggleItalic:v,drawLink:A,toggleHeadingSmaller:w,toggleHeadingBigger:C,drawImage:O,toggleBlockquote:_,toggleOrderedList:k,toggleUnorderedList:x,toggleCodeBlock:b,togglePreview:R,toggleStrikethrough:y,toggleHeading1:E,toggleHeading2:S,toggleHeading3:T,cleanBlock:D,drawTable:P,drawHorizontalRule:N,undo:L,redo:B,toggleSideBySide:F,toggleFullScreen:g},u={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},l=function(t){for(var e in a)if(a[e]===t)return e;return null};function c(t){return t=s?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function h(t,e,n){t=t||{};var i=document.createElement("a");return e=null==e||e,t.title&&e&&(i.title=function(t,e,n){var i,r=t;e&&(i=l(e),n[i]&&(r+=" ("+c(n[i])+")"));return r}(t.title,t.action,n),s&&(i.title=i.title.replace("Ctrl",""),i.title=i.title.replace("Alt",""))),i.tabIndex=-1,i.className=t.className,i}function f(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function d(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var i,r,o=n.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(i=o[a])?s.bold=!0:"variable-2"===i?(r=t.getLine(e.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===i?s.quote=!0:"em"===i?s.italic=!0:"quote"===i?s.quote=!0:"strikethrough"===i?s.strikethrough=!0:"comment"===i?s.code=!0:"link"===i?s.link=!0:"tag"===i?s.image=!0:i.match(/^header(\-[1-6])?$/)&&(s[i.replace("header","heading")]=!0);return s}var p="";function g(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(p=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=p;var n=e.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=t.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var r=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&F(t)}function m(t){W(t,"bold",t.options.blockStyles.bold)}function v(t){W(t,"italic",t.options.blockStyles.italic)}function y(t){W(t,"strikethrough","~~")}function b(t){var e=t.options.blockStyles.code;function n(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function i(t){return t.state.base.base||t.state.base}function r(t,e,r,o,s){r=r||t.getLineHandle(e),o=o||t.getTokenAt({line:e,ch:1}),s=s||!!r.text&&t.getTokenAt({line:e,ch:r.text.length-1});var a=o.type?o.type.split(" "):[];return s&&i(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(i(o).fencedChars||i(s).fencedChars||n(r)?"fenced":"single")}var o,s,a,u=t.codemirror,l=u.getCursor("start"),c=u.getCursor("end"),h=u.getTokenAt({line:l.line,ch:l.ch||1}),f=u.getLineHandle(l.line),d=r(u,l.line,f,h);if("single"===d){var p=f.text.slice(0,l.ch).replace("`",""),g=f.text.slice(l.ch).replace("`","");u.replaceRange(p+g,{line:l.line,ch:0},{line:l.line,ch:99999999999999}),l.ch--,l!==c&&c.ch--,u.setSelection(l,c),u.focus()}else if("fenced"===d)if(l.line!==c.line||l.ch!==c.ch){for(o=l.line;o>=0&&!n(f=u.getLineHandle(o));o--);var m,v,y,b,_=i(u.getTokenAt({line:o,ch:1})).fencedChars;n(u.getLineHandle(l.line))?(m="",v=l.line):n(u.getLineHandle(l.line-1))?(m="",v=l.line-1):(m=_+"\n",v=l.line),n(u.getLineHandle(c.line))?(y="",b=c.line,0===c.ch&&(b+=1)):0!==c.ch&&n(u.getLineHandle(c.line+1))?(y="",b=c.line+1):(y=_+"\n",b=c.line+1),0===c.ch&&(b-=1),u.operation(function(){u.replaceRange(y,{line:b,ch:0},{line:b+(y?0:1),ch:0}),u.replaceRange(m,{line:v,ch:0},{line:v+(m?0:1),ch:0})}),u.setSelection({line:v+(m?1:0),ch:0},{line:b+(m?1:-1),ch:0}),u.focus()}else{var w=l.line;if(n(u.getLineHandle(l.line))&&("fenced"===r(u,l.line+1)?(o=l.line,w=l.line+1):(s=l.line,w=l.line-1)),void 0===o)for(o=w;o>=0&&!n(f=u.getLineHandle(o));o--);if(void 0===s)for(a=u.lineCount(),s=w;s<a&&!n(f=u.getLineHandle(s));s++);u.operation(function(){u.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),u.replaceRange("",{line:s-1,ch:0},{line:s,ch:0})}),u.focus()}else if("indented"===d){if(l.line!==c.line||l.ch!==c.ch)o=l.line,s=c.line,0===c.ch&&s--;else{for(o=l.line;o>=0;o--)if(!(f=u.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==r(u,o,f)){o+=1;break}for(a=u.lineCount(),s=l.line;s<a;s++)if(!(f=u.getLineHandle(s)).text.match(/^\s*$/)&&"indented"!==r(u,s,f)){s-=1;break}}var C=u.getLineHandle(s+1),E=C&&u.getTokenAt({line:s+1,ch:C.text.length-1});E&&i(E).indentedCode&&u.replaceRange("\n",{line:s+1,ch:0});for(var S=o;S<=s;S++)u.indentLine(S,"subtract");u.focus()}else{var T=l.line===c.line&&l.ch===c.ch&&0===l.ch,x=l.line!==c.line;T||x?function(t,e,n,i){var r=e.line+1,o=n.line+1,s=e.line!==n.line,a=i+"\n",u="\n"+i;s&&o++,s&&0===n.ch&&(u=i+"\n",o--),I(t,!1,[a,u]),t.setSelection({line:r,ch:0},{line:o,ch:0})}(u,l,c,e):I(u,!1,["`","`"])}}function _(t){z(t.codemirror,"quote")}function w(t){H(t.codemirror,"smaller")}function C(t){H(t.codemirror,"bigger")}function E(t){H(t.codemirror,void 0,1)}function S(t){H(t.codemirror,void 0,2)}function T(t){H(t.codemirror,void 0,3)}function x(t){z(t.codemirror,"unordered-list")}function k(t){z(t.codemirror,"ordered-list")}function D(t){!function(t){if(/editor-preview-active/.test(t.getWrapperElement().lastChild.className))return;for(var e,n=t.getCursor("start"),i=t.getCursor("end"),r=n.line;r<=i.line;r++)e=(e=t.getLine(r)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(e,{line:r,ch:0},{line:r,ch:99999999999999})}(t.codemirror)}function A(t){var e=t.codemirror,n=d(e),i=t.options,r="http://";if(i.promptURLs&&!(r=prompt(i.promptTexts.link)))return!1;I(e,n.link,i.insertTexts.link,r)}function O(t){var e=t.codemirror,n=d(e),i=t.options,r="http://";if(i.promptURLs&&!(r=prompt(i.promptTexts.image)))return!1;I(e,n.image,i.insertTexts.image,r)}function P(t){var e=t.codemirror,n=d(e),i=t.options;I(e,n.table,i.insertTexts.table)}function N(t){var e=t.codemirror,n=d(e),i=t.options;I(e,n.image,i.insertTexts.horizontalRule)}function L(t){var e=t.codemirror;e.undo(),e.focus()}function B(t){var e=t.codemirror;e.redo(),e.focus()}function F(t){var e=t.codemirror,n=e.getWrapperElement(),i=n.nextSibling,r=t.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){e.getOption("fullScreen")||g(t),i.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",o=!0);var s=n.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=t.toolbarElements.preview,u=n.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,"")}e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=function(){i.innerHTML=t.options.previewRender(t.value(),i)}),o?(i.innerHTML=t.options.previewRender(t.value(),i),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()}function R(t){var e=t.codemirror,n=e.getWrapperElement(),i=n.previousSibling,r=!!t.options.toolbar&&t.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),r&&(r.className+=" active",i.className+=" disabled-for-preview")),o.innerHTML=t.options.previewRender(t.value(),o);var s=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&F(t)}function I(t,e,n,i){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var r,o=n[0],s=n[1],a=t.getCursor("start"),u=t.getCursor("end");i&&(s=s.replace("#url#",i)),e?(o=(r=t.getLine(a.line)).slice(0,a.ch),s=r.slice(a.ch),t.replaceRange(o+s,{line:a.line,ch:0})):(r=t.getSelection(),t.replaceSelection(o+r+s),a.ch+=o.length,a!==u&&(u.ch+=o.length)),t.setSelection(a,u),t.focus()}}function H(t,e,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var i=t.getCursor("start"),r=t.getCursor("end"),o=i.line;o<=r.line;o++)!function(i){var r=t.getLine(i),o=r.search(/[^#]/);r=void 0!==e?o<=0?"bigger"==e?"###### "+r:"# "+r:6==o&&"smaller"==e?r.substr(7):1==o&&"bigger"==e?r.substr(2):"bigger"==e?r.substr(1):"#"+r:1==n?o<=0?"# "+r:o==n?r.substr(o+1):"# "+r.substr(o+1):2==n?o<=0?"## "+r:o==n?r.substr(o+1):"## "+r.substr(o+1):o<=0?"### "+r:o==n?r.substr(o+1):"### "+r.substr(o+1),t.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(o);t.focus()}}function z(t,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var n=d(t),i=t.getCursor("start"),r=t.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},a=i.line;a<=r.line;a++)!function(i){var r=t.getLine(i);r=n[e]?r.replace(o[e],"$1"):s[e]+r,t.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(a);t.focus()}}function W(t,e,n,i){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){i=void 0===i?n:i;var r,o=t.codemirror,s=d(o),a=n,u=i,l=o.getCursor("start"),c=o.getCursor("end");s[e]?(a=(r=o.getLine(l.line)).slice(0,l.ch),u=r.slice(l.ch),"bold"==e?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),u=u.replace(/(\*\*|__)/,"")):"italic"==e?(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),u=u.replace(/(\*|_)/,"")):"strikethrough"==e&&(a=a.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),u=u.replace(/(\*\*|~~)/,"")),o.replaceRange(a+u,{line:l.line,ch:0},{line:l.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(l.ch-=2,l!==c&&(c.ch-=2)):"italic"==e&&(l.ch-=1,l!==c&&(c.ch-=1))):(r=o.getSelection(),"bold"==e?r=(r=r.split("**").join("")).split("__").join(""):"italic"==e?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==e&&(r=r.split("~~").join("")),o.replaceSelection(a+r+u),l.ch+=n.length,c.ch=l.ch+r.length),o.setSelection(l,c),o.focus()}}function j(t,e){for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):null!==e[n]&&"object"==typeof e[n]&&e[n].constructor===Object?t[n]=j(t[n]||{},e[n]):t[n]=e[n]);return t}function U(t){for(var e=1;e<arguments.length;e++)t=j(t,arguments[e]);return t}function q(t){var e=t.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===e)return n;for(var i=0;i<e.length;i++)e[i].charCodeAt(0)>=19968?n+=e[i].length:n+=1;return n}var Y={bold:{name:"bold",action:m,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:v,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:y,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:w,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:w,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:C,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:E,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:S,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:T,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:b,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:_,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:x,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:k,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:D,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:A,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:O,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:P,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:N,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:R,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:F,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:g,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:L,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:B,className:"fa fa-repeat no-disable",title:"Redo"}},V={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},Z={link:"URL for the link:",image:"URL of the image:"},K={bold:"**",code:"```",italic:"*"};function G(t){(t=t||{}).parent=this;var e=!0;if(!1===t.autoDownloadFontAwesome&&(e=!1),!0!==t.autoDownloadFontAwesome)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(t.element)this.element=t.element;else if(null===t.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===t.toolbar)for(var o in t.toolbar=[],Y)Y.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&t.toolbar.push("|"),(!0===Y[o].default||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(o))&&t.toolbar.push(o));t.hasOwnProperty("status")||(t.status=["autosave","lines","words","cursor"]),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=U({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=U({},V,t.insertTexts||{}),t.promptTexts=Z,t.blockStyles=U({},K,t.blockStyles||{}),t.shortcuts=U({},u,t.shortcuts||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),this.options=t,this.render(),!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue)}function X(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}G.prototype.markdown=function(t){if(o){var e={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(e.highlight=function(t){return window.hljs.highlightAuto(t).value}),o.setOptions(e),o(t)}},G.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var e,n,o=this.options,s=this,u={};for(var l in o.shortcuts)null!==o.shortcuts[l]&&null!==a[l]&&function(t){u[c(o.shortcuts[t])]=function(){a[t](s)}}(l);if(u.Enter="newlineAndIndentContinueMarkdownList",u.Tab="tabAndIndentMarkdownList",u["Shift-Tab"]="shiftTabAndUnindentMarkdownList",u.Esc=function(t){t.getOption("fullScreen")&&g(s)},document.addEventListener("keydown",function(t){27==(t=t||window.event).keyCode&&s.codemirror.getOption("fullScreen")&&g(s)},!1),!1!==o.spellChecker?(e="spell-checker",(n=o.parsingConfig).name="gfm",n.gitHubSpice=!1,r({codeMirrorInstance:i})):((e=o.parsingConfig).name="gfm",e.gitHubSpice=!1),this.codemirror=i.fromTextArea(t,{mode:e,backdrop:n,theme:"paper",tabSize:null!=o.tabSize?o.tabSize:2,indentUnit:null!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:u,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null==o.styleSelectedText||o.styleSelectedText}),!0===o.forceSync){var h=this.codemirror;h.on("change",function(){h.save()})}this.gui={},!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),null!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var f=this.codemirror;setTimeout(function(){f.refresh()}.bind(f),0)}},G.prototype.autosave=function(){if(X()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,t.value());var e=document.getElementById("autosaved");if(null!=e&&null!=e&&""!=e){var n=new Date,i=n.getHours(),r=n.getMinutes(),o="am",s=i;s>=12&&(s=i-12,o="pm"),0==s&&(s=12),r=r<10?"0"+r:r,e.innerHTML="Autosaved: "+s+":"+r+" "+o}this.autosaveTimeoutId=setTimeout(function(){t.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},G.prototype.clearAutosavedValue=function(){if(X()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},G.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",e.parentNode.insertBefore(n,e.nextSibling));var i=!1,r=!1;return t.on("scroll",function(t){if(i)i=!1;else{r=!0;var e=t.getScrollInfo().height-t.getScrollInfo().clientHeight,o=parseFloat(t.getScrollInfo().top)/e,s=(n.scrollHeight-n.clientHeight)*o;n.scrollTop=s}}),n.onscroll=function(){if(r)r=!1;else{i=!0;var e=n.scrollHeight-n.clientHeight,o=parseFloat(n.scrollTop)/e,s=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*o;t.scrollTo(0,s)}},n},G.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var e;for(e=0;e<t.length;e++)null!=Y[t[e]]&&(t[e]=Y[t[e]]);var n=document.createElement("div");n.className="editor-toolbar";var i,r,o=this,s={};for(o.toolbar=t,e=0;e<t.length;e++)if(("guide"!=t[e].name||!1!==o.options.toolbarGuideIcon)&&!(o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(t[e].name)||("fullscreen"==t[e].name||"side-by-side"==t[e].name)&&(i=void 0,r=void 0,r=!1,i=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(r=!0),r))){if("|"===t[e]){for(var a=!1,u=e+1;u<t.length;u++)"|"===t[u]||o.options.hideIcons&&-1!=o.options.hideIcons.indexOf(t[u].name)||(a=!0);if(!a)continue}!function(t){var e;e="|"===t?f():h(t,o.options.toolbarTips,o.options.shortcuts),t.action&&("function"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(o)}:"string"==typeof t.action&&(e.href=t.action,e.target="_blank")),s[t.name||t]=e,n.appendChild(e)}(t[e])}o.toolbarElements=s;var l=this.codemirror;l.on("cursorActivity",function(){var t=d(l);for(var e in s)!function(e){var n=s[e];t[e]?n.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(n.className=n.className.replace(/\s*active\s*/g,""))}(e)});var c=l.getWrapperElement();return c.parentNode.insertBefore(n,c),n}},G.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(t&&0!==t.length){var i,r,o,s=[];for(i=0;i<t.length;i++)if(r=void 0,o=void 0,"object"==typeof t[i])s.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate});else{var a=t[i];"words"===a?(o=function(t){t.innerHTML=q(n.getValue())},r=function(t){t.innerHTML=q(n.getValue())}):"lines"===a?(o=function(t){t.innerHTML=n.lineCount()},r=function(t){t.innerHTML=n.lineCount()}):"cursor"===a?(o=function(t){t.innerHTML="0:0"},r=function(t){var e=n.getCursor();t.innerHTML=e.line+":"+e.ch}):"autosave"===a&&(o=function(t){null!=e.autosave&&!0===e.autosave.enabled&&t.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:o,onUpdate:r})}var u=document.createElement("div");for(u.className="editor-statusbar",i=0;i<s.length;i++){var l=s[i],c=document.createElement("span");c.className=l.className,"function"==typeof l.defaultValue&&l.defaultValue(c),"function"==typeof l.onUpdate&&this.codemirror.on("update",function(t,e){return function(){e.onUpdate(t)}}(c,l)),u.appendChild(c)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(u,h.nextSibling),u}},G.prototype.value=function(t){return void 0===t?this.codemirror.getValue():(this.codemirror.getDoc().setValue(t),this)},G.toggleBold=m,G.toggleItalic=v,G.toggleStrikethrough=y,G.toggleBlockquote=_,G.toggleHeadingSmaller=w,G.toggleHeadingBigger=C,G.toggleHeading1=E,G.toggleHeading2=S,G.toggleHeading3=T,G.toggleCodeBlock=b,G.toggleUnorderedList=x,G.toggleOrderedList=k,G.cleanBlock=D,G.drawLink=A,G.drawImage=O,G.drawTable=P,G.drawHorizontalRule=N,G.undo=L,G.redo=B,G.togglePreview=R,G.toggleSideBySide=F,G.toggleFullScreen=g,G.prototype.toggleBold=function(){m(this)},G.prototype.toggleItalic=function(){v(this)},G.prototype.toggleStrikethrough=function(){y(this)},G.prototype.toggleBlockquote=function(){_(this)},G.prototype.toggleHeadingSmaller=function(){w(this)},G.prototype.toggleHeadingBigger=function(){C(this)},G.prototype.toggleHeading1=function(){E(this)},G.prototype.toggleHeading2=function(){S(this)},G.prototype.toggleHeading3=function(){T(this)},G.prototype.toggleCodeBlock=function(){b(this)},G.prototype.toggleUnorderedList=function(){x(this)},G.prototype.toggleOrderedList=function(){k(this)},G.prototype.cleanBlock=function(){D(this)},G.prototype.drawLink=function(){A(this)},G.prototype.drawImage=function(){O(this)},G.prototype.drawTable=function(){P(this)},G.prototype.drawHorizontalRule=function(){N(this)},G.prototype.undo=function(){L(this)},G.prototype.redo=function(){B(this)},G.prototype.togglePreview=function(){R(this)},G.prototype.toggleSideBySide=function(){F(this)},G.prototype.toggleFullScreen=function(){g(this)},G.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(t.className)},G.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(t.className)},G.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},G.prototype.getState=function(){return d(this.codemirror)},G.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement();e.parentNode&&(this.gui.toolbar&&e.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&e.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&e.parentNode.removeChild(this.gui.sideBySide)),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=G},"6mXC":function(t,e,n){"use strict";var i=n("Sl0r");function r(t){"function"==typeof(t=t||{}).codeMirrorInstance&&"function"==typeof t.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!r.aff_loading){r.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(r.aff_data=n.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},n.send(null)}if(!r.dic_loading){r.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(r.dic_data=o.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},o.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(t){var e=t.peek(),n="";if(s.includes(e))return t.next(),null;for(;null!=(e=t.peek())&&!s.includes(e);)n+=e,t.next();return r.typo&&!r.typo.check(n)?"spell-error":null}},u=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(u,a,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}r.num_loaded=0,r.aff_loading=!1,r.dic_loading=!1,r.aff_data="",r.dic_data="",r.typo,t.exports=r},"8EBN":function(t,e,n){!function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<t.modeInfo.length;e++){var n=t.modeInfo[e];n.mimes&&(n.mime=n.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var n=0;n<t.modeInfo.length;n++){var i=t.modeInfo[n];if(i.mime==e)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==e)return i}return/\+xml$/.test(e)?t.findModeByMIME("application/xml"):/\+json$/.test(e)?t.findModeByMIME("application/json"):void 0},t.findModeByExtension=function(e){for(var n=0;n<t.modeInfo.length;n++){var i=t.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==e)return i}},t.findModeByFileName=function(e){for(var n=0;n<t.modeInfo.length;n++){var i=t.modeInfo[n];if(i.file&&i.file.test(e))return i}var r=e.lastIndexOf("."),o=r>-1&&e.substring(r+1,e.length);if(o)return t.findModeByExtension(o)},t.findModeByName=function(e){e=e.toLowerCase();for(var n=0;n<t.modeInfo.length;n++){var i=t.modeInfo[n];if(i.name.toLowerCase()==e)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==e)return i}}}(n("VrN/"))},"8L3F":function(t,e,n){"use strict";n.r(e),function(t){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(l(t))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?h:10===t?f:h||f}function p(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function g(t){return null!==t.parentNode?g(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,u=o.commonAncestorContainer;if(t!==u&&e!==u||i.contains(r))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(u):u;var l=g(t);return l.host?m(l.host,e):m(t,g(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function y(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function b(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=d(10)&&getComputedStyle(n);return{height:b("Height",e,n,i),width:b("Width",e,n,i)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function T(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function x(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-s,c=t.offsetHeight-a;if(l||c){var h=u(t);l-=y(h,"x"),c-=y(h,"y"),r.width-=l,r.height-=c}return T(r)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===e.nodeName,o=x(t),s=x(e),a=c(t),l=u(e),h=parseFloat(l.borderTopWidth,10),f=parseFloat(l.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=T({top:o.top-s.top-h,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var g=parseFloat(l.marginTop,10),m=parseFloat(l.marginLeft,10);p.top-=h-g,p.bottom-=h-g,p.left-=f-m,p.right-=f-m,p.marginTop=g,p.marginLeft=m}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(p,e)),p}function D(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function A(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?D(t):m(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=k(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left");return T({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(l(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=k(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===u(e,"position")||t(l(e)))}(s))o=h;else{var f=_(t.ownerDocument),d=f.height,p=f.width;o.top+=h.top-h.marginTop,o.bottom=d+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function O(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=A(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map(function(t){return S({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),l=u.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function P(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,i?D(e):m(e,n),i)}function N(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function B(t,e,n){n=n.split("-")[0];var i=N(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return r[s]=e[s]+e[u]/2-i[u]/2,r[a]=n===a?e[a]-i[l]:e[L(a)],r}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function R(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=F(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=T(e.offsets.popper),e.offsets.reference=T(e.offsets.reference),e=n(e,t))}),e}function I(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function H(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function z(t){var e=t.ownerDocument;return e?e.defaultView:window}function W(t,e,n,i){n.updateBound=i,z(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function j(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,z(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function U(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function q(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(e[n])&&(i="px"),t.style[n]=e[n]+i})}var Y=n&&/Firefox/i.test(navigator.userAgent);function V(t,e,n){var i=F(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=Z.slice(3);function G(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.indexOf(t),i=K.slice(n+1).concat(K.slice(0,n));return e?i.reverse():i}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function M(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(F(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(l=l.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return T(a)[e]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){U(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:E({},u,o[u]),end:E({},u,o[u]+o[l]-s[l])};t.offsets.popper=S({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],u=void 0;return u=U(+n)?[+n,0]:M(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=H("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var u=A(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=u;var l=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(c[t],u[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>u[t]&&!e.escapeWithReference&&(i=Math.min(c[n],u[t]-("right"===t?c.width:c.height))),E({},n,i)}};return l.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=S({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return n[a]<o(i[u])&&(t.offsets.popper[u]=o(i[u])-n[l]),n[u]>o(i[a])&&(t.offsets.popper[u]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!V(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",h=l?"Top":"Left",f=h.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",g=N(i)[c];a[p]-g<s[f]&&(t.offsets.popper[f]-=s[f]-(a[p]-g)),a[f]+g>s[p]&&(t.offsets.popper[f]+=a[f]+g-s[p]),t.offsets.popper=T(t.offsets.popper);var m=a[f]+a[c]/2-g/2,v=u(t.instance.popper),y=parseFloat(v["margin"+h],10),b=parseFloat(v["border"+h+"Width"],10),_=m-t.offsets.popper[f]-y-b;return _=Math.max(Math.min(s[c]-g,_),0),t.arrowElement=i,t.offsets.arrow=(E(n={},f,Math.round(_)),E(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(I(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=A(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=L(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case X.FLIP:s=[i,r];break;case X.CLOCKWISE:s=G(i);break;case X.COUNTERCLOCKWISE:s=G(i,!0);break;default:s=e.behavior}return s.forEach(function(a,u){if(i!==a||s.length===u+1)return t;i=t.placement.split("-")[0],r=L(i);var l=t.offsets.popper,c=t.offsets.reference,h=Math.floor,f="left"===i&&h(l.right)>h(c.left)||"right"===i&&h(l.left)<h(c.right)||"top"===i&&h(l.bottom)>h(c.top)||"bottom"===i&&h(l.top)<h(c.bottom),d=h(l.left)<h(n.left),p=h(l.right)>h(n.right),g=h(l.top)<h(n.top),m=h(l.bottom)>h(n.bottom),v="left"===i&&d||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m);(f||v||b)&&(t.flipped=!0,(f||v)&&(i=s[u+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,B(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=L(e),t.offsets.popper=T(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!V(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=F(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=F(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=p(t.instance.popper),u=x(a),l={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=-1!==["left","right"].indexOf(t.placement),s=-1!==t.placement.indexOf("-"),a=r.width%2==i.width%2,u=r.width%2==1&&i.width%2==1,l=function(t){return t},c=e?o||s||a?Math.round:Math.floor:l,h=e?Math.round:l;return{left:c(u&&!s&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:c(i.right)}}(t,window.devicePixelRatio<2||!Y),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=H("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-u.height+c.bottom:c.top,g="right"===f?"HTML"===a.nodeName?-a.clientWidth+c.right:-u.width+c.right:c.left,s&&d)l[d]="translate3d("+g+"px, "+m+"px, 0)",l[h]=0,l[f]=0,l.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===f?-1:1;l[h]=m*v,l[f]=g*y,l.willChange=h+", "+f}var b={"x-placement":t.placement};return t.attributes=S({},b,t.attributes),t.styles=S({},l,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return q(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&q(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=P(r,e,t,n.positionFixed),s=O(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),q(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=S({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return S({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return C(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=O(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=B(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),t}();J.Utils=("undefined"!=typeof window?window:t).PopperUtils,J.placements=Z,J.Defaults=Q,e.default=J}.call(this,n("yLpj"))},"8oxB":function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"9hI5":function(t,e,n){(function(t){!function(t,e,n,i){var r="ontouchstart"in n,o=function(){var t=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t);var r=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return i.removeChild(t),!!r}(),s={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function a(e,i){this.w=t(n),this.el=t(e),this.options=t.extend({},s,i),this.init()}a.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=t('<div class="'+n.options.placeClass+'"/>'),t.each(this.el.find(n.options.itemNodeName),function(e,i){n.setParent(t(i))}),n.el.on("click","button",function(e){if(!n.dragEl){var i=t(e.currentTarget),r=i.data("action"),o=i.parent(n.options.itemNodeName);"collapse"===r&&n.collapseItem(o),"expand"===r&&n.expandItem(o)}});var i=function(e){var i=t(e.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}i.length&&!n.dragEl&&(n.isTouch=/^touch/.test(e.type),n.isTouch&&1!==e.touches.length||(e.preventDefault(),n.dragStart(e.touches?e.touches[0]:e)))},o=function(t){n.dragEl&&(t.preventDefault(),n.dragMove(t.touches?t.touches[0]:t))},s=function(t){n.dragEl&&(t.preventDefault(),n.dragStop(t.touches?t.touches[0]:t))};r&&(n.el[0].addEventListener("touchstart",i,!1),e.addEventListener("touchmove",o,!1),e.addEventListener("touchend",s,!1),e.addEventListener("touchcancel",s,!1)),n.el.on("mousedown",i),n.w.on("mousemove",o),n.w.on("mouseup",s)},serialize:function(){var e=this;return step=function(n,i){var r=[];return n.children(e.options.itemNodeName).each(function(){var n=t(this),o=t.extend({},n.data()),s=n.children(e.options.listNodeName);s.length&&(o.children=step(s,i+1)),r.push(o)}),r},step(e.el.find(e.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){t.children(this.options.listNodeName).length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var i=this.mouse,r=t(e.target),o=r.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),i.offsetX=void 0!==e.offsetX?e.offsetX:e.pageX-r.offset().left,i.offsetY=void 0!==e.offsetY?e.offsetY:e.pageY-r.offset().top,i.startX=i.lastX=e.pageX,i.startY=i.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),t(n.body).append(this.dragEl),this.dragEl.css({left:e.pageX-i.offsetX,top:e.pageY-i.offsetY});var s,a,u=this.dragEl.find(this.options.itemNodeName);for(s=0;s<u.length;s++)(a=t(u[s]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=a)},dragStop:function(t){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var r,s,a,u=this.options,l=this.mouse;this.dragEl.css({left:i.pageX-l.offsetX,top:i.pageY-l.offsetY}),l.lastX=l.nowX,l.lastY=l.nowY,l.nowX=i.pageX,l.nowY=i.pageY,l.distX=l.nowX-l.lastX,l.distY=l.nowY-l.lastY,l.lastDirX=l.dirX,l.lastDirY=l.dirY,l.dirX=0===l.distX?0:l.distX>0?1:-1,l.dirY=0===l.distY?0:l.distY>0?1:-1;var c=Math.abs(l.distX)>Math.abs(l.distY)?1:0;if(!l.moving)return l.dirAx=c,void(l.moving=!0);l.dirAx!==c?(l.distAxX=0,l.distAxY=0):(l.distAxX+=Math.abs(l.distX),0!==l.dirX&&l.dirX!==l.lastDirX&&(l.distAxX=0),l.distAxY+=Math.abs(l.distY),0!==l.dirY&&l.dirY!==l.lastDirY&&(l.distAxY=0)),l.dirAx=c,l.dirAx&&l.distAxX>=u.threshold&&(l.distAxX=0,a=this.placeEl.prev(u.itemNodeName),l.distX>0&&a.length&&!a.hasClass(u.collapsedClass)&&(r=a.find(u.listNodeName).last(),this.placeEl.parents(u.listNodeName).length+this.dragDepth<=u.maxDepth&&(r.length?(r=a.children(u.listNodeName).last()).append(this.placeEl):((r=t("<"+u.listNodeName+"/>").addClass(u.listClass)).append(this.placeEl),a.append(r),this.setParent(a)))),l.distX<0&&(this.placeEl.next(u.itemNodeName).length||(s=this.placeEl.parent(),this.placeEl.closest(u.itemNodeName).after(this.placeEl),s.children().length||this.unsetParent(s.parent()))));var h=!1;if(o||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(e.pageYOffset||n.documentElement.scrollTop))),o||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(u.handleClass)&&(this.pointEl=this.pointEl.parent(u.itemNodeName)),this.pointEl.hasClass(u.emptyClass))h=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(u.itemClass))return;var f=this.pointEl.closest("."+u.rootClass),d=this.dragRootEl.data("nestable-id")!==f.data("nestable-id");if(!l.dirAx||d||h){if(d&&u.group!==f.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(u.listNodeName).length>u.maxDepth)return;var p=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;s=this.placeEl.parent(),h?((r=t(n.createElement(u.listNodeName)).addClass(u.listClass)).append(this.placeEl),this.pointEl.replaceWith(r)):p?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),s.children().length||this.unsetParent(s.parent()),this.dragRootEl.find(u.itemNodeName).length||this.dragRootEl.append('<div class="'+u.emptyClass+'"/>'),d&&(this.dragRootEl=f,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var n=this;return this.each(function(){var i=t(this).data("nestable");i?"string"==typeof e&&"function"==typeof i[e]&&(n=i[e]()):(t(this).data("nestable",new a(this,e)),t(this).data("nestable-id",(new Date).getTime()))}),n||this}}(t||window.Zepto,window,document)}).call(this,n("EVdn"))},"9rSQ":function(t,e,n){"use strict";var i=n("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},BEtg:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},BOjI:function(t,e,n){"use strict";var i=function(){function t(t,e){this.eventTarget=t,this.eventName=e,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var e=function(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}(t),n=0,i=this.bindings;n<i.length;n++){var r=i[n];if(e.immediatePropagationStopped)break;r.handleEvent(e)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(t,e){var n=t.index,i=e.index;return n<i?-1:n>i?1:0})},enumerable:!0,configurable:!0}),t}();var r=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(t){return t.connect()}))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(t){return t.disconnect()}))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(t,e){return t.concat(Array.from(e.values()))},[])},enumerable:!0,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,n){void 0===n&&(n={}),this.application.handleError(t,"Error "+e,n)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,n=t.eventName;return this.fetchEventListener(e,n)},t.prototype.fetchEventListener=function(t,e){var n=this.fetchEventListenerMapForEventTarget(t),i=n.get(e);return i||(i=this.createEventListener(t,e),n.set(e,i)),i},t.prototype.createEventListener=function(t,e){var n=new i(t,e);return this.started&&n.connect(),n},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t}(),o=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;var s=function(){function t(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){var e=t.tagName.toLowerCase();if(e in a)return a[e](t)}(t)||u("missing event name"),this.identifier=n.identifier||u("missing identifier"),this.methodName=n.methodName||u("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,(e=t.content,n=e.trim().match(o)||[],{eventTarget:(i=n[4],"window"==i?window:"document"==i?document:void 0),eventName:n[2],identifier:n[5],methodName:n[7]}));var e,n,i},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t},enumerable:!0,configurable:!0}),t}(),a={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"change"},select:function(t){return"change"},textarea:function(t){return"change"}};function u(t){throw new Error(t)}var l=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(n){var e={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:t};this.context.handleError(n,'invoking action "'+this.action+'"',e)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(!(e instanceof Element&&this.element.contains(e))||this.scope.containsElement(e))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),t}(),c=function(){function t(t,e){var n=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver(function(t){return n.processMutations(t)})}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,n=Array.from(this.elements);e<n.length;e++){var i=n[e];t.has(i)||this.removeElement(i)}for(var r=0,o=Array.from(t);r<o.length;r++){i=o[r];this.addElement(i)}}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var i=n[e];this.processMutation(i)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var i=n[e],r=this.elementFromNode(i);r&&this.processTree(r,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var i=n[e],r=this.elementFromNode(i);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var n=0,i=this.matchElementsInTree(t);n<i.length;n++){var r=i[n];e.call(this,r)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),h=function(){function t(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new c(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}();function f(t,e,n){p(t,e).add(n)}function d(t,e,n){p(t,e).delete(n),function(t,e){var n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function p(t,e){var n=t.get(e);return n||(n=new Set,t.set(e,n)),n}var g,m=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(t,e){return t.concat(Array.from(e))},[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(t,e){return t+e.size},0)},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){f(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){d(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var n=this.valuesByKey.get(t);return null!=n&&n.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some(function(e){return e.has(t)})},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter(function(e){e[0];return e[1].has(t)}).map(function(t){var e=t[0];t[1];return e})},t}(),v=(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=(function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}v(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),e.prototype.add=function(e,n){t.prototype.add.call(this,e,n),f(this.keysByValue,n,e)},e.prototype.delete=function(e,n){t.prototype.delete.call(this,e,n),d(this.keysByValue,n,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(m),function(){function t(t,e,n){this.attributeObserver=new h(t,e,this),this.delegate=n,this.tokensByElement=new m}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),n=e[0],i=e[1];this.tokensUnmatched(n),this.tokensMatched(i)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach(function(t){return e.tokenMatched(t)})},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach(function(t){return e.tokenUnmatched(t)})},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e,n,i,r=this.tokensByElement.getValuesForKey(t),o=this.readTokensForElement(t),s=(e=r,n=o,i=Math.max(e.length,n.length),Array.from({length:i},function(t,i){return[e[i],n[i]]})).findIndex(function(t){var e,n,i=t[0],r=t[1];return n=r,!((e=i)&&n&&e.index==n.index&&e.content==n.content)});return-1==s?[[],[]]:[r.slice(s),o.slice(s)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter(function(t){return t.length}).map(function(t,i){return{element:e,attributeName:n,content:t,index:i}})}(t.getAttribute(e)||"",t,e)},t}());var b=function(){function t(t,e,n){this.tokenListObserver=new y(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))},t.prototype.tokenUnmatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}},t}(),_=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new b(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),t.prototype.connectAction=function(t){var e=new l(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach(function(e){return t.delegate.bindingDisconnected(e)}),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=s.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),w=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new _(this,this.dispatcher);try{this.controller.initialize()}catch(t){this.handleError(t,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(t){this.handleError(t,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(t){this.handleError(t,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),t.prototype.handleError=function(t,e,n){void 0===n&&(n={});var i=this.identifier,r=this.controller,o=this.element;n=Object.assign({identifier:i,controller:r,element:o},n),this.application.handleError(t,"Error "+e,n)},t}(),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var E=function(){function t(t){function e(){var n=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,n)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return(e=t(function(){this.a.call(this)})).prototype.a=function(){},new e,t}catch(t){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e}(t)}}var e}(),S=function(){function t(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:(e=t.controllerConstructor,n=E(e),n.bless(),n)};var e,n}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new w(this,t),this.contextsByScope.set(t,e)),e},t}(),T=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return t=this.getFormattedKey(t),this.element.getAttribute(t)},t.prototype.set=function(t,e){return t=this.getFormattedKey(t),this.element.setAttribute(t,e),this.get(t)},t.prototype.has=function(t){return t=this.getFormattedKey(t),this.element.hasAttribute(t)},t.prototype.delete=function(t){return!!this.has(t)&&(t=this.getFormattedKey(t),this.element.removeAttribute(t),!0)},t.prototype.getFormattedKey=function(t){return"data-"+this.identifier+"-"+t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},t}();function x(t,e){return"["+t+'~="'+e+'"]'}var k=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findElement(n)},t.prototype.findAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findAllElements(n)},t.prototype.getSelectorForTargetNames=function(t){var e=this;return t.map(function(t){return e.getSelectorForTargetName(t)}).join(", ")},t.prototype.getSelectorForTargetName=function(t){var e=this.identifier+"."+t;return x(this.schema.targetAttribute,e)},t}(),D=function(){function t(t,e,n){this.schema=t,this.identifier=e,this.element=n,this.targets=new k(this),this.data=new T(this)}return t.prototype.findElement=function(t){return this.findAllElements(t)[0]},t.prototype.findAllElements=function(t){var e=this.element.matches(t)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(t)));return e.concat(n)},t.prototype.filterElements=function(t){var e=this;return t.filter(function(t){return e.containsElement(t)})},t.prototype.containsElement=function(t){return t.closest(this.controllerSelector)===this.element},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return x(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),t}(),A=function(){function t(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new b(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,n=t.content,i=this.fetchScopesByIdentifierForElement(e),r=i.get(n);return r||(r=new D(this.schema,n,e),i.set(n,r)),r},t.prototype.elementMatchedValue=function(t,e){var n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),O=function(){function t(t){this.application=t,this.scopeObserver=new A(this.element,this.schema,this),this.scopesByIdentifier=new m,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce(function(t,e){return t.concat(e.contexts)},[])},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new S(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find(function(e){return e.element==t})},t.prototype.handleError=function(t,e,n){this.application.handleError(t,e,n)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.connectContextForScope(e)})},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.disconnectContextForScope(e)})},t}(),P={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},N=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})},L=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},B=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=P),this.element=t,this.schema=e,this.dispatcher=new r(this),this.router=new O(this)}return t.start=function(e,n){var i=new t(e,n);return i.start(),i},t.prototype.start=function(){return N(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()})];case 1:return t.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},t.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(Array.isArray(t)?t:[t].concat(n)).forEach(function(t){return e.router.loadDefinition(t)})},t.prototype.unload=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(Array.isArray(t)?t:[t].concat(n)).forEach(function(t){return e.router.unloadIdentifier(t)})},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map(function(t){return t.controller})},enumerable:!0,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null},t.prototype.handleError=function(t,e,n){console.error("%s\n\n%o\n\n%o",e,t,n)},t}();function F(t){var e=t.prototype;(function(t){var e=function(t){var e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e}(t);return Array.from(e.reduce(function(t,e){return function(t){var e=t.targets;return Array.isArray(e)?e:[]}(e).forEach(function(e){return t.add(e)}),t},new Set))})(t).forEach(function(t){var n,i,r;return i=e,(n={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},n[t+"Targets"]={get:function(){return this.targets.findAll(t)}},n["has"+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t)+"Target"]={get:function(){return this.targets.has(t)}},r=n,void Object.keys(r).forEach(function(t){if(!(t in i)){var e=r[t];Object.defineProperty(i,t,e)}})})}var R=function(){function t(t){this.context=t}return t.bless=function(){F(this)},Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.targets=[],t}();n.d(e,"a",function(){return B}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return R}),n.d(e,"d",function(){return P})},CgaS:function(t,e,n){"use strict";var i=n("JEQr"),r=n("xTJ+"),o=n("9rSQ"),s=n("UnBK");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=a},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},DjPg:function(t,e,n){(function(i){var r,o,s;o=[n("EVdn")],void 0===(s="function"==typeof(r=function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,r,o;return e&&e.requirejs||(e?r=e:e={},function(t){var e,i,s,a,u={},l={},c={},h={},f=Object.prototype.hasOwnProperty,d=[].slice,p=/\.js$/;function g(t,e){return f.call(t,e)}function m(t,e){var n,i,r,o,s,a,u,l,h,f,d,g,m=e&&e.split("/"),v=c.map,y=v&&v["*"]||{};if(t){for(t=t.split("/"),s=t.length-1,c.nodeIdCompat&&p.test(t[s])&&(t[s]=t[s].replace(p,"")),"."===t[0].charAt(0)&&m&&(g=m.slice(0,m.length-1),t=g.concat(t)),h=0;h<t.length;h++)if("."===(d=t[h]))t.splice(h,1),h-=1;else if(".."===d){if(0===h||1===h&&".."===t[2]||".."===t[h-1])continue;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}if((m||y)&&v){for(n=t.split("/"),h=n.length;h>0;h-=1){if(i=n.slice(0,h).join("/"),m)for(f=m.length;f>0;f-=1)if((r=v[m.slice(0,f).join("/")])&&(r=r[i])){o=r,a=h;break}if(o)break;!u&&y&&y[i]&&(u=y[i],l=h)}!o&&u&&(o=u,a=l),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function v(e,n){return function(){var r=d.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),i.apply(t,r.concat([e,n]))}}function y(t){return function(e){u[t]=e}}function b(n){if(g(l,n)){var i=l[n];delete l[n],h[n]=!0,e.apply(t,i)}if(!g(u,n)&&!g(h,n))throw new Error("No "+n);return u[n]}function _(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function w(t){return t?_(t):[]}function C(t){return function(){return c&&c.config&&c.config[t]||{}}}s=function(t,e){var n,i,r=_(t),o=r[0],s=e[1];return t=r[1],o&&(o=m(o,s),n=b(o)),o?t=n&&n.normalize?n.normalize(t,(i=s,function(t){return m(t,i)})):m(t,s):(t=m(t,s),r=_(t),o=r[0],t=r[1],o&&(n=b(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},a={require:function(t){return v(t)},exports:function(t){var e=u[t];return void 0!==e?e:u[t]={}},module:function(t){return{id:t,uri:"",exports:u[t],config:C(t)}}},e=function(e,n,i,r){var o,c,f,d,p,m,_,C=[],E=typeof i;if(m=w(r=r||e),"undefined"===E||"function"===E){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(d=s(n[p],m),"require"===(c=d.f))C[p]=a.require(e);else if("exports"===c)C[p]=a.exports(e),_=!0;else if("module"===c)o=C[p]=a.module(e);else if(g(u,c)||g(l,c)||g(h,c))C[p]=b(c);else{if(!d.p)throw new Error(e+" missing "+c);d.p.load(d.n,v(r,!0),y(c),{}),C[p]=u[c]}f=i?i.apply(u[e],C):void 0,e&&(o&&o.exports!==t&&o.exports!==u[e]?u[e]=o.exports:f===t&&_||(u[e]=f))}else e&&(u[e]=i)},n=r=i=function(n,r,o,u,l){if("string"==typeof n)return a[n]?a[n](r):b(s(n,w(r)).f);if(!n.splice){if((c=n).deps&&i(c.deps,c.callback),!r)return;r.splice?(n=r,r=o,o=null):n=t}return r=r||function(){},"function"==typeof o&&(o=u,u=l),u?e(t,n,r,o):setTimeout(function(){e(t,n,r,o)},4),i},i.config=function(t){return i(t)},n._defined=u,(o=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),g(u,t)||g(l,t)||(l[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=r,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||i;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){var e={};function n(t){var e=t.prototype,n=[];for(var i in e){var r=e[i];"function"==typeof r&&"constructor"!==i&&n.push(i)}return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=n(e),r=n(t);function o(){var n=Array.prototype.unshift,i=e.prototype.constructor.length,r=t.prototype.constructor;i>0&&(n.call(arguments,t.prototype.constructor),r=e.prototype.constructor),r.apply(this,arguments)}e.displayName=t.displayName,o.prototype=new function(){this.constructor=o};for(var s=0;s<r.length;s++){var a=r[s];o.prototype[a]=t.prototype[a]}for(var u=function(t){var n=function(){};t in o.prototype&&(n=o.prototype[t]);var i=e.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,n),i.apply(this,arguments)}},l=0;l<i.length;l++){var c=i[l];o.prototype[c]=u(c)}return o};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",n=0;n<t;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},e.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},e}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),r=e.$results.find(".select2-results__option[aria-selected]");r.each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var r in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var u=[],l=0;l<e.children.length;l++){var c=e.children[l],h=this.option(c);u.push(h)}var f=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(u),s.append(a),s.append(f)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top,a=o.offset().top,u=i.$results.scrollTop()+(a-s);0===r?i.$results.scrollTop(0):a-s<0&&i.$results.scrollTop(u)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),r=n+1;if(!(r>=e.length)){var o=e.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top+i.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),u=i.$results.scrollTop()+a-s;0===r?i.$results.scrollTop(0):a>s&&i.$results.scrollTop(u)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");"true"!==n.attr("aria-selected")?i.trigger("select",{originalEvent:e,data:r}):i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-i),s=r-i;o-=2*t.outerHeight(!1),n<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,r=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),r=t(".select2.select2-container--open");r.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(t){n.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this),i=n.parent(),o=i.data("data");r.trigger("unselect",{originalEvent:e,data:o})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var o=i.data("data");r.searchRemoveChoice(o),t.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})}},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this,o=this.$element.children();o.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){return n.isPlainObject(t)||(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){var i=this,r=this.$element.find("option"),o=r.map(function(){return i.item(n(this)).id}).get(),s=[];function a(t){return function(){return n(this).val()==t.id}}for(var u=0;u<t.length;u++){var l=this._normalizeItem(t[u]);if(n.inArray(l.id,o)>=0){var c=r.filter(a(l)),h=this.item(c),f=n.extend(!0,{},l,h),d=this.option(f);c.replaceWith(d)}else{var p=this.option(l);if(l.children){var g=this.convertToOptions(l.children);e.appendMany(p,g)}s.push(p)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);function o(){var o=r.transport(r,function(r){var o=i.processResults(r,t);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){o.status&&"0"===o.status||i.trigger("results:message",{message:"errorLoading"})});i._request=o}"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var u=r[a],l=this._normalizeItem(u),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var i=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,function t(r,o){for(var s=r.results,a=0;a<s.length;a++){var u=s[a],l=null!=u.children&&!t({results:u.children},!0),c=(u.text||"").toUpperCase(),h=(e.term||"").toUpperCase(),f=c===h;if(f||l)return!o&&(r.data=s,void n(r))}if(o)return!0;var d=i.createTag(e);if(null!=d){var p=i.option(d);p.attr("data-select2-tag",!0),i.addOptions([p]),i.insertTag(s,d)}r.results=s,n(r)}):t.call(this,e,n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this._lastTag;var n=this.$element.find("option[data-select2-tag]");n.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(e){var n=r._normalizeItem(e);if(!r.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(t){r.trigger("select",{data:t})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),n.term=o.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,u=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var l=s[a];if(-1!==t.inArray(l,o)){var c=s.substr(0,a),h=t.extend({},n,{term:c}),f=u(h);null!=f?(r(f),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()||r.$search.focus()}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=r.showSearch(t);e?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){var n=r.$results.offset().top+r.$results.outerHeight(!1),i=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);n+50>=i&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,u=this.$container.parents().filter(e.hasScroll);u.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),u.on(o,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(o+" "+s+" "+a,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},u={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},l=u.top<o.top-a.height,c=u.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var d=f.offset();h.top-=d.top,h.left-=d.left,n||i||(r="below"),c||!l||n?!l&&c&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=s.top-d.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b,_,w,C,E,S,T,x,k,D){function A(){this.reset()}A.prototype.apply=function(h){if(null==(h=t.extend(!0,{},this.defaults,h)).dataAdapter){if(null!=h.ajax?h.dataAdapter=p:null!=h.data?h.dataAdapter=d:h.dataAdapter=f,h.minimumInputLength>0&&(h.dataAdapter=l.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=l.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=l.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=l.Decorate(h.dataAdapter,g)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=l.Decorate(h.dataAdapter,m)),null!=h.query){var D=e(h.amdBase+"compat/query");h.dataAdapter=l.Decorate(h.dataAdapter,D)}if(null!=h.initSelection){var A=e(h.amdBase+"compat/initSelection");h.dataAdapter=l.Decorate(h.dataAdapter,A)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=l.Decorate(h.resultsAdapter,E)),null!=h.placeholder&&(h.resultsAdapter=l.Decorate(h.resultsAdapter,C)),h.selectOnClose&&(h.resultsAdapter=l.Decorate(h.resultsAdapter,x))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=_;else{var O=l.Decorate(_,w);h.dropdownAdapter=O}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=l.Decorate(h.dropdownAdapter,T)),h.closeOnSelect&&(h.dropdownAdapter=l.Decorate(h.dropdownAdapter,k)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var P=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=l.Decorate(h.dropdownAdapter,P)}h.dropdownAdapter=l.Decorate(h.dropdownAdapter,S)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=l.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=l.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=l.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var N=e(h.amdBase+"compat/containerCss");h.selectionAdapter=l.Decorate(h.selectionAdapter,N)}h.selectionAdapter=l.Decorate(h.selectionAdapter,u)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var L=h.language.split("-"),B=L[0];h.language=[h.language,B]}else h.language=[h.language];if(t.isArray(h.language)){var F=new c;h.language.push("en");for(var R=h.language,I=0;I<R.length;I++){var H=R[I],z={};try{z=c.loadPath(H)}catch(t){try{H=this.defaults.amdLanguageBase+H,z=c.loadPath(H)}catch(t){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}F.extend(z)}h.translations=F}else{var W=c.loadPath(this.defaults.amdLanguageBase+"en"),j=new c(h.language);j.extend(W),h.translations=j}return h},A.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return h[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:l.escapeMarkup,language:D,matcher:function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){var a=r.children[s],u=n(i,a);null==u&&o.children.splice(s,1)}return o.children.length>0?o:n(i,o)}var l=e(r.text).toUpperCase(),c=e(i.term).toUpperCase();return l.indexOf(c)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},A.prototype.set=function(e,n){var i=t.camelCase(e),r={};r[i]=n;var o=l._convertData(r);t.extend(this.defaults,o)};var O=new A;return O}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);for(var s in o=i._convertData(o))e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var u=this.options.get("dropdownAdapter");this.dropdown=new u(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var l=this.options.get("resultsAdapter");this.results=new l(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,u=s.length;a<u;a+=1){var l=s[a].replace(/\s/g,""),c=l.match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){var o=e.addedNodes[r];o.selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})?r.apply(e,o):r)||(t.exports=s)}).call(this,n("EVdn"))},DlQD:function(t,e,n){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||b.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=m({},n),n.gfm=m({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=m({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=m({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),i.rules=n,i.lex=function(t,e){return new i(e).lex(t)},i.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},i.prototype.token=function(t,e){var i,r,o,s,a,u,l,c,h,f,d,p,g,m,b,_;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:y(o,"\n")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))&&(u={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(t=t.substring(o[0].length),d=0;d<u.align.length;d++)/^ *-+: *$/.test(u.align[d])?u.align[d]="right":/^ *:-+: *$/.test(u.align[d])?u.align[d]="center":/^ *:-+ *$/.test(u.align[d])?u.align[d]="left":u.align[d]=null;for(d=0;d<u.cells.length;d++)u.cells[d]=v(u.cells[d],u.header.length);this.tokens.push(u)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),l={type:"list_start",ordered:m=(s=o[2]).length>1,start:m?+s:"",loose:!1},this.tokens.push(l),c=[],i=!1,g=(o=o[0].match(this.rules.item)).length,d=0;d<g;d++)f=(u=o[d]).length,~(u=u.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(f-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+f+"}","gm"),"")),this.options.smartLists&&d!==g-1&&(s===(a=n.bullet.exec(o[d+1])[0])||s.length>1&&a.length>1||(t=o.slice(d+1).join("\n")+t,d=g-1)),r=i||/\n\n(?!\s*$)/.test(u),d!==g-1&&(i="\n"===u.charAt(u.length-1),r||(r=i)),r&&(l.loose=!0),_=void 0,(b=/^\[[ xX]\] /.test(u))&&(_=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:b,checked:_,loose:r},c.push(h),this.tokens.push(h),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(g=c.length,d=0;d<g;d++)c[d].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))&&(u={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===u.align.length){for(t=t.substring(o[0].length),d=0;d<u.align.length;d++)/^ *-+: *$/.test(u.align[d])?u.align[d]="right":/^ *:-+: *$/.test(u.align[d])?u.align[d]="center":/^ *:-+ *$/.test(u.align[d])?u.align[d]="left":u.align[d]=null;for(d=0;d<u.cells.length;d++)u.cells[d]=v(u.cells[d].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\s.])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\s.])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(t,e){if(this.options=e||b.defaults,this.links=t,this.rules=r.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.options.breaks?this.rules=r.breaks:this.rules=r.gfm)}function s(t){this.options=t||b.defaults}function a(){}function u(t){this.tokens=[],this.token=null,this.options=t||b.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(t,e){if(e){if(l.escapeTest.test(t))return t.replace(l.escapeReplace,function(t){return l.replacements[t]})}else if(l.escapeTestNoEncode.test(t))return t.replace(l.escapeReplaceNoEncode,function(t){return l.replacements[t]});return t}function c(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function h(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function f(t,e,n){if(t){try{var i=decodeURIComponent(c(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){d[" "+t]||(/^[^:]+:\/*[^\/]*$/.test(t)?d[" "+t]=t+"/":d[" "+t]=y(t,"/",!0));return t=d[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}r._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=h(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=h(r.tag).replace("comment",n._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,r._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=h(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=h(r.reflink).replace("label",r._label).getRegex(),r.normal=m({},r),r.pedantic=m({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=m({},r.normal,{escape:h(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:h(r.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),r.gfm.url=h(r.gfm.url).replace("email",r.gfm._extended_email).getRegex(),r.breaks=m({},r.gfm,{br:h(r.br).replace("{2,}","*").getRegex(),text:h(r.gfm.text).replace("{2,}","*").getRegex()}),o.rules=r,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,i,r,s,a,u="";t;)if(s=this.rules.escape.exec(t))t=t.substring(s[0].length),u+=s[1];else if(s=this.rules.autolink.exec(t))t=t.substring(s[0].length),i="@"===s[2]?"mailto:"+(n=l(this.mangle(s[1]))):n=l(s[1]),u+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(t))){if(s=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),t=t.substring(s[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):l(s[0]):s[0];else if(s=this.rules.link.exec(t))t=t.substring(s[0].length),this.inLink=!0,i=s[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=e[1],r=e[3]):r="":r=s[3]?s[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),u+=this.outputLink(s,{href:o.escapes(i),title:o.escapes(r)}),this.inLink=!1;else if((s=this.rules.reflink.exec(t))||(s=this.rules.nolink.exec(t))){if(t=t.substring(s[0].length),e=(s[2]||s[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){u+=s[0].charAt(0),t=s[0].substring(1)+t;continue}this.inLink=!0,u+=this.outputLink(s,e),this.inLink=!1}else if(s=this.rules.strong.exec(t))t=t.substring(s[0].length),u+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(t))t=t.substring(s[0].length),u+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(t))t=t.substring(s[0].length),u+=this.renderer.codespan(l(s[2].trim(),!0));else if(s=this.rules.br.exec(t))t=t.substring(s[0].length),u+=this.renderer.br();else if(s=this.rules.del.exec(t))t=t.substring(s[0].length),u+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),this.inRawBlock?u+=this.renderer.text(s[0]):u+=this.renderer.text(l(this.smartypants(s[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===s[2])i="mailto:"+(n=l(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=l(s[0]),i="www."===s[1]?"http://"+n:n}t=t.substring(s[0].length),u+=this.renderer.link(i,null,n)}return u},o.escapes=function(t){return t?t.replace(o.rules._escapes,"$1"):t},o.prototype.outputLink=function(t,e){var n=e.href,i=e.title?l(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,l(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},s.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+l(e,!0)+'">'+(n?t:l(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:l(t,!0))+"</code></pre>"},s.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},s.prototype.html=function(t){return t},s.prototype.heading=function(t,e,n){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(t,e,n){var i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"},s.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},s.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},s.prototype.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},s.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},s.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},s.prototype.strong=function(t){return"<strong>"+t+"</strong>"},s.prototype.em=function(t){return"<em>"+t+"</em>"},s.prototype.codespan=function(t){return"<code>"+t+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(t){return"<del>"+t+"</del>"},s.prototype.link=function(t,e,n){if(null===(t=f(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<a href="'+l(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},s.prototype.image=function(t,e,n){if(null===(t=f(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(t){return t},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(t){return t},a.prototype.link=a.prototype.image=function(t,e,n){return""+n},a.prototype.br=function(){return""},u.parse=function(t,e){return new u(e).parse(t)},u.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,m({},this.options,{renderer:new a})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var u=this.token.loose;for(this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+=u||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var d={},p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function m(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function v(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var i=!1,r=e;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function y(t,e,n){if(0===t.length)return"";for(var i=0;i<t.length;){var r=t.charAt(t.length-i-1);if(r!==e||n){if(r===e||!n)break;i++}else i++}return t.substr(0,t.length-i)}function b(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null);var r,o,s=(e=m({},b.defaults,e||{})).highlight,a=0;try{r=i.lex(t,e)}catch(t){return n(t)}o=r.length;var c=function(t){if(t)return e.highlight=s,n(t);var i;try{i=u.parse(r,e)}catch(e){t=e}return e.highlight=s,t?n(t):n(null,i)};if(!s||s.length<3)return c();if(delete e.highlight,!o)return c();for(;a<r.length;a++)!function(t){"code"!==t.type?--o||c():s(t.text,t.lang,function(e,n){return e?c(e):null==n||n===t.text?--o||c():(t.text=n,t.escaped=!0,void(--o||c()))})}(r[a])}else try{return e&&(e=m({},b.defaults,e)),u.parse(i.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||b.defaults).silent)return"<p>An error occurred:</p><pre>"+l(t.message+"",!0)+"</pre>";throw t}}g.exec=g,b.options=b.setOptions=function(t){return m(b.defaults,t),b},b.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},b.defaults=b.getDefaults(),b.Parser=u,b.parser=u.parse,b.Renderer=s,b.TextRenderer=a,b.Lexer=i,b.lexer=i.lex,b.InlineLexer=o,b.inlineLexer=o.output,b.parse=b,t.exports=b}(this||"undefined"!=typeof window&&window)}).call(this,n("yLpj"))},EVdn:function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,g=p.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in _)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&E.isPlainObject(n)?n:{},s[e]=E.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?E.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(T(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return l.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var x=function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,b,_="sizzle"+1*new Date,w=t.document,C=0,E=0,S=st(),T=st(),x=st(),k=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,A=[],O=A.pop,P=A.push,N=A.push,L=A.slice,B=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+R+"*("+I+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+R+"*\\]",z=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",W=new RegExp(R+"+","g"),j=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),q=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Y=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),V=new RegExp(z),Z=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,M=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{N.apply(A=L.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(t){N={apply:A.length?function(t,e){P.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,l,c,h,p,v,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&((e?e.ownerDocument||e:w)!==d&&f(e),e=e||d,g)){if(11!==C&&(h=Q.exec(t)))if(o=h[1]){if(9===C){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(y&&(l=y.getElementById(o))&&b(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return N.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!x[t+" "]&&(!m||!m.test(t))){if(1!==C)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=_),a=(p=s(t)).length;a--;)p[a]="#"+c+" "+vt(p[a]);v=p.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(v)try{return N.apply(i,y.querySelectorAll(v)),i}catch(t){}finally{c===_&&e.removeAttribute("id")}}}return u(t.replace(j,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:w;return s!==d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),w!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=M.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=M.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+_+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=M.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=M.test(p.compareDocumentPosition),b=e||M.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===w&&b(w,t)?-1:e===d||e.ownerDocument===w&&b(w,e)?1:c?B(c,t)-B(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:c?B(c,t)-B(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(Y,"='$1']"),n.matchesSelector&&g&&!x[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(k),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(W," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(d=(l=(c=(h=(f=m)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[C,d,b];break}}else if(y&&(b=d=(l=(c=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===b)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((c=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[C,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=B(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(j,"$1"));return i[_]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return Z.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[C,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===C&&l[1]===a)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[_]&&(i=wt(i)),r&&!r[_]&&(r=wt(r,o)),at(function(o,s,a,u){var l,c,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:_t(g,f,t,a,u),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,u),i)for(l=_t(v,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(v[d[c]]=!(m[d[c]]=h));if(o){if(r||t){if(r){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(m[c]=h);r(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=r?B(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else v=_t(v===s?v.splice(p,v.length):v),r?r(null,s,v,u):N.apply(s,v)})}function Ct(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=yt(function(t){return t===e},a,!0),h=yt(function(t){return B(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[yt(bt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[_]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return wt(u>1&&bt(f),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(j,"$1"),n,u<r&&Ct(t.slice(u,r)),r<o&&Ct(t=t.slice(r)),r<o&&vt(t))}f.push(n)}return bt(f)}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,s=ot.tokenize=function(t,e){var n,r,o,s,a,u,l,c=T[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=q.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):T(t,u).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=x[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Ct(e[n]))[_]?r.push(a):o.push(a);(a=x(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,p,m,v=0,y="0",b=o&&[],_=[],w=l,E=o||r&&i.find.TAG("*",c),S=C+=null==w?1:Math.random()||.1,T=E.length;for(c&&(l=s===d||s||c);y!==T&&null!=(h=E[y]);y++){if(r&&h){for(p=0,s||h.ownerDocument===d||(f(h),a=!g);m=t[p++];)if(m(h,s||d,a)){u.push(h);break}c&&(C=S)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,_,s,a);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=O.call(u));_=_t(_)}N.apply(u,_),c&&!o&&_.length>0&&v+e.length>1&&ot.uniqueSort(u)}return c&&(C=S,l=w),b};return n?at(o):o}(o,r))).selector=t}return a},u=ot.select=function(t,e,n,r){var o,u,l,c,h,f="function"==typeof t&&t,d=!r&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace($,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=K.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace($,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&vt(u)))return N.apply(n,r),n;break}}return(f||a(t,d))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(k).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(F,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);E.find=x,E.expr=x.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=x.uniqueSort,E.text=x.getText,E.isXMLDoc=x.isXML,E.contains=x.contains,E.escapeSelector=x.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i},D=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=E.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(t,e,n){return y(e)?E.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?E.grep(t,function(t){return t===e!==n}):"string"!=typeof e?E.grep(t,function(t){return h.call(e,t)>-1!==n}):E.filter(e,t,n)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return i>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(N(this,t||[],!1))},not:function(t){return this.pushStack(N(this,t||[],!0))},is:function(t){return!!N(this,"string"==typeof t&&A.test(t)?E(t):t||[],!1).length}});var L,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:B.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(i[1])&&E.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,L=E(s);var F=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&E(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(E(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return O(t,"iframe")?t.contentDocument:(O(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(n,i){var r=E.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(R[t]||E.uniqueSort(r),F.test(t)&&r.reverse()),this.pushStack(r)}});var H=/[^\x20\t\r\n\f]+/g;function z(t){return t}function W(t){throw t}function j(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(H)||[],function(t,n){e[n]=!0}),e}(t):E.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){E.each(n,function(n,i){y(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==C(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(n){E.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(l)?r?l.call(n,s(o,e,z,r),s(o,e,W,r)):(o++,l.call(n,s(o,e,z,r),s(o,e,W,r),s(o,e,z,e.notifyWith))):(i!==z&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==W&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),n.setTimeout(c))}}return E.Deferred(function(n){e[0][3].add(s(0,n,y(r)?r:z,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:z)),e[2][3].add(s(0,n,y(i)?i:W))}).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},o={};return E.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=E.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(j(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)j(r[n],s(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&U.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var q=E.Deferred();function Y(){s.removeEventListener("DOMContentLoaded",Y),n.removeEventListener("load",Y),E.ready()}E.fn.ready=function(t){return q.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||q.resolveWith(s,[E]))}}),E.ready.then=q.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(E.ready):(s.addEventListener("DOMContentLoaded",Y),n.addEventListener("load",Y));var V=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===C(n))for(a in r=!0,n)V(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(E(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Z=/^-ms-/,K=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function X(t){return t.replace(Z,"ms-").replace(K,G)}var M=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=E.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},M(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[X(e)]=n;else for(i in e)r[X(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in i?[e]:e.match(H)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||E.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var J=new Q,$=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return $.hasData(t)||J.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$.set(this,t)}):V(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){E.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:E.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each(function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=E.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ut(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return E.css(t,e,"")},u=a(),l=n&&n[3]||(E.cssNumber[e]?"":"px"),c=(E.cssNumber[e]||"px"!==l&&+u)&&rt.exec(E.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)E.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,E.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var lt={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=lt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),lt[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}E.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?E(this).show():E(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?E.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,_t=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===C(o))E.merge(f,o.nodeType?[o]:o);else if(_t.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(dt.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;E.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(l=E.contains(o.ownerDocument,o),s=mt(h.appendChild(o),"script"),l&&vt(s),n)for(c=0;o=s[c++];)pt.test(o.type||"")&&n.push(o);return h}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(bt=s.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var Ct=s.documentElement,Et=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Dt(){try{return s.activeElement}catch(t){}}function At(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)At(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,i,n)})}E.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(Ct,r),n.guid||(n.guid=E.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(H)||[""]).length;l--;)d=g=(a=Tt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=E.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=J.hasData(t)&&J.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(H)||[""]).length;l--;)if(d=g=(a=Tt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=E.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||E.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)E.event.remove(t,d+e[l],n,i,!0);E.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=E.event.fix(t),u=new Array(arguments.length),l=(J.get(this,"events")||{})[a.type]||[],c=E.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=E.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?E(r,this).index(l)>-1:E.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Dt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Dt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(t){return O(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||E.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),E.fn.extend({on:function(t,e,n,i){return At(this,t,e,n,i)},one:function(t,e,n,i){return At(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){E.event.remove(this,t,n,e)})}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)E.event.add(e,r,l[r][n]);$.hasData(t)&&(a=$.access(t),u=E.extend({},a),$.set(e,u))}}function Ht(t,e,n,i){e=l.apply([],e);var r,o,s,a,u,c,h=0,f=t.length,d=f-1,p=e[0],g=y(p);if(g||f>1&&"string"==typeof p&&!v.checkClone&&Nt.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),Ht(o,e,n,i)});if(f&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=E.map(mt(r,"script"),Ft)).length;h<f;h++)u=r,h!==d&&(u=E.clone(u,!0,!0),a&&E.merge(s,mt(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,E.map(s,Rt),h=0;h<a;h++)u=s[h],pt.test(u.type||"")&&!J.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(u.src):w(u.textContent.replace(Lt,""),c,u))}return t}function zt(t,e,n){for(var i,r=e?E.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(mt(i)),i.parentNode&&(n&&E.contains(i.ownerDocument,i)&&vt(mt(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(Ot,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,l,c=t.cloneNode(!0),h=E.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=mt(c),i=0,r=(o=mt(t)).length;i<r;i++)a=o[i],u=s[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||mt(t),s=s||mt(c),i=0,r=o.length;i<r;i++)It(o[i],s[i]);else It(t,c);return(s=mt(c,"script")).length>0&&vt(s,!h&&mt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if(M(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),E.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return V(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ht(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)})},prepend:function(){return Ht(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ht(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ht(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var n,i=[],r=E(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Wt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=new RegExp(ot.join("|"),"i");function qt(t,e,n){var i,r,o,s,a=t.style;return(n=n||jt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||E.contains(t.ownerDocument,t)||(s=E.style(t,e)),!v.pixelBoxStyles()&&Wt.test(s)&&Ut.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ct.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",Ct.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Vt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Kt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","Moz","ms"],Mt=s.createElement("div").style;function Qt(t){var e=E.cssProps[t];return e||(e=E.cssProps[t]=function(t){if(t in Mt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Mt)return t}(t)||t),e}function Jt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $t(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=E.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=E.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=E.css(t,"border"+ot[s]+"Width",!0,r))):(u+=E.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=E.css(t,"border"+ot[s]+"Width",!0,r):a+=E.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function te(t,e,n){var i=jt(t),r=qt(t,e,i),o="border-box"===E.css(t,"boxSizing",!1,i),s=o;if(Wt.test(r)){if(!n)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===E.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+$t(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=X(e),u=Zt.test(e),l=t.style;if(u||(e=Qt(a)),s=E.cssHooks[e]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ut(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=X(e);return Zt.test(e)||(e=Qt(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=qt(t,e,i)),"normal"===r&&e in Gt&&(r=Gt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,n,i){if(n)return!Vt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):at(t,Kt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=jt(t),s="border-box"===E.css(t,"boxSizing",!1,o),a=i&&$t(t,e,i,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-$t(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),Jt(0,n,a)}}}),E.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=Jt)}),E.fn.extend({css:function(t,e){return V(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=jt(t),r=e.length;s<r;s++)o[e[s]]=E.css(t,e[s],!1,i);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ee.prototype.init,E.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,E.fx.interval),E.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,s=ce.prefilters.length,a=E.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=E.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=X(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=ce.prefilters[o].call(l,t,c,l.opts))return y(i.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(H);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&st(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||E.style(t,i)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=J.get(t,"display")),"none"===(c=E.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=E.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ht([t],!0),f.done(function(){for(i in g||ht([t]),J.remove(t,"fxshow"),d)E.style(t,i,d[i])})),u=le(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),o=E.speed(e,n,i),s=function(){var e=ce(this,E.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=E.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=E.timers,s=i?i.length:0;for(n.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(t,e){var n=E.fn[e];E.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}}),E.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),ne=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ie||(ie=!0,se())},E.fx.stop=function(){ie=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var he,fe=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return V(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(H);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||E.find.attr;fe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=fe[s],fe[s]=r,r=null!=n(t,e,i)?s:null,fe[s]=o),r}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ge(t){return(t.match(H)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(H)||[]}E.fn.extend({prop:function(t,e){return V(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,me(this)))});if((e=ve(t)).length)for(;n=this[u++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;n=this[u++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){E(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=E(this),s=ve(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;E.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:ge(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=E(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=E.makeArray(e),s=r.length;s--;)((i=r[s]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,r){var o,a,u,l,c,h,f,d,g=[i||s],m=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!be.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[E.expando]?t:new E.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),f=E.event.special[m]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!b(i)){for(l=f.delegateType||m,be.test(l+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(i.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:f.bindType||m,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&M(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!M(i)||c&&y(i[m])&&!b(i)&&((u=i[c])&&(i[c]=null),E.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,_e),i[m](),t.isPropagationStopped()&&d.removeEventListener(m,_e),E.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var we=n.location,Ce=Date.now(),Ee=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Se=/\[\]$/,Te=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,i){var r;if(Array.isArray(e))E.each(e,function(e,r){n||Se.test(t)?i(t,r):De(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==C(e))i(t,e);else for(r in e)De(t+"["+r+"]",e[r],n,i)}E.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){r(this.name,this.value)});else for(n in t)De(n,t[n],e,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&ke.test(this.nodeName)&&!xe.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ae=/%20/g,Oe=/#.*$/,Pe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Be=/^\/\//,Fe={},Re={},Ie="*/".concat("*"),He=s.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(H)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===Re;function s(a){var u;return r[a]=!0,E.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function je(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&E.extend(!0,t,i),t}He.href=we.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,E.ajaxSettings),e):je(E.ajaxSettings,t)},ajaxPrefilter:ze(Fe),ajaxTransport:ze(Re),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,u,l,c,h,f,d,p=E.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?E(g):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),b=p.statusCode||{},_={},w={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ne.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),T(0,e),this}};if(v.promise(S),p.url=((t||p.url||we.href)+"").replace(Be,we.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(H)||[""],null==p.crossDomain){l=s.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),We(Fe,p,e,S),c)return S;for(f in(h=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),r=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ee.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Pe,"$1"),d=(Ee.test(r)?"&":"?")+"_="+Ce+++d),p.url=r+d),p.ifModified&&(E.lastModified[r]&&S.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&S.setRequestHeader("If-None-Match",E.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ie+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(C="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),i=We(Re,p,e,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,i.send(_,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,s,a){var l,f,d,_,w,C=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,o=a||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(_=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,s)),_=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,_,S,l),l?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(E.etag[r]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=_.state,f=_.data,l=!(d=_.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",l?v.resolveWith(g,[f,C,S]):v.rejectWith(g,[S,C,d]),S.statusCode(b),b=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?f:d]),y.fireWith(g,[S,C]),h&&(m.trigger("ajaxComplete",[S,p]),--E.active||E.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:n,success:i},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){E(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},qe=E.ajaxSettings.xhr();v.cors=!!qe&&"withCredentials"in qe,v.ajax=qe=!!qe,E.ajaxTransport(function(t){var e,i;if(v.cors||qe&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=E("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ye,Ve=[],Ze=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||E.expando+"_"+Ce++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ze,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Ye=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=E.css(t,"position"),c=E(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=E.css(t,"top"),u=E.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),y(e)&&(e=e.call(t,n,E.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||Ct})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;E.fn[t]=function(i){return V(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=Yt(v.pixelPosition,function(t,n){if(n)return n=qt(t,e),Wt.test(n)?E(t).position()[e]+"px":n})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){E.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return V(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?E.css(e,n,a):E.style(e,n,r,a)},e,s?r:void 0,s)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=O,E.isFunction=y,E.isWindow=b,E.camelCase=X,E.type=C,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Ke=n.jQuery,Ge=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=Ge),t&&n.jQuery===E&&(n.jQuery=Ke),E},r||(n.jQuery=n.$=E),E})},EfFS:function(t,e,n){var i,r=n("Y5Mo"),o=(i=n("zwY0"))&&"object"==typeof i&&"default"in i?i.default:i,s={string:["altFormat","altInputClass","ariaDateFormat","dateFormat","defaultDate","mode","nextArrow","prevArrow"],boolean:["altInput","allowInput","clickOpens","disableMobile","enableTime","enableSeconds","inline","noCalendar","shorthandCurrentMonth","static","time_24hr","weekNumbers","wrap"],date:["maxDate","minDate"],array:["disable","enable"],number:["defaultHour","defaultMinute","hourIncrement","minuteIncrement"]},a=["change","open","close","monthChange","yearChange","ready","valueUpdate","dayCreate"],u=["input","calendarContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","days"],l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.initialize=function(){this.config={}},e.prototype.connect=function(){this.initializeEvents(),this.initializeOptions(),this.fp=o(this.element,Object.assign({},this.config)),this.initializeElements()},e.prototype.disconnect=function(){this.fp.destroy()},e.prototype.initializeEvents=function(){var t=this;a.forEach(function(e){var n,i="on"+((n=e).charAt(0).toUpperCase()+n.slice(1));t.config[i]=t[e].bind(t)})},e.prototype.initializeOptions=function(){var t=this;Object.keys(s).forEach(function(e){s[e].forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();t.data.has(i)&&(t.config[n]=t[e](i))})})},e.prototype.initializeElements=function(){var t=this;u.forEach(function(e){t[e+"Target"]=t.fp[e]})},e.prototype.change=function(){},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.monthChange=function(){},e.prototype.yearChange=function(){},e.prototype.ready=function(){},e.prototype.valueUpdate=function(){},e.prototype.dayCreate=function(){},e.prototype.string=function(t){return this.data.get(t)},e.prototype.date=function(t){return this.data.get(t)},e.prototype.boolean=function(t){return"true"===this.data.get(t)},e.prototype.array=function(t){return JSON.parse(this.data.get(t))},e.prototype.number=function(t){return parseInt(this.data.get(t))},e}(r.Controller);t.exports=l},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=l(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),u=0,c=s>0?i-4:i,h=0;h<c;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},HvfG:function(t,e,n){!function(t){"use strict";var e=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;function r(t,n){var i=n.line,r=0,o=0,s=e.exec(t.getLine(i)),a=s[1];do{var u=i+(r+=1),l=t.getLine(u),c=e.exec(l);if(c){var h=c[1],f=parseInt(s[3],10)+r-o,d=parseInt(c[3],10),p=d;if(a!==h||isNaN(d)){if(a.length>h.length)return;if(a.length<h.length&&1===r)return;o+=1}else f===d&&(p=d+1),f>d&&(p=f+1),t.replaceRange(l.replace(e,h+p+c[4]+c[5]),{line:u,ch:0},{line:u,ch:l.length})}}while(c)}t.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return t.Pass;for(var s=o.listSelections(),a=[],u=0;u<s.length;u++){var l=s[u].head,c=o.getStateAfter(l.line),h=!1!==c.list,f=0!==c.quote,d=o.getLine(l.line),p=e.exec(d),g=/^\s*$/.test(d.slice(0,l.ch));if(!s[u].empty()||!h&&!f||!p||g)return void o.execCommand("newlineAndIndent");if(n.test(d))/>\s*$/.test(d)||o.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),a[u]="\n";else{var m=p[1],v=p[5],y=!(i.test(p[2])||p[2].indexOf(">")>=0),b=y?parseInt(p[3],10)+1+p[4]:p[2].replace("x"," ");a[u]="\n"+m+b+v,y&&r(o,l)}}o.replaceSelections(a)}}(n("VrN/"))},I9E9:function(t,e,n){n("+u5z"),n("UGvS"),n("zAM5"),n("IL2Y"),t.exports=n("qZCD")},IL2Y:function(t,e,n){var i,r,o;r=[n("zK8/"),n("qZCD")],void 0===(o="function"==typeof(i=function(t,e){function n(t,e){var n=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),r=(t.mask||t).split("#")[0],o=(e.mask||e).split("#")[0];return 0===o.indexOf(r)?-1:0===r.indexOf(o)?1:n.localeCompare(i)}var i=e.prototype.analyseMask;return e.prototype.analyseMask=function(e,n,r){var o={};return r.phoneCodes&&(r.phoneCodes&&r.phoneCodes.length>1e3&&(function t(n,i,r){r=r||o,""!==(i=i||"")&&(r[i]={});for(var s="",a=r[i]||r,u=n.length-1;u>=0;u--)a[s=(e=n[u].mask||n[u]).substr(0,1)]=a[s]||[],a[s].unshift(e.substr(1)),n.splice(u,1);for(var l in a)a[l].length>500&&t(a[l].slice(),l,a)}((e=e.substr(1,e.length-2)).split(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)),e=function e(n){var i="",o=[];for(var s in n)t.isArray(n[s])?1===n[s].length?o.push(s+n[s]):o.push(s+r.groupmarker.start+n[s].join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end):o.push(s+e(n[s]));return 1===o.length?i+=o[0]:i+=r.groupmarker.start+o.join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end,i}(o)),e=e.replace(/9/g,"\\9")),i.call(this,e,n,r)},e.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(t){return t.definitions={"#":e.prototype.definitions[9]},t.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(t,e){var n=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(e.countrycode)>1||-1===n.indexOf(e.countrycode))&&(n="+"+e.countrycode+n),n},onUnMask:function(t,e,n){return t.replace(/[()#-]/g,"")},inputmode:"tel"}}),e})?i.apply(e,r):i)||(t.exports=o)},IiP2:function(t,e,n){var i;void 0===(i=function(){return window}.call(e,n,e,t))||(t.exports=i)},JEQr:function(t,e,n){"use strict";(function(e){var i=n("xTJ+"),r=n("yK9s"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n("tQ2B"):void 0!==e&&(a=n("tQ2B")),a),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(o)}),t.exports=u}).call(this,n("8oxB"))},LYNF:function(t,e,n){"use strict";var i=n("OH9c");t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},M8vm:function(t,e,n){var i,r;(function(){(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return o.controller.visit(t,e)},clearCache:function(){return o.controller.clearCache()},setProgressBarDelay:function(t){return o.controller.setProgressBarDelay(t)}}}).call(this)}).call(this);var o=this.Turbolinks;(function(){(function(){var t,e,n,i=[].slice;o.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},o.closest=function(e,n){return t.call(e,n)},t=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&e.call(n,t))return n;n=n.parentNode}}}(),o.defer=function(t){return setTimeout(t,1)},o.throttle=function(t){var e;return e=null,function(){var n,r;return n=1<=arguments.length?i.call(arguments,0):[],null!=e?e:e=requestAnimationFrame((r=this,function(){return e=null,t.apply(r,n)}))}},o.dispatch=function(t,e){var i,r,o,s,a,u;return u=(a=null!=e?e:{}).target,i=a.cancelable,r=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===i),o.data=null!=r?r:{},o.cancelable&&!n&&(s=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(o),o},n=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),o.match=function(t,n){return e.call(t,n)},e=function(){var t,e,n,i;return null!=(e=null!=(n=null!=(i=(t=document.documentElement).matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),o.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){o.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,2>(e=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.HttpRequest=function(){function e(e,n,i){this.delegate=e,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=o.Location.wrap(n).requestURL,this.referrer=o.Location.wrap(i).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},e.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},e.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return o.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return o.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},e.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width 300ms ease-out, opacity 150ms 150ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,450)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},e.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new o.ProgressBar}var n,i,r;return r=o.HttpRequest,n=r.NETWORK_FAILURE,i=r.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},e.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},e.prototype.visitRequestCompleted=function(t){return t.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},e.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},e.prototype.visitCompleted=function(t){return t.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(t,e){return t=o.Location.wrap(t),this.update("push",t,e)},e.prototype.replace=function(t,e){return t=o.Location.wrap(t),this.update("replace",t,e)},e.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=o.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},e.prototype.onPageLoad=function(t){return o.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},e}()}.call(this),function(){o.HeadDetails=function(){function t(t){var e,n,i,s,a;for(this.elements={},n=0,s=t.length;s>n;n++)(a=t[n]).nodeType===Node.ELEMENT_NODE&&(i=a.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:o(a),tracked:r(a),elements:[]}).elements.push(a))}var e,n,i,r,o;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,n;for(t in n=[],e=this.elements)e[t].tracked&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var n,i,r,o;for(r in n=void 0,o=this.elements)i=o[r].elements,e(i[0],t)&&(n=i[0]);return n},o=function(t){return n(t)?"script":i(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},n=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){o.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(o.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new o.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;i>n;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var t=[].slice;o.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,i;return n=arguments[0],e=arguments[1],(i=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?t.call(arguments,2):[],function(){})).delegate=n,i.render(e),i},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,u;for(a=[],n=0,i=(o=e.attributes).length;i>n;n++)r=(s=o[n]).name,u=s.value,a.push(t.setAttribute(r,u));return a},e}()}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;o.SnapshotRenderer=function(i){function r(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(r,i),r.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.removeChild(t));return r},r.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var n,i,r,o,s,a,u;for(u=[],n=0,i=(a=this.getCurrentBodyPermanentElements()).length;i>n;n++)o=a[n],s=t(o),r=this.newSnapshot.getPermanentElementById(o.id),e(o,s.element),e(r,o),u.push(s);return u},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var n,i,r,o,s,a;for(a=[],r=0,o=t.length;o>r;r++)i=(s=t[r]).element,n=s.permanentElement.cloneNode(!0),a.push(e(i,n));return a},r.prototype.activateNewBodyScriptElements=function(){var t,n,i,r,o,s;for(s=[],n=0,r=(o=this.getNewBodyScriptElements()).length;r>n;n++)i=o[n],t=this.createScriptElement(i),s.push(e(i,t));return s},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(o.Renderer),t=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},e=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;o.ErrorRenderer=function(e){function n(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return t(n,e),n.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},n.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(o.Renderer)}.call(this),function(){o.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return o.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return o.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),o.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return o.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this),this.onScroll=o.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(t){return t.scrollIntoView()},e.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},e.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){o.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var e;return t.prototype.has=function(t){return e(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var n;return n=e(t),this.snapshots[n]},t.prototype.write=function(t,n){var i;return i=e(t),this.snapshots[i]=n},t.prototype.touch=function(t){var n,i;return i=e(t),(n=this.keys.indexOf(i))>-1&&this.keys.splice(n,1),this.keys.unshift(i),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;n>t;t++)e=i[t],r.push(delete this.snapshots[e]);return r},e=function(t){return o.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.Visit=function(){function e(e,n,i){this.controller=e,this.action=i,this.performScroll=t(this.performScroll,this),this.identifier=o.uuid(),this.location=o.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new o.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=o.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},e.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return o.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};o.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new o.History(this),this.view=new o.View(this),this.scrollManager=new o.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return o.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new o.SnapshotCache(10)},e.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=o.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},e.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return o.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},e.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},e.prototype.startHistory=function(){return this.location=o.Location.wrap(window.location),this.restorationIdentifier=o.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=o.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=o.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=o.Location.wrap(t)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var t,e;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,o.defer(function(n){return function(){return n.cache.put(t,e.clone())}}(this))):void 0},e.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},e.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},e.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},e.prototype.render=function(t,e){return this.view.render(t,e)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return o.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(t){return o.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(t){return o.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return o.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(t){return o.dispatch("turbolinks:before-render",{data:{newBody:t}})},e.prototype.notifyApplicationAfterRender=function(){return o.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),o.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},e.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},e.prototype.createVisit=function(t,e,n){var i,r,s,a,u;return a=(r=null!=n?n:{}).restorationIdentifier,s=r.restorationData,i=r.historyChanged,(u=new o.Visit(this,t,e)).restorationIdentifier=null!=a?a:o.uuid(),u.restorationData=o.copyObject(s),u.historyChanged=i,u.referrer=this.location,u},e.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},e.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?o.closest(t,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(t){var e;return e=new o.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},e.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},e.prototype.nodeIsVisitable=function(t){var e;return!(e=o.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},e}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;o.start=function(){return e()?(null==o.controller&&(o.controller=t()),o.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=o),n()},t=function(){var t;return(t=new o.Controller).adapter=new o.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===o})()&&o.start()}.call(this)}).call(this),t.exports?t.exports=o:void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}).call(this)},MLWZ:function(t,e,n){"use strict";var i=n("xTJ+");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},OTTw:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},OUWD:function(t,e,n){var i;void 0===(i=function(){return document}.call(e,n,e,t))||(t.exports=i)},QhUL:function(t,e,n){"use strict";function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function r(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function o(t){return t.titleHeight+t.margins.top+t.paddings.top}function s(t){return t.margins.left+t.paddings.left}function a(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function u(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}function l(t){return parseFloat(t.toFixed(2))}function c(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=i?t[0]:t[t.length-1]);var r=new Array(Math.abs(e)).fill(n);return i?r.concat(t):t.concat(r)}function h(t,e){return(t+"").length*e}function f(t,e){return{x:Math.sin(t*nt)*e,y:Math.cos(t*nt)*e}}function d(t,e){var n=void 0,i=void 0;return t<=e?(n=e-t,i=t):(n=t-e,i=e),[n,i]}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=c(t,n):e=c(e,n),[t,e]}function g(t){return t>255?255:t<0?0:t}function m(t,e){var n=st(t),i=!1;"#"==n[0]&&(n=n.slice(1),i=!0);var r=parseInt(n,16),o=g((r>>16)+e),s=g((r>>8&255)+e);return(i?"#":"")+(g((255&r)+e)|s<<8|o<<16).toString(16)}function v(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function y(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e){var r=e[i];if("inside"===i)v(r).appendChild(n);else if("around"===i){var o=v(r);o.parentNode.insertBefore(n,o),n.appendChild(o)}else"styles"===i?"object"===(void 0===r?"undefined":ut(r))&&Object.keys(r).map(function(t){n.style[t]=r[t]}):("className"===i&&(i="class"),"innerHTML"===i?n.textContent=r:n.setAttribute(i,r))}return n}function b(t,e,n,i){return y("stop",{inside:t,style:"stop-color: "+n,offset:e,"stop-opacity":i})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={className:t,transform:e};return n&&(i.inside=n),y("g",i)}function w(t){return y("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:t,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none"}})}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),r=function(t,e){return y("linearGradient",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}(t,i),o=[1,.6,.2];return n&&(o=[.4,.2,0]),b(r,"0%",e,o[0]),b(r,"50%",e,o[1]),b(r,"100%",e,o[2]),i}function E(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"none",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s={className:t,x:e,y:n,width:i,height:i,fill:r};return Object.keys(o).map(function(t){s[t]=o[t]}),y("rect",s)}function S(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.fontSize||ht;return y("text",{className:t,x:e,y:n,dy:(void 0!==r.dy?r.dy:o/2)+"px","font-size":o+"px",fill:r.fill||dt,"text-anchor":r.textAnchor||"start",innerHTML:i})}function T(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=ft),r.lineType||(r.lineType="");var o=y("line",{className:"line-horizontal "+r.className+("dashed"===r.lineType?"dashed":""),x1:n,x2:i,y1:0,y2:0,styles:{stroke:r.stroke}}),s=y("text",{x:n<i?n-ct:n+ct,y:0,dy:ht/2-2+"px","font-size":ht+"px","text-anchor":n<i?"end":"start",innerHTML:e+""}),a=y("g",{transform:"translate(0, "+t+")","stroke-opacity":1});return 0!==s&&"0"!==s||(a.style.stroke="rgba(27, 31, 35, 0.6)"),a.appendChild(o),a.appendChild(s),a}function x(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.pos||(i.pos="bottom"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=ft),i.className||(i.className="");var r=n+lt,o="span"===i.mode?-1*lt:n;return"tick"===i.mode&&"top"===i.pos&&(r=-1*lt,o=0),function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=ft);var o=y("line",{className:"line-vertical "+r.className,x1:0,x2:0,y1:n,y2:i,styles:{stroke:r.stroke}}),s=y("text",{x:0,y:n>i?n+ct:n-ct-ht,dy:ht+"px","font-size":ht+"px","text-anchor":"middle",innerHTML:e+""}),a=y("g",{transform:"translate("+t+", 0)"});return a.appendChild(o),a.appendChild(s),a}(t,e,r,o,{stroke:i.stroke,className:i.className,lineType:i.lineType})}function k(t,e,n,i){var r="string"==typeof e?e:e.join(", ");return[t,{transform:n.join(", ")},i,wt,"translate",{transform:r}]}function D(t,e,n){return k(t,[0,n],[0,e],bt)}function A(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function O(t,e){var n=[],i=[];e.map(function(t){var e,r,o=t[0],s=o.parentNode;t[0]=o;var a=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=t.cloneNode(!0),a=t.cloneNode(!0);for(var u in e){var l=void 0;l="transform"===u?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=o[u]||t.getAttribute(u),h=e[u],f={attributeName:u,from:c,to:h,begin:"0s",dur:n/1e3+"s",values:c+";"+h,keySplines:Et[i],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var d in r&&(f.type=r),f)l.setAttribute(d,f[d]);s.appendChild(l),r?a.setAttribute(u,"translate("+h+")"):a.setAttribute(u,h)}return[s,a]}.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)),u=Ct(a,2);e=u[0],r=u[1],n.push(r),i.push([e,s]),s.replaceChild(e,o)});var r=t.cloneNode(!0);return i.map(function(t,i){t[1].replaceChild(n[i],t[0]),e[i][0]=n[i]}),r}function P(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function N(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function L(t){return new Date(t.getTime())}function B(t,e){var n=H(t);return Math.ceil(function(t,e){var n=Nt*Pt;return(P(e)-P(t))/n}(n,e)/Ot)}function F(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function R(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Lt[t];return e?n.slice(0,3):n}function I(t,e){return new Date(e,t+1,0)}function H(t){var e=L(t),n=e.getDay();return 0!==n&&z(e,-1*n),e}function z(t,e){t.setDate(t.getDate()+e)}function W(t,e,n){var i=Object.keys(Ht).filter(function(e){return t.includes(e)}),r=Ht[i[0]];return Object.assign(r,{constants:e,getData:n}),new It(r)}function j(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function U(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=U(t),i=Yt(n,2),r=i[0],o=i[1],s=e?e/Math.pow(10,o):0,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),i=Math.floor(e),r=n-i,o=r,s=1;r>5&&(r%2!=0&&(r=++n-i),o=r/2,s=2),r<=2&&(s=r/(o=4)),0===r&&(o=5,s=1);for(var a=[],u=0;u<=o;u++)a.push(i+s*u);return a}(r=r.toFixed(6),s);return a.map(function(t){return t*Math.pow(10,o)})}function Y(t){return t[1]-t[0]}function V(t,e){return l(e.zeroLine-t*e.scaleMultiplier)}function Z(t,e){return e.filter(function(e){return e<t}).length}function K(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"a",function(){return Qt}),function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:1;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}',{});!function(){function t(t){this.value=t}function e(e){function n(r,o){try{var s=e[r](o),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}(r=r.next)?n(r.key,r.arg):o=null}var r,o;this._invoke=function(t,e){return new Promise(function(i,s){var a={key:t,arg:e,resolve:i,reject:s,next:null};o?o=o.next=a:(r=o=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.create=function(t,e){var n=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)i(o).appendChild(n);else if("around"===r){var s=i(o);s.parentNode.insertBefore(n,s),n.appendChild(s)}else"styles"===r?"object"===(void 0===o?"undefined":G(o))&&Object.keys(o).map(function(t){n.style[t]=o[t]}):r in n?n[r]=o:n.setAttribute(r,o)}return n};var X={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},M=700,Q=["line","bar"],J=2,$=7,tt=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],et={bar:tt,line:tt,pie:tt,percentage:tt,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"]},nt=Math.PI/180,it=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),rt=function(){function t(e){var n=e.parent,i=void 0===n?null:n,r=e.colors,o=void 0===r?[]:r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.parent=i,this.colors=o,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return it(t,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var t=this;this.container=i.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){t.hideTip()})}},{key:"fill",value:function(){var t,e=this;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map(function(t,n){var r=e.colors[n]||"black",o=0===t.formatted||t.formatted?t.formatted:t.value,s=i.create("li",{styles:{"border-top":"3px solid "+r},innerHTML:'<strong style="display: block;">'+(0===o||o?o:"")+"</strong>\n\t\t\t\t\t"+(t.title?t.title:"")});e.dataPointList.appendChild(s)})}},{key:"calcPosition",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>e){var i="calc(50% + "+(this.left-e)+"px)";n.style.left=i,this.left=e}else n.style.left="50%"}},{key:"setValues",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=i,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=r,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),t}(),ot={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},st=function(t){return ot[t]||t},at=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt=6,ct=4,ht=10,ft="#dadada",dt="#555b51",pt={bar:function(t){var e=void 0;"rect"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},gt={bar:function(t,e){var n=void 0;"rect"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["x","y","width","height"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)},dot:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)},heat_square:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)}},mt=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vt=350,yt=350,bt=vt,_t=250,wt="easein",Ct=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Et={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},St=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Tt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),xt=void 0,kt=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent="string"==typeof e?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:1},this.measures=JSON.parse(JSON.stringify(X));var i=this.measures;this.setMeasures(n),this.title.length||(i.titleHeight=0),this.config.showLegend||(i.legendHeight=0),this.argHeight=n.height||i.baseHeight,this.state={},this.options={},this.initTimeout=M,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return Tt(t,[{key:"prepareData",value:function(t){return t}},{key:"prepareFirstData",value:function(t){return t}},{key:"validateColors",value:function(t,e){var n=[];return(t=(t||[]).concat(et[e])).forEach(function(t){var e=st(t);!function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}(e)?console.warn('"'+t+'" is not a valid color.'):n.push(e)}),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var t=this.argHeight;this.baseHeight=t,this.height=t-a(this.measures),xt=this.boundDrawFn.bind(this),window.addEventListener("resize",xt),window.addEventListener("orientationchange",this.boundDrawFn.bind(this))}},{key:"boundDrawFn",value:function(){this.draw(!0)}},{key:"unbindWindowEvents",value:function(){window.removeEventListener("resize",xt),window.removeEventListener("orientationchange",this.boundDrawFn.bind(this))}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var t={inside:this.parent,className:"chart-container"};this.independentWidth&&(t.styles={width:this.independentWidth+"px"}),this.container=i.create("div",t)}},{key:"makeTooltip",value:function(){this.tip=new rt({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(e){return e.setup(t.drawArea)}),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout(function(){t.update(t.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(n)}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){var t,e,n;this.baseWidth=(t=this.parent,e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),t.clientWidth-n),this.width=this.baseWidth-u(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var t=this.measures;this.svg=function(t,e,n,i){return y("svg",{className:e,inside:t,width:n,height:i})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(t){return y("defs",{inside:t})}(this.svg),this.title.length&&(this.titleEL=S("title",t.margins.left,t.margins.top,this.title,{fontSize:t.titleFontSize,fill:"#666666",dy:t.titleFontSize}));var e=o(t);this.drawArea=_(this.type+"-chart chart-draw-area","translate("+s(t)+", "+e+")"),this.config.showLegend&&(e+=this.height+t.paddings.bottom,this.legendArea=_("chart-legend","translate("+s(t)+", "+e+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(s(t),o(t))}},{key:"updateTipOffset",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.calc(),this.render()}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map(function(t){return t.parentNode.removeChild(t)});var i=[];e.forEach(function(t){i=i.concat(t.update(n))}),i.length>0?(function(t,e,n){if(0!==n.length){var i=O(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(i)),setTimeout(function(){i.parentNode==t&&(t.removeChild(i),t.appendChild(e))},_t)}}(this.container,this.svg,i),setTimeout(function(){e.forEach(function(t){return t.make()}),t.updateNav()},400)):(e.forEach(function(t){return t.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(e){(function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)})(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var t=function(t){var e=t.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var n=i.create("style",{innerHTML:St});e.insertBefore(n,e.firstChild);var r=i.create("div");return r.appendChild(e),r.innerHTML}(this.svg);!function(t,e){var n=document.createElement("a");n.style="display: none";var i=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),r=window.URL.createObjectURL(i);n.href=r,n.download=t,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(r)},300)}(this.title||"Chart",[t])}}]),t}(),Dt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),At=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,kt),Dt(e,[{key:"configure",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var i=this.data.labels.map(function(e,n){var i=0;return t.data.datasets.map(function(t){i+=t.values[n]}),[i,e]}).filter(function(t){return t[0]>=0}),r=i;if(i.length>n){i.sort(function(t,e){return e[0]-t[0]}),r=i.slice(0,n-1);var o=0;i.slice(n-1).map(function(t){o+=t[0]}),r.push([o,"Rest"]),this.colors[n-1]="grey"}e.labels=[],r.map(function(t){e.sliceTotals.push(t[0]),e.labels.push(t[1])}),e.grandTotal=e.sliceTotals.reduce(function(t,e){return t+e},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,e=this.state;this.legendArea.textContent="",this.legendTotals=e.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,i=0;this.legendTotals.map(function(r,o){var s=Math.floor((t.width-u(t.measures))/110);n>s&&(n=0,i+=20);var a=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4],o={className:"legend-dot",cx:0,cy:0,r:n,fill:i},s=y("text",{className:"legend-dataset-text",x:0,y:0,dx:ht+"px",dy:ht/3+"px","font-size":1.2*ht+"px","text-anchor":"start",fill:dt,innerHTML:r}),a=y("g",{transform:"translate("+t+", "+e+")"});return a.appendChild(y("circle",o)),a.appendChild(s),a}(110*n+5,i,5,t.colors[o],e.labels[o]+": "+r);t.legendArea.appendChild(a),n++})}}]),e}(),Ot=7,Pt=1e3,Nt=86400,Lt=["January","February","March","April","May","June","July","August","September","October","November","December"],Bt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ft=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Rt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),It=function(){function t(e){var n=e.layerClass,i=void 0===n?"":n,r=e.layerTransform,o=void 0===r?"":r,s=e.constants,a=e.getData,u=e.makeElements,l=e.animateElements;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.layerTransform=o,this.constants=s,this.makeElements=u,this.getData=a,this.animateElements=l,this.store=[],this.labels=[],this.layerClass=i,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return Rt(t,[{key:"refresh",value:function(t){this.data=t||this.getData()}},{key:"setup",value:function(t){this.layer=_(this.layerClass,this.layerTransform,t)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent="",this.store.forEach(function(t){e.layer.appendChild(t)}),this.labels.forEach(function(t){e.layer.appendChild(t)})}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),Ht={pieSlices:{layerClass:"pie-slices",makeElements:function(t){return t.sliceStrings.map(function(e,n){var i=w(e,"pie-path","none",t.colors[n]);return i.style.transition="transform .3s;",i})},animateElements:function(t){return this.store.map(function(e,n){return function(t,e){return[t,{d:e},vt,wt]}(e,t.sliceStrings[n])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(t){var e=this;return t.xPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return y("rect",{className:"percentage-bar",x:t,y:e,width:n,height:i,fill:o,styles:{stroke:m(o,-25),"stroke-dasharray":"0, "+(i+n)+", "+n+", "+i,"stroke-width":r}})}(n,0,t.widths[i],e.constants.barHeight,e.constants.barDepth,t.colors[i])})},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:"y axis",makeElements:function(t){var e=this;return t.positions.map(function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.pos||(i.pos="left"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=ft),i.className||(i.className="");var r=-1*lt,o="span"===i.mode?n+lt:0;return"tick"===i.mode&&"right"===i.pos&&(r=n+lt,o=n),T(t,e,r+=i.offset,o+=i.offset,{stroke:i.stroke,className:i.className,lineType:i.lineType})}(n,t.labels[i],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(t){var e=t.positions,n=t.labels,i=this.oldData.positions,r=this.oldData.labels,o=p(i,e),s=Ft(o,2);i=s[0],e=s[1];var a=p(r,n),u=Ft(a,2);return r=u[0],n=u[1],this.render({positions:i,labels:n}),this.store.map(function(t,n){return D(t,e[n],i[n])})}},xAxis:{layerClass:"x axis",makeElements:function(t){var e=this;return t.positions.map(function(n,i){return x(n,t.calcLabels[i],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(t){var e=t.positions,n=t.calcLabels,i=this.oldData.positions,r=this.oldData.calcLabels,o=p(i,e),s=Ft(o,2);i=s[0],e=s[1];var a=p(r,n),u=Ft(a,2);return r=u[0],n=u[1],this.render({positions:i,calcLabels:n}),this.store.map(function(t,n){return function(t,e,n){return k(t,[n,0],[e,0],bt)}(t,e[n],i[n])})}},yMarkers:{layerClass:"y-markers",makeElements:function(t){var e=this;return t.map(function(t){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.labelPos||(i.labelPos="right");var r=y("text",{className:"chart-label",x:"left"===i.labelPos?ct:n-h(e,5)-ct,y:0,dy:ht/-2+"px","font-size":ht+"px","text-anchor":"start",innerHTML:e+""}),o=T(t,"",0,n,{stroke:i.stroke||ft,className:i.className||"",lineType:i.lineType});return o.appendChild(r),o}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(t){var e=p(this.oldData,t),n=Ft(e,2);this.oldData=n[0];var i=(t=n[1]).map(function(t){return t.position}),r=t.map(function(t){return t.label}),o=t.map(function(t){return t.options}),s=this.oldData.map(function(t){return t.position});return this.render(s.map(function(t,e){return{position:s[e],label:r[e],options:o[e]}})),this.store.map(function(t,e){return D(t,i[e],s[e])})}},yRegions:{layerClass:"y-regions",makeElements:function(t){var e=this;return t.map(function(t){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t-e,s=y("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:ft,"stroke-dasharray":n+", "+o},x:0,y:0,width:n,height:o});r.labelPos||(r.labelPos="right");var a=y("text",{className:"chart-label",x:"left"===r.labelPos?ct:n-h(i+"",4.5)-ct,y:0,dy:ht/-2+"px","font-size":ht+"px","text-anchor":"start",innerHTML:i+""}),u=y("g",{transform:"translate(0, "+e+")"});return u.appendChild(s),u.appendChild(a),u}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})})},animateElements:function(t){var e=p(this.oldData,t),n=Ft(e,2);this.oldData=n[0];var i=(t=n[1]).map(function(t){return t.endPos}),r=t.map(function(t){return t.label}),o=t.map(function(t){return t.startPos}),s=t.map(function(t){return t.options}),a=this.oldData.map(function(t){return t.endPos}),u=this.oldData.map(function(t){return t.startPos});this.render(a.map(function(t,e){return{startPos:u[e],endPos:a[e],label:r[e],options:s[e]}}));var l=[];return this.store.map(function(t,e){l=l.concat(function(t,e,n,i){var r=e-n,o=t.childNodes[0];return[[o,{height:r,"stroke-dasharray":o.getAttribute("width")+", "+r},bt,wt],k(t,[0,i],[0,n],bt)]}(t,o[e],i[e],a[e]))}),l}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,i=n.index,r=n.colWidth,o=n.rowHeight,s=n.squareSize,a=n.xTranslate,u=0;return this.serializedSubDomains=[],t.cols.map(function(t,n){1===n&&e.labels.push(S("domain-name",a,-12,R(i,!0).toUpperCase(),{fontSize:9})),t.map(function(t,n){if(t.fill){var i={"data-date":t.yyyyMmDd,"data-value":t.dataValue,"data-day":n},r=E("day",a,u,s,t.fill,i);e.serializedSubDomains.push(r)}u+=o}),u=0,a+=r}),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="bar",this.units=t.yPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=d(e,a.zeroLine),l=at(u,2),c=l[0],h=l[1];h-=s,0===c&&(c=a.minHeight,h-=a.minHeight);var f=y("rect",{className:"bar mini",style:"fill: "+i,"data-point-index":o,x:t,y:h,width:n,height:c});if((r+="")||r.length){f.setAttribute("y",0),f.setAttribute("x",0);var p=y("text",{className:"data-point-value",x:n/2,y:0,dy:ht/2*-1+"px","font-size":ht+"px","text-anchor":"middle",innerHTML:r}),g=y("g",{"data-point-index":o,transform:"translate("+t+", "+h+")"});return g.appendChild(f),g.appendChild(p),g}return f}(t.xPositions[i],n,t.barWidth,e.color,t.labels[i],i,t.offsets[i],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.offsets,r=t.labels,o=this.oldData.xPositions,s=this.oldData.yPositions,a=this.oldData.offsets,u=this.oldData.labels,l=p(o,e),c=Ft(l,2);o=c[0],e=c[1];var h=p(s,n),f=Ft(h,2);s=f[0],n=f[1];var g=p(a,i),m=Ft(g,2);a=m[0],i=m[1];var v=p(u,r),y=Ft(v,2);u=y[0],r=y[1],this.render({xPositions:o,yPositions:s,offsets:a,labels:r,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var b=[];return this.store.map(function(r,o){b=b.concat(function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=d(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),s=mt(o,2),a=s[0],u=s[1];return u-=r,"rect"!==t.nodeName?[[t.childNodes[0],{width:i,height:a},vt,wt],k(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],bt)]:[[t,{width:i,height:a,x:e,y:u},vt,wt]]}(r,e[o],n[o],t.barWidth,i[o],{zeroLine:t.zeroLine}))}),b}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.map(function(e,n){return t[n]+","+e}).join("L"),s=w("M"+o,"line-graph-path",n);if(i.heatline){var a=C(r.svgDefs,n);s.style.stroke="url(#"+a+")"}var u={path:s};if(i.regionFill){var l=C(r.svgDefs,n,!0),c="M"+t[0]+","+r.zeroLine+"L"+o+"L"+t.slice(-1)[0]+","+r.zeroLine;u.region=w(c,"region-fill","none","url(#"+l+")")}return u}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.hideDots||(this.units=t.yPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=y("circle",{style:"fill: "+i,"data-point-index":o,cx:t,cy:e,r:n});if((r+="")||r.length){s.setAttribute("cy",0),s.setAttribute("cx",0);var a=y("text",{className:"data-point-value",x:0,y:0,dy:ht/2*-1-n+"px","font-size":ht+"px","text-anchor":"middle",innerHTML:r}),u=y("g",{"data-point-index":o,transform:"translate("+t+", "+e+")"});return u.appendChild(s),u.appendChild(a),u}return s}(t.xPositions[i],n,t.radius,e.color,e.valuesOverPoints?t.values[i]:"",i)})),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.values,r=this.oldData.xPositions,o=this.oldData.yPositions,s=this.oldData.values,a=p(r,e),u=Ft(a,2);r=u[0],e=u[1];var l=p(o,n),c=Ft(l,2);o=c[0],n=c[1];var h=p(s,i),f=Ft(h,2);s=f[0],i=f[1],this.render({xPositions:r,yPositions:o,values:i,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var d=[];return Object.keys(this.paths).length&&(d=d.concat(function(t,e,n,i){var r=[],o=n.map(function(t,n){return e[n]+","+t}).join("L"),s=[t.path,{d:"M"+o},yt,wt];if(r.push(s),t.region){var a=e[0]+","+i+"L",u="L"+e.slice(-1)[0]+", "+i,l=[t.region,{d:"M"+a+o+u},yt,wt];r.push(l)}return r}(this.paths,e,n,t.zeroLine))),this.units.length&&this.units.map(function(t,i){d=d.concat(function(t,e,n){return"circle"!==t.nodeName?[k(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],bt)]:[[t,{cx:e,cy:n},vt,wt]]}(t,e[i],n[i]))}),d}}},zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Wt=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type="percentage",i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,At),zt(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||J,e.paddings.right=30,e.legendHeight=80,e.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var t=this.state,e=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map(function(t){var e=W.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]}))}},{key:"calc",value:function(){var t=this;(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;n.xPositions=[],n.widths=[];var i=0;n.sliceTotals.map(function(e){var r=t.width*e/n.grandTotal;n.widths.push(r),n.xPositions.push(i),i+=r})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,e=this.state;this.container.addEventListener("mousemove",function(n){var i=t.components.get("percentageBars").store,o=n.target;if(i.includes(o)){var s=i.indexOf(o),a=r(t.container),u=r(o),l=u.left-a.left+parseInt(o.getAttribute("width"))/2,c=u.top-a.top,h=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[s]:t.state.labels[s])+": ",f=e.sliceTotals[s]/e.grandTotal;t.tip.setValues(l,c,{name:h,value:(100*f).toFixed(1)+"%"}),t.tip.showTip()}})}}]),e}(),jt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ut=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},qt=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type="pie",i.initTimeout=0,i.init=1,i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,At),jt(e,[{key:"configure",value:function(t){Ut(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;Ut(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var i=this.radius,r=this.clockWise,o=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var s=180-this.config.startAngle;n.sliceTotals.map(function(e,a){var u=s,l=e/n.grandTotal*360,c=r?-l:l,h=s+=c,d=f(u,i),p=f(h,i),g=t.init&&o[a],m=void 0,v=void 0;t.init?(m=g?g.startPosition:d,v=g?g.endPosition:d):(m=d,v=p);var y=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=n.x+t.x,s=n.y+t.y,a=n.x+e.x,u=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+o+" "+s+"\n\t\tA "+i+" "+i+" 0 0 "+(r?1:0)+"\n\t\t"+a+" "+u+" z"}(m,v,t.center,t.radius,t.clockWise);n.sliceStrings.push(y),n.slicesProperties.push({startPosition:d,endPosition:p,value:e,total:n.grandTotal,startAngle:u,endAngle:h,angle:c})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map(function(t){var e=W.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]}))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,i=f(t.startAngle+t.angle/2,e);return"translate3d("+i.x*n+"px,"+i.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,e,n,i){if(t){var o=this.colors[e];if(n){A(t,this.calTranslateByAngle(this.state.slicesProperties[e])),t.style.fill=m(o,50);var s=r(this.svg),a=i.pageX-s.left+10,u=i.pageY-s.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+": ",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(a,u,{name:l,value:c+"%"}),this.tip.showTip()}else A(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("pieSlices").store,i=this.curActiveSliceIndex,r=this.curActiveSlice;if(n.includes(e)){var o=n.indexOf(e);this.hoverSlice(r,i,!1),this.curActiveSlice=e,this.curActiveSliceIndex=o,this.hoverSlice(e,o,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(),Yt=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Zt=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.type="heatmap",i.countLabel=n.countLabel||"";var r=["Sunday","Monday"],o=r.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return i.startSubDomainIndex=r.indexOf(o),i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,kt),Vt(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=12*Ot+a(e);var n=this.data,i=this.discreteDomains?12:0;this.independentWidth=12*(B(n.start,n.end)+i)+u(e)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=12*(e+t)+u(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach(function(n){var i=new Date(n*Pt);e[N(i)]=t.dataPoints[n]}),t.dataPoints=e}return t}},{key:"calc",value:function(){var t=this.state;t.start=L(this.data.start),t.end=L(this.data.end),t.firstWeekStart=L(t.start),t.noOfWeeks=B(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,j(t)),i=1/(e-1),r=[],o=0;o<e;o++){var s=n*(i*o);r.push(s)}return r}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,i=e.domainConfigs.map(function(i,r){return["heatDomain",{index:i.index,colWidth:12,rowHeight:12,squareSize:10,xTranslate:12*e.domainConfigs.filter(function(t,e){return e<r}).map(function(t){return t.cols.length-n}).reduce(function(t,e){return t+e},0)},function(){return e.domainConfigs[r]}.bind(t)]});this.components=new Map(i.map(function(t,e){var n=W.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0]+"-"+e,n]}));var r=0;Bt.forEach(function(e,n){if([1,3,5].includes(n)){var i=S("subdomain-name",-6,r,e,{fontSize:10,dy:8,textAnchor:"end"});t.drawArea.appendChild(i)}r+=12})}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(e){t.components.forEach(function(n){var i=n.store,r=e.target;if(i.includes(r)){var o=r.getAttribute("data-value"),s=r.getAttribute("data-date").split("-"),a=R(parseInt(s[1])-1,!0),u=t.container.getBoundingClientRect(),l=r.getBoundingClientRect(),c=parseInt(e.target.getAttribute("width")),h=l.left-u.left+c/2,f=l.top-u.top,d=o+" "+t.countLabel,p=" on "+a+" "+s[0]+", "+s[2];t.tip.setValues(h,f,{name:p,value:d,valueFirst:1},[]),t.tip.showTip()}})})}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var e=0,n=S("subdomain-name",e,12,"Less",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(n),this.colors.slice(0,5).map(function(n,i){var r=E("heatmap-legend-unit",e+15*i,12,10,n);t.legendArea.appendChild(r)});var i=S("subdomain-name",e+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(i)}},{key:"getDomains",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],i=e[1],r=[t.end.getMonth(),t.end.getFullYear()],o=r[0]-n+1+12*(r[1]-i),s=[],a=L(t.start),u=0;u<o;u++){var l=t.end;if(!F(a,t.end)){var c=[a.getMonth(),a.getFullYear()];l=I(c[0],c[1])}s.push(this.getDomainConfig(a,l)),z(l,1),a=l}return s}},{key:"getDomainConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.getMonth(),t.getFullYear()],i=n[0],r=n[1],o=H(t),s={index:i,cols:[]};z(e=L(e)||I(i,r),1);for(var a=B(o,e),u=[],l=void 0,c=0;c<a;c++)l=this.getCol(o,i),u.push(l),z(o=new Date(l[Ot-1].yyyyMmDd),1);return void 0!==l[Ot-1].dataValue&&(z(o,1),u.push(this.getCol(o,i,!0))),s.cols=u,s}},{key:"getCol",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.state,r=L(t),o=[],s=0;s<Ot;s++,z(r,1)){var a={},u=r>=i.start&&r<=i.end;n||r.getMonth()!==e||!u?a.yyyyMmDd=N(r):a=this.getSubDomainConfig(r),o.push(a)}return o}},{key:"getSubDomainConfig",value:function(t){var e=N(t),n=this.data.dataPoints[e];return{yyyyMmDd:e,dataValue:n||0,fill:this.colors[Z(n,this.state.distribution)]}}}]),e}(),Kt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gt=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},Xt=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.barOptions=n.barOptions||{},i.lineOptions=n.lineOptions||{},i.type=n.type||"line",i.init=1,i.setup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,kt),Kt(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){Gt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return function(t,e){t.labels=t.labels||[];var n=t.labels.length,i=t.datasets,r=new Array(n).fill(0);return i||(i=[{values:r}]),i.map(function(t){if(t.values){var i=t.values;i=(i=i.map(function(t){return isNaN(t)?0:t})).length>n?i.slice(0,n):c(i,n-i.length,0)}else t.values=r;t.chartType||(Q.includes(e),t.chartType=e)}),t.yRegions&&t.yRegions.map(function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}}),t}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,e=t.labels.length,n=new Array(e).fill(0),i={labels:t.labels.slice(0,-1),datasets:t.datasets.map(function(t){return{name:"",values:n.slice(0,-1),chartType:t.chartType}})},t.yMarkers&&(i.yMarkers=[{value:0,label:""}]),t.yRegions&&(i.yRegions=[{start:0,end:0,label:""}]),i;var t,e,n,i}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map(function(e,n){return l(t.xOffset+n*t.unitWidth)})}}},{key:"calcYAxisParameters",value:function(t){var e=function(t){function e(t,e){for(var n=q(t),i=n[1]-n[0],r=0,o=1;r<e;o++)r+=i,n.unshift(-1*r);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Math.max.apply(Math,j(t)),r=Math.min.apply(Math,j(t)),o=[];if(i>=0&&r>=0)U(i)[1],o=n?q(i,r):q(i);else if(i>0&&r<0){var s=Math.abs(r);i>=s?(U(i)[1],o=e(i,s)):(U(s)[1],o=e(s,i).map(function(t){return-1*t}))}else if(i<=0&&r<=0){var a=Math.abs(r),u=Math.abs(i);U(a)[1],o=(o=n?q(a,u):q(a)).reverse().map(function(t){return-1*t})}return o}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/function(t){return t[t.length-1]-t[0]}(e),i=Y(e)*n,r=this.height-function(t){var e=Y(t);return t.indexOf(0)>=0?t.indexOf(0):t[0]>0?-1*t[0]/e:-1*t[t.length-1]/e+(t.length-1)}(e)*i;this.state.yAxis={labels:e,positions:e.map(function(t){return r-t*n}),scaleMultiplier:n,zeroLine:r},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,e=function(e){return e.map(function(e){return V(e,t.yAxis)})};t.datasets=this.data.datasets.map(function(t,n){var i=t.values,r=t.cumulativeYs||[];return{name:t.name,index:n,chartType:t.chartType,values:i,yPositions:e(i),cumulativeYs:r,cumulativeYPos:e(r)}})}},{key:"calcYExtremes",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map(function(e){e.yPositions.map(function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)})}))}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(e){return e.position=V(e.value,t.yAxis),e.options||(e.options={}),e})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(e){return e.startPos=V(e.start,t.yAxis),e.endPos=V(e.end,t.yAxis),e.options||(e.options={}),e}))}},{key:"getAllYValues",value:function(){var t,e=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var i=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(t,r){var o=e.data.datasets[r].values;t[n]=i=i.map(function(t,e){return t+o[e]})})}var r=this.data.datasets.map(function(t){return t[n]});return this.data.yMarkers&&r.push(this.data.yMarkers.map(function(t){return t.value})),this.data.yRegions&&this.data.yRegions.map(function(t){r.push([t.end,t.start])}),(t=[]).concat.apply(t,K(r))}},{key:"setupComponents",value:function(){var t=this,e=[["yAxis",{mode:this.config.yAxisMode,width:this.width},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t/e.length;i<=0&&(i=1);var r=i/$;return e.map(function(t,e){return(t+="").length>r&&(n?e%Math.ceil(t.length/r)!=0&&(t=""):t=r-3>0?t.slice(0,r-3)+" ...":t.slice(0,r)+".."),t})}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter(function(t){return"bar"===t.chartType}),i=this.state.datasets.filter(function(t){return"line"===t.chartType}),r=n.map(function(e){var i=e.index;return["barGraph-"+e.index,{index:i,color:t.colors[i],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:.01*t.height},function(){var t=this.state,e=t.datasets[i],r=this.barOptions.stacked,o=this.barOptions.spaceRatio||.5,s=t.unitWidth*(1-o),a=s/(r?1:n.length),u=t.xAxis.positions.map(function(t){return t-s/2});r||(u=u.map(function(t){return t+a*i}));var l=new Array(t.datasetLength).fill("");this.config.valuesOverPoints&&(l=r&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var c=new Array(t.datasetLength).fill(0);return r&&(c=e.yPositions.map(function(t,n){return t-e.cumulativeYPos[n]})),{xPositions:u,yPositions:e.yPositions,offsets:c,labels:l,zeroLine:t.yAxis.zeroLine,barsWidth:s,barWidth:a}}.bind(t)]}),o=i.map(function(e){var n=e.index;return["lineGraph-"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],i=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:i,radius:this.lineOptions.dotSize||4}}.bind(t)]}),s=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(r,o,s);var a=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(e.filter(function(e){return!a.includes(e[0])||t.state[e[0]]}).map(function(e){var n=W.apply(void 0,K(e));return(e[0].includes("lineGraph")||e[0].includes("barGraph"))&&t.dataUnitComponents.push(n),[e[0],n]}))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,i=this.config.formatTooltipY;e.xAxis.labels.map(function(r,o){var s=t.state.datasets.map(function(e,n){var r=e.values[o];return{title:e.name,value:r,yPos:e.yPositions[o],color:t.colors[n],formatted:i?i(r):r}});t.dataByIndex[o]={label:r,formattedLabel:n?n(r):r,xPos:e.xAxis.positions[o],values:s,yExtreme:e.yExtremes[o]}})}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(e){var n=t.measures,i=r(t.container),a=e.pageX-i.left-s(n),u=e.pageY-i.top;u<t.height+o(n)&&u>o(n)?t.mapTooltipXPosition(a):t.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e});return n?e.indexOf(i):i}(t,e.xAxis.positions,!0),i=this.dataByIndex[n];this.tip.setValues(i.xPos+this.tip.offset.x,i.yExtreme+this.tip.offset.y,{name:i.formattedLabel,value:""},i.values,n),this.tip.showTip()}}},{key:"renderLegend",value:function(){var t=this,e=this.data;e.datasets.length>1&&(this.legendArea.textContent="",e.datasets.map(function(e,n){var i=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4],o={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:i},s=y("text",{className:"legend-dataset-text",x:0,y:0,dy:2*ht+"px","font-size":1.2*ht+"px","text-anchor":"start",fill:dt,innerHTML:r}),a=y("g",{transform:"translate("+t+", "+e+")"});return a.appendChild(y("rect",o)),a.appendChild(s),a}(100*n,"0",100,t.colors[n],e.name);t.legendArea.appendChild(i)}))}},{key:"makeOverlay",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach(function(t){var e=t.overlay;e.parentNode.removeChild(e)}),this.overlayGuides=this.dataUnitComponents.map(function(t){return{type:t.unitType,overlay:void 0,units:t.units}}),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(e){var n=e.units[t.state.currentIndex];e.overlay=pt[e.type](n),t.drawArea.appendChild(e.overlay)}))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(t){var e=t.overlay;e.parentNode.removeChild(e)})}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",function(){t.updateOverlay()})}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map(function(e){e.units.map(function(e){e.addEventListener("click",function(){var n=e.getAttribute("data-point-index");t.setCurrentDataPoint(n)})})}),this.tip.container.addEventListener("click",function(){var e=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(e)})}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map(function(e){var n=e.units[t.state.currentIndex];gt[e.type](n,e.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state;return{index:t,label:e.xAxis.labels[t],values:e.datasets.map(function(e){return e.values[t]})}}},{key:"setCurrentDataPoint",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var i=document.createEvent("HTMLEvents");for(var r in i.initEvent(e,!0,!0),n)i[r]=n[r];t.dispatchEvent(i)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;Gt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,n,i),this.data.labels.splice(i,0,t),this.data.datasets.map(function(t,e){t.values.splice(i,0,n[e])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(Gt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map(function(e){e.values.splice(t,1)}),this.update(this.data))}},{key:"updateDataset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map(function(e,n){t[n]&&(e.values=t[n])}),this.update(this.data)}}]),e}(),Mt={bar:Xt,line:Xt,percentage:Wt,heatmap:Zt,pie:qt},Qt=function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",e=arguments[1],n=arguments[2];return"axis-mixed"===t?(n.type="line",new Xt(e,n)):Mt[t]?new Mt[t](e,n):void console.error("Undefined chart type: "+t)}(n.type,e,n)}},RKCW:function(t,e,n){!function(t){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;t.defineMode("gfm",function(n,i){var r=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,n){if(n.combineTokens=null,n.codeBlock)return t.match(/^```+/)?(n.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(n.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),n.codeBlock=!0,null;if("`"===t.peek()){t.next();var o=t.pos;t.eatWhile("`");var s=1+t.pos-o;return n.code?s===r&&(n.code=!1):(r=s,n.code=!0),null}if(n.code)return t.next(),null;if(t.eatSpace())return n.ateSpace=!0,null;if((t.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==i.gitHubSpice)){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return t.match(e)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(t.string.charAt(t.start-1)))?(n.combineTokens=!0,"link"):(t.next(),null)},blankLine:function(t){return t.code=!1,null}},s={taskLists:!0,strikethrough:!0,emoji:!0};for(var a in i)s[a]=i[a];return s.name="markdown",t.overlayMode(t.getMode(n,s),o)},"markdown"),t.defineMIME("text/x-gfm","gfm")}(n("VrN/"),n("lZu9"),n("nrkQ"))},"Rn+g":function(t,e,n){"use strict";var i=n("LYNF");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},SYky:function(t,e,n){!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend";function u(t){var e=this,i=!1;return n(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(e)},t),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}return e&&document.querySelector(e)?e:null},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=n(t).css("transition-duration"),i=n(t).css("transition-delay"),r=parseFloat(e),o=parseFloat(i);return r||o?(e=e.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(e)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){n(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&l.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null}};n.fn.emulateTransitionEnd=u,n.event.special[l.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=n.fn.alert,h={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},f={ALERT:"alert",FADE:"fade",SHOW:"show"},d=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){n.removeData(this._element,"bs.alert"),this._element=null},e._getRootElement=function(t){var e=l.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i||(i=n(t).closest("."+f.ALERT)[0]),i},e._triggerCloseEvent=function(t){var e=n.Event(h.CLOSE);return n(t).trigger(e),e},e._removeElement=function(t){var e=this;if(n(t).removeClass(f.SHOW),n(t).hasClass(f.FADE)){var i=l.getTransitionDurationFromElement(t);n(t).one(l.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(i)}else this._destroyElement(t)},e._destroyElement=function(t){n(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===e&&r[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}}]),t}();n(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',d._handleDismiss(new d)),n.fn.alert=d._jQueryInterface,n.fn.alert.Constructor=d,n.fn.alert.noConflict=function(){return n.fn.alert=c,d._jQueryInterface};var p=n.fn.button,g={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},m={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},v={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},y=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,i=n(this._element).closest(m.DATA_TOGGLE)[0];if(i){var r=this._element.querySelector(m.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(g.ACTIVE))t=!1;else{var o=i.querySelector(m.ACTIVE);o&&n(o).removeClass(g.ACTIVE)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(g.ACTIVE),n(r).trigger("change")}r.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(g.ACTIVE)),t&&n(this._element).toggleClass(g.ACTIVE)},e.dispose=function(){n.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data("bs.button");i||(i=new t(this),n(this).data("bs.button",i)),"toggle"===e&&i[e]()})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}}]),t}();n(document).on(v.CLICK_DATA_API,m.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var e=t.target;n(e).hasClass(g.BUTTON)||(e=n(e).closest(m.BUTTON)),y._jQueryInterface.call(n(e),"toggle")}).on(v.FOCUS_BLUR_DATA_API,m.DATA_TOGGLE_CARROT,function(t){var e=n(t.target).closest(m.BUTTON)[0];n(e).toggleClass(g.FOCUS,/^focus(in)?$/.test(t.type))}),n.fn.button=y._jQueryInterface,n.fn.button.Constructor=y,n.fn.button.noConflict=function(){return n.fn.button=p,y._jQueryInterface};var b="carousel",_=".bs.carousel",w=n.fn[b],C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},E={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},S={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},T={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},x={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},k={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},D={TOUCH:"touch",PEN:"pen"},A=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(k.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(S.NEXT)},e.nextWhenVisible=function(){!document.hidden&&n(this._element).is(":visible")&&"hidden"!==n(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(S.PREV)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(k.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(k.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)n(this._element).one(T.SLID,function(){return e.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?S.NEXT:S.PREV;this._slide(r,this._items[t])}},e.dispose=function(){n(this._element).off(_),n.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=s({},C,t),l.typeCheckConfig(b,t,E),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&n(this._element).on(T.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&n(this._element).on(T.MOUSEENTER,function(e){return t.pause(e)}).on(T.MOUSELEAVE,function(e){return t.cycle(e)}),this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&D[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&D[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};n(this._element.querySelectorAll(k.ITEM_IMG)).on(T.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(n(this._element).on(T.POINTERDOWN,function(t){return e(t)}),n(this._element).on(T.POINTERUP,function(t){return i(t)}),this._element.classList.add(x.POINTER_EVENT)):(n(this._element).on(T.TOUCHSTART,function(t){return e(t)}),n(this._element).on(T.TOUCHMOVE,function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),n(this._element).on(T.TOUCHEND,function(t){return i(t)}))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(k.ITEM)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===S.NEXT,i=t===S.PREV,r=this._getItemIndex(e),o=this._items.length-1,s=i&&0===r||n&&r===o;if(s&&!this._config.wrap)return e;var a=t===S.PREV?-1:1,u=(r+a)%this._items.length;return-1===u?this._items[this._items.length-1]:this._items[u]},e._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(k.ACTIVE_ITEM)),o=n.Event(T.SLIDE,{relatedTarget:t,direction:e,from:r,to:i});return n(this._element).trigger(o),o},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(k.ACTIVE));n(e).removeClass(x.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&n(i).addClass(x.ACTIVE)}},e._slide=function(t,e){var i,r,o,s=this,a=this._element.querySelector(k.ACTIVE_ITEM),u=this._getItemIndex(a),c=e||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),f=Boolean(this._interval);if(t===S.NEXT?(i=x.LEFT,r=x.NEXT,o=S.LEFT):(i=x.RIGHT,r=x.PREV,o=S.RIGHT),c&&n(c).hasClass(x.ACTIVE))this._isSliding=!1;else{var d=this._triggerSlideEvent(c,o);if(!d.isDefaultPrevented()&&a&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c);var p=n.Event(T.SLID,{relatedTarget:c,direction:o,from:u,to:h});if(n(this._element).hasClass(x.SLIDE)){n(c).addClass(r),l.reflow(c),n(a).addClass(i),n(c).addClass(i);var g=parseInt(c.getAttribute("data-interval"),10);g?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=g):this._config.interval=this._config.defaultInterval||this._config.interval;var m=l.getTransitionDurationFromElement(a);n(a).one(l.TRANSITION_END,function(){n(c).removeClass(i+" "+r).addClass(x.ACTIVE),n(a).removeClass(x.ACTIVE+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return n(s._element).trigger(p)},0)}).emulateTransitionEnd(m)}else n(a).removeClass(x.ACTIVE),n(c).addClass(x.ACTIVE),this._isSliding=!1,n(this._element).trigger(p);f&&this.cycle()}}},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data("bs.carousel"),r=s({},C,n(this).data());"object"==typeof e&&(r=s({},r,e));var o="string"==typeof e?e:r.slide;if(i||(i=new t(this,r),n(this).data("bs.carousel",i)),"number"==typeof e)i.to(e);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(e){var i=l.getSelectorFromElement(this);if(i){var r=n(i)[0];if(r&&n(r).hasClass(x.CAROUSEL)){var o=s({},n(r).data(),n(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(n(r),o),a&&n(r).data("bs.carousel").to(a),e.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return C}}]),t}();n(document).on(T.CLICK_DATA_API,k.DATA_SLIDE,A._dataApiClickHandler),n(window).on(T.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(k.DATA_RIDE)),e=0,i=t.length;e<i;e++){var r=n(t[e]);A._jQueryInterface.call(r,r.data())}}),n.fn[b]=A._jQueryInterface,n.fn[b].Constructor=A,n.fn[b].noConflict=function(){return n.fn[b]=w,A._jQueryInterface};var O="collapse",P=n.fn[O],N={toggle:!0,parent:""},L={toggle:"boolean",parent:"(string|element)"},B={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},F={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},R={WIDTH:"width",HEIGHT:"height"},I={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},H=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(I.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var o=n[i],s=l.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){n(this._element).hasClass(F.SHOW)?this.hide():this.show()},e.show=function(){var e,i,r=this;if(!(this._isTransitioning||n(this._element).hasClass(F.SHOW)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(I.ACTIVES)).filter(function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(F.COLLAPSE)})).length&&(e=null),e&&(i=n(e).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=n.Event(B.SHOW);if(n(this._element).trigger(o),!o.isDefaultPrevented()){e&&(t._jQueryInterface.call(n(e).not(this._selector),"hide"),i||n(e).data("bs.collapse",null));var s=this._getDimension();n(this._element).removeClass(F.COLLAPSE).addClass(F.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&n(this._triggerArray).removeClass(F.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var a=s[0].toUpperCase()+s.slice(1),u="scroll"+a,c=l.getTransitionDurationFromElement(this._element);n(this._element).one(l.TRANSITION_END,function(){n(r._element).removeClass(F.COLLAPSING).addClass(F.COLLAPSE).addClass(F.SHOW),r._element.style[s]="",r.setTransitioning(!1),n(r._element).trigger(B.SHOWN)}).emulateTransitionEnd(c),this._element.style[s]=this._element[u]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&n(this._element).hasClass(F.SHOW)){var e=n.Event(B.HIDE);if(n(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),n(this._element).addClass(F.COLLAPSING).removeClass(F.COLLAPSE).removeClass(F.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=l.getSelectorFromElement(s);if(null!==a){var u=n([].slice.call(document.querySelectorAll(a)));u.hasClass(F.SHOW)||n(s).addClass(F.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0),this._element.style[i]="";var c=l.getTransitionDurationFromElement(this._element);n(this._element).one(l.TRANSITION_END,function(){t.setTransitioning(!1),n(t._element).removeClass(F.COLLAPSING).addClass(F.COLLAPSE).trigger(B.HIDDEN)}).emulateTransitionEnd(c)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){n.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=s({},N,t)).toggle=Boolean(t.toggle),l.typeCheckConfig(O,t,L),t},e._getDimension=function(){var t=n(this._element).hasClass(R.WIDTH);return t?R.WIDTH:R.HEIGHT},e._getParent=function(){var e,i=this;l.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(e.querySelectorAll(r));return n(o).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),e},e._addAriaAndCollapsedClass=function(t,e){var i=n(t).hasClass(F.SHOW);e.length&&n(e).toggleClass(F.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),r=i.data("bs.collapse"),o=s({},N,i.data(),"object"==typeof e&&e?e:{});if(!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return N}}]),t}();n(document).on(B.CLICK_DATA_API,I.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=n(this),i=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));n(r).each(function(){var t=n(this),i=t.data("bs.collapse"),r=i?"toggle":e.data();H._jQueryInterface.call(t,r)})}),n.fn[O]=H._jQueryInterface,n.fn[O].Constructor=H,n.fn[O].noConflict=function(){return n.fn[O]=P,H._jQueryInterface};var z="dropdown",W=n.fn[z],j=new RegExp("38|40|27"),U={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},q={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},Y={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},V={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Z={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},K={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},G=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!n(this._element).hasClass(q.DISABLED)){var i=t._getParentFromElement(this._element),r=n(this._menu).hasClass(q.SHOW);if(t._clearMenus(),!r){var o={relatedTarget:this._element},s=n.Event(U.SHOW,o);if(n(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===e)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:l.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&n(i).addClass(q.POSITION_STATIC),this._popper=new e(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===n(i).closest(Y.NAVBAR_NAV).length&&n(document.body).children().on("mouseover",null,n.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),n(this._menu).toggleClass(q.SHOW),n(i).toggleClass(q.SHOW).trigger(n.Event(U.SHOWN,o))}}}},i.show=function(){if(!(this._element.disabled||n(this._element).hasClass(q.DISABLED)||n(this._menu).hasClass(q.SHOW))){var e={relatedTarget:this._element},i=n.Event(U.SHOW,e),r=t._getParentFromElement(this._element);n(r).trigger(i),i.isDefaultPrevented()||(n(this._menu).toggleClass(q.SHOW),n(r).toggleClass(q.SHOW).trigger(n.Event(U.SHOWN,e)))}},i.hide=function(){if(!this._element.disabled&&!n(this._element).hasClass(q.DISABLED)&&n(this._menu).hasClass(q.SHOW)){var e={relatedTarget:this._element},i=n.Event(U.HIDE,e),r=t._getParentFromElement(this._element);n(r).trigger(i),i.isDefaultPrevented()||(n(this._menu).toggleClass(q.SHOW),n(r).toggleClass(q.SHOW).trigger(n.Event(U.HIDDEN,e)))}},i.dispose=function(){n.removeData(this._element,"bs.dropdown"),n(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;n(this._element).on(U.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s({},this.constructor.Default,n(this._element).data(),t),l.typeCheckConfig(z,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(Y.MENU))}return this._menu},i._getPlacement=function(){var t=n(this._element.parentNode),e=V.BOTTOM;return t.hasClass(q.DROPUP)?(e=V.TOP,n(this._menu).hasClass(q.MENURIGHT)&&(e=V.TOPEND)):t.hasClass(q.DROPRIGHT)?e=V.RIGHT:t.hasClass(q.DROPLEFT)?e=V.LEFT:n(this._menu).hasClass(q.MENURIGHT)&&(e=V.BOTTOMEND),e},i._detectNavbar=function(){return n(this._element).closest(".navbar").length>0},i._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data("bs.dropdown"),r="object"==typeof e?e:null;if(i||(i=new t(this,r),n(this).data("bs.dropdown",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var i=[].slice.call(document.querySelectorAll(Y.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var s=t._getParentFromElement(i[r]),a=n(i[r]).data("bs.dropdown"),u={relatedTarget:i[r]};if(e&&"click"===e.type&&(u.clickEvent=e),a){var l=a._menu;if(n(s).hasClass(q.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&n.contains(s,e.target))){var c=n.Event(U.HIDE,u);n(s).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),i[r].setAttribute("aria-expanded","false"),n(l).removeClass(q.SHOW),n(s).removeClass(q.SHOW).trigger(n.Event(U.HIDDEN,u)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||n(e.target).closest(Y.MENU).length)):j.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!n(this).hasClass(q.DISABLED))){var i=t._getParentFromElement(this),r=n(i).hasClass(q.SHOW);if(r&&(!r||27!==e.which&&32!==e.which)){var o=[].slice.call(i.querySelectorAll(Y.VISIBLE_ITEMS));if(0!==o.length){var s=o.indexOf(e.target);38===e.which&&s>0&&s--,40===e.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}else{if(27===e.which){var a=i.querySelector(Y.DATA_TOGGLE);n(a).trigger("focus")}n(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return Z}},{key:"DefaultType",get:function(){return K}}]),t}();n(document).on(U.KEYDOWN_DATA_API,Y.DATA_TOGGLE,G._dataApiKeydownHandler).on(U.KEYDOWN_DATA_API,Y.MENU,G._dataApiKeydownHandler).on(U.CLICK_DATA_API+" "+U.KEYUP_DATA_API,G._clearMenus).on(U.CLICK_DATA_API,Y.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),G._jQueryInterface.call(n(this),"toggle")}).on(U.CLICK_DATA_API,Y.FORM_CHILD,function(t){t.stopPropagation()}),n.fn[z]=G._jQueryInterface,n.fn[z].Constructor=G,n.fn[z].noConflict=function(){return n.fn[z]=W,G._jQueryInterface};var X=n.fn.modal,M={backdrop:!0,keyboard:!0,focus:!0,show:!0},Q={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},J={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},$={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},tt={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},et=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(tt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){n(this._element).hasClass($.FADE)&&(this._isTransitioning=!0);var i=n.Event(J.SHOW,{relatedTarget:t});n(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),n(this._element).on(J.CLICK_DISMISS,tt.DATA_DISMISS,function(t){return e.hide(t)}),n(this._dialog).on(J.MOUSEDOWN_DISMISS,function(){n(e._element).one(J.MOUSEUP_DISMISS,function(t){n(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=n.Event(J.HIDE);if(n(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=n(this._element).hasClass($.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),n(document).off(J.FOCUSIN),n(this._element).removeClass($.SHOW),n(this._element).off(J.CLICK_DISMISS),n(this._dialog).off(J.MOUSEDOWN_DISMISS),r){var o=l.getTransitionDurationFromElement(this._element);n(this._element).one(l.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return n(t).off(".bs.modal")}),n(document).off(J.FOCUSIN),n.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=s({},M,t),l.typeCheckConfig("modal",t,Q),t},e._showElement=function(t){var e=this,i=n(this._element).hasClass($.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.scrollTop=0,i&&l.reflow(this._element),n(this._element).addClass($.SHOW),this._config.focus&&this._enforceFocus();var r=n.Event(J.SHOWN,{relatedTarget:t}),o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,n(e._element).trigger(r)};if(i){var s=l.getTransitionDurationFromElement(this._dialog);n(this._dialog).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},e._enforceFocus=function(){var t=this;n(document).off(J.FOCUSIN).on(J.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===n(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?n(this._element).on(J.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||n(this._element).off(J.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?n(window).on(J.RESIZE,function(e){return t.handleUpdate(e)}):n(window).off(J.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){n(document.body).removeClass($.OPEN),t._resetAdjustments(),t._resetScrollbar(),n(t._element).trigger(J.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(n(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,i=n(this._element).hasClass($.FADE)?$.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=$.BACKDROP,i&&this._backdrop.classList.add(i),n(this._backdrop).appendTo(document.body),n(this._element).on(J.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),i&&l.reflow(this._backdrop),n(this._backdrop).addClass($.SHOW),!t)return;if(!i)return void t();var r=l.getTransitionDurationFromElement(this._backdrop);n(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){n(this._backdrop).removeClass($.SHOW);var o=function(){e._removeBackdrop(),t&&t()};if(n(this._element).hasClass($.FADE)){var s=l.getTransitionDurationFromElement(this._backdrop);n(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(tt.STICKY_CONTENT));n(e).each(function(e,i){var r=i.style.paddingRight,o=n(i).css("padding-right");n(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),n(i).each(function(e,i){var r=i.style.marginRight,o=n(i).css("margin-right");n(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=n(document.body).css("padding-right");n(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}n(document.body).addClass($.OPEN)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT));n(t).each(function(t,e){var i=n(e).data("padding-right");n(e).removeData("padding-right"),e.style.paddingRight=i||""});var e=[].slice.call(document.querySelectorAll(""+tt.STICKY_CONTENT));n(e).each(function(t,e){var i=n(e).data("margin-right");void 0!==i&&n(e).css("margin-right",i).removeData("margin-right")});var i=n(document.body).data("padding-right");n(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=$.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,i){return this.each(function(){var r=n(this).data("bs.modal"),o=s({},M,n(this).data(),"object"==typeof e&&e?e:{});if(r||(r=new t(this,o),n(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](i)}else o.show&&r.show(i)})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return M}}]),t}();n(document).on(J.CLICK_DATA_API,tt.DATA_TOGGLE,function(t){var e,i=this,r=l.getSelectorFromElement(this);r&&(e=document.querySelector(r));var o=n(e).data("bs.modal")?"toggle":s({},n(e).data(),n(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=n(e).one(J.SHOW,function(t){t.isDefaultPrevented()||a.one(J.HIDDEN,function(){n(i).is(":visible")&&i.focus()})});et._jQueryInterface.call(n(e),o,this)}),n.fn.modal=et._jQueryInterface,n.fn.modal.Constructor=et,n.fn.modal.noConflict=function(){return n.fn.modal=X,et._jQueryInterface};var nt="tooltip",it=n.fn.tooltip,rt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ot={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},st={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},at={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},ut={SHOW:"show",OUT:"out"},lt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ct={FADE:"fade",SHOW:"show"},ht={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},ft={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},dt=function(){function t(t,n){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=n(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(n(this.getTipElement()).hasClass(ct.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),n.removeData(this.element,this.constructor.DATA_KEY),n(this.element).off(this.constructor.EVENT_KEY),n(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&n(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===n(this.element).css("display"))throw new Error("Please use show on visible elements");var i=n.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){n(this.element).trigger(i);var r=l.findShadowRoot(this.element),o=n.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=l.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&n(s).addClass(ct.FADE);var u="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var h=this._getContainer();n(s).data(this.constructor.DATA_KEY,this),n.contains(this.element.ownerDocument.documentElement,this.tip)||n(s).appendTo(h),n(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,s,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:ht.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),n(s).addClass(ct.SHOW),"ontouchstart"in document.documentElement&&n(document.body).children().on("mouseover",null,n.noop);var f=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,n(t.element).trigger(t.constructor.Event.SHOWN),e===ut.OUT&&t._leave(null,t)};if(n(this.tip).hasClass(ct.FADE)){var d=l.getTransitionDurationFromElement(this.tip);n(this.tip).one(l.TRANSITION_END,f).emulateTransitionEnd(d)}else f()}},i.hide=function(t){var e=this,i=this.getTipElement(),r=n.Event(this.constructor.Event.HIDE),o=function(){e._hoverState!==ut.SHOW&&i.parentNode&&i.parentNode.removeChild(i),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),n(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(n(this.element).trigger(r),!r.isDefaultPrevented()){if(n(i).removeClass(ct.SHOW),"ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),this._activeTrigger[ft.CLICK]=!1,this._activeTrigger[ft.FOCUS]=!1,this._activeTrigger[ft.HOVER]=!1,n(this.tip).hasClass(ct.FADE)){var s=l.getTransitionDurationFromElement(i);n(i).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){n(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(n(t.querySelectorAll(ht.TOOLTIP_INNER)),this.getTitle()),n(t).removeClass(ct.FADE+" "+ct.SHOW)},i.setElementContent=function(t,e){var i=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?i?n(e).parent().is(t)||t.empty().append(e):t.text(n(e).text()):t[i?"html":"text"](e)},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?n(this.config.container):n(document).find(this.config.container)},i._getAttachment=function(t){return st[t.toUpperCase()]},i._setListeners=function(){var t=this,e=this.config.trigger.split(" ");e.forEach(function(e){if("click"===e)n(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(e!==ft.MANUAL){var i=e===ft.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=e===ft.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;n(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}}),n(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||n(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?ft.FOCUS:ft.HOVER]=!0),n(e.getTipElement()).hasClass(ct.SHOW)||e._hoverState===ut.SHOW?e._hoverState=ut.SHOW:(clearTimeout(e._timeout),e._hoverState=ut.SHOW,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===ut.SHOW&&e.show()},e.config.delay.show):e.show())},i._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||n(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?ft.FOCUS:ft.HOVER]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=ut.OUT,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===ut.OUT&&e.hide()},e.config.delay.hide):e.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){return"number"==typeof(t=s({},this.constructor.Default,n(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(nt,t,this.constructor.DefaultType),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=n(this.getTipElement()),e=t.attr("class").match(rt);null!==e&&e.length&&t.removeClass(e.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(n(t).removeClass(ct.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data("bs.tooltip"),r="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,r),n(this).data("bs.tooltip",i)),"string"==typeof e)){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return at}},{key:"NAME",get:function(){return nt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return lt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return ot}}]),t}();n.fn.tooltip=dt._jQueryInterface,n.fn.tooltip.Constructor=dt,n.fn.tooltip.noConflict=function(){return n.fn.tooltip=it,dt._jQueryInterface};var pt="popover",gt=n.fn.popover,mt=new RegExp("(^|\\s)bs-popover\\S+","g"),vt=s({},dt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),yt=s({},dt.DefaultType,{content:"(string|element|function)"}),bt={FADE:"fade",SHOW:"show"},_t={TITLE:".popover-header",CONTENT:".popover-body"},wt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ct=function(t){var e,i;function o(){return t.apply(this,arguments)||this}i=t,(e=o).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=o.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){n(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},s.setContent=function(){var t=n(this.getTipElement());this.setElementContent(t.find(_t.TITLE),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(_t.CONTENT),e),t.removeClass(bt.FADE+" "+bt.SHOW)},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=n(this.getTipElement()),e=t.attr("class").match(mt);null!==e&&e.length>0&&t.removeClass(e.join(""))},o._jQueryInterface=function(t){return this.each(function(){var e=n(this).data("bs.popover"),i="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new o(this,i),n(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return vt}},{key:"NAME",get:function(){return pt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return wt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return yt}}]),o}(dt);n.fn.popover=Ct._jQueryInterface,n.fn.popover.Constructor=Ct,n.fn.popover.noConflict=function(){return n.fn.popover=gt,Ct._jQueryInterface};var Et="scrollspy",St=n.fn[Et],Tt={offset:10,method:"auto",target:""},xt={offset:"number",method:"string",target:"(string|element)"},kt={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Dt={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},At={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Ot={OFFSET:"offset",POSITION:"position"},Pt=function(){function t(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+At.NAV_LINKS+","+this._config.target+" "+At.LIST_ITEMS+","+this._config.target+" "+At.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,n(this._scrollElement).on(kt.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?Ot.OFFSET:Ot.POSITION,i="auto"===this._config.method?e:this._config.method,r=i===Ot.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=[].slice.call(document.querySelectorAll(this._selector));o.map(function(t){var e,o=l.getSelectorFromElement(t);if(o&&(e=document.querySelector(o)),e){var s=e.getBoundingClientRect();if(s.width||s.height)return[n(e)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){n.removeData(this._element,"bs.scrollspy"),n(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=s({},Tt,"object"==typeof t&&t?t:{})).target){var e=n(t.target).attr("id");e||(e=l.getUID(Et),n(t.target).attr("id",e)),t.target="#"+e}return l.typeCheckConfig(Et,t,xt),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){var s=this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1]);s&&this._activate(this._targets[o])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=n([].slice.call(document.querySelectorAll(e.join(","))));i.hasClass(Dt.DROPDOWN_ITEM)?(i.closest(At.DROPDOWN).find(At.DROPDOWN_TOGGLE).addClass(Dt.ACTIVE),i.addClass(Dt.ACTIVE)):(i.addClass(Dt.ACTIVE),i.parents(At.NAV_LIST_GROUP).prev(At.NAV_LINKS+", "+At.LIST_ITEMS).addClass(Dt.ACTIVE),i.parents(At.NAV_LIST_GROUP).prev(At.NAV_ITEMS).children(At.NAV_LINKS).addClass(Dt.ACTIVE)),n(this._scrollElement).trigger(kt.ACTIVATE,{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Dt.ACTIVE)}).forEach(function(t){return t.classList.remove(Dt.ACTIVE)})},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data("bs.scrollspy"),r="object"==typeof e&&e;if(i||(i=new t(this,r),n(this).data("bs.scrollspy",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return Tt}}]),t}();n(window).on(kt.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(At.DATA_SPY)),e=t.length,i=e;i--;){var r=n(t[i]);Pt._jQueryInterface.call(r,r.data())}}),n.fn[Et]=Pt._jQueryInterface,n.fn[Et].Constructor=Pt,n.fn[Et].noConflict=function(){return n.fn[Et]=St,Pt._jQueryInterface};var Nt=n.fn.tab,Lt={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Bt={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Ft={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Rt=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&n(this._element).hasClass(Bt.ACTIVE)||n(this._element).hasClass(Bt.DISABLED))){var e,i,r=n(this._element).closest(Ft.NAV_LIST_GROUP)[0],o=l.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?Ft.ACTIVE_UL:Ft.ACTIVE;i=(i=n.makeArray(n(r).find(s)))[i.length-1]}var a=n.Event(Lt.HIDE,{relatedTarget:this._element}),u=n.Event(Lt.SHOW,{relatedTarget:i});if(i&&n(i).trigger(a),n(this._element).trigger(u),!u.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(e=document.querySelector(o)),this._activate(this._element,r);var c=function(){var e=n.Event(Lt.HIDDEN,{relatedTarget:t._element}),r=n.Event(Lt.SHOWN,{relatedTarget:i});n(i).trigger(e),n(t._element).trigger(r)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){n.removeData(this._element,"bs.tab"),this._element=null},e._activate=function(t,e,i){var r=this,o=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?n(e).children(Ft.ACTIVE):n(e).find(Ft.ACTIVE_UL),s=o[0],a=i&&s&&n(s).hasClass(Bt.FADE),u=function(){return r._transitionComplete(t,s,i)};if(s&&a){var c=l.getTransitionDurationFromElement(s);n(s).removeClass(Bt.SHOW).one(l.TRANSITION_END,u).emulateTransitionEnd(c)}else u()},e._transitionComplete=function(t,e,i){if(e){n(e).removeClass(Bt.ACTIVE);var r=n(e.parentNode).find(Ft.DROPDOWN_ACTIVE_CHILD)[0];r&&n(r).removeClass(Bt.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(n(t).addClass(Bt.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),n(t).addClass(Bt.SHOW),t.parentNode&&n(t.parentNode).hasClass(Bt.DROPDOWN_MENU)){var o=n(t).closest(Ft.DROPDOWN)[0];if(o){var s=[].slice.call(o.querySelectorAll(Ft.DROPDOWN_TOGGLE));n(s).addClass(Bt.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}}]),t}();n(document).on(Lt.CLICK_DATA_API,Ft.DATA_TOGGLE,function(t){t.preventDefault(),Rt._jQueryInterface.call(n(this),"show")}),n.fn.tab=Rt._jQueryInterface,n.fn.tab.Constructor=Rt,n.fn.tab.noConflict=function(){return n.fn.tab=Nt,Rt._jQueryInterface};var It=n.fn.toast,Ht={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},zt={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},Wt={animation:"boolean",autohide:"boolean",delay:"number"},jt={animation:!0,autohide:!0,delay:500},Ut={DATA_DISMISS:'[data-dismiss="toast"]'},qt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this;n(this._element).trigger(Ht.SHOW),this._config.animation&&this._element.classList.add(zt.FADE);var e=function(){t._element.classList.remove(zt.SHOWING),t._element.classList.add(zt.SHOW),n(t._element).trigger(Ht.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(zt.HIDE),this._element.classList.add(zt.SHOWING),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);n(this._element).one(l.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},e.hide=function(t){var e=this;this._element.classList.contains(zt.SHOW)&&(n(this._element).trigger(Ht.HIDE),t?this._close():this._timeout=setTimeout(function(){e._close()},this._config.delay))},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(zt.SHOW)&&this._element.classList.remove(zt.SHOW),n(this._element).off(Ht.CLICK_DISMISS),n.removeData(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function(t){return t=s({},jt,n(this._element).data(),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;n(this._element).on(Ht.CLICK_DISMISS,Ut.DATA_DISMISS,function(){return t.hide(!0)})},e._close=function(){var t=this,e=function(){t._element.classList.add(zt.HIDE),n(t._element).trigger(Ht.HIDDEN)};if(this._element.classList.remove(zt.SHOW),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);n(this._element).one(l.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),r=i.data("bs.toast"),o="object"==typeof e&&e;if(r||(r=new t(this,o),i.data("bs.toast",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](this)}})},r(t,null,[{key:"VERSION",get:function(){return"4.2.1"}},{key:"DefaultType",get:function(){return Wt}}]),t}();n.fn.toast=qt._jQueryInterface,n.fn.toast.Constructor=qt,n.fn.toast.noConflict=function(){return n.fn.toast=It,qt._jQueryInterface},function(){if(void 0===n)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=l,t.Alert=d,t.Button=y,t.Carousel=A,t.Collapse=H,t.Dropdown=G,t.Modal=et,t.Popover=Ct,t.Scrollspy=Pt,t.Tab=Rt,t.Toast=qt,t.Tooltip=dt,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("8L3F"),n("EVdn"))},Sl0r:function(t,e,n){(function(e,i){var r;!function(){"use strict";(r=function(t,n,i,r){r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},this.memoized={},this.loaded=!1;var o,s,a,u,l,c=this;function h(t,e){var n=c._readFile(t,null,r.asyncLoad);r.asyncLoad?n.then(function(t){e(t)}):e(n)}function f(t){n=t,i&&p()}function d(t){i=t,n&&p()}function p(){for(c.rules=c._parseAFF(n),c.compoundRuleCodes={},s=0,u=c.compoundRules.length;s<u;s++){var t=c.compoundRules[s];for(a=0,l=t.length;a<l;a++)c.compoundRuleCodes[t[a]]=[]}for(s in"ONLYINCOMPOUND"in c.flags&&(c.compoundRuleCodes[c.flags.ONLYINCOMPOUND]=[]),c.dictionaryTable=c._parseDIC(i),c.compoundRuleCodes)0===c.compoundRuleCodes[s].length&&delete c.compoundRuleCodes[s];for(s=0,u=c.compoundRules.length;s<u;s++){var e=c.compoundRules[s],o="";for(a=0,l=e.length;a<l;a++){var h=e[a];h in c.compoundRuleCodes?o+="("+c.compoundRuleCodes[h].join("|")+")":o+=h}c.compoundRules[s]=new RegExp(o,"i")}c.loaded=!0,r.asyncLoad&&r.loadedCallback&&r.loadedCallback(c)}return t&&(c.dictionary=t,n&&i?p():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o=r.dictionaryPath?r.dictionaryPath:"typo/dictionaries",n||h(chrome.extension.getURL(o+"/"+t+"/"+t+".aff"),f),i||h(chrome.extension.getURL(o+"/"+t+"/"+t+".dic"),d)):(o=r.dictionaryPath?r.dictionaryPath:e+"/dictionaries",n||h(o+"/"+t+"/"+t+".aff",f),i||h(o+"/"+t+"/"+t+".dic",d))),this}).prototype={load:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);return this},_readFile:function(t,e,r){if(e=e||"utf8","undefined"!=typeof XMLHttpRequest){var o,s=new XMLHttpRequest;return s.open("GET",t,r),r&&(o=new Promise(function(t,e){s.onload=function(){200===s.status?t(s.responseText):e(s.statusText)},s.onerror=function(){e(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+e),s.send(null),r?o:s.responseText}var a=n(0);try{if(a.existsSync(t)){var u=a.statSync(t),l=a.openSync(t,"r"),c=new i(u.size);return a.readSync(l,c,0,c.length,null),c.toString(e,0,c.length)}console.log("Path "+t+" does not exist.")}catch(t){return console.log(t),""}},_parseAFF:function(t){var e,n,i,r,o,s,a,u={},l=(t=this._removeAffixComments(t)).split("\n");for(r=0,s=l.length;r<s;r++){var c=(e=l[r]).split(/\s+/),h=c[0];if("PFX"==h||"SFX"==h){var f=c[1],d=c[2],p=[];for(o=r+1,a=r+1+(n=parseInt(c[3],10));o<a;o++){var g=(i=l[o].split(/\s+/))[2],m=i[3].split("/"),v=m[0];"0"===v&&(v="");var y=this.parseRuleCodes(m[1]),b=i[4],_={};_.add=v,y.length>0&&(_.continuationClasses=y),"."!==b&&(_.match="SFX"===h?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=g&&(_.remove="SFX"===h?new RegExp(g+"$"):g),p.push(_)}u[f]={type:h,combineable:"Y"==d,entries:p},r+=n}else if("COMPOUNDRULE"===h){for(o=r+1,a=r+1+(n=parseInt(c[1],10));o<a;o++)i=(e=l[o]).split(/\s+/),this.compoundRules.push(i[1]);r+=n}else"REP"===h?3===(i=e.split(/\s+/)).length&&this.replacementTable.push([i[1],i[2]]):this.flags[h]=c[1]}return u},_removeAffixComments:function(t){return t=(t=(t=(t=t.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(t){var e=(t=this._removeDicComments(t)).split("\n"),n={};function i(t,e){n.hasOwnProperty(t)||(n[t]=null),e.length>0&&(null===n[t]&&(n[t]=[]),n[t].push(e))}for(var r=1,o=e.length;r<o;r++){var s=e[r].split("/",2),a=s[0];if(s.length>1){var u=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=u.indexOf(this.flags.NEEDAFFIX)||i(a,u);for(var l=0,c=u.length;l<c;l++){var h=u[l],f=this.rules[h];if(f)for(var d=this._applyRule(a,f),p=0,g=d.length;p<g;p++){var m=d[p];if(i(m,[]),f.combineable)for(var v=l+1;v<c;v++){var y=u[v],b=this.rules[y];if(b&&b.combineable&&f.type!=b.type)for(var _=this._applyRule(m,b),w=0,C=_.length;w<C;w++){i(_[w],[])}}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(a)}}else i(a.trim(),[])}return n},_removeDicComments:function(t){return t=t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"===this.flags.FLAG){for(var e=[],n=0,i=t.length;n<i;n+=2)e.push(t.substr(n,2));return e}return"num"===this.flags.FLAG?t.split(","):void 0},_applyRule:function(t,e){for(var n=e.entries,i=[],r=0,o=n.length;r<o;r++){var s=n[r];if(!s.match||t.match(s.match)){var a=t;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===e.type?a+=s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var u=0,l=s.continuationClasses.length;u<l;u++){var c=this.rules[s.continuationClasses[u]];c&&(i=i.concat(this._applyRule(a,c)))}}}return i},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var n=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=e.toLowerCase();if(i!==e){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var e,n,i=this.dictionaryTable[t];if(void 0===i){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(e=0,n=this.compoundRules.length;e<n;e++)if(t.match(this.compoundRules[e]))return!0}else{if(null===i)return!0;if("object"==typeof i)for(e=0,n=i.length;e<n;e++)if(!this.hasFlag(t,"ONLYINCOMPOUND",i[e]))return!0}return!1},hasFlag:function(t,e,n){if(!this.loaded)throw"Dictionary not loaded.";return!!(e in this.flags&&(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[t])),n&&-1!==n.indexOf(this.flags[e])))},alphabet:"",suggest:function(t,e){if(!this.loaded)throw"Dictionary not loaded.";if(e=e||5,this.memoized.hasOwnProperty(t)){var n=this.memoized[t].limit;if(e<=n||this.memoized[t].suggestions.length<n)return this.memoized[t].suggestions.slice(0,e)}if(this.check(t))return[];for(var i=0,r=this.replacementTable.length;i<r;i++){var o=this.replacementTable[i];if(-1!==t.indexOf(o[0])){var s=t.replace(o[0],o[1]);if(this.check(s))return[s]}}var a=this;function u(t){var e,n,i,r,o,s,u=[];for(e=0,r=t.length;e<r;e++){var l=t[e];for(n=0,o=l.length+1;n<o;n++){var c=[l.substring(0,n),l.substring(n)];if(c[1]&&u.push(c[0]+c[1].substring(1)),c[1].length>1&&c[1][1]!==c[1][0]&&u.push(c[0]+c[1][1]+c[1][0]+c[1].substring(2)),c[1])for(i=0,s=a.alphabet.length;i<s;i++)a.alphabet[i]!=c[1].substring(0,1)&&u.push(c[0]+a.alphabet[i]+c[1].substring(1));if(c[1])for(i=0,s=a.alphabet.length;i<s;i++)u.push(c[0]+a.alphabet[i]+c[1])}}return u}return a.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[t]={suggestions:function(t){var n,i,r=u([t]),o=u(r),s=function(t){for(var e=[],n=0,i=t.length;n<i;n++)a.check(t[n])&&e.push(t[n]);return e}(r.concat(o)),l={};for(n=0,i=s.length;n<i;n++)s[n]in l?l[s[n]]+=1:l[s[n]]=1;var c=[];for(n in l)l.hasOwnProperty(n)&&c.push([n,l[n]]);c.sort(function(t,e){return t[1]<e[1]?-1:1}).reverse();var h=[],f="lowercase";for(t.toUpperCase()===t?f="uppercase":t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()===t&&(f="capitalized"),n=0,i=Math.min(e,c.length);n<i;n++)"uppercase"===f?c[n][0]=c[n][0].toUpperCase():"capitalized"===f&&(c[n][0]=c[n][0].substr(0,1).toUpperCase()+c[n][0].substr(1)),a.hasFlag(c[n][0],"NOSUGGEST")||h.push(c[n][0]);return h}(t),limit:e},this.memoized[t].suggestions}}}(),t.exports=r}).call(this,"/",n("tjlA").Buffer)},SnIs:function(t,e,n){"use strict";n.r(e);var i=n("bBJ9");n.d(e,"definitionsFromContext",function(){return i.a}),n.d(e,"identifierForContextKey",function(){return i.b})},UGvS:function(t,e,n){var i,r,o;r=[n("zK8/"),n("qZCD")],void 0===(o="function"==typeof(i=function(t,e){return e.extendDefinitions({A:{validator:"[A-Za-z--]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z--]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,n,i,r){return n-1>-1&&"."!==e.buffer[n-1]?(t=e.buffer[n-1]+t,t=n-2>-1&&"."!==e.buffer[n-2]?e.buffer[n-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}},onUnMask:function(t,e,n){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(t,e,n){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e})?i.apply(e,r):i)||(t.exports=o)},URgk:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UnBK:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("xAGQ"),o=n("Lmem"),s=n("JEQr"),a=n("2SVd"),u=n("5oMp");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"VrN/":function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),u=!o&&/WebKit\//.test(t),l=u&&/Qt\/\d+\.\d+/.test(t),c=!o&&/Chrome\//.test(t),h=/Opera\//.test(t),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),g=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),m=/Android/.test(t),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),_=/win/i.test(e),w=h&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,u=!0);var C=y&&(l||h&&(null==w||w<12.11)),E=n||s&&a>=9;function S(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var T,x=function(t,e){var n=t.className,i=S(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function D(t,e){return k(t).appendChild(e)}function A(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function O(t,e,n,i){var r=A(t,e,n,i);return r.setAttribute("role","presentation"),r}function P(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function N(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function L(t,e){var n=t.className;S(e).test(n)||(t.className+=(n?" ":"")+e)}function B(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!S(n[i]).test(e)&&(e+=" "+n[i]);return e}T=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var F=function(t){t.select()};function R(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function I(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function H(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?F=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(F=function(t){try{t.select()}catch(t){}});var z=function(){this.id=null};function W(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}z.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var j=30,U={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},Y={origin:"*mouse"},V={origin:"+move"};function Z(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=e)return i}}var K=[""];function G(t){for(;K.length<=t;)K.push(X(K)+" ");return K[t]}function X(t){return t[t.length-1]}function M(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Q(){}function J(t,e){var n;return Object.create?n=Object.create(t):(Q.prototype=t,n=new Q),e&&I(e,n),n}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||$.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&it.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function st(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+i}}function at(t,e,i){var r=this;this.input=i,r.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=O("div",null,"CodeMirror-code"),r.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=A("div",null,"CodeMirror-cursors"),r.measure=A("div",null,"CodeMirror-measure"),r.lineMeasure=A("div",null,"CodeMirror-measure"),r.lineSpace=O("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=O("div",[r.lineSpace],"CodeMirror-lines");r.mover=A("div",[o],null,"position: relative"),r.sizer=A("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=A("div",null,null,"position: absolute; height: "+j+"px; width: 1px;"),r.gutters=A("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=A("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=A("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),s&&a<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),u||n&&v||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function ut(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function lt(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function ct(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function ht(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function ft(t){if(null==t.parent)return null;for(var e=t.parent,n=W(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function dt(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],u=a.height;if(e<u)break;e-=u}return n+s}function pt(t,e){return e>=t.first&&e<t.first+t.size}function gt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function mt(t,e,n){if(void 0===n&&(n=null),!(this instanceof mt))return new mt(t,e,n);this.line=t,this.ch=e,this.sticky=n}function vt(t,e){return t.line-e.line||t.ch-e.ch}function yt(t,e){return t.sticky==e.sticky&&0==vt(t,e)}function bt(t){return mt(t.line,t.ch)}function _t(t,e){return vt(t,e)<0?e:t}function wt(t,e){return vt(t,e)<0?t:e}function Ct(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Et(t,e){if(e.line<t.first)return mt(t.first,0);var n=t.first+t.size-1;return e.line>n?mt(n,ut(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?mt(t.line,e):n<0?mt(t.line,0):t}(e,ut(t,e.line).text.length)}function St(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=Et(t,e[i]);return n}var Tt=!1,xt=!1;function kt(t,e,n){this.marker=t,this.from=e,this.to=n}function Dt(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function At(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Ot(t,e){if(e.full)return null;var n=pt(t,e.from.line)&&ut(t,e.from.line).markedSpans,i=pt(t,e.to.line)&&ut(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==vt(e.from,e.to),a=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new kt(s,o.from,u?null:o.to))}}return i}(n,r,s),u=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new kt(s,u?null:o.from-e,null==o.to?null:o.to-e))}}return i}(i,o,s),l=1==e.text.length,c=X(e.text).length+(l?r:0);if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null==f.to){var d=Dt(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=r}}if(u)for(var p=0;p<u.length;++p){var g=u[p];if(null!=g.to&&(g.to+=c),null==g.from){var m=Dt(a,g.marker);m||(g.from=c,l&&(a||(a=[])).push(g))}else g.from+=c,l&&(a||(a=[])).push(g)}a&&(a=Pt(a)),u&&u!=a&&(u=Pt(u));var v=[a];if(!l){var y,b=e.text.length-2;if(b>0&&a)for(var _=0;_<a.length;++_)null==a[_].to&&(y||(y=[])).push(new kt(a[_].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(u)}return v}function Pt(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Nt(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Lt(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Bt(t){return t.inclusiveLeft?-1:0}function Ft(t){return t.inclusiveRight?1:0}function Rt(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=vt(i.from,r.from)||Bt(t)-Bt(e);if(o)return-o;var s=vt(i.to,r.to)||Ft(t)-Ft(e);return s||e.id-t.id}function It(t,e){var n,i=xt&&t.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||Rt(n,r.marker)<0)&&(n=r.marker);return n}function Ht(t){return It(t,!0)}function zt(t){return It(t,!1)}function Wt(t,e){var n,i=xt&&t.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Rt(n,o.marker)<0)&&(n=o.marker)}return n}function jt(t,e,n,i,r){var o=ut(t,e),s=xt&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];if(u.marker.collapsed){var l=u.marker.find(0),c=vt(l.from,n)||Bt(u.marker)-Bt(r),h=vt(l.to,i)||Ft(u.marker)-Ft(r);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(u.marker.inclusiveRight&&r.inclusiveLeft?vt(l.to,n)>=0:vt(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&r.inclusiveLeft?vt(l.from,i)<=0:vt(l.from,i)<0)))return!0}}}function Ut(t){for(var e;e=Ht(t);)t=e.find(-1,!0).line;return t}function qt(t,e){var n=ut(t,e),i=Ut(n);return n==i?e:ft(i)}function Yt(t,e){if(e>t.lastLine())return e;var n,i=ut(t,e);if(!Vt(t,i))return e;for(;n=zt(i);)i=n.find(1,!0).line;return ft(i)+1}function Vt(t,e){var n=xt&&e.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Zt(t,e,i))return!0}}function Zt(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return Zt(t,i.line,Dt(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Zt(t,e,r))return!0}function Kt(t){t=Ut(t);for(var e=0,n=t.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function Gt(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Ht(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=zt(i);){var o=e.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function Xt(t){var e=t.display,n=t.doc;e.maxLine=ut(n,n.first),e.maxLineLength=Gt(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=Gt(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var Mt=null;function Qt(t,e,n){var i;Mt=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==n?i=r:Mt=r),o.from==e&&(o.from!=o.to&&"before"!=n?i=r:Mt=r)}return null!=i?i:Mt}var Jt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(t,e,n){this.level=t,this.from=e,this.to=n}return function(u,l){var c,h="ltr"==l?"L":"R";if(0==u.length||"ltr"==l&&!n.test(u))return!1;for(var f=u.length,d=[],p=0;p<f;++p)d.push((c=u.charCodeAt(p))<=247?t.charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?e.charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var g=0,m=h;g<f;++g){var v=d[g];"m"==v?d[g]=m:m=v}for(var y=0,b=h;y<f;++y){var _=d[y];"1"==_&&"r"==b?d[y]="n":r.test(_)&&(b=_,"r"==_&&(d[y]="R"))}for(var w=1,C=d[0];w<f-1;++w){var E=d[w];"+"==E&&"1"==C&&"1"==d[w+1]?d[w]="1":","!=E||C!=d[w+1]||"1"!=C&&"n"!=C||(d[w]=C),C=E}for(var S=0;S<f;++S){var T=d[S];if(","==T)d[S]="N";else if("%"==T){var x=void 0;for(x=S+1;x<f&&"%"==d[x];++x);for(var k=S&&"!"==d[S-1]||x<f&&"1"==d[x]?"1":"N",D=S;D<x;++D)d[D]=k;S=x-1}}for(var A=0,O=h;A<f;++A){var P=d[A];"L"==O&&"1"==P?d[A]="L":r.test(P)&&(O=P)}for(var N=0;N<f;++N)if(i.test(d[N])){var L=void 0;for(L=N+1;L<f&&i.test(d[L]);++L);for(var B="L"==(N?d[N-1]:h),F="L"==(L<f?d[L]:h),R=B==F?B?"L":"R":h,I=N;I<L;++I)d[I]=R;N=L-1}for(var H,z=[],W=0;W<f;)if(o.test(d[W])){var j=W;for(++W;W<f&&o.test(d[W]);++W);z.push(new a(0,j,W))}else{var U=W,q=z.length;for(++W;W<f&&"L"!=d[W];++W);for(var Y=U;Y<W;)if(s.test(d[Y])){U<Y&&z.splice(q,0,new a(1,U,Y));var V=Y;for(++Y;Y<W&&s.test(d[Y]);++Y);z.splice(q,0,new a(2,V,Y)),U=Y}else++Y;U<W&&z.splice(q,0,new a(1,U,W))}return"ltr"==l&&(1==z[0].level&&(H=u.match(/^\s+/))&&(z[0].from=H[0].length,z.unshift(new a(0,0,H[0].length))),1==X(z).level&&(H=u.match(/\s+$/))&&(X(z).to-=H[0].length,z.push(new a(0,f-H[0].length,f)))),"rtl"==l?z.reverse():z}}();function $t(t,e){var n=t.order;return null==n&&(n=t.order=Jt(t.text,e)),n}var te=[],ee=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||te).concat(n)}};function ne(t,e){return t._handlers&&t._handlers[e]||te}function ie(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var o=W(r,n);o>-1&&(i[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function re(t,e){var n=ne(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function oe(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),re(t,n||e.type,t,e),he(e)||e.codemirrorIgnore}function se(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==W(n,e[i])&&n.push(e[i])}function ae(t,e){return ne(t,e).length>0}function ue(t){t.prototype.on=function(t,e){ee(this,t,e)},t.prototype.off=function(t,e){ie(this,t,e)}}function le(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function ce(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function he(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function fe(t){le(t),ce(t)}function de(t){return t.target||t.srcElement}function pe(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var ge,me,ve=function(){if(s&&a<9)return!1;var t=A("div");return"draggable"in t||"dragDrop"in t}();function ye(t){if(null==ge){var e=A("span","");D(t,A("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(ge=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=ge?A("span",""):A("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function be(t){if(null!=me)return me;var e=D(t,document.createTextNode("AA")),n=T(e,0,1).getBoundingClientRect(),i=T(e,1,2).getBoundingClientRect();return k(t),!(!n||n.left==n.right)&&(me=i.right-n.right<3)}var _e,we=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Ce=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Ee="oncopy"in(_e=A("div"))||(_e.setAttribute("oncopy","return;"),"function"==typeof _e.oncopy),Se=null,Te={},xe={};function ke(t){if("string"==typeof t&&xe.hasOwnProperty(t))t=xe[t];else if(t&&"string"==typeof t.name&&xe.hasOwnProperty(t.name)){var e=xe[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return ke("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return ke("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function De(t,e){e=ke(e);var n=Te[e.name];if(!n)return De(t,"text/plain");var i=n(t,e);if(Ae.hasOwnProperty(e.name)){var r=Ae[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)i[s]=e.modeProps[s];return i}var Ae={};function Oe(t,e){var n=Ae.hasOwnProperty(t)?Ae[t]:Ae[t]={};I(e,n)}function Pe(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Ne(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Le(t,e,n){return!t.startState||t.startState(e,n)}var Be=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Be.prototype.eol=function(){return this.pos>=this.string.length},Be.prototype.sol=function(){return this.pos==this.lineStart},Be.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Be.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Be.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Be.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Be.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Be.prototype.skipToEnd=function(){this.pos=this.string.length},Be.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Be.prototype.backUp=function(t){this.pos-=t},Be.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Be.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Be.prototype.match=function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return!1!==e&&(this.pos+=t.length),!0},Be.prototype.current=function(){return this.string.slice(this.start,this.pos)},Be.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Be.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Be.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var Fe=function(t,e){this.state=t,this.lookAhead=e},Re=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Ie(t,e,n,i){var r=[t.state.modeGen],o={};Ze(t,e.text,t.doc.mode,n,function(t,e){return r.push(t,e)},o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=t.state.overlays[i],u=1,l=0;n.state=!0,Ze(t,e.text,a.mode,n,function(t,e){for(var n=u;l<t;){var i=r[u];i>t&&r.splice(u,1,t,r[u+1],i),u+=2,l=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,u-n,t,"overlay "+e),u=n+2;else for(;n<u;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},u=0;u<t.state.overlays.length;++u)a(u);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function He(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=ze(t,ft(e)),r=e.text.length>t.options.maxHighlightLength&&Pe(t.doc.mode,i.state),o=Ie(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ze(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new Re(i,!0,e);var o=function(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var u=ut(o,a-1),l=u.stateAfter;if(l&&(!n||a+(l instanceof Fe?l.lookAhead:0)<=o.modeFrontier))return a;var c=H(u.text,null,t.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}(t,e,n),s=o>i.first&&ut(i,o-1).stateAfter,a=s?Re.fromSaved(i,s,o):new Re(i,Le(i.mode),o);return i.iter(o,e,function(n){We(t,n.text,a);var i=a.line;n.stateAfter=i==e-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()}),n&&(i.modeFrontier=a.line),a}function We(t,e,n,i){var r=t.doc.mode,o=new Be(e,t.options.tabSize,n);for(o.start=o.pos=i||0,""==e&&je(r,n.state);!o.eol();)Ue(r,o,n.state),o.start=o.pos}function je(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ne(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ue(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=Ne(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}Re.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},Re.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},Re.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Re.fromSaved=function(t,e,n){return e instanceof Fe?new Re(t,Pe(t.mode,e.state),n,e.lookAhead):new Re(t,Pe(t.mode,e),n)},Re.prototype.save=function(t){var e=!1!==t?Pe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Fe(e,this.maxLookAhead):e};var qe=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function Ye(t,e,n,i){var r,o=t.doc,s=o.mode;e=Et(o,e);var a,u=ut(o,e.line),l=ze(t,e.line,n),c=new Be(u.text,t.options.tabSize,l);for(i&&(a=[]);(i||c.pos<e.ch)&&!c.eol();)c.start=c.pos,r=Ue(s,c,l.state),i&&a.push(new qe(c,r,Pe(o.mode,l.state)));return i?a:new qe(c,r,l.state)}function Ve(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ze(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var u,l=0,c=null,h=new Be(e,t.options.tabSize,i),f=t.options.addModeClass&&[null];for(""==e&&Ve(je(n,i.state),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&We(t,e,i,h.pos),h.pos=e.length,u=null):u=Ve(Ue(n,h,i.state,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!a||c!=u){for(;l<h.start;)l=Math.min(h.start,l+5e3),r(l,c);c=u}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e3);r(p,c),l=p}}var Ke=function(t,e,n){this.text=t,Lt(this,e),this.height=n?n(this):1};function Ge(t){t.parent=null,Nt(t)}Ke.prototype.lineNo=function(){return ft(this)},ue(Ke);var Xe={},Me={};function Qe(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Me:Xe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Je(t,e){var n=O("span",null,null,u?"padding-right: .1px":null),i={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o=r?e.rest[r-1]:e.line,s=void 0;i.pos=0,i.addToken=tn,be(t.display.measure)&&(s=$t(o,t.doc.direction))&&(i.addToken=en(i.addToken,s)),i.map=[];var a=e!=t.display.externalMeasured&&ft(o);rn(o,i,He(t,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=B(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=B(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(ye(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(u){var l=i.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return re(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=B(i.pre.className,i.textClass||"")),i}function $e(t){var e=A("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function tn(t,e,n,i,r,o,u){if(e){var l,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=""),i+=o,n=" "==o}return i}(e,t.trailingSpace):e,h=t.cm.state.specialChars,f=!1;if(h.test(e)){l=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var p=h.exec(e),g=p?p.index-d:e.length-d;if(g){var m=document.createTextNode(c.slice(d,d+g));s&&a<9?l.appendChild(A("span",[m])):l.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!p)break;d+=g+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=l.appendChild(A("span",G(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=l.appendChild(A("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?l.appendChild(A("span",[v])):l.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,l=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,l),s&&a<9&&(f=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||i||r||f||o){var _=n||"";i&&(_+=i),r&&(_+=r);var w=A("span",[l],_,o);if(u)for(var C in u)u.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,u[C]);return t.content.appendChild(w)}t.content.appendChild(l)}}function en(t,e){return function(n,i,r,o,s,a,u){r=r?r+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+i.length;;){for(var h=void 0,f=0;f<e.length&&!((h=e[f]).to>l&&h.from<=l);f++);if(h.to>=c)return t(n,i,r,o,s,a,u);t(n,i.slice(0,h.to-l),r,o,null,a,u),o=null,i=i.slice(h.to-l),l=h.to}}}function nn(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function rn(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,u,l,c,h,f,d=r.length,p=0,g=1,m="",v=0;;){if(v==p){u=l=c=a="",f=null,h=null,v=1/0;for(var y=[],b=void 0,_=0;_<i.length;++_){var w=i[_],C=w.marker;if("bookmark"==C.type&&w.from==p&&C.widgetNode)y.push(C);else if(w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,l=""),C.className&&(u+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&w.from==p&&(c+=" "+C.startStyle),C.endStyle&&w.to==v&&(b||(b=[])).push(C.endStyle,w.to),C.title&&((f||(f={})).title=C.title),C.attributes)for(var E in C.attributes)(f||(f={}))[E]=C.attributes[E];C.collapsed&&(!h||Rt(h.marker,C)<0)&&(h=w)}else w.from>p&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(l+=" "+b[S]);if(!h||h.from==p)for(var T=0;T<y.length;++T)nn(e,0,y[T]);if(h&&(h.from||0)==p){if(nn(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var x=Math.min(d,v);;){if(m){var k=p+m.length;if(!h){var D=k>x?m.slice(0,x-p):m;e.addToken(e,D,s?s+u:u,c,p+D.length==v?l:"",a,f)}if(k>=x){m=m.slice(x-p),p=x;break}p=k,c=""}m=r.slice(o,o=n[g++]),s=Qe(n[g++],e.cm.options)}}else for(var A=1;A<n.length;A+=2)e.addToken(e,r.slice(o,o=n[A]),Qe(n[A+1],e.cm.options))}function on(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=zt(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?ft(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Vt(t,e)}function sn(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new on(t.doc,ut(t.doc,o),o);i=o+s.size,r.push(s)}return r}var an=null,un=null;function ln(t,e){var n=ne(t,e);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);an?i=an.delayedCallbacks:un?i=un:(i=un=[],setTimeout(cn,0));for(var o=function(t){i.push(function(){return n[t].apply(null,r)})},s=0;s<n.length;++s)o(s)}}function cn(){var t=un;un=null;for(var e=0;e<t.length;++e)t[e]()}function hn(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?pn(t,e):"gutter"==o?mn(t,e,n,i):"class"==o?gn(t,e):"widget"==o&&vn(t,e,i)}e.changes=null}function fn(t){return t.node==t.text&&(t.node=A("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Je(t,e)}function pn(t,e){var n=e.text.className,i=dn(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,gn(t,e)):n&&(e.text.className=n)}function gn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=fn(e);e.background=i.insertBefore(A("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?fn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function mn(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=fn(e);e.gutterBackground=A("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=fn(e),a=e.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(A("div",gt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<t.options.gutters.length;++u){var l=t.options.gutters[u],c=o.hasOwnProperty(l)&&o[l];c&&a.appendChild(A("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function vn(t,e,n){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&e.node.removeChild(i);bn(t,e,n)}function yn(t,e,n,i){var r=dn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),gn(t,e),mn(t,e,n,i),bn(t,e,i),e.node}function bn(t,e,n){if(_n(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)_n(t,e.rest[i],e,n,!1)}function _n(t,e,n,i,r){if(e.widgets)for(var o=fn(n),s=0,a=e.widgets;s<a.length;++s){var u=a[s],l=A("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),wn(u,l,n,i),t.display.input.setUneditable(l),r&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),ln(u,"redraw")}}function wn(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function Cn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!P(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),D(e.display.measure,A("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function En(t,e){for(var n=de(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Sn(t){return t.lineSpace.offsetTop}function Tn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function xn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=D(t.measure,A("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function kn(t){return j-t.display.nativeBarWidth}function Dn(t){return t.display.scroller.clientWidth-kn(t)-t.display.barWidth}function An(t){return t.display.scroller.clientHeight-kn(t)-t.display.barHeight}function On(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(ft(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Pn(t,e,n,i){return Bn(t,Ln(t,e),n,i)}function Nn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[li(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Ln(t,e){var n=ft(e),i=Nn(t,n);i&&!i.text?i=null:i&&i.changes&&(hn(t,i,n,ri(t)),t.curOp.forceUpdate=!0),i||(i=function(t,e){var n=ft(e=Ut(e)),i=t.display.externalMeasured=new on(t.doc,e,n);i.lineN=n;var r=i.built=Je(t,i);return i.text=r.pre,D(t.display.lineMeasure,r.pre),i}(t,e));var r=On(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Bn(t,e,n,i,r){e.before&&(n=-1);var o,u=n+(i||"");return e.cache.hasOwnProperty(u)?o=e.cache[u]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var i=t.options.lineWrapping,r=i&&Dn(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var u=s[a],l=s[a+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,i){var r,o=In(e.map,n,i),u=o.node,l=o.start,c=o.end,h=o.collapse;if(3==u.nodeType){for(var f=0;f<4;f++){for(;l&&rt(e.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+c<o.coverEnd&&rt(e.line.text.charAt(o.coverStart+c));)++c;if((r=s&&a<9&&0==l&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Hn(T(u,l,c).getClientRects(),i)).left||r.right||0==l)break;c=l,l-=1,h="right"}s&&a<11&&(r=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Se)return Se;var e=D(t,A("span","x")),n=e.getBoundingClientRect(),i=T(e,0,1).getBoundingClientRect();return Se=Math.abs(n.left-i.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}(t.display.measure,r))}else{var d;l>0&&(h=i="right"),r=t.options.lineWrapping&&(d=u.getClientRects()).length>1?d["right"==i?d.length-1:0]:u.getBoundingClientRect()}if(s&&a<9&&!l&&(!r||!r.left&&!r.right)){var p=u.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+ii(t.display),top:p.top,bottom:p.bottom}:Rn}for(var g=r.top-e.rect.top,m=r.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var _=b?y[b-1]:0,w=y[b],C={left:("right"==h?r.right:r.left)-e.rect.left,right:("left"==h?r.left:r.right)-e.rect.left,top:_,bottom:w};return r.left||r.right||(C.bogus=!0),t.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m),C}(t,e,n,i)).bogus||(e.cache[u]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Fn,Rn={left:0,right:0,top:0,bottom:0};function In(t,e,n){for(var i,r,o,s,a,u,l=0;l<t.length;l+=3)if(a=t[l],u=t[l+1],e<a?(r=0,o=1,s="left"):e<u?o=1+(r=e-a):(l==t.length-3||e==u&&t[l+3]>e)&&(r=(o=u-a)-1,e>=u&&(s="right")),null!=r){if(i=t[l+2],a==u&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;l&&t[l-2]==t[l-3]&&t[l-1].insertLeft;)i=t[2+(l-=3)],s="left";if("right"==n&&r==u-a)for(;l<t.length-3&&t[l+3]==t[l+4]&&!t[l+5].insertLeft;)i=t[(l+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:u}}function Hn(t,e){var n=Rn;if("left"==e)for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function zn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Wn(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)zn(t.display.view[e])}function jn(t){Wn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Un(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function qn(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Yn(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=Cn(t.widgets[n]));return e}function Vn(t,e,n,i,r){if(!r){var o=Yn(e);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Kt(e);if("local"==i?s+=Sn(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:qn());var u=a.left+("window"==i?0:Un());n.left+=u,n.right+=u}return n.top+=s,n.bottom+=s,n}function Zn(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=Un(),r-=qn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Kn(t,e,n,i,r){return i||(i=ut(t.doc,e.line)),Vn(t,i,Pn(t,i,e.ch,r),n)}function Gn(t,e,n,i,r,o){function s(e,s){var a=Bn(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Vn(t,i,a,n)}i=i||ut(t.doc,e.line),r||(r=Ln(t,i));var a=$t(i,t.doc.direction),u=e.ch,l=e.sticky;if(u>=i.text.length?(u=i.text.length,l="before"):u<=0&&(u=0,l="after"),!a)return s("before"==l?u-1:u,"before"==l);function c(t,e,n){var i=a[e],r=1==i.level;return s(n?t-1:t,r!=n)}var h=Qt(a,u,l),f=Mt,d=c(u,h,"before"==l);return null!=f&&(d.other=c(u,f,"before"!=l)),d}function Xn(t,e){var n=0;e=Et(t.doc,e),t.options.lineWrapping||(n=ii(t.display)*e.ch);var i=ut(t.doc,e.line),r=Kt(i)+Sn(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Mn(t,e,n,i,r){var o=mt(t,e,n);return o.xRel=r,i&&(o.outside=!0),o}function Qn(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return Mn(i.first,0,null,!0,-1);var r=dt(i,n),o=i.first+i.size-1;if(r>o)return Mn(i.first+i.size-1,ut(i,o).text.length,null,!0,1);e<0&&(e=0);for(var s=ut(i,r);;){var a=ei(t,s,r,e,n),u=Wt(s,a.ch+(a.xRel>0?1:0));if(!u)return a;var l=u.find(1);if(l.line==r)return l;s=ut(i,r=l.line)}}function Jn(t,e,n,i){i-=Yn(e);var r=e.text.length,o=st(function(e){return Bn(t,n,e-1).bottom<=i},r,0);return r=st(function(e){return Bn(t,n,e).top>i},o,r),{begin:o,end:r}}function $n(t,e,n,i){n||(n=Ln(t,e));var r=Vn(t,e,Bn(t,n,i),"line").top;return Jn(t,e,n,r)}function ti(t,e,n,i){return!(t.bottom<=n)&&(t.top>n||(i?t.left:t.right)>e)}function ei(t,e,n,i,r){r-=Kt(e);var o=Ln(t,e),s=Yn(e),a=0,u=e.text.length,l=!0,c=$t(e,t.doc.direction);if(c){var h=(t.options.lineWrapping?function(t,e,n,i,r,o,s){var a=Jn(t,e,i,s),u=a.begin,l=a.end;/\s/.test(e.text.charAt(l-1))&&l--;for(var c=null,h=null,f=0;f<r.length;f++){var d=r[f];if(!(d.from>=l||d.to<=u)){var p=1!=d.level,g=Bn(t,i,p?Math.min(l,d.to)-1:Math.max(u,d.from)).right,m=g<o?o-g+1e9:g-o;(!c||h>m)&&(c=d,h=m)}}return c||(c=r[r.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}:function(t,e,n,i,r,o,s){var a=st(function(a){var u=r[a],l=1!=u.level;return ti(Gn(t,mt(n,l?u.to:u.from,l?"before":"after"),"line",e,i),o,s,!0)},0,r.length-1),u=r[a];if(a>0){var l=1!=u.level,c=Gn(t,mt(n,l?u.from:u.to,l?"after":"before"),"line",e,i);ti(c,o,s,!0)&&c.top>s&&(u=r[a-1])}return u})(t,e,n,o,c,i,r);l=1!=h.level,a=l?h.from:h.to-1,u=l?h.to:h.from-1}var f,d,p=null,g=null,m=st(function(e){var n=Bn(t,o,e);return n.top+=s,n.bottom+=s,!!ti(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=e,g=n),!0)},a,u),v=!1;if(g){var y=i-g.left<g.right-i,b=y==l;m=p+(b?0:1),d=b?"after":"before",f=y?g.left:g.right}else{l||m!=u&&m!=a||m++,d=0==m?"after":m==e.text.length?"before":Bn(t,o,m-(l?1:0)).bottom+s<=r==l?"after":"before";var _=Gn(t,mt(n,m,d),"line",e,o);f=_.left,v=r<_.top||r>=_.bottom}return m=ot(e.text,m,1),Mn(n,m,d,v,i-f)}function ni(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Fn){Fn=A("pre");for(var e=0;e<49;++e)Fn.appendChild(document.createTextNode("x")),Fn.appendChild(A("br"));Fn.appendChild(document.createTextNode("x"))}D(t.measure,Fn);var n=Fn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),k(t.measure),n||1}function ii(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=A("span","xxxxxxxxxx"),n=A("pre",[e]);D(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ri(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[t.options.gutters[s]]=o.clientWidth;return{fixedPos:oi(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function oi(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function si(t){var e=ni(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/ii(t.display)-3);return function(r){if(Vt(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function ai(t){var e=t.doc,n=si(t);e.iter(function(t){var e=n(t);e!=t.height&&ht(t,e)})}function ui(t,e,n,i){var r=t.display;if(!n&&"true"==de(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var u,l=Qn(t,o,s);if(i&&1==l.xRel&&(u=ut(t.doc,l.line).text).length==l.ch){var c=H(u,u.length,t.options.tabSize)-u.length;l=mt(l.line,Math.max(0,Math.round((o-xn(t.display).left)/ii(t.display))-c))}return l}function li(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function ci(t){t.display.input.showSelection(t.display.input.prepareSelection())}function hi(t,e){void 0===e&&(e=!0);for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var u=a.empty();(u||t.options.showCursorWhenSelecting)&&fi(t,a.head,r),u||pi(t,a,o)}}return i}function fi(t,e,n){var i=Gn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(A("div","","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(A("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function di(t,e){return t.top-e.top||t.left-e.left}function pi(t,e,n){var i=t.display,r=t.doc,o=document.createDocumentFragment(),s=xn(t.display),a=s.left,u=Math.max(i.sizerWidth,Dn(t)-i.sizer.offsetLeft)-s.right,l="ltr"==r.direction;function c(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?u-t:n)+"px;\n                             height: "+(i-e)+"px"))}function h(e,n,i){var o,s,h=ut(r,e),f=h.text.length;function d(n,i){return Kn(t,mt(e,n),"div",h,i)}function p(e,n,i){var r=$n(t,h,null,e),o="ltr"==n==("after"==i)?"left":"right",s="after"==i?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1);return d(s,o)[o]}var g=$t(h,r.direction);return function(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(e,n,"ltr")}(g,n||0,null==i?f:i,function(t,e,r,h){var m="ltr"==r,v=d(t,m?"left":"right"),y=d(e-1,m?"right":"left"),b=null==n&&0==t,_=null==i&&e==f,w=0==h,C=!g||h==g.length-1;if(y.top-v.top<=3){var E=(l?b:_)&&w,S=(l?_:b)&&C,T=E?a:(m?v:y).left,x=S?u:(m?y:v).right;c(T,v.top,x-T,v.bottom)}else{var k,D,A,O;m?(k=l&&b&&w?a:v.left,D=l?u:p(t,r,"before"),A=l?a:p(e,r,"after"),O=l&&_&&C?u:y.right):(k=l?p(t,r,"before"):a,D=!l&&b&&w?u:v.right,A=!l&&_&&C?a:y.left,O=l?p(e,r,"after"):u),c(k,v.top,D-k,v.bottom),v.bottom<y.top&&c(a,v.bottom,null,y.top),c(A,y.top,O-A,y.bottom)}(!o||di(v,o)<0)&&(o=v),di(y,o)<0&&(o=y),(!s||di(v,s)<0)&&(s=v),di(y,s)<0&&(s=y)}),{start:o,end:s}}var f=e.from(),d=e.to();if(f.line==d.line)h(f.line,f.ch,d.ch);else{var p=ut(r,f.line),g=ut(r,d.line),m=Ut(p)==Ut(g),v=h(f.line,f.ch,m?p.text.length+1:null).end,y=h(d.line,m?0:null,d.ch).start;m&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(a,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(a,v.bottom,null,y.top)}n.appendChild(o)}function gi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function mi(t){t.state.focused||(t.display.input.focus(),yi(t))}function vi(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,bi(t))},100)}function yi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(re(t,"focus",t,e),t.state.focused=!0,L(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),u&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),gi(t))}function bi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(re(t,"blur",t,e),t.state.focused=!1,x(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _i(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r=e.view[i],o=t.options.lineWrapping,u=void 0,l=0;if(!r.hidden){if(s&&a<8){var c=r.node.offsetTop+r.node.offsetHeight;u=c-n,n=c}else{var h=r.node.getBoundingClientRect();u=h.bottom-h.top,!o&&r.text.firstChild&&(l=r.text.firstChild.getBoundingClientRect().right-h.left-1)}var f=r.line.height-u;if(u<2&&(u=ni(e)),(f>.005||f<-.005)&&(ht(r.line,u),wi(r.line),r.rest))for(var d=0;d<r.rest.length;d++)wi(r.rest[d]);if(l>t.display.sizerWidth){var p=Math.ceil(l/ii(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=r.line,t.display.maxLineChanged=!0)}}}}function wi(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function Ci(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Sn(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=dt(e,i),s=dt(e,r);if(n&&n.ensure){var a=n.ensure.from.line,u=n.ensure.to.line;a<o?(o=a,s=dt(e,Kt(ut(e,a))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=s&&(o=dt(e,Kt(ut(e,u))-t.wrapper.clientHeight),s=u)}return{from:o,to:Math.max(s,o+1)}}function Ei(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=oi(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var u=0;u<a.length;u++)a[u].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function Si(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=gt(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",lr(t),!0}return!1}function Ti(t,e){var n=t.display,i=ni(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=An(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Tn(n),u=e.top<i,l=e.bottom>a-i;if(e.top<r)s.scrollTop=u?0:e.top;else if(e.bottom>r+o){var c=Math.min(e.top,(l?a:e.bottom)-o);c!=r&&(s.scrollTop=c)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,f=Dn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),d=e.right-e.left>f;return d&&(e.right=e.left+f),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left-(d?0:10)):e.right>f+h-3&&(s.scrollLeft=e.right+(d?0:10)-f),s}function xi(t,e){null!=e&&(Ai(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function ki(t){Ai(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Di(t,e,n){null==e&&null==n||Ai(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ai(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Xn(t,e.from),i=Xn(t,e.to);Oi(t,n,i,e.margin)}}function Oi(t,e,n,i){var r=Ti(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Di(t,r.scrollLeft,r.scrollTop)}function Pi(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||ur(t,{top:e}),Ni(t,e,!0),n&&ur(t),ir(t,100))}function Ni(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Li(t,e,n,i){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,Ei(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Bi(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Tn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+kn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Fi=function(t,e,n){this.cm=n;var i=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),ee(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),ee(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fi.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Fi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fi.prototype.zeroWidthHack=function(){var t=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},Fi.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function i(){var r=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,i)})},Fi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Ri=function(){};function Ii(t,e){e||(e=Bi(t));var n=t.display.barWidth,i=t.display.barHeight;Hi(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&_i(t),Hi(t,Bi(t)),n=t.display.barWidth,i=t.display.barHeight}function Hi(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Ri.prototype.update=function(){return{bottom:0,right:0}},Ri.prototype.setScrollLeft=function(){},Ri.prototype.setScrollTop=function(){},Ri.prototype.clear=function(){};var zi={native:Fi,null:Ri};function Wi(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&x(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new zi[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ee(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?Li(t,e):Pi(t,e)},t),t.display.scrollbars.addClass&&L(t.display.wrapper,t.display.scrollbars.addClass)}var ji=0;function Ui(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ji},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function qi(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Yi(e[n]);for(var i=0;i<e.length;i++)(r=e[i]).updatedDisplay=r.mustUpdate&&sr(r.cm,r.update);for(var r,o=0;o<e.length;o++)Vi(e[o]);for(var s=0;s<e.length;s++)Zi(e[s]);for(var a=0;a<e.length;a++)Ki(e[a])}(t)})}function Yi(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=kn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=kn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Xt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new or(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Vi(t){var e=t.cm,n=e.display;t.updatedDisplay&&_i(e),t.barMeasure=Bi(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Pn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+kn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Dn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Zi(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Li(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==N();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Ii(e,t.barMeasure),t.updatedDisplay&&cr(e,t.barMeasure),t.selectionChanged&&gi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&mi(t.cm)}function Ki(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&ar(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Ni(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Li(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=function(t,e,n,i){var r;null==i&&(i=0),t.options.lineWrapping||e!=n||(e=e.ch?mt(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?mt(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=Gn(t,e),u=n&&n!=e?Gn(t,n):a;r={left:Math.min(a.left,u.left),top:Math.min(a.top,u.top)-i,right:Math.max(a.left,u.left),bottom:Math.max(a.bottom,u.bottom)+i};var l=Ti(t,r),c=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=l.scrollTop&&(Pi(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(s=!0)),null!=l.scrollLeft&&(Li(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return r}(e,Et(i,t.scrollToPos.from),Et(i,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!oe(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=A("div","",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Sn(t.display))+"px;\n                         height: "+(e.bottom-e.top+kn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||re(o[a],"hide");if(s)for(var u=0;u<s.length;++u)s[u].lines.length&&re(s[u],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&re(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Gi(t,e){if(t.curOp)return e();Ui(t);try{return e()}finally{qi(t)}}function Xi(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Ui(t);try{return e.apply(t,arguments)}finally{qi(t)}}}function Mi(t){return function(){if(this.curOp)return t.apply(this,arguments);Ui(this);try{return t.apply(this,arguments)}finally{qi(this)}}}function Qi(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ui(e);try{return t.apply(this,arguments)}finally{qi(e)}}}function Ji(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)xt&&qt(t.doc,e)<r.viewTo&&tr(t);else if(n<=r.viewFrom)xt&&Yt(t.doc,n+i)>r.viewFrom?tr(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)tr(t);else if(e<=r.viewFrom){var o=er(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):tr(t)}else if(n>=r.viewTo){var s=er(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):tr(t)}else{var a=er(t,e,e,-1),u=er(t,n,n+i,1);a&&u?(r.view=r.view.slice(0,a.index).concat(sn(t,a.lineN,u.lineN)).concat(r.view.slice(u.index)),r.viewTo+=i):tr(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function $i(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[li(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==W(s,n)&&s.push(n)}}}function tr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function er(t,e,n,i){var r,o=li(t,e),s=t.display.view;if(!xt||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,u=0;u<o;u++)a+=s[u].size;if(a!=e){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,n+=r}for(;qt(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function nr(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function ir(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,R(rr,t))}function rr(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=ze(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(i.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Pe(e.mode,i.state):null,u=Ie(t,o,i,!0);a&&(i.state=a),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!h&&f<s.length;++f)h=s[f]!=o.styles[f];h&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&We(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return ir(t,t.options.workDelay),!0}),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&Gi(t,function(){for(var e=0;e<r.length;e++)$i(t,r[e],"text")})}}var or=function(t,e,n){var i=t.display;this.viewport=e,this.visible=Ci(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Dn(t),this.force=n,this.dims=ri(t),this.events=[]};function sr(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return tr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==nr(t))return!1;Si(t)&&(tr(t),e.dims=ri(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),xt&&(o=qt(t.doc,o),s=Yt(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=sn(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=sn(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(li(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(sn(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,li(t,n)))),i.viewTo=n}(t,o,s),n.viewOffset=Kt(ut(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=nr(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=N();if(!e||!P(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&P(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(t);return l>4&&(n.lineDiv.style.display="none"),function(t,e,n){var i=t.display,r=t.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return u&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var l=i.view,c=i.viewFrom,h=0;h<l.length;h++){var f=l[h];if(f.hidden)   ;else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=a(s);var d=r&&null!=e&&e<=c&&f.lineNumber;f.changes&&(W(f.changes,"gutter")>-1&&(d=!1),hn(t,f,c,n)),d&&(k(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(gt(t.options,c)))),s=f.node.nextSibling}else{var p=yn(t,f,c,n);o.insertBefore(p,s)}c+=f.size}for(;s;)s=a(s)}(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=N()&&(t.activeElt.focus(),t.anchorNode&&P(document.body,t.anchorNode)&&P(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(c),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ir(t,400)),n.updateLineNumbers=null,!0}function ar(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Dn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Tn(t.display)-An(t),n.top)}),e.visible=Ci(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&sr(t,e);i=!1){_i(t);var r=Bi(t);ci(t),Ii(t,r),cr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ur(t,e){var n=new or(t,e);if(sr(t,n)){_i(t),ar(t,n);var i=Bi(t);ci(t),Ii(t,i),cr(t,i),n.finish()}}function lr(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function cr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+kn(t)+"px"}function hr(t){var e=t.display.gutters,n=t.options.gutters;k(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(A("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",lr(t)}function fr(t){var e=W(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}or.prototype.signal=function(t,e){ae(t,e)&&this.events.push(arguments)},or.prototype.finish=function(){for(var t=0;t<this.events.length;t++)re.apply(null,this.events[t])};var dr=0,pr=null;function gr(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function mr(t){var e=gr(t);return e.x*=pr,e.y*=pr,e}function vr(t,e){var i=gr(e),r=i.x,o=i.y,s=t.display,a=s.scroller,l=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(r&&l||o&&c){if(o&&y&&u)t:for(var f=e.target,d=s.view;f!=a;f=f.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==f){t.display.currentWheelTarget=f;break t}if(r&&!n&&!h&&null!=pr)return o&&c&&Pi(t,Math.max(0,a.scrollTop+o*pr)),Li(t,Math.max(0,a.scrollLeft+r*pr)),(!o||o&&c)&&le(e),void(s.wheelStartX=null);if(o&&null!=pr){var g=o*pr,m=t.doc.scrollTop,v=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),ur(t,{top:m,bottom:v})}dr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,n=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(pr=(pr*dr+n)/(dr+1),++dr)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?pr=-.53:n?pr=15:c?pr=-.7:f&&(pr=-1/3);var yr=function(t,e){this.ranges=t,this.primIndex=e};yr.prototype.primary=function(){return this.ranges[this.primIndex]},yr.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!yt(n.anchor,i.anchor)||!yt(n.head,i.head))return!1}return!0},yr.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new br(bt(this.ranges[e].anchor),bt(this.ranges[e].head));return new yr(t,this.primIndex)},yr.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},yr.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(vt(e,i.from())>=0&&vt(t,i.to())<=0)return n}return-1};var br=function(t,e){this.anchor=t,this.head=e};function _r(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort(function(t,e){return vt(t.from(),e.from())}),n=W(e,r);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],u=vt(a.to(),s.from());if(i&&!s.empty()?u>0:u>=0){var l=wt(a.from(),s.from()),c=_t(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new br(h?c:l,h?l:c))}}return new yr(e,n)}function wr(t,e){return new yr([new br(t,e||t)],0)}function Cr(t){return t.text?mt(t.from.line+t.text.length-1,X(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Er(t,e){if(vt(t,e.from)<0)return t;if(vt(t,e.to)<=0)return Cr(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Cr(e).ch-e.to.ch),mt(n,i)}function Sr(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new br(Er(r.anchor,e),Er(r.head,e)))}return _r(t.cm,n,t.sel.primIndex)}function Tr(t,e,n){return t.line==e.line?mt(n.line,t.ch-e.ch+n.ch):mt(n.line+(t.line-e.line),t.ch)}function xr(t){t.doc.mode=De(t.options,t.doc.modeOption),kr(t)}function kr(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ir(t,100),t.state.modeGen++,t.curOp&&Ji(t)}function Dr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==X(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ar(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){!function(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Nt(t),Lt(t,n);var r=i?i(t):1;r!=t.height&&ht(t,r)}(t,n,r,i),ln(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ke(l[o],r(o),i));return n}var a=e.from,u=e.to,l=e.text,c=ut(t,a.line),h=ut(t,u.line),f=X(l),d=r(l.length-1),p=u.line-a.line;if(e.full)t.insert(0,s(0,l.length)),t.remove(l.length,t.size-l.length);else if(Dr(t,e)){var g=s(0,l.length-1);o(h,h.text,d),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(c==h)if(1==l.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(u.ch),d);else{var m=s(1,l.length-1);m.push(new Ke(f+c.text.slice(u.ch),d,i)),o(c,c.text.slice(0,a.ch)+l[0],r(0)),t.insert(a.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,a.ch)+l[0]+h.text.slice(u.ch),r(0)),t.remove(a.line+1,p);else{o(c,c.text.slice(0,a.ch)+l[0],r(0)),o(h,f+h.text.slice(u.ch),d);var v=s(1,l.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}ln(t,"change",t,e)}function Or(t,e,n){!function t(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var u=o&&a.sharedHist;n&&!u||(e(a.doc,u),t(a.doc,i,u))}}}(t,null,!0)}function Pr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ai(t),xr(t),Nr(t),t.options.lineWrapping||Xt(t),t.options.mode=e.modeOption,Ji(t)}function Nr(t){("rtl"==t.doc.direction?L:x)(t.display.lineDiv,"CodeMirror-rtl")}function Lr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Br(t,e){var n={from:bt(e.from),to:Cr(e),text:lt(t,e.from,e.to)};return zr(t,n,e.from.line,e.to.line+1),Or(t,function(t){return zr(t,n,e.from.line,e.to.line+1)},!0),n}function Fr(t){for(;t.length;){var e=X(t);if(!e.ranges)break;t.pop()}}function Rr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Fr(t.done),X(t.done)):t.done.length&&!X(t.done).ranges?X(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),X(t.done)):void 0}(r,r.lastOp==i)))s=X(o.changes),0==vt(e.from,e.to)&&0==vt(e.from,s.to)?s.to=Cr(e):o.changes.push(Br(t,e));else{var u=X(r.done);for(u&&u.ranges||Hr(t.sel,r.done),o={changes:[Br(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,s||re(t,"historyAdded")}function Ir(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,X(r.done),e))?r.done[r.done.length-1]=e:Hr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Fr(r.undone)}function Hr(t,e){var n=X(e);n&&n.ranges&&n.equals(t)||e.push(t)}function zr(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function Wr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function jr(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(Wr(n[r]));return i}(t,e),i=Ot(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var u=s[a],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue t;o.push(u)}else s&&(n[r]=s)}return n}function Ur(t,e,n){for(var i=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?yr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var u=0;u<s.length;++u){var l=s[u],c=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),e)for(var h in l)(c=h.match(/^spans_(\d+)$/))&&W(e,Number(c[1]))>-1&&(X(a)[h]=l[h],delete l[h])}}}return i}function qr(t,e,n,i){if(i){var r=t.anchor;if(n){var o=vt(e,r)<0;o!=vt(n,r)<0?(r=e,e=n):o!=vt(e,n)<0&&(e=n)}return new br(r,e)}return new br(n||e,e)}function Yr(t,e,n,i,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),Xr(t,new yr([qr(t.sel.primary(),e,n,r)],0),i)}function Vr(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=qr(t.sel.ranges[o],e[o],null,r);var s=_r(t.cm,i,t.sel.primIndex);Xr(t,s,n)}function Zr(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Xr(t,_r(t.cm,r,t.sel.primIndex),i)}function Kr(t,e,n,i){Xr(t,wr(e,n),i)}function Gr(t,e,n){var i=t.history.done,r=X(i);r&&r.ranges?(i[i.length-1]=e,Mr(t,e,n)):Xr(t,e,n)}function Xr(t,e,n){Mr(t,e,n),Ir(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Mr(t,e,n){(ae(t,"beforeSelectionChange")||t.cm&&ae(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new br(Et(t,e[n].anchor),Et(t,e[n].head))},origin:n&&n.origin};return re(t,"beforeSelectionChange",t,i),t.cm&&re(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?_r(t.cm,i.ranges,i.ranges.length-1):e}(t,e,n));var i=n&&n.bias||(vt(e.primary().head,t.sel.primary().head)<0?-1:1);Qr(t,$r(t,e,i,!0)),n&&!1===n.scroll||!t.cm||ki(t.cm)}function Qr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,se(t.cm)),ln(t,"cursorActivity",t))}function Jr(t){Qr(t,$r(t,t.sel,null,!1))}function $r(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],u=eo(t,s.anchor,a&&a.anchor,n,i),l=eo(t,s.head,a&&a.head,n,i);(r||u!=s.anchor||l!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new br(u,l))}return r?_r(t.cm,r,e.primIndex):e}function to(t,e,n,i,r){var o=ut(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],u=a.marker;if((null==a.from||(u.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(re(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!u.atomic)continue;if(n){var l=u.find(i<0?1:-1),c=void 0;if((i<0?u.inclusiveRight:u.inclusiveLeft)&&(l=no(t,l,-i,l&&l.line==e.line?o:null)),l&&l.line==e.line&&(c=vt(l,n))&&(i<0?c<0:c>0))return to(t,l,e,i,r)}var h=u.find(i<0?-1:1);return(i<0?u.inclusiveLeft:u.inclusiveRight)&&(h=no(t,h,i,h.line==e.line?o:null)),h?to(t,h,e,i,r):null}}return e}function eo(t,e,n,i,r){var o=i||1,s=to(t,e,n,o,r)||!r&&to(t,e,n,o,!0)||to(t,e,n,-o,r)||!r&&to(t,e,n,-o,!0);return s||(t.cantEdit=!0,mt(t.first,0))}function no(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?Et(t,mt(e.line-1)):null:n>0&&e.ch==(i||ut(t,e.line)).text.length?e.line<t.first+t.size-1?mt(e.line+1,0):null:new mt(e.line,e.ch+n)}function io(t){t.setSelection(mt(t.firstLine(),0),mt(t.lastLine()),q)}function ro(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(e,n,r,o){e&&(i.from=Et(t,e)),n&&(i.to=Et(t,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),re(t,"beforeChange",t,i),t.cm&&re(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function oo(t,e,n){if(t.cm){if(!t.cm.curOp)return Xi(t.cm,oo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(ae(t,"beforeChange")||t.cm&&ae(t.cm,"beforeChange"))||(e=ro(t,e,!0))){var i=Tt&&!n&&function(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=W(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),u=0;u<r.length;++u){var l=r[u];if(!(vt(l.to,a.from)<0||vt(l.from,a.to)>0)){var c=[u,1],h=vt(l.from,a.from),f=vt(l.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&c.push({from:l.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&c.push({from:a.to,to:l.to}),r.splice.apply(r,c),u+=c.length-3}}return r}(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)so(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else so(t,e)}}function so(t,e){if(1!=e.text.length||""!=e.text[0]||0!=vt(e.from,e.to)){var n=Sr(t,e);Rr(t,e,n,t.cm?t.cm.curOp.id:NaN),lo(t,e,n,Ot(t,e));var i=[];Or(t,function(t,n){n||-1!=W(i,t.history)||(po(t.history,e),i.push(t.history)),lo(t,e,null,Ot(t,e))})}}function ao(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!i||n){for(var r,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,u="undo"==e?o.undone:o.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(t.sel):r.ranges);l++);if(l!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(i)return void a.push(r);break}if(Hr(r,u),n&&!r.equals(t.sel))return void Xr(t,r,{clearRedo:!1});s=r}var c=[];Hr(s,u),u.push({changes:c,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var h=ae(t,"beforeChange")||t.cm&&ae(t.cm,"beforeChange"),f=function(n){var i=r.changes[n];if(i.origin=e,h&&!ro(t,i,!1))return a.length=0,{};c.push(Br(t,i));var o=n?Sr(t,i):X(a);lo(t,i,o,jr(t,i)),!n&&t.cm&&t.cm.scrollIntoView({from:i.from,to:Cr(i)});var s=[];Or(t,function(t,e){e||-1!=W(s,t.history)||(po(t.history,i),s.push(t.history)),lo(t,i,null,jr(t,i))})},d=r.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function uo(t,e){if(0!=e&&(t.first+=e,t.sel=new yr(M(t.sel.ranges,function(t){return new br(mt(t.anchor.line+e,t.anchor.ch),mt(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ji(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)$i(t.cm,i,"gutter")}}function lo(t,e,n,i){if(t.cm&&!t.cm.curOp)return Xi(t.cm,lo)(t,e,n,i);if(e.to.line<t.first)uo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);uo(t,r),e={from:mt(t.first,0),to:mt(e.to.line+r,e.to.ch),text:[X(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:mt(o,ut(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=lt(t,e.from,e.to),n||(n=Sr(t,e)),t.cm?function(t,e,n){var i=t.doc,r=t.display,o=e.from,s=e.to,a=!1,u=o.line;t.options.lineWrapping||(u=ft(Ut(ut(i,o.line))),i.iter(u,s.line+1,function(t){if(t==r.maxLine)return a=!0,!0})),i.sel.contains(e.from,e.to)>-1&&se(t),Ar(i,e,n,si(t)),t.options.lineWrapping||(i.iter(u,o.line+e.text.length,function(t){var e=Gt(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=ut(t,i).stateAfter;if(r&&(!(r instanceof Fe)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(i,o.line),ir(t,400);var l=e.text.length-(s.line-o.line)-1;e.full?Ji(t):o.line!=s.line||1!=e.text.length||Dr(t.doc,e)?Ji(t,o.line,s.line+1,l):$i(t,o.line,"text");var c=ae(t,"changes"),h=ae(t,"change");if(h||c){var f={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&ln(t,"change",t,f),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}(t.cm,e,i):Ar(t,e,i),Mr(t,n,q)}}function co(t,e,n,i,r){var o;i||(i=n),vt(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof e&&(e=t.splitLines(e)),oo(t,{from:n,to:i,text:e,origin:r})}function ho(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function fo(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)ho(o.ranges[a].anchor,e,n,i),ho(o.ranges[a].head,e,n,i)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=mt(l.from.line+i,l.from.ch),l.to=mt(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function po(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;fo(t.done,n,i,r),fo(t.undone,n,i,r)}function go(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=ut(t,Ct(t,e)):r=ft(e),null==r?null:(i(o,r)&&t.cm&&$i(t.cm,r,n),o)}function mo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function vo(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}br.prototype.from=function(){return wt(this.anchor,this.head)},br.prototype.to=function(){return _t(this.anchor,this.head)},br.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},mo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ge(r),ln(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},vo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof mo))){var a=[];this.collapse(a),this.children=[new mo(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var u=new mo(r.lines.slice(a,a+=25));r.height-=u.height,this.children.splice(++i,0,u),u.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new vo(e);if(t.parent){t.size-=n.size,t.height-=n.height;var i=W(t.parent.children,t);t.parent.children.splice(i+1,0,n)}else{var r=new vo(t.children);r.parent=t,t.children=[r,n],t=r}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var yo=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};function bo(t,e,n){Kt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&xi(t,n)}yo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=ft(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Cn(this);ht(n,Math.max(0,n.height-o)),t&&(Gi(t,function(){bo(t,n,-o),$i(t,i,"widget")}),ln(t,"lineWidgetCleared",t,this,i))}},yo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=Cn(this)-e;r&&(Vt(this.doc,i)||ht(i,i.height+r),n&&Gi(n,function(){n.curOp.forceUpdate=!0,bo(n,i,r),ln(n,"lineWidgetChanged",n,t,ft(i))}))},ue(yo);var _o=0,wo=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++_o};function Co(t,e,n,i,r){if(i&&i.shared)return function(t,e,n,i,r){(i=I(i)).shared=!1;var o=[Co(t,e,n,i,r)],s=o[0],a=i.widgetNode;return Or(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Co(t,Et(t,e),Et(t,n),i,r));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;s=X(o)}),new Eo(o,s)}(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Xi(t.cm,Co)(t,e,n,i,r);var o=new wo(t,r),s=vt(e,n);if(i&&I(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(jt(t,e.line,e,n,o)||e.line!=n.line&&jt(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");xt=!0}o.addToHistory&&Rr(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,u=e.line,l=t.cm;if(t.iter(u,n.line+1,function(t){l&&o.collapsed&&!l.options.lineWrapping&&Ut(t)==l.display.maxLine&&(a=!0),o.collapsed&&u!=e.line&&ht(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new kt(o,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Vt(t,e)&&ht(e,0)}),o.clearOnEnter&&ee(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Tt=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++_o,o.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),o.collapsed)Ji(l,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=n.line;c++)$i(l,c,"text");o.atomic&&Jr(l.doc),ln(l,"markerAdded",l,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Ui(t),ae(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Dt(s.markedSpans,this);t&&!this.collapsed?$i(t,ft(s),"text"):t&&(null!=a.to&&(r=ft(s)),null!=a.from&&(i=ft(s))),s.markedSpans=At(s.markedSpans,a),null==a.from&&this.collapsed&&!Vt(this.doc,s)&&t&&ht(s,ni(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Ut(this.lines[u]),c=Gt(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Ji(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Jr(t.doc)),t&&ln(t,"markerCleared",t,this,i,r),e&&qi(t),this.parent&&this.parent.clear()}},wo.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Dt(o.markedSpans,this);if(null!=s.from&&(n=mt(e?o:ft(o),s.from),-1==t))return n;if(null!=s.to&&(i=mt(e?o:ft(o),s.to),1==t))return i}return n&&{from:n,to:i}},wo.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;e&&i&&Gi(i,function(){var r=e.line,o=ft(e.line),s=Nn(i,o);if(s&&(zn(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Vt(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var u=Cn(n)-a;u&&ht(r,r.height+u)}ln(i,"markerChanged",i,t)})},wo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=W(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},wo.prototype.detachLine=function(t){if(this.lines.splice(W(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},ue(wo);var Eo=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function So(t){return t.findMarks(mt(t.first,0),t.clipPos(mt(t.lastLine())),function(t){return t.parent})}function To(t){for(var e=function(e){var n=t[e],i=[n.primary.doc];Or(n.primary.doc,function(t){return i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==W(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},Eo.prototype.find=function(t,e){return this.primary.find(t,e)},ue(Eo);var xo=0,ko=function(t,e,n,i,r){if(!(this instanceof ko))return new ko(t,e,n,i,r);null==n&&(n=0),vo.call(this,[new mo([new Ke("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=mt(n,0);this.sel=wr(o),this.history=new Lr(null),this.id=++xo,this.modeOption=e,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ar(this,{from:o,to:o,text:t}),Xr(this,wr(o),q)};ko.prototype=J(vo.prototype,{constructor:ko,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ct(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Qi(function(t){var e=mt(this.first,0),n=this.first+this.size-1;oo(this,{from:e,to:mt(n,ut(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Di(this.cm,0,0),Xr(this,wr(e),q)}),replaceRange:function(t,e,n,i){e=Et(this,e),n=n?Et(this,n):e,co(this,t,e,n,i)},getRange:function(t,e,n){var i=lt(this,Et(this,t),Et(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(pt(this,t))return ut(this,t)},getLineNumber:function(t){return ft(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=ut(this,t)),Ut(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Et(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qi(function(t,e,n){Kr(this,Et(this,"number"==typeof t?mt(t,e||0):t),null,n)}),setSelection:Qi(function(t,e,n){Kr(this,Et(this,t),Et(this,e||t),n)}),extendSelection:Qi(function(t,e,n){Yr(this,Et(this,t),e&&Et(this,e),n)}),extendSelections:Qi(function(t,e){Vr(this,St(this,t),e)}),extendSelectionsBy:Qi(function(t,e){var n=M(this.sel.ranges,t);Vr(this,St(this,n),e)}),setSelections:Qi(function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new br(Et(this,t[r].anchor),Et(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Xr(this,_r(this.cm,i,e),n)}}),addSelection:Qi(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new br(Et(this,t),Et(this,e||t))),Xr(this,_r(this.cm,i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=lt(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=lt(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Qi(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var i=[],r=mt(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],u=Tr(a.from,r,o),l=Tr(Cr(a),r,o);if(r=a.to,o=l,"around"==n){var c=t.sel.ranges[s],h=vt(c.head,c.anchor)<0;i[s]=new br(h?l:u,h?u:l)}else i[s]=new br(u,u)}return new yr(i,t.sel.primIndex)}(this,i,e),u=i.length-1;u>=0;u--)oo(this,i[u]);a?Gr(this,a):this.cm&&ki(this.cm)}),undo:Qi(function(){ao(this,"undo")}),redo:Qi(function(){ao(this,"redo")}),undoSelection:Qi(function(){ao(this,"undo",!0)}),redoSelection:Qi(function(){ao(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Lr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ur(this.history.done),undone:Ur(this.history.undone)}},setHistory:function(t){var e=this.history=new Lr(this.history.maxGeneration);e.done=Ur(t.done.slice(0),null,!0),e.undone=Ur(t.undone.slice(0),null,!0)},setGutterMarker:Qi(function(t,e,n){return go(this,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&nt(i)&&(t.gutterMarkers=null),!0})}),clearGutter:Qi(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&go(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!pt(this,t))return null;if(e=t,!(t=ut(this,t)))return null}else if(null==(e=ft(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Qi(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(S(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:Qi(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(S(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Qi(function(t,e,n){return function(t,e,n,i){var r=new yo(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),go(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!Vt(t,e)){var i=Kt(e)<t.scrollTop;ht(e,e.height+Cn(r)),i&&xi(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&ln(o,"lineWidgetAdded",o,r,"number"==typeof e?e:ft(e)),r}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Co(this,Et(this,t),Et(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Co(this,t=Et(this,t),t,n,"bookmark")},findMarksAt:function(t){t=Et(this,t);var e=[],n=ut(this,t.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=Et(this,t),e=Et(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var u=s[a];null!=u.to&&r==t.line&&t.ch>=u.to||null==u.from&&r!=t.line||null!=u.from&&r==e.line&&u.from>=e.ch||n&&!n(u.marker)||i.push(u.marker.parent||u.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n}),Et(this,mt(n,e))},indexFromPos:function(t){var e=(t=Et(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new ko(ct(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new ko(ct(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(vt(o,s)){var a=Co(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,So(this)),i},unlinkDoc:function(t){if(t instanceof Ss&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),To(So(this));break}}if(t.history==this.history){var i=[t.id];Or(t,function(t){return i.push(t.id)},!0),t.history=new Lr(null),t.history.done=Ur(this.history.done,i),t.history.undone=Ur(this.history.undone,i)}},iterLinkedDocs:function(t){Or(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):we(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qi(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Gi(e=this.cm,function(){Nr(e),Ji(e)}))})}),ko.prototype.eachLine=ko.prototype.iter;var Do=0;function Ao(t){var e=this;if(Oo(e),!oe(e,t)&&!En(e.display,t)){le(t),s&&(Do=+new Date);var n=ui(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,u=function(t,i){if(!e.options.allowDropFileTypes||-1!=W(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=Xi(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[i]=t,++a==r){var u={from:n=Et(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};oo(e.doc,u),Gr(e.doc,wr(n,Cr(u)))}}),s.readAsText(t)}},l=0;l<r;++l)u(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var c=t.dataTransfer.getData("Text");if(c){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Mr(e.doc,wr(n,n)),h)for(var f=0;f<h.length;++f)co(e.doc,"",h[f].anchor,h[f].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Oo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Po(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var No=!1;function Lo(){var t;No||(ee(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Po(Bo)},100))}),ee(window,"blur",function(){return Po(bi)}),No=!0)}function Bo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Fo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ro=0;Ro<10;Ro++)Fo[Ro+48]=Fo[Ro+96]=String(Ro);for(var Io=65;Io<=90;Io++)Fo[Io]=String.fromCharCode(Io);for(var Ho=1;Ho<=12;Ho++)Fo[Ho+111]=Fo[Ho+63235]="F"+Ho;var zo={};function Wo(t){var e,n,i,r,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function jo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=M(n.split(" "),Wo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var u=e[a];if(u){if(u!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var l in e)t[l]=e[l];return t}function Uo(t,e,n,i){var r=(e=Zo(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Uo(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=Uo(t,e.fallthrough[o],n,i);if(s)return s}}}function qo(t){var e="string"==typeof t?t:Fo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Yo(t,e,n){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(C?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(C?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function Vo(t,e){if(h&&34==t.keyCode&&t.char)return!1;var n=Fo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Yo(n,t,e))}function Zo(t){return"string"==typeof t?zo[t]:t}function Ko(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&vt(o.from,X(i).to)<=0;){var s=i.pop();if(vt(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Gi(t,function(){for(var e=i.length-1;e>=0;e--)co(t.doc,"",i[e].from,i[e].to,"+delete");ki(t)})}function Go(t,e,n){var i=ot(t.text,e+n,n);return i<0||i>t.text.length?null:i}function Xo(t,e,n){var i=Go(t,e.ch,n);return null==i?null:new mt(e.line,i,n<0?"after":"before")}function Mo(t,e,n,i,r){if(t){var o=$t(n,e.doc.direction);if(o){var s,a=r<0?X(o):o[0],u=r<0==(1==a.level),l=u?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Ln(e,n);s=r<0?n.text.length-1:0;var h=Bn(e,c,s).top;s=st(function(t){return Bn(e,c,t).top==h},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Go(n,s,1))}else s=r<0?a.to:a.from;return new mt(i,s,l)}}return new mt(i,r<0?n.text.length:0,r<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=y?zo.macDefault:zo.pcDefault;var Qo={selectAll:io,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),q)},killLine:function(t){return Ko(t,function(e){if(e.empty()){var n=ut(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:mt(e.head.line+1,0)}:{from:e.head,to:mt(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Ko(t,function(e){return{from:mt(e.from().line,0),to:Et(t.doc,mt(e.to().line+1,0))}})},delLineLeft:function(t){return Ko(t,function(t){return{from:mt(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return Ko(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return{from:i,to:e.from()}})},delWrappedLineRight:function(t){return Ko(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(mt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(mt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Jo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return $o(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=ut(t.doc,e),i=function(t){for(var e;e=zt(t);)t=e.find(1,!0).line;return t}(n);return i!=n&&(e=ft(i)),Mo(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},V)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?$o(t,e.head):i},V)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=H(t.getLine(o.line),o.ch,i);e.push(G(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Gi(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,o=ut(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new mt(r.line,r.ch-1)),r.ch>0)r=new mt(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),mt(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=ut(t.doc,r.line-1).text;s&&(r=new mt(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),mt(r.line-1,s.length-1),r,"+transpose"))}n.push(new br(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){return Gi(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);ki(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Jo(t,e){var n=ut(t.doc,e),i=Ut(n);return i!=n&&(e=ft(i)),Mo(!0,t,i,e,1)}function $o(t,e){var n=Jo(t,e.line),i=ut(t.doc,n.line),r=$t(i,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return mt(n.line,s?0:o,n.sticky)}return n}function ts(t,e,n){if("string"==typeof e&&!(e=Qo[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=U}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}var es=new z;function ns(t,e,n,i){var r=t.state.keySeq;if(r){if(qo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:es.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),is(t,r+" "+e,n,i))return!0}return is(t,e,n,i)}function is(t,e,n,i){var r=function(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=Uo(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&Uo(e,t.options.extraKeys,n,t)||Uo(e,t.options.keyMap,n,t)}(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&ln(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(le(n),gi(t)),!!r}function rs(t,e){var n=Vo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ns(t,"Shift-"+n,e,function(e){return ts(t,e,!0)})||ns(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ts(t,e)}):ns(t,n,e,function(e){return ts(t,e)}))}var os=null;function ss(t){var e=this;if(e.curOp.focus=N(),!oe(e,t)){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=rs(e,t);h&&(os=i?n:null,!i&&88==n&&!Ee&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(x(e,"CodeMirror-crosshair"),ie(document,"keyup",n),ie(document,"mouseover",n))}L(e,"CodeMirror-crosshair"),ee(document,"keyup",n),ee(document,"mouseover",n)}(e)}}function as(t){16==t.keyCode&&(this.doc.sel.shift=!1),oe(this,t)}function us(t){var e=this;if(!(En(e.display,t)||oe(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(h&&n==os)return os=null,void le(t);if(!h||t.which&&!(t.which<10)||!rs(e,t)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(t,e,n){return ns(t,"'"+n+"'",e,function(e){return ts(t,e,!0)})}(e,t,r)||e.display.input.onKeyPress(t))}}}var ls,cs,hs=function(t,e,n){this.time=t,this.pos=e,this.button=n};function fs(t){var e=this,n=e.display;if(!(oe(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,En(n,t))u||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!gs(e,t)){var i=ui(e,t),r=pe(t),o=i?function(t,e){var n=+new Date;return cs&&cs.compare(n,t,e)?(ls=cs=null,"triple"):ls&&ls.compare(n,t,e)?(cs=new hs(n,t,e),ls=null,"double"):(ls=new hs(n,t,e),cs=null,"single")}(i,r):"single";window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),i&&function(t,e,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),ns(t,Yo(o=(1==e?"Left":2==e?"Middle":"Right")+o,r),r,function(e){if("string"==typeof e&&(e=Qo[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,n)!=U}finally{t.state.suppressEdits=!1}return i})}(e,r,i,o,t)||(1==r?i?function(t,e,n,i){s?setTimeout(R(mi,t),0):t.curOp.focus=N();var r,o=function(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(null==r.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey)),r}(t,n,i),l=t.doc.sel;t.options.dragDrop&&ve&&!t.isReadOnly()&&"single"==n&&(r=l.contains(e))>-1&&(vt((r=l.ranges[r]).from(),e)<0||e.xRel>0)&&(vt(r.to(),e)>0||e.xRel<0)?function(t,e,n,i){var r=t.display,o=!1,l=Xi(t,function(e){u&&(r.scroller.draggable=!1),t.state.draggingText=!1,ie(r.wrapper.ownerDocument,"mouseup",l),ie(r.wrapper.ownerDocument,"mousemove",c),ie(r.scroller,"dragstart",h),ie(r.scroller,"drop",l),o||(le(e),i.addNew||Yr(t.doc,n,null,null,i.extend),u||s&&9==a?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return o=!0};u&&(r.scroller.draggable=!0),t.state.draggingText=l,l.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),ee(r.wrapper.ownerDocument,"mouseup",l),ee(r.wrapper.ownerDocument,"mousemove",c),ee(r.scroller,"dragstart",h),ee(r.scroller,"drop",l),vi(t),setTimeout(function(){return r.input.focus()},20)}(t,i,e,o):function(t,e,n,i){var r=t.display,o=t.doc;le(e);var s,a,u=o.sel,l=u.ranges;if(i.addNew&&!i.extend?(a=o.sel.contains(n),s=a>-1?l[a]:new br(n,n)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(s=new br(n,n)),n=ui(t,e,!0,!0),a=-1;else{var c=ds(t,n,i.unit);s=i.extend?qr(s,c.anchor,c.head,i.extend):c}i.addNew?-1==a?(a=l.length,Xr(o,_r(t,l.concat([s]),a),{scroll:!1,origin:"*mouse"})):l.length>1&&l[a].empty()&&"char"==i.unit&&!i.extend?(Xr(o,_r(t,l.slice(0,a).concat(l.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Zr(o,a,s,Y):(a=0,Xr(o,new yr([s],0),Y),u=o.sel);var h=n;function f(e){if(0!=vt(h,e))if(h=e,"rectangle"==i.unit){for(var r=[],l=t.options.tabSize,c=H(ut(o,n.line).text,n.ch,l),f=H(ut(o,e.line).text,e.ch,l),d=Math.min(c,f),p=Math.max(c,f),g=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=m;g++){var v=ut(o,g).text,y=Z(v,d,l);d==p?r.push(new br(mt(g,y),mt(g,y))):v.length>y&&r.push(new br(mt(g,y),mt(g,Z(v,p,l))))}r.length||r.push(new br(n,n)),Xr(o,_r(t,u.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,_=s,w=ds(t,e,i.unit),C=_.anchor;vt(w.anchor,C)>0?(b=w.head,C=wt(_.from(),w.anchor)):(b=w.anchor,C=_t(_.to(),w.head));var E=u.ranges.slice(0);E[a]=function(t,e){var n=e.anchor,i=e.head,r=ut(t.doc,n.line);if(0==vt(n,i)&&n.sticky==i.sticky)return e;var o=$t(r);if(!o)return e;var s=Qt(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var u,l=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==l||l==o.length)return e;if(i.line!=n.line)u=(i.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=Qt(o,i.ch,i.sticky),h=c-s||(i.ch-n.ch)*(1==a.level?-1:1);u=c==l-1||c==l?h<0:h>0}var f=o[l+(u?-1:0)],d=u==(1==f.level),p=d?f.from:f.to,g=d?"after":"before";return n.ch==p&&n.sticky==g?e:new br(new mt(n.line,p,g),i)}(t,new br(Et(o,C),b)),Xr(o,_r(t,E,a),Y)}}var d=r.wrapper.getBoundingClientRect(),p=0;function g(e){t.state.selectingText=!1,p=1/0,le(e),r.input.focus(),ie(r.wrapper.ownerDocument,"mousemove",m),ie(r.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var m=Xi(t,function(e){0!==e.buttons&&pe(e)?function e(n){var s=++p,a=ui(t,n,!0,"rectangle"==i.unit);if(a)if(0!=vt(a,h)){t.curOp.focus=N(),f(a);var u=Ci(r,o);(a.line>=u.to||a.line<u.from)&&setTimeout(Xi(t,function(){p==s&&e(n)}),150)}else{var l=n.clientY<d.top?-20:n.clientY>d.bottom?20:0;l&&setTimeout(Xi(t,function(){p==s&&(r.scroller.scrollTop+=l,e(n))}),50)}}(e):g(e)}),v=Xi(t,g);t.state.selectingText=v,ee(r.wrapper.ownerDocument,"mousemove",m),ee(r.wrapper.ownerDocument,"mouseup",v)}(t,i,e,o)}(e,i,o,t):de(t)==n.scroller&&le(t):2==r?(i&&Yr(e.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(E?e.display.input.onContextMenu(t):vi(e)))}}function ds(t,e,n){if("char"==n)return new br(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new br(mt(e.line,0),Et(t.doc,mt(e.line+1,0)));var i=n(t,e);return new br(i.from,i.to)}function ps(t,e,n,i){var r,o;if(e.touches)r=e.touches[0].clientX,o=e.touches[0].clientY;else try{r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&le(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!ae(t,n))return he(e);o-=a.top-s.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var l=s.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=r){var c=dt(t.doc,o),h=t.options.gutters[u];return re(t,n,t,c,h,e),he(e)}}}function gs(t,e){return ps(t,e,"gutterClick",!0)}function ms(t,e){En(t.display,e)||function(t,e){return!!ae(t,"gutterContextMenu")&&ps(t,e,"gutterContextMenu",!1)}(t,e)||oe(t,e,"contextmenu")||E||t.display.input.onContextMenu(e)}function vs(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jn(t)}hs.prototype.compare=function(t,e,n){return this.time+400>t&&0==vt(e,this.pos)&&n==this.button};var ys={toString:function(){return"CodeMirror.Init"}},bs={},_s={};function ws(t){hr(t),Ji(t),Ei(t)}function Cs(t,e,n){var i=n&&n!=ys;if(!e!=!i){var r=t.display.dragFunctions,o=e?ee:ie;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function Es(t){t.options.lineWrapping?(L(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(x(t.display.wrapper,"CodeMirror-wrap"),Xt(t)),ai(t),Ji(t),jn(t),setTimeout(function(){return Ii(t)},100)}function Ss(t,e){var n=this;if(!(this instanceof Ss))return new Ss(t,e);this.options=e=e?I(e):{},I(bs,e,!1),fr(e);var i=e.value;"string"==typeof i?i=new ko(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Ss.inputStyles[e.inputStyle](this),o=this.display=new at(t,i,r);for(var l in o.wrapper.CodeMirror=this,hr(this),vs(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;ee(e.scroller,"mousedown",Xi(t,fs)),ee(e.scroller,"dblclick",s&&a<11?Xi(t,function(e){if(!oe(t,e)){var n=ui(t,e);if(n&&!gs(t,e)&&!En(t.display,e)){le(e);var i=t.findWordAt(n);Yr(t.doc,i.anchor,i.head)}}}):function(e){return oe(t,e)||le(e)}),ee(e.scroller,"contextmenu",function(e){return ms(t,e)});var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(i=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}ee(e.scroller,"touchstart",function(r){if(!oe(t,r)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(r)&&!gs(t,r)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}}),ee(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),ee(e.scroller,"touchend",function(n){var i=e.activeTouch;if(i&&!En(e,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var s,a=t.coordsChar(e.activeTouch,"page");s=!i.prev||o(i,i.prev)?new br(a,a):!i.prev.prev||o(i,i.prev.prev)?t.findWordAt(a):new br(mt(a.line,0),Et(t.doc,mt(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),le(n)}r()}),ee(e.scroller,"touchcancel",r),ee(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Pi(t,e.scroller.scrollTop),Li(t,e.scroller.scrollLeft,!0),re(t,"scroll",t))}),ee(e.scroller,"mousewheel",function(e){return vr(t,e)}),ee(e.scroller,"DOMMouseScroll",function(e){return vr(t,e)}),ee(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){oe(t,e)||fe(e)},over:function(e){oe(t,e)||(function(t,e){var n=ui(t,e);if(n){var i=document.createDocumentFragment();fi(t,n,i),t.display.dragCursor||(t.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),D(t.display.dragCursor,i)}}(t,e),fe(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-Do<100))fe(e);else if(!oe(t,e)&&!En(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!f)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(t,e)},drop:Xi(t,Ao),leave:function(e){oe(t,e)||Oo(t)}};var u=e.input.getField();ee(u,"keyup",function(e){return as.call(t,e)}),ee(u,"keydown",Xi(t,ss)),ee(u,"keypress",Xi(t,us)),ee(u,"focus",function(e){return yi(t,e)}),ee(u,"blur",function(e){return bi(t,e)})}(this),Lo(),Ui(this),this.curOp.forceUpdate=!0,Pr(this,i),e.autofocus&&!v||this.hasFocus()?setTimeout(R(yi,this),20):bi(this),_s)_s.hasOwnProperty(l)&&_s[l](n,e[l],ys);Si(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Ts.length;++c)Ts[c](n);qi(this),u&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ss.defaults=bs,Ss.optionHandlers=_s;var Ts=[];function xs(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=ze(t,e).state:n="prev");var s=t.options.tabSize,a=ut(o,e),u=H(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var l,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((l=o.mode.indent(r,a.text.slice(c.length),a.text))==U||l>150)){if(!i)return;n="prev"}}else l=0,n="not";"prev"==n?l=e>o.first?H(ut(o,e-1).text,null,s):0:"add"==n?l=u+t.options.indentUnit:"subtract"==n?l=u-t.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var h="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/s);d;--d)f+=s,h+="\t";if(f<l&&(h+=G(l-f)),h!=c)return co(o,h,mt(e,0),mt(e,c.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==e&&g.head.ch<c.length){var m=mt(e,c.length);Zr(o,p,new br(m,m));break}}}Ss.defineInitHook=function(t){return Ts.push(t)};var ks=null;function Ds(t){ks=t}function As(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=we(e),u=null;if(s&&i.ranges.length>1)if(ks&&ks.text.join("\n")==e){if(i.ranges.length%ks.text.length==0){u=[];for(var l=0;l<ks.text.length;l++)u.push(o.splitLines(ks.text[l]))}}else a.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(u=M(a,function(t){return[t]}));for(var c=t.curOp.updateInput,h=i.ranges.length-1;h>=0;h--){var f=i.ranges[h],d=f.from(),p=f.to();f.empty()&&(n&&n>0?d=mt(d.line,d.ch-n):t.state.overwrite&&!s?p=mt(p.line,Math.min(ut(o,p.line).text.length,p.ch+X(a).length)):s&&ks&&ks.lineWise&&ks.text.join("\n")==e&&(d=p=mt(d.line,0)));var g={from:d,to:p,text:u?u[h%u.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};oo(t.doc,g),ln(t,"inputRead",t,g)}e&&!s&&Ps(t,e),ki(t),t.curOp.updateInput<2&&(t.curOp.updateInput=c),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Os(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Gi(e,function(){return As(e,n,0,null,"paste")}),!0}function Ps(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=xs(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ut(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=xs(t,r.head.line,"smart"));s&&ln(t,"electricInput",t,r.head.line)}}}function Ns(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:mt(r,0),head:mt(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Ls(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Bs(){var t=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=A("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),Ls(t),e}function Fs(t,e,n,i,r){var o=e,s=n,a=ut(t,e.line);function u(i){var o,s;if(null==(o=r?function(t,e,n,i){var r=$t(e,t.doc.direction);if(!r)return Xo(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Qt(r,n.ch,n.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return Xo(e,n,i);var a,u=function(t,n){return Go(e,t instanceof mt?t.ch:t,n)},l=function(n){return t.options.lineWrapping?(a=a||Ln(t,e),$n(t,e,a,n)):{begin:0,end:e.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==i<0,f=u(n,h?1:-1);if(null!=f&&(h?f<=s.to&&f<=c.end:f>=s.from&&f>=c.begin)){var d=h?"before":"after";return new mt(n.line,f,d)}}var p=function(t,e,i){for(var o=function(t,e){return e?new mt(n.line,u(t,1),"before"):new mt(n.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),l=a?i.begin:u(i.end,-1);if(s.from<=l&&l<s.to)return o(l,a);if(l=a?s.from:u(s.to,-1),i.begin<=l&&l<i.end)return o(l,a)}},g=p(o+i,i,c);if(g)return g;var m=i>0?c.end:u(c.begin,-1);return null==m||i>0&&m==e.text.length||!(g=p(i>0?0:r.length-1,i,l(m)))?null:g}(t.cm,a,e,n):Xo(a,e,n))){if(i||((s=e.line+n)<t.first||s>=t.first+t.size||(e=new mt(s,e.ch,e.sticky),!(a=ut(t,s)))))return!1;e=Mo(r,t.cm,a,e.line,n)}else e=o;return!0}if("char"==i)u();else if("column"==i)u(!0);else if("word"==i||"group"==i)for(var l=null,c="group"==i,h=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(n<0)||u(!f);f=!1){var d=a.text.charAt(e.ch)||"\n",p=et(d,h)?"w":c&&"\n"==d?"n":!c||/\s/.test(d)?null:"p";if(!c||f||p||(p="s"),l&&l!=p){n<0&&(n=1,u(),e.sticky="after");break}if(p&&(l=p),n>0&&!u(!f))break}var g=eo(t,e,o,s,!0);return yt(o,g)&&(g.hitSide=!0),g}function Rs(t,e,n,i){var r,o,s=t.doc,a=e.left;if("page"==i){var u=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*ni(t.display),3);r=(n>0?e.bottom:e.top)+n*l}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;(o=Qn(t,a,r)).outside;){if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var Is=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Hs(t,e){var n=Nn(t,e.line);if(!n||n.hidden)return null;var i=ut(t.doc,e.line),r=On(n,i,e.line),o=$t(i,t.doc.direction),s="left";if(o){var a=Qt(o,e.ch);s=a%2?"right":"left"}var u=In(r.map,e.ch,s);return u.offset="right"==u.collapse?u.end:u.start,u}function zs(t,e){return e&&(t.bad=!0),t}function Ws(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return zs(t.clipPos(mt(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return js(o,e,n)}}function js(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!P(i,e))return zs(mt(ft(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var o=t.rest?X(t.rest):t.line;return zs(mt(ft(o),o.text.length),r)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var u=t.measure,l=u.maps;function c(e,n,i){for(var r=-1;r<(l?l.length:0);r++)for(var o=r<0?u.map:l[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var c=ft(r<0?t.line:t.rest[r]),h=o[s]+i;return(i<0||a!=e)&&(h=o[s+(i?1:0)]),mt(c,h)}}}var h=c(s,a,n);if(h)return zs(h,r);for(var f=a.nextSibling,d=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(h=c(f,f.firstChild,0))return zs(mt(h.line,h.ch-d),r);d+=f.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return zs(mt(h.line,h.ch+g),r);g+=p.textContent.length}}Is.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;function o(t){if(!oe(i,t)){if(i.somethingSelected())Ds({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=Ns(i);Ds({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,q),i.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=ks.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=Bs(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=ks.text.join("\n");var u=document.activeElement;F(a),setTimeout(function(){i.display.lineSpace.removeChild(s),u.focus(),u==r&&n.showPrimarySelection()},50)}}Ls(r,i.options.spellcheck),ee(r,"paste",function(t){oe(i,t)||Os(t,i)||a<=11&&setTimeout(Xi(i,function(){return e.updateFromDOM()}),20)}),ee(r,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),ee(r,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),ee(r,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),ee(r,"touchstart",function(){return n.forceCompositionEnd()}),ee(r,"input",function(){e.composing||e.readFromDOMSoon()}),ee(r,"copy",o),ee(r,"cut",o)},Is.prototype.prepareSelection=function(){var t=hi(this.cm,!1);return t.focus=this.cm.state.focused,t},Is.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Is.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Is.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Ws(e,t.anchorNode,t.anchorOffset),a=Ws(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=vt(wt(s,a),r)||0!=vt(_t(s,a),o)){var u=e.display.view,l=r.line>=e.display.viewFrom&&Hs(e,r)||{node:u[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&Hs(e,o);if(!c){var h=u[u.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&c){var d,p=t.rangeCount&&t.getRangeAt(0);try{d=T(l.node,l.offset,c.offset,c.node)}catch(t){}d&&(!n&&e.state.focused?(t.collapse(l.node,l.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Is.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Is.prototype.showMultipleSelections=function(t){D(this.cm.display.cursorDiv,t.cursors),D(this.cm.display.selectionDiv,t.selection)},Is.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Is.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return P(this.div,e)},Is.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Is.prototype.blur=function(){this.div.blur()},Is.prototype.getField=function(){return this.div},Is.prototype.supportsTouch=function(){return!0},Is.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Gi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Is.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Is.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&c&&this.cm.options.gutters.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ws(e,t.anchorNode,t.anchorOffset),i=Ws(e,t.focusNode,t.focusOffset);n&&i&&Gi(e,function(){Xr(e.doc,wr(n,i),q),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}}},Is.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=mt(s.line-1,ut(i.doc,s.line-1).length)),a.ch==ut(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=mt(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(t=li(i,s.line))?(e=ft(r.view[0].line),n=r.view[0].node):(e=ft(r.view[t].line),n=r.view[t-1].node.nextSibling);var u,l,c=li(i,a.line);if(c==r.view.length-1?(u=r.viewTo-1,l=r.lineDiv.lastChild):(u=ft(r.view[c+1].line)-1,l=r.view[c+1].node.previousSibling),!n)return!1;for(var h=i.doc.splitLines(function(t,e,n,i,r){var o="",s=!1,a=t.doc.lineSeparator(),u=!1;function l(){s&&(o+=a,u&&(o+=a),s=u=!1)}function c(t){t&&(l(),o+=t)}function h(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void c(n);var o,f=e.getAttribute("cm-marker");if(f){var d=t.findMarks(mt(i,0),mt(r+1,0),(m=+f,function(t){return t.id==m}));return void(d.length&&(o=d[0].find(0))&&c(lt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&l();for(var g=0;g<e.childNodes.length;g++)h(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(u=!0),p&&(s=!0)}else 3==e.nodeType&&c(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;h(e),e!=n;)e=e.nextSibling,u=!1;return o}(i,n,l,e,u)),f=lt(i.doc,mt(e,0),mt(u,ut(i.doc,u).text.length));h.length>1&&f.length>1;)if(X(h)==X(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),e++}for(var d=0,p=0,g=h[0],m=f[0],v=Math.min(g.length,m.length);d<v&&g.charCodeAt(d)==m.charCodeAt(d);)++d;for(var y=X(h),b=X(f),_=Math.min(y.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<_&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==f.length&&e==s.line)for(;d&&d>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var w=mt(e,d),C=mt(u,f.length?X(f).length-p:0);return h.length>1||h[0]||vt(w,C)?(co(i.doc,h,w,C,"+input"),!0):void 0},Is.prototype.ensurePolled=function(){this.forceCompositionEnd()},Is.prototype.reset=function(){this.forceCompositionEnd()},Is.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Is.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Is.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Gi(this.cm,function(){return Ji(t.cm)})},Is.prototype.setUneditable=function(t){t.contentEditable="false"},Is.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Xi(this.cm,As)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Is.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Is.prototype.onContextMenu=function(){},Is.prototype.resetPosition=function(){},Is.prototype.needsContentAttribute=!0;var Us=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};Us.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;function o(t){if(!oe(i,t)){if(i.somethingSelected())Ds({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=Ns(i);Ds({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,q):(n.prevInput="",r.value=e.text.join("\n"),F(r))}"cut"==t.type&&(i.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),ee(r,"input",function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),ee(r,"paste",function(t){oe(i,t)||Os(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),ee(r,"cut",o),ee(r,"copy",o),ee(t.scroller,"paste",function(e){En(t,e)||oe(i,e)||(i.state.pasteIncoming=!0,n.focus())}),ee(t.lineSpace,"selectstart",function(e){En(t,e)||le(e)}),ee(r,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ee(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Us.prototype.createField=function(t){this.wrapper=Bs(),this.textarea=this.wrapper.firstChild},Us.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=hi(t);if(t.options.moveInputWithCursor){var r=Gn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},Us.prototype.showSelection=function(t){var e=this.cm,n=e.display;D(n.cursorDiv,t.cursors),D(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Us.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&F(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Us.prototype.getField=function(){return this.textarea},Us.prototype.supportsTouch=function(){return!1},Us.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(t){}},Us.prototype.blur=function(){this.textarea.blur()},Us.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Us.prototype.receivedFocus=function(){this.slowPoll()},Us.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Us.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){var i=e.poll();i||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},Us.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||Ce(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(i.length,r.length);u<l&&i.charCodeAt(u)==r.charCodeAt(u);)++u;return Gi(e,function(){As(e,r.slice(u),i.length-u,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Us.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Us.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Us.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=ui(n,t),l=i.scroller.scrollTop;if(o&&!h){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(o)&&Xi(n,Xr)(n.doc,wr(o),q);var f,d=r.style.cssText,p=e.wrapper.style.cssText,g=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-g.top-5)+"px; left: "+(t.clientX-g.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(f=window.scrollY),i.input.focus(),u&&window.scrollTo(null,f),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=y,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&v(),E){fe(t);var m=function(){ie(window,"mouseup",m),setTimeout(y,20)};ee(window,"mouseup",m)}else setTimeout(y,50)}function v(){if(null!=r.selectionStart){var t=n.somethingSelected(),o=""+(t?r.value:"");r.value="",r.value=o,e.prevInput=t?"":"",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=p,r.style.cssText=d,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=l),null!=r.selectionStart)){(!s||s&&a<9)&&v();var t=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&""==e.prevInput?Xi(n,io)(n):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Us.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Us.prototype.setUneditable=function(){},Us.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,i,r,o){t.defaults[n]=i,r&&(e[n]=o?function(t,e,n){n!=ys&&r(t,e,n)}:r)}t.defineOption=n,t.Init=ys,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,xr(t)},!0),n("indentUnit",2,xr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){kr(t),jn(t),Ji(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(mt(i,o))}i++});for(var r=n.length-1;r>=0;r--)co(t.doc,e,n[r],mt(n[r].line,n[r].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ys&&t.refresh()}),n("specialCharPlaceholder",$e,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){vs(t),ws(t)},!0),n("keyMap","default",function(t,e,n){var i=Zo(e),r=n!=ys&&Zo(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Es,!0),n("gutters",[],function(t){fr(t.options),ws(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?oi(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Ii(t)},!0),n("scrollbarStyle","native",function(t){Wi(t),Ii(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t){fr(t.options),ws(t)},!0),n("firstLineNumber",1,ws,!0),n("lineNumberFormatter",function(t){return t},ws,!0),n("showCursorWhenSelecting",!1,ci,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(bi(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,Cs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ci,!0),n("singleCursorHeightPerLine",!0,ci,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,kr,!0),n("addModeClass",!1,kr,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,kr,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(Ss),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var i=this.options,r=i[t];i[t]==n&&"mode"!=t||(i[t]=n,e.hasOwnProperty(t)&&Xi(this,e[t])(this,n,r),re(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Zo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Mi(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)}(this.state.overlays,{mode:i,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,Ji(this)}),removeOverlay:Mi(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Ji(this)}}),indentLine:Mi(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),pt(this.doc,t)&&xs(this,t,e,n)}),indentSelection:Mi(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(xs(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&ki(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)xs(this,u,t);var l=this.doc.sel.ranges;0==o.ch&&e.length==l.length&&l[i].from().ch>0&&Zr(this.doc,i,new br(o,l[i].to()),q)}}}),getTokenAt:function(t,e){return Ye(this,t,e)},getLineTokens:function(t,e){return Ye(this,mt(t),e,!0)},getTokenTypeAt:function(t){t=Et(this.doc,t);var e,n=He(this,ut(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!n.hasOwnProperty(e))return i;var r=n[e],o=this.getModeAt(t);if("string"==typeof o[e])r[o[e]]&&i.push(r[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=r[o[e][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var u=0;u<r._global.length;u++){var l=r._global[u];l.pred(o,this)&&-1==W(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(t,e){var n=this.doc;return ze(this,(t=Ct(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Gn(this,null==t?n.head:"object"==typeof t?Et(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Kn(this,Et(this.doc,t),e||"page")},coordsChar:function(t,e){return Qn(this,(t=Zn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Zn(this,{top:t,left:0},e||"page").top,dt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var i,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),i=ut(this.doc,t)}else i=t;return Vn(this,i,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-Kt(i):0)},defaultTextHeight:function(){return ni(this.display)},defaultCharWidth:function(){return ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o,s,a,u=this.display,l=(t=Gn(this,Et(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),u.sizer.appendChild(e),"over"==i)l=t.top;else if("above"==i||"near"==i){var h=Math.max(u.wrapper.clientHeight,this.doc.height),f=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>h)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=h&&(l=t.bottom),c+e.offsetWidth>f&&(c=f-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==r?(c=u.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?c=0:"middle"==r&&(c=(u.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),n&&(o=this,s={left:c,top:l,right:c+e.offsetWidth,bottom:l+e.offsetHeight},null!=(a=Ti(o,s)).scrollTop&&Pi(o,a.scrollTop),null!=a.scrollLeft&&Li(o,a.scrollLeft))},triggerOnKeyDown:Mi(ss),triggerOnKeyPress:Mi(us),triggerOnKeyUp:as,triggerOnMouseDown:Mi(fs),execCommand:function(t){if(Qo.hasOwnProperty(t))return Qo[t].call(null,this)},triggerElectric:Mi(function(t){Ps(this,t)}),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=Et(this.doc,t),s=0;s<e&&!(o=Fs(this.doc,o,r,n,i)).hitSide;++s);return o},moveH:Mi(function(t,e){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Fs(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()},V)}),deleteH:Mi(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Ko(this,function(n){var r=Fs(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=Et(this.doc,t),a=0;a<e;++a){var u=Gn(this,s,"div");if(null==o?o=u.left:u.left=o,(s=Rs(this,u,r,n)).hitSide)break}return s},moveV:Mi(function(t,e){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=Gn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var u=Rs(n,a,t,e);return"page"==e&&s==i.sel.primary()&&xi(n,Kn(n,u,"div").top-a.top),u},V),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(t){var e=this.doc,n=ut(e,t.line).text,i=t.ch,r=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=n.length||!i?++r:--i;for(var s=n.charAt(i),a=et(s,o)?function(t){return et(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new br(mt(t.line,i),mt(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):x(this.display.cursorDiv,"CodeMirror-overwrite"),re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mi(function(t,e){Di(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-kn(this)-this.display.barHeight,width:t.scrollWidth-kn(this)-this.display.barWidth,clientHeight:An(this),clientWidth:Dn(this)}},scrollIntoView:Mi(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:mt(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ai(t),t.curOp.scrollToPos=e}(this,t):Oi(this,t.from,t.to,t.margin)}),setSize:Mi(function(t,e){var n=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&Wn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){$i(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,re(this,"refresh",this)}),operation:function(t){return Gi(this,t)},startOperation:function(){return Ui(this)},endOperation:function(){return qi(this)},refresh:Mi(function(){var t=this.display.cachedTextHeight;Ji(this),this.curOp.forceUpdate=!0,jn(this),Di(this,this.doc.scrollLeft,this.doc.scrollTop),lr(this),(null==t||Math.abs(t-ni(this.display))>.5)&&ai(this),re(this,"refresh",this)}),swapDoc:Mi(function(t){var e=this.doc;return e.cm=null,Pr(this,t),jn(this),this.display.input.reset(),Di(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ue(t),t.registerHelper=function(e,i,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][i]=r},t.registerGlobalHelper=function(e,i,r,o){t.registerHelper(e,i,o),n[e]._global.push({pred:r,val:o})}}(Ss);var qs="iter insert remove copy getEditor constructor".split(" ");for(var Ys in ko.prototype)ko.prototype.hasOwnProperty(Ys)&&W(qs,Ys)<0&&(Ss.prototype[Ys]=function(t){return function(){return t.apply(this.doc,arguments)}}(ko.prototype[Ys]));return ue(ko),Ss.inputStyles={textarea:Us,contenteditable:Is},Ss.defineMode=function(t){Ss.defaults.mode||"null"==t||(Ss.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Te[t]=e}.apply(this,arguments)},Ss.defineMIME=function(t,e){xe[t]=e},Ss.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Ss.defineMIME("text/plain","null"),Ss.defineExtension=function(t,e){Ss.prototype[t]=e},Ss.defineDocExtension=function(t,e){ko.prototype[t]=e},Ss.fromTextArea=function(t,e){if((e=e?I(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=N();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=a.getValue()}var r;if(t.form&&(ee(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ie(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var a=Ss(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a},function(t){t.off=ie,t.on=ee,t.wheelEventPixels=mr,t.Doc=ko,t.splitLines=we,t.countColumn=H,t.findColumn=Z,t.isWordChar=tt,t.Pass=U,t.signal=re,t.Line=Ke,t.changeEnd=Cr,t.scrollbarModel=zi,t.Pos=mt,t.cmpPos=vt,t.modes=Te,t.mimeModes=xe,t.resolveMode=ke,t.getMode=De,t.modeExtensions=Ae,t.extendMode=Oe,t.copyState=Pe,t.startState=Le,t.innerMode=Ne,t.commands=Qo,t.keyMap=zo,t.keyName=Vo,t.isModifierKey=qo,t.lookupKey=Uo,t.normalizeKeyMap=jo,t.StringStream=Be,t.SharedTextMarker=Eo,t.TextMarker=wo,t.LineWidget=yo,t.e_preventDefault=le,t.e_stopPropagation=ce,t.e_stop=fe,t.addClass=L,t.contains=P,t.rmClass=x,t.keyNames=Fo}(Ss),Ss.version="5.42.2",Ss}()},Y5Mo:function(t,e,n){"use strict";n.r(e);var i=n("BOjI");n.d(e,"Application",function(){return i.a}),n.d(e,"Context",function(){return i.b}),n.d(e,"Controller",function(){return i.c}),n.d(e,"defaultSchema",function(){return i.d})},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},bBJ9:function(t,e,n){"use strict";function i(t){return t.keys().map(function(e){return function(t,e){var n=r(e);if(n)return function(t,e){var n=t.default;if("function"==typeof n)return{identifier:e,controllerConstructor:n}}(t(e),n)}(t,e)}).filter(function(t){return t})}function r(t){var e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},bXjK:function(t,e,n){!function(t){"use strict";t.defineOption("fullScreen",!1,function(e,n,i){i==t.Init&&(i=!1),!i!=!n&&(n?function(t){var e=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height},e.style.width="",e.style.height="auto",e.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}(e):function(t){var e=t.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=t.state.fullScreenRestore;e.style.width=n.width,e.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),t.refresh()}(e))})}(n("VrN/"))},eeMe:function(t,e,n){"use strict";(function(t,e){var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){r(this,t)}return n(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};var e=this._callbacks[t];if(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0,s=s=e;;){if(o>=s.length)break;s[o++].apply(this,i)}}return this}},{key:"off",value:function(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var i=0;i<n.length;i++){if(n[i]===e){n.splice(i,1);break}}return this}}]),t}(),s=function(t){function e(t,n){r(this,e);var o,s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),a=void 0;if(s.element=t,s.version=e.version,s.defaultOptions.previewTemplate=s.defaultOptions.previewTemplate.replace(/\n*/g,""),s.clickableElements=[],s.listeners=[],s.files=[],"string"==typeof s.element&&(s.element=document.querySelector(s.element)),!s.element||null==s.element.nodeType)throw new Error("Invalid dropzone element.");if(s.element.dropzone)throw new Error("Dropzone already attached.");e.instances.push(s),s.element.dropzone=s;var u,l=null!=(o=e.optionsForElement(s.element))?o:{};if(s.options=e.extend({},s.defaultOptions,l,null!=n?n:{}),s.options.forceFallback||!e.isBrowserSupported())return u=s.options.fallback.call(s),i(s,u);if(null==s.options.url&&(s.options.url=s.element.getAttribute("action")),!s.options.url)throw new Error("No URL provided.");if(s.options.acceptedFiles&&s.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(s.options.uploadMultiple&&s.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return s.options.acceptedMimeTypes&&(s.options.acceptedFiles=s.options.acceptedMimeTypes,delete s.options.acceptedMimeTypes),null!=s.options.renameFilename&&(s.options.renameFile=function(t){return s.options.renameFilename.call(s,t.name,t)}),s.options.method=s.options.method.toUpperCase(),(a=s.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a),!1!==s.options.previewsContainer&&(s.options.previewsContainer?s.previewsContainer=e.getElement(s.options.previewsContainer,"previewsContainer"):s.previewsContainer=s.element),s.options.clickable&&(!0===s.options.clickable?s.clickableElements=[s.element]:s.clickableElements=e.getElements(s.options.clickable,"clickable")),s.init(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),n(e,null,[{key:"initClass",value:function(){this.prototype.Emitter=o,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var t=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var n=0,i=i=this.element.getElementsByTagName("div");;){if(n>=i.length)break;var r=i[n++];if(/(^| )dz-message($| )/.test(r.className)){t=r,r.className="dz-message";break}}t||(t=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var o=t.getElementsByTagName("span")[0];return o&&(null!=o.textContent?o.textContent=this.options.dictFallbackMessage:null!=o.innerText&&(o.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,n,i){var r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},o=t.width/t.height;null==e&&null==n?(e=r.srcWidth,n=r.srcHeight):null==e?e=n*o:null==n&&(n=e/o);var s=(e=Math.min(e,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>e||r.srcHeight>n)if("crop"===i)o>s?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/s);else{if("contain"!==i)throw new Error("Unknown resizeMethod '"+i+"'");o>s?n=e/o:e=n*o}return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=n,r},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);for(var i=0,r=r=t.previewElement.querySelectorAll("[data-dz-name]");;){if(i>=r.length)break;var o=r[i++];o.textContent=t.name}for(var s=0,a=a=t.previewElement.querySelectorAll("[data-dz-size]");!(s>=a.length);)(o=a[s++]).innerHTML=this.filesize(t.size);this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));for(var u=function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)},l=0,c=c=t.previewElement.querySelectorAll("[data-dz-remove]");;){if(l>=c.length)break;c[l++].addEventListener("click",u)}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var n=0,i=i=t.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(n>=i.length)break;var r=i[n++];r.alt=t.name,r.src=e}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error);for(var n=0,i=i=t.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(n>=i.length)break;i[n++].textContent=e}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,n){if(t.previewElement)for(var i=0,r=r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(i>=r.length)break;var o=r[i++];"PROGRESS"===o.nodeName?o.value=e:o.style.width=e+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=o=n;;){if(r>=o.length)break;var s=o[r++];for(var a in s){var u=s[a];t[a]=u}}return t}}]),n(e,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(t){return t.accepted}).map(function(t){return t})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(t){return!t.accepted}).map(function(t){return t})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(e.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(e.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(e.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(t){return t.status===e.UPLOADING||t.status===e.QUEUED}).map(function(t){return t})}},{key:"init",value:function(){var t=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function n(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",e.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e=t.hiddenFileInput.files;if(e.length)for(var i=0,r=r=e;!(i>=r.length);){var o=r[i++];t.addFile(o)}return t.emit("addedfiles",e),n()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var n=0,i=i=this.events;;){if(n>=i.length)break;var r=i[n++];this.on(r,this.options[r])}this.on("uploadprogress",function(){return t.updateTotalUploadProgress()}),this.on("removedfile",function(){return t.updateTotalUploadProgress()}),this.on("canceled",function(e){return t.emit("complete",e)}),this.on("complete",function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)});var o=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return o(e),t.emit("dragenter",e)},dragover:function(e){var n=void 0;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",o(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return o(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach(function(n){return t.listeners.push({element:n,events:{click:function(i){return(n!==t.element||i.target===t.element||e.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t=void 0,e=0,n=0;if(this.getActiveFiles().length){for(var i=0,r=r=this.getActiveFiles();;){if(i>=r.length)break;var o=r[i++];e+=o.upload.bytesSent,n+=o.upload.total}t=100*e/n}else t=100;return this.emit("totaluploadprogress",t,n,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var t,n=void 0;if(t=this.getExistingFallback())return t;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var r=e.createElement(i);return"FORM"!==this.element.tagName?(n=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:r}},{key:"getExistingFallback",value:function(){for(var t=function(t){for(var e=0,n=n=t;;){if(e>=n.length)break;var i=n[e++];if(/(^| )fallback($| )/.test(i.className))return i}},e=["div","form"],n=0;n<e.length;n++){var i,r=e[n];if(i=t(this.element.getElementsByTagName(r)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var n in t.events){var i=t.events[n];e.push(t.element.addEventListener(n,i,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var n in t.events){var i=t.events[n];e.push(t.element.removeEventListener(n,i,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,n="b";if(t>0){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var o=i[r];if(t>=Math.pow(this.options.filesizeBase,4-r)/10){e=t/Math.pow(this.options.filesizeBase,4-r),n=o;break}}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e=[],n=0;n<t.dataTransfer.files.length;n++)e[n]=t.dataTransfer.files[n];if(this.emit("addedfiles",e),e.length){var i=t.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)}}}},{key:"paste",value:function(t){if(null!=(e=null!=t?t.clipboardData:void 0,n=function(t){return t.items},null!=e?n(e):void 0)){var e,n;this.emit("paste",t);var i=t.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(t){for(var e=0,n=n=t;;){if(e>=n.length)break;var i=n[e++];this.addFile(i)}}},{key:"_addFilesFromItems",value:function(t){var e=this;return function(){for(var n=[],i=0,r=r=t;;){if(i>=r.length)break;var o,s=r[i++];null!=s.webkitGetAsEntry&&(o=s.webkitGetAsEntry())?o.isFile?n.push(e.addFile(s.getAsFile())):o.isDirectory?n.push(e._addFilesFromDirectory(o,o.name)):n.push(void 0):null!=s.getAsFile&&(null==s.kind||"file"===s.kind)?n.push(e.addFile(s.getAsFile())):n.push(void 0)}return n}()}},{key:"_addFilesFromDirectory",value:function(t,e){var n=this,i=t.createReader(),r=function(t){return e=console,n="log",i=function(e){return e.log(t)},null!=e&&"function"==typeof e[n]?i(e,n):void 0;var e,n,i};return function t(){return i.readEntries(function(i){if(i.length>0){for(var r=0,o=o=i;!(r>=o.length);){var s=o[r++];s.isFile?s.file(function(t){if(!n.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=e+"/"+t.name,n.addFile(t)}):s.isDirectory&&n._addFilesFromDirectory(s,e+"/"+s.name)}t()}return null},r)}()}},{key:"accept",value:function(t,n){return this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var n=this;return t.upload={uuid:e.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,n._errorProcessing([t],e)):(t.accepted=!0,n.options.autoQueue&&n.enqueueFile(t)),n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(t){for(var e=0,n=n=t;;){if(e>=n.length)break;var i=n[e++];this.enqueueFile(i)}return null}},{key:"enqueueFile",value:function(t){var n=this;if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return n.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(){return e._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return t.emit("thumbnail",e,n),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);for(var n=0,i=i=this.files.slice();;){if(n>=i.length)break;var r=i[n++];(r.status!==e.UPLOADING||t)&&this.removeFile(r)}return null}},{key:"resizeImage",value:function(t,n,i,r,o){var s=this;return this.createThumbnail(t,n,i,r,!0,function(n,i){if(null==i)return o(t);var r=s.options.resizeMimeType;null==r&&(r=t.type);var a=i.toDataURL(r,s.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(a=c.restore(t.dataURL,a)),o(e.dataURItoBlob(a))})}},{key:"createThumbnail",value:function(t,e,n,i,r,o){var s=this,a=new FileReader;return a.onload=function(){if(t.dataURL=a.result,"image/svg+xml"!==t.type)return s.createThumbnailFromUrl(t,e,n,i,r,o);null!=o&&o(a.result)},a.readAsDataURL(t)}},{key:"createThumbnailFromUrl",value:function(t,e,n,i,r,o,s){var a=this,u=document.createElement("img");return s&&(u.crossOrigin=s),u.onload=function(){var s=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(s=function(t){return EXIF.getData(u,function(){return t(EXIF.getTag(this,"Orientation"))})}),s(function(r){t.width=u.width,t.height=u.height;var s=a.options.resize.call(a,t,e,n,i),c=document.createElement("canvas"),h=c.getContext("2d");switch(c.width=s.trgWidth,c.height=s.trgHeight,r>4&&(c.width=s.trgHeight,c.height=s.trgWidth),r){case 2:h.translate(c.width,0),h.scale(-1,1);break;case 3:h.translate(c.width,c.height),h.rotate(Math.PI);break;case 4:h.translate(0,c.height),h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI),h.translate(0,-c.width);break;case 7:h.rotate(.5*Math.PI),h.translate(c.height,-c.width),h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI),h.translate(-c.height,0)}l(h,u,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var f=c.toDataURL("image/png");if(null!=o)return o(f,c)})},null!=o&&(u.onerror=o),u.src=t.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,n=e;if(!(e>=t)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-e));for(;n<t;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){for(var n=0,i=i=t;;){if(n>=i.length)break;var r=i[n++];r.processing=!0,r.status=e.UPLOADING,this.emit("processing",r)}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(t){return t})}},{key:"cancelUpload",value:function(t){if(t.status===e.UPLOADING){for(var n=this._getFilesWithXhr(t.xhr),i=0,r=r=n;;){if(i>=r.length)break;r[i++].status=e.CANCELED}void 0!==t.xhr&&t.xhr.abort();for(var o=0,s=s=n;;){if(o>=s.length)break;var a=s[o++];this.emit("canceled",a)}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else t.status!==e.ADDED&&t.status!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"==typeof t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.apply(this,n)}return t}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(t){var n=this;this._transformFiles(t,function(i){if(t[0].upload.chunked){var r=t[0],o=i[0];r.upload.chunks=[];var s=function(){for(var i=0;void 0!==r.upload.chunks[i];)i++;if(!(i>=r.upload.totalChunkCount)){0;var s=i*n.options.chunkSize,a=Math.min(s+n.options.chunkSize,r.size),u={name:n._getParamName(0),data:o.webkitSlice?o.webkitSlice(s,a):o.slice(s,a),filename:r.upload.filename,chunkIndex:i};r.upload.chunks[i]={file:r,index:i,dataBlock:u,status:e.UPLOADING,progress:0,retries:0},n._uploadData(t,[u])}};if(r.upload.finishedChunkUpload=function(i){var o=!0;i.status=e.SUCCESS,i.dataBlock=null,i.xhr=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(void 0===r.upload.chunks[a])return s();r.upload.chunks[a].status!==e.SUCCESS&&(o=!1)}o&&n.options.chunksUploaded(r,function(){n._finished(t,"",null)})},n.options.parallelChunkUploads)for(var a=0;a<r.upload.totalChunkCount;a++)s();else s()}else{for(var u=[],l=0;l<t.length;l++)u[l]={name:n._getParamName(l),data:i[l],filename:t[l].upload.filename};n._uploadData(t,u)}})}},{key:"_getChunk",value:function(t,e){for(var n=0;n<t.upload.totalChunkCount;n++)if(void 0!==t.upload.chunks[n]&&t.upload.chunks[n].xhr===e)return t.upload.chunks[n]}},{key:"_uploadData",value:function(t,n){for(var i=this,r=new XMLHttpRequest,o=0,s=s=t;;){if(o>=s.length)break;s[o++].xhr=r}t[0].upload.chunked&&(t[0].upload.chunks[n[0].chunkIndex].xhr=r);var a=this.resolveOption(this.options.method,t),u=this.resolveOption(this.options.url,t);r.open(a,u,!0),r.timeout=this.resolveOption(this.options.timeout,t),r.withCredentials=!!this.options.withCredentials,r.onload=function(e){i._finishedUploading(t,r,e)},r.onerror=function(){i._handleUploadError(t,r)},(null!=r.upload?r.upload:r).onprogress=function(e){return i._updateFilesUploadProgress(t,r,e)};var l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var c in this.options.headers&&e.extend(l,this.options.headers),l){var h=l[c];h&&r.setRequestHeader(c,h)}var f=new FormData;if(this.options.params){var d=this.options.params;for(var p in"function"==typeof d&&(d=d.call(this,t,r,t[0].upload.chunked?this._getChunk(t[0],r):null)),d){var g=d[p];f.append(p,g)}}for(var m=0,v=v=t;;){if(m>=v.length)break;var y=v[m++];this.emit("sending",y,r,f)}this.options.uploadMultiple&&this.emit("sendingmultiple",t,r,f),this._addFormElementData(f);for(var b=0;b<n.length;b++){var _=n[b];f.append(_.name,_.data,_.filename)}this.submitRequest(r,f,t)}},{key:"_transformFiles",value:function(t,e){for(var n=this,i=[],r=0,o=function(o){n.options.transformFile.call(n,t[o],function(n){i[o]=n,++r===t.length&&e(i)})},s=0;s<t.length;s++)o(s)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName)for(var e=0,n=n=this.element.querySelectorAll("input, textarea, select, button");;){if(e>=n.length)break;var i=n[e++],r=i.getAttribute("name"),o=i.getAttribute("type");if(o&&(o=o.toLowerCase()),null!=r)if("SELECT"===i.tagName&&i.hasAttribute("multiple"))for(var s=0,a=a=i.options;;){if(s>=a.length)break;var u=a[s++];u.selected&&t.append(r,u.value)}else(!o||"checkbox"!==o&&"radio"!==o||i.checked)&&t.append(r,i.value)}}},{key:"_updateFilesUploadProgress",value:function(t,e,n){var i=void 0;if(void 0!==n){if(i=100*n.loaded/n.total,t[0].upload.chunked){var r=t[0],o=this._getChunk(r,e);o.progress=i,o.total=n.total,o.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var s=0;s<r.upload.totalChunkCount;s++)void 0!==r.upload.chunks[s]&&void 0!==r.upload.chunks[s].progress&&(r.upload.progress+=r.upload.chunks[s].progress,r.upload.total+=r.upload.chunks[s].total,r.upload.bytesSent+=r.upload.chunks[s].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else for(var a=0,u=u=t;;){if(a>=u.length)break;var l=u[a++];l.upload.progress=i,l.upload.total=n.total,l.upload.bytesSent=n.loaded}for(var c=0,h=h=t;;){if(c>=h.length)break;var f=h[c++];this.emit("uploadprogress",f,f.upload.progress,f.upload.bytesSent)}}else{var d=!0;i=100;for(var p=0,g=g=t;;){if(p>=g.length)break;var m=g[p++];100===m.upload.progress&&m.upload.bytesSent===m.upload.total||(d=!1),m.upload.progress=i,m.upload.bytesSent=m.upload.total}if(d)return;for(var v=0,y=y=t;;){if(v>=y.length)break;var b=y[v++];this.emit("uploadprogress",b,i,b.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(t,n,i){var r=void 0;if(t[0].status!==e.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(r=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(t){i=t,r="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=n.status&&n.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],n)):this._finished(t,r,i):this._handleUploadError(t,n,r)}}},{key:"_handleUploadError",value:function(t,n,i){if(t[0].status!==e.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(t[0],n);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var o=0,s=s=t;;){if(o>=s.length)break;s[o++];this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}}},{key:"submitRequest",value:function(t,e,n){t.send(e)}},{key:"_finished",value:function(t,n,i){for(var r=0,o=o=t;;){if(r>=o.length)break;var s=o[r++];s.status=e.SUCCESS,this.emit("success",s,n,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,n,i){for(var r=0,o=o=t;;){if(r>=o.length)break;var s=o[r++];s.status=e.ERROR,this.emit("error",s,n,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}}]),e}();s.initClass(),s.version="5.5.1",s.options={},s.optionsForElement=function(t){return t.getAttribute("id")?s.options[u(t.getAttribute("id"))]:void 0},s.instances=[],s.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},s.autoDiscover=!0,s.discover=function(){var t=void 0;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var e=function(e){return function(){for(var n=[],i=0,r=r=e;;){if(i>=r.length)break;var o=r[i++];/(^| )dropzone($| )/.test(o.className)?n.push(t.push(o)):n.push(void 0)}return n}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){for(var e=[],n=0,i=i=t;;){if(n>=i.length)break;var r=i[n++];!1!==s.optionsForElement(r)?e.push(new s(r)):e.push(void 0)}return e}()},s.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],s.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var e=0,n=n=s.blacklistedBrowsers;;){if(e>=n.length)break;n[e++].test(navigator.userAgent)&&(t=!1)}else t=!1;else t=!1;return t},s.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i),o=0,s=e.length,a=0<=s;a?o<=s:o>=s;a?o++:o--)r[o]=e.charCodeAt(o);return new Blob([i],{type:n})};var a=function(t,e){return t.filter(function(t){return t!==e}).map(function(t){return t})},u=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};s.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},s.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},s.getElement=function(t,e){var n=void 0;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},s.getElements=function(t,e){var n=void 0,i=void 0;if(t instanceof Array){i=[];try{for(var r=0,o=o=t;!(r>=o.length);)n=o[r++],i.push(this.getElement(n,e))}catch(t){i=null}}else if("string"==typeof t){i=[];for(var s=0,a=a=document.querySelectorAll(t);!(s>=a.length);)n=a[s++],i.push(n)}else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},s.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},s.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");for(var n=t.type,i=n.replace(/\/.*$/,""),r=0,o=o=e;;){if(r>=o.length)break;var s=o[r++];if("."===(s=s.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0}return!1},null!=t&&(t.fn.dropzone=function(t){return this.each(function(){return new s(this,t)})}),null!==e?e.exports=s:window.Dropzone=s,s.ADDED="added",s.QUEUED="queued",s.ACCEPTED=s.QUEUED,s.UPLOADING="uploading",s.PROCESSING=s.UPLOADING,s.CANCELED="canceled",s.ERROR="error",s.SUCCESS="success";var l=function(t,e,n,i,r,o,s,a,u,l){var c=function(t){t.naturalWidth;var e=t.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=e;var i=n.getContext("2d");i.drawImage(t,0,0);for(var r=i.getImageData(1,0,1,e).data,o=0,s=e,a=e;a>o;)0===r[4*(a-1)+3]?s=a:o=a,a=s+o>>1;var u=a/e;return 0===u?1:u}(e);return t.drawImage(e,n,i,r,o,s,a,u,l/c)},c=function(){function t(){r(this,t)}return n(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e="",n=void 0,i=void 0,r="",o=void 0,s=void 0,a=void 0,u="",l=0;o=(n=t[l++])>>2,s=(3&n)<<4|(i=t[l++])>>4,a=(15&i)<<2|(r=t[l++])>>6,u=63&r,isNaN(i)?a=u=64:isNaN(r)&&(u=64),e=e+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(u),n=i=r="",o=s=a=u="",l<t.length;);return e}},{key:"restore",value:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var n=this.decode64(t.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)}},{key:"exifManipulation",value:function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(t){for(var e=void 0,n=0;n<t.length;){if(255===(e=t[n])[0]&225===e[1])return e;n++}return[]}},{key:"insertExif",value:function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return a=(a=a.concat(e)).concat(s)}},{key:"slice2Segments",value:function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n}},{key:"decode64",value:function(t){var e=void 0,n=void 0,i="",r=void 0,o=void 0,s="",a=0,u=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(a++))<<2|(r=this.KEY_STR.indexOf(t.charAt(a++)))>>4,n=(15&r)<<4|(o=this.KEY_STR.indexOf(t.charAt(a++)))>>2,i=(3&o)<<6|(s=this.KEY_STR.indexOf(t.charAt(a++))),u.push(e),64!==o&&u.push(n),64!==s&&u.push(i),e=n=i="",r=o=s="",a<t.length;);return u}}]),t}();c.initClass();s._autoDiscoverFunction=function(){if(s.autoDiscover)return s.discover()},function(t,e){var n=!1,i=!0,r=t.document,o=r.documentElement,s=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",u=r.addEventListener?"":"on",l=function i(o){if("readystatechange"!==o.type||"complete"===r.readyState)return("load"===o.type?t:r)[a](u+o.type,i,!1),!n&&(n=!0)?e.call(t,o.type||o):void 0};if("complete"!==r.readyState){if(r.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(t){}i&&function t(){try{o.doScroll("left")}catch(e){return void setTimeout(t,50)}return l("poll")}()}r[s](u+"DOMContentLoaded",l,!1),r[s](u+"readystatechange",l,!1),t[s](u+"load",l,!1)}}(window,s._autoDiscoverFunction)}).call(this,n("EVdn"),n("YuTi")(t))},endd:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},eqyj:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},hKaO:function(t,e,n){"use strict";n.r(e),function(t){var n,i,r='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',o="\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+(n="caret-color",i="#000",(CSS?CSS.supports(n,i):function(t){return(t=t.split("-").filter(function(t){return!!t}).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join(""))[0].toLowerCase()+t.substr(1)}(n)in document.body.style)?"#fff":"#ccc")+";\n    z-index: 1;\n    resize: none;\n    font-family: "+r+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - 40px);\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+r+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: 13px;\n    line-height: 20px;\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - 40px);\n    left: 40px;\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: 20px;\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: 20px;\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 40px;\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: 40px;\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 40px;\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n";function s(t,e,n){var i=e||"codeflask-style",r=n||document.head;if(!t)return!1;if(document.getElementById(i))return!0;var o=document.createElement("style");return o.innerHTML=t,o.id=i,r.appendChild(o),!0}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function u(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return a[t]})}var l="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var c=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t){var e="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},n=function(){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i=e.Prism={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof r?new r(t.type,i.util.encode(t.content),t.alias):"Array"===i.util.type(t)?t.map(i.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function(t,e){var n=i.util.type(t);switch(e=e||{},n){case"Object":if(e[i.util.objId(t)])return e[i.util.objId(t)];var r={};for(var o in e[i.util.objId(t)]=r,t)t.hasOwnProperty(o)&&(r[o]=i.util.clone(t[o],e));return r;case"Array":return e[i.util.objId(t)]?e[i.util.objId(t)]:(r=[],e[i.util.objId(t)]=r,t.forEach(function(t,n){r[n]=i.util.clone(t,e)}),r)}return t}},languages:{extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){var o=(r=r||i.languages)[t];if(2==arguments.length){for(var s in n=arguments[1])n.hasOwnProperty(s)&&(o[s]=n[s]);return o}var a={};for(var u in o)if(o.hasOwnProperty(u)){if(u==e)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);a[u]=o[u]}return i.languages.DFS(i.languages,function(e,n){n===r[t]&&e!=t&&(this[e]=a)}),r[t]=a},DFS:function(t,e,n,r){for(var o in r=r||{},t)t.hasOwnProperty(o)&&(e.call(t,o,t[o],n||o),"Object"!==i.util.type(t[o])||r[i.util.objId(t[o])]?"Array"!==i.util.type(t[o])||r[i.util.objId(t[o])]||(r[i.util.objId(t[o])]=!0,i.languages.DFS(t[o],e,o,r)):(r[i.util.objId(t[o])]=!0,i.languages.DFS(t[o],e,null,r)))}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var r={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r);for(var o,s=r.elements||t.querySelectorAll(r.selector),a=0;o=s[a++];)i.highlightElement(o,!0===e,r.callback)},highlightElement:function(n,r,o){for(var s,a,u=n;u&&!t.test(u.className);)u=u.parentNode;u&&(s=(u.className.match(t)||[,""])[1].toLowerCase(),a=i.languages[s]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+s,n.parentNode&&(u=n.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+s));var l={element:n,language:s,grammar:a,code:n.textContent};if(i.hooks.run("before-sanity-check",l),!l.code||!l.grammar)return l.code&&(i.hooks.run("before-highlight",l),l.element.textContent=l.code,i.hooks.run("after-highlight",l)),void i.hooks.run("complete",l);if(i.hooks.run("before-highlight",l),r&&e.Worker){var c=new Worker(i.filename);c.onmessage=function(t){l.highlightedCode=t.data,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(l.element),i.hooks.run("after-highlight",l),i.hooks.run("complete",l)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else l.highlightedCode=i.highlight(l.code,l.grammar,l.language),i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o&&o.call(n),i.hooks.run("after-highlight",l),i.hooks.run("complete",l)},highlight:function(t,e,n){var o={code:t,grammar:e,language:n};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),r.stringify(i.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,n,r,o,s,a){var u=i.Token;for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==a)return;var c=n[l];c="Array"===i.util.type(c)?c:[c];for(var h=0;h<c.length;++h){var f=c[h],d=f.inside,p=!!f.lookbehind,g=!!f.greedy,m=0,v=f.alias;if(g&&!f.pattern.global){var y=f.pattern.toString().match(/[imuy]*$/)[0];f.pattern=RegExp(f.pattern.source,y+"g")}f=f.pattern||f;for(var b=r,_=o;b<e.length;_+=e[b].length,++b){var w=e[b];if(e.length>t.length)return;if(!(w instanceof u)){if(g&&b!=e.length-1){if(f.lastIndex=_,!(k=f.exec(t)))break;for(var C=k.index+(p?k[1].length:0),E=k.index+k[0].length,S=b,T=_,x=e.length;S<x&&(T<E||!e[S].type&&!e[S-1].greedy);++S)C>=(T+=e[S].length)&&(++b,_=T);if(e[b]instanceof u)continue;D=S-b,w=t.slice(_,T),k.index-=_}else{f.lastIndex=0;var k=f.exec(w),D=1}if(k){p&&(m=k[1]?k[1].length:0),E=(C=k.index+m)+(k=k[0].slice(m)).length;var A=w.slice(0,C),O=w.slice(E),P=[b,D];A&&(++b,_+=A.length,P.push(A));var N=new u(l,d?i.tokenize(k,d):k,v,k,g);if(P.push(N),O&&P.push(O),Array.prototype.splice.apply(e,P),1!=D&&i.matchGrammar(t,e,n,b,_,!0,l),s)break}else if(s)break}}}}},tokenize:function(t,e,n){var r=[t],o=e.rest;if(o){for(var s in o)e[s]=o[s];delete e.rest}return i.matchGrammar(t,r,e,0,0,!1),r},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var r,o=0;r=n[o++];)r(e)}}},r=i.Token=function(t,e,n,i,r){this.type=t,this.content=e,this.alias=n,this.length=0|(i||"").length,this.greedy=!!r};if(r.stringify=function(t,e,n){if("string"==typeof t)return t;if("Array"===i.util.type(t))return t.map(function(n){return r.stringify(n,e,t)}).join("");var o={type:t.type,content:r.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n};if(t.alias){var s="Array"===i.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,s)}i.hooks.run("wrap",o);var a=Object.keys(o.attributes).map(function(t){return t+'="'+(o.attributes[t]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(a?" "+a:"")+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,s=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),s&&e.close()},!1),e.Prism):e.Prism;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(i.filename=o.src,i.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(i.highlightAll):window.setTimeout(i.highlightAll,16):document.addEventListener("DOMContentLoaded",i.highlightAll))),e.Prism}();t.exports&&(t.exports=n),void 0!==l&&(l.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),n.languages.xml=n.languages.markup,n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},n.languages.css.atrule.inside.rest=n.languages.css,n.languages.markup&&(n.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:n.languages.css,alias:"language-css",greedy:!0}}),n.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:n.languages.css}},alias:"language-css"}},n.languages.markup.tag)),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[[^\]\r\n]+]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},constant:/\b[A-Z][A-Z\d_]*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}}}),n.languages.javascript["template-string"].inside.interpolation.inside.rest=n.languages.javascript,n.languages.markup&&n.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:n.languages.javascript,alias:"language-javascript",greedy:!0}}),n.languages.js=n.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(e){for(var i,r=e.getAttribute("data-src"),o=e,s=/\blang(?:uage)?-([\w-]+)\b/i;o&&!s.test(o.className);)o=o.parentNode;if(o&&(i=(e.className.match(s)||[,""])[1]),!i){var a=(r.match(/\.(\w+)$/)||[,""])[1];i=t[a]||a}var u=document.createElement("code");u.className="language-"+i,e.textContent="",u.textContent="Loading",e.appendChild(u);var l=new XMLHttpRequest;l.open("GET",r,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?(u.textContent=l.responseText,n.highlightElement(u)):l.status>=400?u.textContent=" Error "+l.status+" while fetching file: "+l.statusText:u.textContent=" Error: File does not exist or is empty")},l.send(null)}),n.plugins.toolbar&&n.plugins.toolbar.registerButton("download-file",function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),i=document.createElement("a");return i.textContent=e.getAttribute("data-download-link-label")||"Download",i.setAttribute("download",""),i.href=n,i}})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}),h=function(t,e){if(!t)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!e)throw Error("CodeFlask expects an object containing options as second parameter");if(t.nodeType)this.editorRoot=t;else{var n=document.querySelector(t);n&&(this.editorRoot=n)}this.opts=e,this.startEditor()};h.prototype.startEditor=function(){if(!s(o,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},h.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},h.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},h.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},h.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},h.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},h.prototype.createElement=function(t,e){var n=document.createElement(t);return e.appendChild(n),n},h.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&s("\n.codeflask {\n  background: #fff;\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n","theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},h.prototype.updateLineNumbersCount=function(){for(var t="",e=1;e<=this.lineNumber;e++)t=t+'<span class="codeflask__lines__line">'+e+"</span>";this.elLineNumbers.innerHTML=t},h.prototype.listenTextarea=function(){var t=this;this.elTextarea.addEventListener("input",function(e){t.code=e.target.value,t.elCode.innerHTML=u(e.target.value),t.highlight(),setTimeout(function(){t.runUpdate(),t.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){t.handleTabs(e),t.handleSelfClosingCharacters(e),t.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){t.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",t.elLineNumbers&&(t.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},h.prototype.handleTabs=function(t){if(this.opts.handleTabs){if(9!==t.keyCode)return;t.preventDefault(),t.keyCode;var e=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,i=""+this.code.substring(0,e)+" ".repeat(this.opts.tabSize)+this.code.substring(n);this.updateCode(i),this.elTextarea.selectionEnd=n+this.opts.tabSize}},h.prototype.handleSelfClosingCharacters=function(t){var e=t.key;if(["(","[","{","<"].includes(e))switch(e){case"(":this.closeCharacter(")");break;case"[":this.closeCharacter("]");break;case"{":this.closeCharacter("}");break;case"<":this.closeCharacter(">")}},h.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},h.prototype.handleNewLineIndentation=function(t){t.keyCode},h.prototype.closeCharacter=function(t){var e=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,i=""+this.code.substring(0,e)+t+this.code.substring(n);this.updateCode(i),this.elTextarea.selectionEnd=n},h.prototype.updateCode=function(t){this.code=t,this.elTextarea.value=t,this.elCode.innerHTML=u(t),this.highlight(),setTimeout(this.runUpdate.bind(this),1)},h.prototype.updateLanguage=function(t){var e=this.opts.language;this.elCode.classList.remove("language-"+e),this.elCode.classList.add("language-"+t),this.opts.language=t,this.highlight()},h.prototype.addLanguage=function(t,e){c.languages[t]=e},h.prototype.populateDefault=function(){this.updateCode(this.code)},h.prototype.highlight=function(){c.highlightElement(this.elCode,!1)},h.prototype.onUpdate=function(t){if(t&&"[object Function]"!=={}.toString.call(t))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=t},h.prototype.getCode=function(){return this.code},h.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},h.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},h.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")},e.default=h}.call(this,n("yLpj"))},"jfS+":function(t,e,n){"use strict";var i=n("endd");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},"kVK+":function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}},lZu9:function(t,e,n){!function(t){"use strict";t.defineMode("markdown",function(e,n){var i=t.getMode(e,"text/html"),r="null"==i.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(o[s]=n.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,u=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,l=/^\[(x| )\](?=\s)/i,c=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,h=/^ *(?:\={1,}|-{1,})\s*$/,f=/^[^#!\[\]*_\\<>` "'(~:]+/,d=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,p=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function m(t,e,n){return e.f=e.inline=n,n(t,e)}function v(t,e,n){return e.f=e.block=n,n(t,e)}function y(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==_){var n=r;if(!n){var o=t.innerMode(i,e.htmlState);n="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(e.f=S,e.block=b,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function b(i,r){var s,f=i.column()===r.indentation,g=!(s=r.prevLine.stream)||!/\S/.test(s.string),v=r.indentedCode,y=r.prevLine.hr,b=!1!==r.list,_=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var E=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,b)){for(r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,r.list=null;E<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=E-r.listStack[r.listStack.length-1])}var S=!(g||y||r.prevLine.header||b&&v||r.prevLine.fencedCodeEnd),T=(!1===r.list||y||g)&&r.indentation<=_&&i.match(a),x=null;if(r.indentationDiff>=4&&(v||r.prevLine.fencedCodeEnd||r.prevLine.header||g))return i.skipToEnd(),r.indentedCode=!0,o.code;if(i.eatSpace())return null;if(f&&r.indentation<=_&&(x=i.match(c))&&x[1].length<=6)return r.quote=0,r.header=x[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,C(r);if(r.indentation<=_&&i.eat(">"))return r.quote=f?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),i.eatSpace(),C(r);if(!T&&!r.setext&&f&&r.indentation<=_&&(x=i.match(u))){var k=x[1]?"ol":"ul";return r.indentation=E+i.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),n.taskLists&&i.match(l,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+k]),C(r)}return f&&r.indentation<=_&&(x=i.match(d,!0))?(r.quote=0,r.fencedEndRE=new RegExp(x[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&function(n){if(t.findModeByName){var i=t.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=t.getMode(e,n);return"null"==r.name?null:r}(x[2]),r.localMode&&(r.localState=t.startState(r.localMode)),r.f=r.block=w,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,C(r)):r.setext||!(S&&b||r.quote||!1!==r.list||r.code||T||p.test(i.string))&&(x=i.lookAhead(1))&&(x=x.match(h))?(r.setext?(r.header=r.setext,r.setext=0,i.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==x[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,C(r)):T?(i.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,o.hr):"["===i.peek()?m(i,r,D):m(i,r,r.inline)}function _(e,n){var o=i.token(e,n.htmlState);if(!r){var s=t.innerMode(i,n.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||n.md_inside&&e.current().indexOf(">")>-1)&&(n.f=S,n.block=b,n.htmlState=null)}return o}function w(t,e){var i,r=e.listStack[e.listStack.length-1]||0,s=e.indentation<r,a=r+3;return e.fencedEndRE&&e.indentation<=a&&(s||t.match(e.fencedEndRE))?(n.highlightFormatting&&(e.formatting="code-block"),s||(i=C(e)),e.localMode=e.localState=null,e.block=b,e.f=S,e.fencedEndRE=null,e.code=0,e.thisLine.fencedCodeEnd=!0,s?v(t,e,e.block):i):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),o.code)}function C(t){var e=[];if(t.formatting){e.push(o.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var i=0;i<t.formatting.length;i++)e.push(o.formatting+"-"+t.formatting[i]),"header"===t.formatting[i]&&e.push(o.formatting+"-"+t.formatting[i]+"-"+t.header),"quote"===t.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=t.quote?e.push(o.formatting+"-"+t.formatting[i]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(o.linkHref,"url"):(t.strong&&e.push(o.strong),t.em&&e.push(o.em),t.strikethrough&&e.push(o.strikethrough),t.emoji&&e.push(o.emoji),t.linkText&&e.push(o.linkText),t.code&&e.push(o.code),t.image&&e.push(o.image),t.imageAltText&&e.push(o.imageAltText,"link"),t.imageMarker&&e.push(o.imageMarker)),t.header&&e.push(o.header,o.header+"-"+t.header),t.quote&&(e.push(o.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=t.quote?e.push(o.quote+"-"+t.quote):e.push(o.quote+"-"+n.maxBlockquoteDepth)),!1!==t.list){var r=(t.listStack.length-1)%3;r?1===r?e.push(o.list2):e.push(o.list3):e.push(o.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function E(t,e){if(t.match(f,!0))return C(e)}function S(e,r){var s=r.text(e,r);if(void 0!==s)return s;if(r.list)return r.list=null,C(r);if(r.taskList){var a=" "===e.match(l,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,C(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&e.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),C(r);var u=e.next();if(r.linkTitle){r.linkTitle=!1;var c=u;"("===u&&(c=")");var h="^\\s*(?:[^"+(c=(c+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(e.match(new RegExp(h),!0))return o.linkHref}if("`"===u){var f=r.formatting;n.highlightFormatting&&(r.formatting="code"),e.eatWhile("`");var d=e.current().length;if(0!=r.code||r.quote&&1!=d){if(d==r.code){var p=C(r);return r.code=0,p}return r.formatting=f,C(r)}return r.code=d,C(r)}if(r.code)return C(r);if("\\"===u&&(e.next(),n.highlightFormatting)){var m=C(r),y=o.formatting+"-escape";return m?m+" "+y:y}if("!"===u&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),C(r);if("["===u&&r.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),C(r);if("]"===u&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var m=C(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=x,m}if("["===u&&!r.image)return r.linkText&&e.match(/^.*?\]/)?C(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),C(r));if("]"===u&&r.linkText){n.highlightFormatting&&(r.formatting="link");var m=C(r);return r.linkText=!1,r.inline=r.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?x:S,m}if("<"===u&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=T,n.highlightFormatting&&(r.formatting="link");var m=C(r);return m?m+=" ":m="",m+o.linkInline}if("<"===u&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=T,n.highlightFormatting&&(r.formatting="link");var m=C(r);return m?m+=" ":m="",m+o.linkEmail}if(n.xml&&"<"===u&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=e.string.indexOf(">",e.pos);if(-1!=b){var w=e.string.substring(e.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return e.backUp(1),r.htmlState=t.startState(i),v(e,r,_)}if(n.xml&&"<"===u&&e.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===u||"_"===u){for(var E=1,k=1==e.pos?" ":e.string.charAt(e.pos-2);E<3&&e.eat(u);)E++;var D=e.peek()||" ",A=!/\s/.test(D)&&(!g.test(D)||/\s/.test(k)||g.test(k)),O=!/\s/.test(k)&&(!g.test(k)||/\s/.test(D)||g.test(D)),P=null,N=null;if(E%2&&(r.em||!A||"*"!==u&&O&&!g.test(k)?r.em!=u||!O||"*"!==u&&A&&!g.test(D)||(P=!1):P=!0),E>1&&(r.strong||!A||"*"!==u&&O&&!g.test(k)?r.strong!=u||!O||"*"!==u&&A&&!g.test(D)||(N=!1):N=!0),null!=N||null!=P){n.highlightFormatting&&(r.formatting=null==P?"strong":null==N?"em":"strong em"),!0===P&&(r.em=u),!0===N&&(r.strong=u);var p=C(r);return!1===P&&(r.em=!1),!1===N&&(r.strong=!1),p}}else if(" "===u&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return C(r);e.backUp(1)}if(n.strikethrough)if("~"===u&&e.eatWhile(u)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var p=C(r);return r.strikethrough=!1,p}if(e.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),C(r)}else if(" "===u&&e.match(/^~~/,!0)){if(" "===e.peek())return C(r);e.backUp(2)}if(n.emoji&&":"===u&&e.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var L=C(r);return r.emoji=!1,L}return" "===u&&(e.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),C(r)}function T(t,e){var i=t.next();if(">"===i){e.f=e.inline=S,n.highlightFormatting&&(e.formatting="link");var r=C(e);return r?r+=" ":r="",r+o.linkInline}return t.match(/^[^>]+/,!0),o.linkInline}function x(t,e){if(t.eatSpace())return null;var i,r=t.next();return"("===r||"["===r?(e.f=e.inline=(i="("===r?")":"]",function(t,e){var r=t.next();if(r===i){e.f=e.inline=S,n.highlightFormatting&&(e.formatting="link-string");var o=C(e);return e.linkHref=!1,o}return t.match(k[i]),e.linkHref=!0,C(e)}),n.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,C(e)):"error"}var k={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function D(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=A,t.next(),n.highlightFormatting&&(e.formatting="link"),e.linkText=!0,C(e)):m(t,e,S)}function A(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=O,n.highlightFormatting&&(e.formatting="link");var i=C(e);return e.linkText=!1,i}return t.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function O(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=S,o.linkHref+" url")}var P={startState:function(){return{f:b,prevLine:{stream:null},thisLine:{stream:null},block:b,htmlState:null,indentation:0,inline:S,text:E,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(i,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine.stream){if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0))return y(e),null;if(e.prevLine=e.thisLine,e.thisLine={stream:t},e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,!e.localState&&(e.f=e.block,e.f!=_)){var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentation=n,e.indentationDiff=null,n>0)return null}}return e.f(t,e)},innerMode:function(t){return t.block==_?{state:t.htmlState,mode:i}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:P}},indent:function(e,n,r){return e.block==_&&i.indent?i.indent(e.htmlState,n,r):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,n,r):t.Pass},blankLine:y,getType:C,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return P},"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")}(n("VrN/"),n("1eCo"),n("8EBN"))},mUiM:function(t,e,n){!function(t){"use strict";function e(t){t.state.markedSelection&&t.operation(function(){!function(t){if(!t.somethingSelected())return a(t);if(t.listSelections().length>1)return u(t);var e=t.getCursor("start"),n=t.getCursor("end"),r=t.state.markedSelection;if(!r.length)return s(t,e,n);var l=r[0].find(),c=r[r.length-1].find();if(!l||!c||n.line-e.line<=i||o(e,c.to)>=0||o(n,l.from)<=0)return u(t);for(;o(e,l.from)>0;)r.shift().clear(),l=r[0].find();for(o(e,l.from)<0&&(l.to.line-e.line<i?(r.shift().clear(),s(t,e,l.to,0)):s(t,e,l.from,0));o(n,c.to)<0;)r.pop().clear(),c=r[r.length-1].find();o(n,c.to)>0&&(n.line-c.from.line<i?(r.pop().clear(),s(t,c.from,n)):s(t,c.to,n))}(t)})}function n(t){t.state.markedSelection&&t.state.markedSelection.length&&t.operation(function(){a(t)})}t.defineOption("styleSelectedText",!1,function(i,r,o){var s=o&&o!=t.Init;r&&!s?(i.state.markedSelection=[],i.state.markedSelectionStyle="string"==typeof r?r:"CodeMirror-selectedtext",u(i),i.on("cursorActivity",e),i.on("change",n)):!r&&s&&(i.off("cursorActivity",e),i.off("change",n),a(i),i.state.markedSelection=i.state.markedSelectionStyle=null)});var i=8,r=t.Pos,o=t.cmpPos;function s(t,e,n,s){if(0!=o(e,n))for(var a=t.state.markedSelection,u=t.state.markedSelectionStyle,l=e.line;;){var c=l==e.line?e:r(l,0),h=l+i,f=h>=n.line,d=f?n:r(h,0),p=t.markText(c,d,{className:u});if(null==s?a.push(p):a.splice(s++,0,p),f)break;l=h}}function a(t){for(var e=t.state.markedSelection,n=0;n<e.length;++n)e[n].clear();e.length=0}function u(t){a(t);for(var e=t.listSelections(),n=0;n<e.length;n++)s(t,e[n].from(),e[n].to())}}(n("VrN/"))},mVcw:function(t,e){!function(){"use strict";function t(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function e(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function n(t){return t.titleHeight+t.margins.top+t.paddings.top}function i(t){return t.margins.left+t.paddings.left}function r(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function o(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}function s(t){return parseFloat(t.toFixed(2))}function a(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=i?t[0]:t[t.length-1]);var r=new Array(Math.abs(e)).fill(n);return i?r.concat(t):t.concat(r)}function u(t,e){return(t+"").length*e}function l(t,e){return{x:Math.sin(t*st)*e,y:Math.cos(t*st)*e}}function c(t,e){var n=void 0,i=void 0;return t<=e?(n=e-t,i=t):(n=t-e,i=e),[n,i]}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=a(t,n):e=a(e,n),[t,e]}function f(t){return t>255?255:t<0?0:t}function d(t,e){var n=lt(t),i=!1;"#"==n[0]&&(n=n.slice(1),i=!0);var r=parseInt(n,16),o=f((r>>16)+e),s=f((r>>8&255)+e);return(i?"#":"")+(f((255&r)+e)|s<<8|o<<16).toString(16)}function p(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function g(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e){var r=e[i];if("inside"===i)p(r).appendChild(n);else if("around"===i){var o=p(r);o.parentNode.insertBefore(n,o),n.appendChild(o)}else"styles"===i?"object"===(void 0===r?"undefined":V(r))&&Object.keys(r).map(function(t){n.style[t]=r[t]}):("className"===i&&(i="class"),"innerHTML"===i?n.textContent=r:n.setAttribute(i,r))}return n}function m(t,e,n,i){return g("stop",{inside:t,style:"stop-color: "+n,offset:e,"stop-opacity":i})}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={className:t,transform:e};return n&&(i.inside=n),g("g",i)}function y(t){return g("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:t,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none"}})}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),r=function(t,e){return g("linearGradient",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}(t,i),o=[1,.6,.2];return n&&(o=[.4,.2,0]),m(r,"0%",e,o[0]),m(r,"50%",e,o[1]),m(r,"100%",e,o[2]),i}function _(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"none",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s={className:t,x:e,y:n,width:i,height:i,fill:r};return Object.keys(o).map(function(t){s[t]=o[t]}),g("rect",s)}function w(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.fontSize||ft;return g("text",{className:t,x:e,y:n,dy:(void 0!==r.dy?r.dy:o/2)+"px","font-size":o+"px",fill:r.fill||pt,"text-anchor":r.textAnchor||"start",innerHTML:i})}function C(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=dt),r.lineType||(r.lineType="");var o=g("line",{className:"line-horizontal "+r.className+("dashed"===r.lineType?"dashed":""),x1:n,x2:i,y1:0,y2:0,styles:{stroke:r.stroke}}),s=g("text",{x:n<i?n-ht:n+ht,y:0,dy:ft/2-2+"px","font-size":ft+"px","text-anchor":n<i?"end":"start",innerHTML:e+""}),a=g("g",{transform:"translate(0, "+t+")","stroke-opacity":1});return 0!==s&&"0"!==s||(a.style.stroke="rgba(27, 31, 35, 0.6)"),a.appendChild(o),a.appendChild(s),a}function E(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.pos||(i.pos="bottom"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=dt),i.className||(i.className="");var r=n+ct,o="span"===i.mode?-1*ct:n;return"tick"===i.mode&&"top"===i.pos&&(r=-1*ct,o=0),function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r.stroke||(r.stroke=dt);var o=g("line",{className:"line-vertical "+r.className,x1:0,x2:0,y1:n,y2:i,styles:{stroke:r.stroke}}),s=g("text",{x:0,y:n>i?n+ht:n-ht-ft,dy:ft+"px","font-size":ft+"px","text-anchor":"middle",innerHTML:e+""}),a=g("g",{transform:"translate("+t+", 0)"});return a.appendChild(o),a.appendChild(s),a}(t,e,r,o,{stroke:i.stroke,className:i.className,lineType:i.lineType})}function S(t,e,n,i){var r="string"==typeof e?e:e.join(", ");return[t,{transform:n.join(", ")},i,wt,"translate",{transform:r}]}function T(t,e,n){return S(t,[0,n],[0,e],bt)}function x(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=c(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),s=Q(o,2),a=s[0],u=s[1];return u-=r,"rect"!==t.nodeName?[[t.childNodes[0],{width:i,height:a},vt,wt],S(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],bt)]:[[t,{width:i,height:a,x:e,y:u},vt,wt]]}function k(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function D(t,e){var n=[],i=[];e.map(function(t){var e,r,o=t[0],s=o.parentNode;t[0]=o;var a=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=t.cloneNode(!0),a=t.cloneNode(!0);for(var u in e){var l=void 0;l="transform"===u?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=o[u]||t.getAttribute(u),h=e[u],f={attributeName:u,from:c,to:h,begin:"0s",dur:n/1e3+"s",values:c+";"+h,keySplines:Ct[i],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var d in r&&(f.type=r),f)l.setAttribute(d,f[d]);s.appendChild(l),r?a.setAttribute(u,"translate("+h+")"):a.setAttribute(u,h)}return[s,a]}.apply(void 0,J(t)),u=Q(a,2);e=u[0],r=u[1],n.push(r),i.push([e,s]),s.replaceChild(e,o)});var r=t.cloneNode(!0);return i.map(function(t,i){t[1].replaceChild(n[i],t[0]),e[i][0]=n[i]}),r}function A(e){var n=e.cloneNode(!0);n.classList.add("chart-container"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var i=t.create("style",{innerHTML:Et});n.insertBefore(i,n.firstChild);var r=t.create("div");return r.appendChild(n),r.innerHTML}function O(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function P(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function N(t){return new Date(t.getTime())}function L(t,e){var n=I(t);return Math.ceil(function(t,e){var n=At*Dt;return(O(e)-O(t))/n}(n,e)/kt)}function B(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function F(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ot[t];return e?n.slice(0,3):n}function R(t,e){return new Date(e,t+1,0)}function I(t){var e=N(t),n=e.getDay();return 0!==n&&H(e,-1*n),e}function H(t,e){t.setDate(t.getDate()+e)}function z(t,e,n){var i=Object.keys(Lt).filter(function(e){return t.includes(e)}),r=Lt[i[0]];return Object.assign(r,{constants:e,getData:n}),new Nt(r)}function W(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=W(t),i=Q(n,2),r=i[0],o=i[1],s=e?e/Math.pow(10,o):0,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),i=Math.floor(e),r=n-i,o=r,s=1;r>5&&(r%2!=0&&(r=++n-i),o=r/2,s=2),r<=2&&(s=r/(o=4)),0===r&&(o=5,s=1);for(var a=[],u=0;u<=o;u++)a.push(i+s*u);return a}(r=r.toFixed(6),s);return a.map(function(t){return t*Math.pow(10,o)})}function U(t){return t[1]-t[0]}function q(t,e){return s(e.zeroLine-t*e.scaleMultiplier)}function Y(t,e){return e.filter(function(e){return e<t}).length}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:1;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}',{});var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z=(function(){function t(t){function e(i,r){try{var o=t[i](r),s=o.value;s instanceof function(t){this.value=t}?Promise.resolve(s.value).then(function(t){e("next",t)},function(t){e("throw",t)}):n(o.done?"return":"normal",o.value)}catch(t){n("throw",t)}}function n(t,n){switch(t){case"return":i.resolve({value:n,done:!0});break;case"throw":i.reject(n);break;default:i.resolve({value:n,done:!1})}(i=i.next)?e(i.key,i.arg):r=null}var i,r;this._invoke=function(t,n){return new Promise(function(o,s){var a={key:t,arg:n,resolve:o,reject:s,next:null};r?r=r.next=a:(i=r=a,e(t,n))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),K=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),G=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},X=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},M=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Q=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),J=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};t.create=function(e,n){var i=document.createElement(e);for(var r in n){var o=n[r];if("inside"===r)t(o).appendChild(i);else if("around"===r){var s=t(o);s.parentNode.insertBefore(i,s),i.appendChild(s)}else"styles"===r?"object"===(void 0===o?"undefined":V(o))&&Object.keys(o).map(function(t){i.style[t]=o[t]}):r in i?i[r]=o:i.setAttribute(r,o)}return i};var $={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},tt=700,et=["line","bar"],nt=2,it=7,rt=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],ot={bar:rt,line:rt,pie:rt,percentage:rt,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"]},st=Math.PI/180,at=function(){function e(t){var n=t.parent,i=void 0===n?null:n,r=t.colors,o=void 0===r?[]:r;Z(this,e),this.parent=i,this.colors=o,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return K(e,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=t.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e,n=this;this.index&&this.container.setAttribute("data-point-index",this.index),e=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=e,this.dataPointList.innerHTML="",this.listValues.map(function(e,i){var r=n.colors[i]||"black",o=0===e.formatted||e.formatted?e.formatted:e.value,s=t.create("li",{styles:{"border-top":"3px solid "+r},innerHTML:'<strong style="display: block;">'+(0===o||o?o:"")+"</strong>\n\t\t\t\t\t"+(e.title?e.title:"")});n.dataPointList.appendChild(s)})}},{key:"calcPosition",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>e){var i="calc(50% + "+(this.left-e)+"px)";n.style.left=i,this.left=e}else n.style.left="50%"}},{key:"setValues",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=i,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=r,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),e}(),ut={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},lt=function(t){return ut[t]||t},ct=6,ht=4,ft=10,dt="#dadada",pt="#555b51",gt={bar:function(t){var e=void 0;"rect"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute("r"),r=t.getAttribute("fill");return n.setAttribute("r",parseInt(i)+4),n.setAttribute("fill",r),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},mt={bar:function(t,e){var n=void 0;"rect"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["x","y","width","height"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)},dot:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)},heat_square:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var i=["cx","cy"];Object.values(t.attributes).filter(function(t){return i.includes(t.name)&&t.specified}).map(function(t){e.setAttribute(t.name,t.nodeValue)}),n&&e.setAttribute("transform",n)}},vt=350,yt=350,bt=vt,_t=250,wt="easein",Ct={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},Et=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",St=void 0,Tt=function(){function e(t,n){if(Z(this,e),this.parent="string"==typeof t?document.querySelector(t):t,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:1},this.measures=JSON.parse(JSON.stringify($));var i=this.measures;this.setMeasures(n),this.title.length||(i.titleHeight=0),this.config.showLegend||(i.legendHeight=0),this.argHeight=n.height||i.baseHeight,this.state={},this.options={},this.initTimeout=tt,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return K(e,[{key:"prepareData",value:function(t){return t}},{key:"prepareFirstData",value:function(t){return t}},{key:"validateColors",value:function(t,e){var n=[];return(t=(t||[]).concat(ot[e])).forEach(function(t){var e=lt(t);!function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}(e)?console.warn('"'+t+'" is not a valid color.'):n.push(e)}),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var t=this.argHeight;this.baseHeight=t,this.height=t-r(this.measures),St=this.boundDrawFn.bind(this),window.addEventListener("resize",St),window.addEventListener("orientationchange",this.boundDrawFn.bind(this))}},{key:"boundDrawFn",value:function(){this.draw(!0)}},{key:"unbindWindowEvents",value:function(){window.removeEventListener("resize",St),window.removeEventListener("orientationchange",this.boundDrawFn.bind(this))}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=t.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new at({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(e){return e.setup(t.drawArea)}),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout(function(){t.update(t.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(n)}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){var t,e,n;this.baseWidth=(t=this.parent,e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),t.clientWidth-n),this.width=this.baseWidth-o(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var t=this.measures;this.svg=function(t,e,n,i){return g("svg",{className:e,inside:t,width:n,height:i})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(t){return g("defs",{inside:t})}(this.svg),this.title.length&&(this.titleEL=w("title",t.margins.left,t.margins.top,this.title,{fontSize:t.titleFontSize,fill:"#666666",dy:t.titleFontSize}));var e=n(t);this.drawArea=v(this.type+"-chart chart-draw-area","translate("+i(t)+", "+e+")"),this.config.showLegend&&(e+=this.height+t.paddings.bottom,this.legendArea=v("chart-legend","translate("+i(t)+", "+e+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(i(t),n(t))}},{key:"updateTipOffset",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.calc(),this.render()}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map(function(t){return t.parentNode.removeChild(t)});var i=[];e.forEach(function(t){i=i.concat(t.update(n))}),i.length>0?(function(t,e,n){if(0!==n.length){var i=D(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(i)),setTimeout(function(){i.parentNode==t&&(t.removeChild(i),t.appendChild(e))},_t)}}(this.container,this.svg,i),setTimeout(function(){e.forEach(function(t){return t.make()}),t.updateNav()},400)):(e.forEach(function(t){return t.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(e){(function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)})(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var t=A(this.svg);!function(t,e){var n=document.createElement("a");n.style="display: none";var i=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),r=window.URL.createObjectURL(i);n.href=r,n.download=t,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(r)},300)}(this.title||"Chart",[t])}}]),e}(),xt=function(t){function e(t,n){return Z(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return X(e,Tt),K(e,[{key:"configure",value:function(t){G(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var i=this.data.labels.map(function(e,n){var i=0;return t.data.datasets.map(function(t){i+=t.values[n]}),[i,e]}).filter(function(t){return t[0]>=0}),r=i;if(i.length>n){i.sort(function(t,e){return e[0]-t[0]}),r=i.slice(0,n-1);var o=0;i.slice(n-1).map(function(t){o+=t[0]}),r.push([o,"Rest"]),this.colors[n-1]="grey"}e.labels=[],r.map(function(t){e.sliceTotals.push(t[0]),e.labels.push(t[1])}),e.grandTotal=e.sliceTotals.reduce(function(t,e){return t+e},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,e=this.state;this.legendArea.textContent="",this.legendTotals=e.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,i=0;this.legendTotals.map(function(r,s){var a=Math.floor((t.width-o(t.measures))/110);n>a&&(n=0,i+=20);var u=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4],o={className:"legend-dot",cx:0,cy:0,r:n,fill:i},s=g("text",{className:"legend-dataset-text",x:0,y:0,dx:ft+"px",dy:ft/3+"px","font-size":1.2*ft+"px","text-anchor":"start",fill:pt,innerHTML:r}),a=g("g",{transform:"translate("+t+", "+e+")"});return a.appendChild(g("circle",o)),a.appendChild(s),a}(110*n+5,i,5,t.colors[s],e.labels[s]+": "+r);t.legendArea.appendChild(u),n++})}}]),e}(),kt=7,Dt=1e3,At=86400,Ot=["January","February","March","April","May","June","July","August","September","October","November","December"],Pt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Nt=function(){function t(e){var n=e.layerClass,i=void 0===n?"":n,r=e.layerTransform,o=void 0===r?"":r,s=e.constants,a=e.getData,u=e.makeElements,l=e.animateElements;Z(this,t),this.layerTransform=o,this.constants=s,this.makeElements=u,this.getData=a,this.animateElements=l,this.store=[],this.labels=[],this.layerClass=i,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return K(t,[{key:"refresh",value:function(t){this.data=t||this.getData()}},{key:"setup",value:function(t){this.layer=v(this.layerClass,this.layerTransform,t)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent="",this.store.forEach(function(t){e.layer.appendChild(t)}),this.labels.forEach(function(t){e.layer.appendChild(t)})}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),Lt={pieSlices:{layerClass:"pie-slices",makeElements:function(t){return t.sliceStrings.map(function(e,n){var i=y(e,"pie-path","none",t.colors[n]);return i.style.transition="transform .3s;",i})},animateElements:function(t){return this.store.map(function(e,n){return function(t,e){return[t,{d:e},vt,wt]}(e,t.sliceStrings[n])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(t){var e=this;return t.xPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nt,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return g("rect",{className:"percentage-bar",x:t,y:e,width:n,height:i,fill:o,styles:{stroke:d(o,-25),"stroke-dasharray":"0, "+(i+n)+", "+n+", "+i,"stroke-width":r}})}(n,0,t.widths[i],e.constants.barHeight,e.constants.barDepth,t.colors[i])})},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:"y axis",makeElements:function(t){var e=this;return t.positions.map(function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.pos||(i.pos="left"),i.offset||(i.offset=0),i.mode||(i.mode="span"),i.stroke||(i.stroke=dt),i.className||(i.className="");var r=-1*ct,o="span"===i.mode?n+ct:0;return"tick"===i.mode&&"right"===i.pos&&(r=n+ct,o=n),C(t,e,r+=i.offset,o+=i.offset,{stroke:i.stroke,className:i.className,lineType:i.lineType})}(n,t.labels[i],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(t){var e=t.positions,n=t.labels,i=this.oldData.positions,r=this.oldData.labels,o=h(i,e),s=Q(o,2);i=s[0],e=s[1];var a=h(r,n),u=Q(a,2);return r=u[0],n=u[1],this.render({positions:i,labels:n}),this.store.map(function(t,n){return T(t,e[n],i[n])})}},xAxis:{layerClass:"x axis",makeElements:function(t){var e=this;return t.positions.map(function(n,i){return E(n,t.calcLabels[i],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(t){var e=t.positions,n=t.calcLabels,i=this.oldData.positions,r=this.oldData.calcLabels,o=h(i,e),s=Q(o,2);i=s[0],e=s[1];var a=h(r,n),u=Q(a,2);return r=u[0],n=u[1],this.render({positions:i,calcLabels:n}),this.store.map(function(t,n){return function(t,e,n){return S(t,[n,0],[e,0],bt)}(t,e[n],i[n])})}},yMarkers:{layerClass:"y-markers",makeElements:function(t){var e=this;return t.map(function(t){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.labelPos||(i.labelPos="right");var r=g("text",{className:"chart-label",x:"left"===i.labelPos?ht:n-u(e,5)-ht,y:0,dy:ft/-2+"px","font-size":ft+"px","text-anchor":"start",innerHTML:e+""}),o=C(t,"",0,n,{stroke:i.stroke||dt,className:i.className||"",lineType:i.lineType});return o.appendChild(r),o}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(t){var e=h(this.oldData,t),n=Q(e,2);this.oldData=n[0];var i=(t=n[1]).map(function(t){return t.position}),r=t.map(function(t){return t.label}),o=t.map(function(t){return t.options}),s=this.oldData.map(function(t){return t.position});return this.render(s.map(function(t,e){return{position:s[e],label:r[e],options:o[e]}})),this.store.map(function(t,e){return T(t,i[e],s[e])})}},yRegions:{layerClass:"y-regions",makeElements:function(t){var e=this;return t.map(function(t){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t-e,s=g("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:dt,"stroke-dasharray":n+", "+o},x:0,y:0,width:n,height:o});r.labelPos||(r.labelPos="right");var a=g("text",{className:"chart-label",x:"left"===r.labelPos?ht:n-u(i+"",4.5)-ht,y:0,dy:ft/-2+"px","font-size":ft+"px","text-anchor":"start",innerHTML:i+""}),l=g("g",{transform:"translate(0, "+e+")"});return l.appendChild(s),l.appendChild(a),l}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})})},animateElements:function(t){var e=h(this.oldData,t),n=Q(e,2);this.oldData=n[0];var i=(t=n[1]).map(function(t){return t.endPos}),r=t.map(function(t){return t.label}),o=t.map(function(t){return t.startPos}),s=t.map(function(t){return t.options}),a=this.oldData.map(function(t){return t.endPos}),u=this.oldData.map(function(t){return t.startPos});this.render(a.map(function(t,e){return{startPos:u[e],endPos:a[e],label:r[e],options:s[e]}}));var l=[];return this.store.map(function(t,e){l=l.concat(function(t,e,n,i){var r=e-n,o=t.childNodes[0];return[[o,{height:r,"stroke-dasharray":o.getAttribute("width")+", "+r},bt,wt],S(t,[0,i],[0,n],bt)]}(t,o[e],i[e],a[e]))}),l}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,i=n.index,r=n.colWidth,o=n.rowHeight,s=n.squareSize,a=n.xTranslate,u=0;return this.serializedSubDomains=[],t.cols.map(function(t,n){1===n&&e.labels.push(w("domain-name",a,-12,F(i,!0).toUpperCase(),{fontSize:9})),t.map(function(t,n){if(t.fill){var i={"data-date":t.yyyyMmDd,"data-value":t.dataValue,"data-day":n},r=_("day",a,u,s,t.fill,i);e.serializedSubDomains.push(r)}u+=o}),u=0,a+=r}),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="bar",this.units=t.yPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=c(e,a.zeroLine),l=Q(u,2),h=l[0],f=l[1];f-=s,0===h&&(h=a.minHeight,f-=a.minHeight);var d=g("rect",{className:"bar mini",style:"fill: "+i,"data-point-index":o,x:t,y:f,width:n,height:h});if((r+="")||r.length){d.setAttribute("y",0),d.setAttribute("x",0);var p=g("text",{className:"data-point-value",x:n/2,y:0,dy:ft/2*-1+"px","font-size":ft+"px","text-anchor":"middle",innerHTML:r}),m=g("g",{"data-point-index":o,transform:"translate("+t+", "+f+")"});return m.appendChild(d),m.appendChild(p),m}return d}(t.xPositions[i],n,t.barWidth,e.color,t.labels[i],i,t.offsets[i],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.offsets,r=t.labels,o=this.oldData.xPositions,s=this.oldData.yPositions,a=this.oldData.offsets,u=this.oldData.labels,l=h(o,e),c=Q(l,2);o=c[0],e=c[1];var f=h(s,n),d=Q(f,2);s=d[0],n=d[1];var p=h(a,i),g=Q(p,2);a=g[0],i=g[1];var m=h(u,r),v=Q(m,2);u=v[0],r=v[1],this.render({xPositions:o,yPositions:s,offsets:a,labels:r,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var y=[];return this.store.map(function(r,o){y=y.concat(x(r,e[o],n[o],t.barWidth,i[o],{zeroLine:t.zeroLine}))}),y}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.map(function(e,n){return t[n]+","+e}).join("L"),s=y("M"+o,"line-graph-path",n);if(i.heatline){var a=b(r.svgDefs,n);s.style.stroke="url(#"+a+")"}var u={path:s};if(i.regionFill){var l=b(r.svgDefs,n,!0),c="M"+t[0]+","+r.zeroLine+"L"+o+"L"+t.slice(-1)[0]+","+r.zeroLine;u.region=y(c,"region-fill","none","url(#"+l+")")}return u}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.hideDots||(this.units=t.yPositions.map(function(n,i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=g("circle",{style:"fill: "+i,"data-point-index":o,cx:t,cy:e,r:n});if((r+="")||r.length){s.setAttribute("cy",0),s.setAttribute("cx",0);var a=g("text",{className:"data-point-value",x:0,y:0,dy:ft/2*-1-n+"px","font-size":ft+"px","text-anchor":"middle",innerHTML:r}),u=g("g",{"data-point-index":o,transform:"translate("+t+", "+e+")"});return u.appendChild(s),u.appendChild(a),u}return s}(t.xPositions[i],n,t.radius,e.color,e.valuesOverPoints?t.values[i]:"",i)})),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.values,r=this.oldData.xPositions,o=this.oldData.yPositions,s=this.oldData.values,a=h(r,e),u=Q(a,2);r=u[0],e=u[1];var l=h(o,n),c=Q(l,2);o=c[0],n=c[1];var f=h(s,i),d=Q(f,2);s=d[0],i=d[1],this.render({xPositions:r,yPositions:o,values:i,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var p=[];return Object.keys(this.paths).length&&(p=p.concat(function(t,e,n,i){var r=[],o=n.map(function(t,n){return e[n]+","+t}).join("L"),s=[t.path,{d:"M"+o},yt,wt];if(r.push(s),t.region){var a=e[0]+","+i+"L",u="L"+e.slice(-1)[0]+", "+i,l=[t.region,{d:"M"+a+o+u},yt,wt];r.push(l)}return r}(this.paths,e,n,t.zeroLine))),this.units.length&&this.units.map(function(t,i){p=p.concat(function(t,e,n){return"circle"!==t.nodeName?[S(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],bt)]:[[t,{cx:e,cy:n},vt,wt]]}(t,e[i],n[i]))}),p}}},Bt=function(t){function n(t,e){Z(this,n);var i=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.type="percentage",i.setup(),i}return X(n,xt),K(n,[{key:"setMeasures",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||nt,e.paddings.right=30,e.legendHeight=80,e.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var t=this.state,e=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map(function(t){var e=z.apply(void 0,J(t));return[t[0],e]}))}},{key:"calc",value:function(){var t=this;G(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calc",this).call(this);var e=this.state;e.xPositions=[],e.widths=[];var i=0;e.sliceTotals.map(function(n){var r=t.width*n/e.grandTotal;e.widths.push(r),e.xPositions.push(i),i+=r})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,n=this.state;this.container.addEventListener("mousemove",function(i){var r=t.components.get("percentageBars").store,o=i.target;if(r.includes(o)){var s=r.indexOf(o),a=e(t.container),u=e(o),l=u.left-a.left+parseInt(o.getAttribute("width"))/2,c=u.top-a.top,h=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[s]:t.state.labels[s])+": ",f=n.sliceTotals[s]/n.grandTotal;t.tip.setValues(l,c,{name:h,value:(100*f).toFixed(1)+"%"}),t.tip.showTip()}})}}]),n}(),Ft=function(t){function n(t,e){Z(this,n);var i=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.type="pie",i.initTimeout=0,i.init=1,i.setup(),i}return X(n,xt),K(n,[{key:"configure",value:function(t){G(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;G(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calc",this).call(this);var e=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var i=this.radius,r=this.clockWise,o=e.slicesProperties||[];e.sliceStrings=[],e.slicesProperties=[];var s=180-this.config.startAngle;e.sliceTotals.map(function(n,a){var u=s,c=n/e.grandTotal*360,h=r?-c:c,f=s+=h,d=l(u,i),p=l(f,i),g=t.init&&o[a],m=void 0,v=void 0;t.init?(m=g?g.startPosition:d,v=g?g.endPosition:d):(m=d,v=p);var y=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=n.x+t.x,s=n.y+t.y,a=n.x+e.x,u=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+o+" "+s+"\n\t\tA "+i+" "+i+" 0 0 "+(r?1:0)+"\n\t\t"+a+" "+u+" z"}(m,v,t.center,t.radius,t.clockWise);e.sliceStrings.push(y),e.slicesProperties.push({startPosition:d,endPosition:p,value:n,total:e.grandTotal,startAngle:u,endAngle:f,angle:h})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map(function(t){var e=z.apply(void 0,J(t));return[t[0],e]}))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,i=l(t.startAngle+t.angle/2,e);return"translate3d("+i.x*n+"px,"+i.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,n,i,r){if(t){var o=this.colors[n];if(i){k(t,this.calTranslateByAngle(this.state.slicesProperties[n])),t.style.fill=d(o,50);var s=e(this.svg),a=r.pageX-s.left+10,u=r.pageY-s.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[n]:this.state.labels[n])+": ",c=(100*this.state.sliceTotals[n]/this.state.grandTotal).toFixed(1);this.tip.setValues(a,u,{name:l,value:c+"%"}),this.tip.showTip()}else k(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=o}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("pieSlices").store,i=this.curActiveSliceIndex,r=this.curActiveSlice;if(n.includes(e)){var o=n.indexOf(e);this.hoverSlice(r,i,!1),this.curActiveSlice=e,this.curActiveSliceIndex=o,this.hoverSlice(e,o,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),n}(),Rt=function(t){function e(t,n){Z(this,e);var i=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.type="heatmap",i.countLabel=n.countLabel||"";var r=["Sunday","Monday"],o=r.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return i.startSubDomainIndex=r.indexOf(o),i.setup(),i}return X(e,Tt),K(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=12*kt+r(e);var n=this.data,i=this.discreteDomains?12:0;this.independentWidth=12*(L(n.start,n.end)+i)+o(e)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=12*(e+t)+o(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach(function(n){var i=new Date(n*Dt);e[P(i)]=t.dataPoints[n]}),t.dataPoints=e}return t}},{key:"calc",value:function(){var t=this.state;t.start=N(this.data.start),t.end=N(this.data.end),t.firstWeekStart=N(t.start),t.noOfWeeks=L(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,J(t)),i=1/(e-1),r=[],o=0;o<e;o++){var s=n*(i*o);r.push(s)}return r}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,i=e.domainConfigs.map(function(i,r){return["heatDomain",{index:i.index,colWidth:12,rowHeight:12,squareSize:10,xTranslate:12*e.domainConfigs.filter(function(t,e){return e<r}).map(function(t){return t.cols.length-n}).reduce(function(t,e){return t+e},0)},function(){return e.domainConfigs[r]}.bind(t)]});this.components=new Map(i.map(function(t,e){var n=z.apply(void 0,J(t));return[t[0]+"-"+e,n]}));var r=0;Pt.forEach(function(e,n){if([1,3,5].includes(n)){var i=w("subdomain-name",-6,r,e,{fontSize:10,dy:8,textAnchor:"end"});t.drawArea.appendChild(i)}r+=12})}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(e){t.components.forEach(function(n){var i=n.store,r=e.target;if(i.includes(r)){var o=r.getAttribute("data-value"),s=r.getAttribute("data-date").split("-"),a=F(parseInt(s[1])-1,!0),u=t.container.getBoundingClientRect(),l=r.getBoundingClientRect(),c=parseInt(e.target.getAttribute("width")),h=l.left-u.left+c/2,f=l.top-u.top,d=o+" "+t.countLabel,p=" on "+a+" "+s[0]+", "+s[2];t.tip.setValues(h,f,{name:p,value:d,valueFirst:1},[]),t.tip.showTip()}})})}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var e=0,n=w("subdomain-name",e,12,"Less",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(n),this.colors.slice(0,5).map(function(n,i){var r=_("heatmap-legend-unit",e+15*i,12,10,n);t.legendArea.appendChild(r)});var i=w("subdomain-name",e+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(i)}},{key:"getDomains",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],i=e[1],r=[t.end.getMonth(),t.end.getFullYear()],o=r[0]-n+1+12*(r[1]-i),s=[],a=N(t.start),u=0;u<o;u++){var l=t.end;if(!B(a,t.end)){var c=[a.getMonth(),a.getFullYear()];l=R(c[0],c[1])}s.push(this.getDomainConfig(a,l)),H(l,1),a=l}return s}},{key:"getDomainConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.getMonth(),t.getFullYear()],i=n[0],r=n[1],o=I(t),s={index:i,cols:[]};H(e=N(e)||R(i,r),1);for(var a=L(o,e),u=[],l=void 0,c=0;c<a;c++)l=this.getCol(o,i),u.push(l),H(o=new Date(l[kt-1].yyyyMmDd),1);return void 0!==l[kt-1].dataValue&&(H(o,1),u.push(this.getCol(o,i,!0))),s.cols=u,s}},{key:"getCol",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.state,r=N(t),o=[],s=0;s<kt;s++,H(r,1)){var a={},u=r>=i.start&&r<=i.end;n||r.getMonth()!==e||!u?a.yyyyMmDd=P(r):a=this.getSubDomainConfig(r),o.push(a)}return o}},{key:"getSubDomainConfig",value:function(t){var e=P(t),n=this.data.dataPoints[e];return{yyyyMmDd:e,dataValue:n||0,fill:this.colors[Y(n,this.state.distribution)]}}}]),e}(),It=function(t){function r(t,e){Z(this,r);var n=M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return n.barOptions=e.barOptions||{},n.lineOptions=e.lineOptions||{},n.type=e.type||"line",n.init=1,n.setup(),n}return X(r,Tt),K(r,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){G(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return function(t,e){t.labels=t.labels||[];var n=t.labels.length,i=t.datasets,r=new Array(n).fill(0);return i||(i=[{values:r}]),i.map(function(t){if(t.values){var i=t.values;i=(i=i.map(function(t){return isNaN(t)?0:t})).length>n?i.slice(0,n):a(i,n-i.length,0)}else t.values=r;t.chartType||(et.includes(e),t.chartType=e)}),t.yRegions&&t.yRegions.map(function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}}),t}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,e=t.labels.length,n=new Array(e).fill(0),i={labels:t.labels.slice(0,-1),datasets:t.datasets.map(function(t){return{name:"",values:n.slice(0,-1),chartType:t.chartType}})},t.yMarkers&&(i.yMarkers=[{value:0,label:""}]),t.yRegions&&(i.yRegions=[{start:0,end:0,label:""}]),i;var t,e,n,i}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map(function(e,n){return s(t.xOffset+n*t.unitWidth)})}}},{key:"calcYAxisParameters",value:function(t){var e=function(t){function e(t,e){for(var n=j(t),i=n[1]-n[0],r=0,o=1;r<e;o++)r+=i,n.unshift(-1*r);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Math.max.apply(Math,J(t)),r=Math.min.apply(Math,J(t)),o=[];if(i>=0&&r>=0)W(i)[1],o=n?j(i,r):j(i);else if(i>0&&r<0){var s=Math.abs(r);i>=s?(W(i)[1],o=e(i,s)):(W(s)[1],o=e(s,i).map(function(t){return-1*t}))}else if(i<=0&&r<=0){var a=Math.abs(r),u=Math.abs(i);W(a)[1],o=(o=n?j(a,u):j(a)).reverse().map(function(t){return-1*t})}return o}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/function(t){return t[t.length-1]-t[0]}(e),i=U(e)*n,r=this.height-function(t){var e=U(t);return t.indexOf(0)>=0?t.indexOf(0):t[0]>0?-1*t[0]/e:-1*t[t.length-1]/e+(t.length-1)}(e)*i;this.state.yAxis={labels:e,positions:e.map(function(t){return r-t*n}),scaleMultiplier:n,zeroLine:r},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,e=function(e){return e.map(function(e){return q(e,t.yAxis)})};t.datasets=this.data.datasets.map(function(t,n){var i=t.values,r=t.cumulativeYs||[];return{name:t.name,index:n,chartType:t.chartType,values:i,yPositions:e(i),cumulativeYs:r,cumulativeYPos:e(r)}})}},{key:"calcYExtremes",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map(function(e){e.yPositions.map(function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)})}))}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(e){return e.position=q(e.value,t.yAxis),e.options||(e.options={}),e})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(e){return e.startPos=q(e.start,t.yAxis),e.endPos=q(e.end,t.yAxis),e.options||(e.options={}),e}))}},{key:"getAllYValues",value:function(){var t,e=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var i=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(t,r){var o=e.data.datasets[r].values;t[n]=i=i.map(function(t,e){return t+o[e]})})}var r=this.data.datasets.map(function(t){return t[n]});return this.data.yMarkers&&r.push(this.data.yMarkers.map(function(t){return t.value})),this.data.yRegions&&this.data.yRegions.map(function(t){r.push([t.end,t.start])}),(t=[]).concat.apply(t,J(r))}},{key:"setupComponents",value:function(){var t=this,e=[["yAxis",{mode:this.config.yAxisMode,width:this.width},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t/e.length;i<=0&&(i=1);var r=i/it;return e.map(function(t,e){return(t+="").length>r&&(n?e%Math.ceil(t.length/r)!=0&&(t=""):t=r-3>0?t.slice(0,r-3)+" ...":t.slice(0,r)+".."),t})}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter(function(t){return"bar"===t.chartType}),i=this.state.datasets.filter(function(t){return"line"===t.chartType}),r=n.map(function(e){var i=e.index;return["barGraph-"+e.index,{index:i,color:t.colors[i],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:.01*t.height},function(){var t=this.state,e=t.datasets[i],r=this.barOptions.stacked,o=this.barOptions.spaceRatio||.5,s=t.unitWidth*(1-o),a=s/(r?1:n.length),u=t.xAxis.positions.map(function(t){return t-s/2});r||(u=u.map(function(t){return t+a*i}));var l=new Array(t.datasetLength).fill("");this.config.valuesOverPoints&&(l=r&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var c=new Array(t.datasetLength).fill(0);return r&&(c=e.yPositions.map(function(t,n){return t-e.cumulativeYPos[n]})),{xPositions:u,yPositions:e.yPositions,offsets:c,labels:l,zeroLine:t.yAxis.zeroLine,barsWidth:s,barWidth:a}}.bind(t)]}),o=i.map(function(e){var n=e.index;return["lineGraph-"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],i=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:i,radius:this.lineOptions.dotSize||4}}.bind(t)]}),s=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(r,o,s);var a=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(e.filter(function(e){return!a.includes(e[0])||t.state[e[0]]}).map(function(e){var n=z.apply(void 0,J(e));return(e[0].includes("lineGraph")||e[0].includes("barGraph"))&&t.dataUnitComponents.push(n),[e[0],n]}))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,i=this.config.formatTooltipY;e.xAxis.labels.map(function(r,o){var s=t.state.datasets.map(function(e,n){var r=e.values[o];return{title:e.name,value:r,yPos:e.yPositions[o],color:t.colors[n],formatted:i?i(r):r}});t.dataByIndex[o]={label:r,formattedLabel:n?n(r):r,xPos:e.xAxis.positions[o],values:s,yExtreme:e.yExtremes[o]}})}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(r){var o=t.measures,s=e(t.container),a=r.pageX-s.left-i(o),u=r.pageY-s.top;u<t.height+n(o)&&u>n(o)?t.mapTooltipXPosition(a):t.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e});return n?e.indexOf(i):i}(t,e.xAxis.positions,!0),i=this.dataByIndex[n];this.tip.setValues(i.xPos+this.tip.offset.x,i.yExtreme+this.tip.offset.y,{name:i.formattedLabel,value:""},i.values,n),this.tip.showTip()}}},{key:"renderLegend",value:function(){var t=this,e=this.data;e.datasets.length>1&&(this.legendArea.textContent="",e.datasets.map(function(e,n){var i=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments[4],o={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:i},s=g("text",{className:"legend-dataset-text",x:0,y:0,dy:2*ft+"px","font-size":1.2*ft+"px","text-anchor":"start",fill:pt,innerHTML:r}),a=g("g",{transform:"translate("+t+", "+e+")"});return a.appendChild(g("rect",o)),a.appendChild(s),a}(100*n,"0",100,t.colors[n],e.name);t.legendArea.appendChild(i)}))}},{key:"makeOverlay",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach(function(t){var e=t.overlay;e.parentNode.removeChild(e)}),this.overlayGuides=this.dataUnitComponents.map(function(t){return{type:t.unitType,overlay:void 0,units:t.units}}),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(e){var n=e.units[t.state.currentIndex];e.overlay=gt[e.type](n),t.drawArea.appendChild(e.overlay)}))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(t){var e=t.overlay;e.parentNode.removeChild(e)})}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",function(){t.updateOverlay()})}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map(function(e){e.units.map(function(e){e.addEventListener("click",function(){var n=e.getAttribute("data-point-index");t.setCurrentDataPoint(n)})})}),this.tip.container.addEventListener("click",function(){var e=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(e)})}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map(function(e){var n=e.units[t.state.currentIndex];mt[e.type](n,e.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state;return{index:t,label:e.xAxis.labels[t],values:e.datasets.map(function(e){return e.values[t]})}}},{key:"setCurrentDataPoint",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var i=document.createEvent("HTMLEvents");for(var r in i.initEvent(e,!0,!0),n)i[r]=n[r];t.dispatchEvent(i)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;G(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"addDataPoint",this).call(this,t,e,n),this.data.labels.splice(n,0,t),this.data.datasets.map(function(t,i){t.values.splice(n,0,e[i])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(G(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map(function(e){e.values.splice(t,1)}),this.update(this.data))}},{key:"updateDataset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map(function(e,n){t[n]&&(e.values=t[n])}),this.update(this.data)}}]),r}(),Ht={bar:It,line:It,percentage:Bt,heatmap:Rt,pie:Ft},zt=Object.freeze({Chart:function t(e,n){return Z(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",e=arguments[1],n=arguments[2];return"axis-mixed"===t?(n.type="line",new It(e,n)):Ht[t]?new Ht[t](e,n):void console.error("Undefined chart type: "+t)}(n.type,e,n)},PercentageChart:Bt,PieChart:Ft,Heatmap:Rt,AxisChart:It}),Wt={NAME:"Frappe Charts",VERSION:"1.1.0"};Object.assign({},Wt,zt)}()},n6bm:function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;e=e<<8|n}return s}},nrkQ:function(t,e,n){!function(t){"use strict";t.overlayMode=function(e,n,i){return{startState:function(){return{base:t.startState(e),overlay:t.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:t.copyState(e,i.base),overlay:t.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(t,r){return(t!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<t.start)&&(r.streamSeen=t,r.basePos=r.overlayPos=t.start),t.start==r.basePos&&(r.baseCur=e.token(t,r.base),r.basePos=t.pos),t.start==r.overlayPos&&(t.pos=t.start,r.overlayCur=n.token(t,r.overlay),r.overlayPos=t.pos),t.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:e.indent&&function(t,n){return e.indent(t.base,n)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(t){var r,o;return e.blankLine&&(r=e.blankLine(t.base)),n.blankLine&&(o=n.blankLine(t.overlay)),null==o?r:i&&null!=r?r+" "+o:o}}}}(n("VrN/"))},qZCD:function(t,e,n){var i,r,o;r=[n("zK8/"),n("IiP2"),n("OUWD")],void 0===(o="function"==typeof(i=function(t,e,n,i){function r(e,n,s){if(!(this instanceof r))return new r(e,n,s);this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,!0!==s&&(t.isPlainObject(e)?n=e:(n=n||{}).alias=e,this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&n.definitions!==i,this.userOptions=n||{},this.isRTL=this.opts.numericInput,o(this.opts.alias,n,this.opts))}function o(e,n,s){var a=r.prototype.aliases[e];return a?(a.alias&&o(a.alias,i,s),t.extend(!0,s,a),t.extend(!0,s,n),!0):(null===s.mask&&(s.mask=e),!1)}function s(e,n){function o(e,o,s){var a=!1;if(null!==e&&""!==e||((a=null!==s.regex)?e=(e=s.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(a=!0,e=".*")),1===e.length&&!1===s.greedy&&0!==s.repeat&&(s.placeholder=""),s.repeat>0||"*"===s.repeat||"+"===s.repeat){var u="*"===s.repeat?0:"+"===s.repeat?1:s.repeat;e=s.groupmarker.start+e+s.groupmarker.end+s.quantifiermarker.start+u+","+s.repeat+s.quantifiermarker.end}var l,c=a?"regex_"+s.regex:s.numericInput?e.split("").reverse().join(""):e;return r.prototype.masksCache[c]===i||!0===n?(l={mask:e,maskToken:r.prototype.analyseMask(e,a,s),validPositions:{},_buffer:i,buffer:i,tests:{},metadata:o,maskLength:i},!0!==n&&(r.prototype.masksCache[c]=l,l=t.extend(!0,{},r.prototype.masksCache[c]))):l=t.extend(!0,{},r.prototype.masksCache[c]),l}if(t.isFunction(e.mask)&&(e.mask=e.mask(e)),t.isArray(e.mask)){if(e.mask.length>1){e.keepStatic=null===e.keepStatic||e.keepStatic;var s=e.groupmarker.start;return t.each(e.numericInput?e.mask.reverse():e.mask,function(n,r){s.length>1&&(s+=e.groupmarker.end+e.alternatormarker+e.groupmarker.start),r.mask===i||t.isFunction(r.mask)?s+=r:s+=r.mask}),o(s+=e.groupmarker.end,e.mask,e)}e.mask=e.mask.pop()}return e.mask&&e.mask.mask!==i&&!t.isFunction(e.mask.mask)?o(e.mask.mask,e.mask,e):o(e.mask,e.mask,e)}function a(o,s,u){function d(t,e,n){e=e||0;var r,o,s,a=[],l=0,c=m();do{!0===t&&p().validPositions[l]?(o=(s=p().validPositions[l]).match,r=s.locator.slice(),a.push(!0===n?s.input:!1===n?o.nativeDef:B(l,o))):(o=(s=b(l,r,l-1)).match,r=s.locator.slice(),(!1===u.jitMasking||l<c||"number"==typeof u.jitMasking&&isFinite(u.jitMasking)&&u.jitMasking>l)&&a.push(!1===n?o.nativeDef:B(l,o))),l++}while((Z===i||l<Z)&&(null!==o.fn||""!==o.def)||e>l);return""===a[a.length-1]&&a.pop(),p().maskLength=l+1,a}function p(){return s}function g(t){var e=p();e.buffer=i,!0!==t&&(e.validPositions={},e.p=0)}function m(t,e,n){var r=-1,o=-1,s=n||p().validPositions;for(var a in t===i&&(t=-1),s){var u=parseInt(a);s[u]&&(e||!0!==s[u].generatedInput)&&(u<=t&&(r=u),u>=t&&(o=u))}return-1!==r&&t-r>1||o<t?r:o}function v(e,n,r,o){var s,a=e,l=t.extend(!0,{},p().validPositions),c=!1;for(p().p=e,s=n-1;s>=a;s--)p().validPositions[s]!==i&&(!0!==r&&(!p().validPositions[s].match.optionality&&function(t){var e=p().validPositions[t];if(e!==i&&null===e.match.fn){var n=p().validPositions[t-1],r=p().validPositions[t+1];return n!==i&&r!==i}return!1}(s)||!1===u.canClearPosition(p(),s,m(),o,u))||delete p().validPositions[s]);for(g(!0),s=a+1;s<=m();){for(;p().validPositions[a]!==i;)a++;if(s<a&&(s=a+1),p().validPositions[s]===i&&A(s))s++;else{var h=b(s);!1===c&&l[a]&&l[a].match.def===h.match.def?(p().validPositions[a]=t.extend(!0,{},l[a]),p().validPositions[a].input=h.input,delete p().validPositions[s],s++):w(a,h.match.def)?!1!==D(a,h.input||B(s),!0)&&(delete p().validPositions[s],s++,c=!0):A(s)||(s++,a--),a++}}g(!0)}function y(t,e){for(var n,r=t,o=m(),s=p().validPositions[o]||C(0)[0],a=s.alternation!==i?s.locator[s.alternation].toString().split(","):[],l=0;l<r.length&&(!((n=r[l]).match&&(u.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(s.alternation===i||s.alternation!==n.alternation||n.locator[s.alternation]!==i&&k(n.locator[s.alternation].toString().split(","),a)))||!0===e&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function b(t,e,n){return p().validPositions[t]||y(C(t,e?e.slice():e,n))}function _(t){return p().validPositions[t]?p().validPositions[t]:C(t)[0]}function w(t,e){for(var n=!1,i=C(t),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def===e){n=!0;break}return n}function C(e,n,r){function o(n,r,s,l){function c(s,l,h){function d(e,n){var i=0===t.inArray(e,n.matches);return i||t.each(n.matches,function(t,r){if(!0===r.isQuantifier&&(i=d(e,n.matches[t-1])))return!1}),i}function y(e,n,r){var o,s;if(p().validPositions[e-1]&&r&&p().tests[e])for(var a=p().validPositions[e-1].locator,u=p().tests[e][0].locator,l=0;l<r;l++)if(a[l]!==u[l])return a.slice(r+1);return(p().tests[e]||p().validPositions[e])&&t.each(p().tests[e]||[p().validPositions[e]],function(t,e){var a=r!==i?r:e.alternation,u=e.locator[a]!==i?e.locator[a].toString().indexOf(n):-1;(s===i||u<s)&&-1!==u&&(o=e,s=u)}),o?o.locator.slice((r!==i?r:o.alternation)+1):r!==i?y(e,n):i}if(f>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask;if(f===e&&s.matches===i)return g.push({match:s,locator:l.reverse(),cd:v}),!0;if(s.matches!==i){if(s.isGroup&&h!==s){if(s=c(n.matches[t.inArray(s,n.matches)+1],l))return!0}else if(s.isOptional){var b=s;if(s=o(s,r,l,h)){if(!d(a=g[g.length-1].match,b))return!0;m=!0,f=e}}else if(s.isAlternator){var _,w=s,C=[],E=g.slice(),S=l.length,T=r.length>0?r.shift():-1;if(-1===T||"string"==typeof T){var x,k=f,D=r.slice(),A=[];if("string"==typeof T)A=T.split(",");else for(x=0;x<w.matches.length;x++)A.push(x);for(var O=0;O<A.length;O++){if(x=parseInt(A[O]),g=[],r=y(f,x,S)||D.slice(),!0!==(s=c(w.matches[x]||n.matches[x],[x].concat(l),h)||s)&&s!==i&&A[A.length-1]<w.matches.length){var P=t.inArray(s,n.matches)+1;n.matches.length>P&&(s=c(n.matches[P],[P].concat(l.slice(1,l.length)),h))&&(A.push(P.toString()),t.each(g,function(t,e){e.alternation=l.length-1}))}_=g.slice(),f=k,g=[];for(var N=0;N<_.length;N++){var L=_[N],B=!1;L.alternation=L.alternation||S;for(var F=0;F<C.length;F++){var R=C[F];if("string"!=typeof T||-1!==t.inArray(L.locator[L.alternation].toString(),A)){if(j=R,(W=L).match.nativeDef===j.match.nativeDef||W.match.def===j.match.nativeDef||W.match.nativeDef===j.match.def){B=!0,L.alternation===R.alternation&&-1===R.locator[R.alternation].toString().indexOf(L.locator[L.alternation])&&(R.locator[R.alternation]=R.locator[R.alternation]+","+L.locator[L.alternation],R.alternation=L.alternation),L.match.nativeDef===R.match.def&&(L.locator[L.alternation]=R.locator[R.alternation],C.splice(C.indexOf(R),1,L));break}if(L.match.def===R.match.def){B=!1;break}if(function(t,n){return null===t.match.fn&&null!==n.match.fn&&n.match.fn.test(t.match.def,p(),e,!1,u,!1)}(L,R)||function(t,n){return null!==t.match.fn&&null!==n.match.fn&&n.match.fn.test(t.match.def.replace(/[\[\]]/g,""),p(),e,!1,u,!1)}(L,R)){L.alternation===R.alternation&&-1===L.locator[L.alternation].toString().indexOf(R.locator[R.alternation].toString().split("")[0])&&(L.na=L.na||L.locator[L.alternation].toString(),-1===L.na.indexOf(L.locator[L.alternation].toString().split("")[0])&&(L.na=L.na+","+L.locator[R.alternation].toString().split("")[0]),B=!0,L.locator[L.alternation]=R.locator[R.alternation].toString().split("")[0]+","+L.locator[L.alternation],C.splice(C.indexOf(R),0,L));break}}}B||C.push(L)}}"string"==typeof T&&(C=t.map(C,function(e,n){if(isFinite(n)){var r=e.alternation,o=e.locator[r].toString().split(",");e.locator[r]=i,e.alternation=i;for(var s=0;s<o.length;s++)-1!==t.inArray(o[s],A)&&(e.locator[r]!==i?(e.locator[r]+=",",e.locator[r]+=o[s]):e.locator[r]=parseInt(o[s]),e.alternation=r);if(e.locator[r]!==i)return e}})),g=E.concat(C),f=e,m=g.length>0,s=C.length>0,r=D.slice()}else s=c(w.matches[T]||n.matches[T],[T].concat(l),h);if(s)return!0}else if(s.isQuantifier&&h!==n.matches[t.inArray(s,n.matches)-1])for(var I=s,H=r.length>0?r.shift():0;H<(isNaN(I.quantifier.max)?H+1:I.quantifier.max)&&f<=e;H++){var z=n.matches[t.inArray(I,n.matches)-1];if(s=c(z,[H].concat(l),z)){if((a=g[g.length-1].match).optionalQuantifier=H>I.quantifier.min-1,d(a,z)){if(H>I.quantifier.min-1){m=!0,f=e;break}return!0}return!0}}else if(s=o(s,r,l,h))return!0}else f++;var W,j}for(var h=r.length>0?r.shift():0;h<n.matches.length;h++)if(!0!==n.matches[h].isQuantifier){var d=c(n.matches[h],[h].concat(s),l);if(d&&f===e)return d;if(f>e)break}}function s(t){if(u.keepStatic&&e>0&&t.length>1+(""===t[t.length-1].match.def?1:0)&&!0!==t[0].match.optionality&&!0!==t[0].match.optionalQuantifier&&null===t[0].match.fn&&!/[0-9a-bA-Z]/.test(t[0].match.def)){if(p().validPositions[e-1]===i)return[y(t)];if(p().validPositions[e-1].alternation===t[0].alternation)return[y(t)];if(p().validPositions[e-1])return[y(t)]}return t}var a,l,c,h=p().maskToken,f=n?r:0,d=n?n.slice():[0],g=[],m=!1,v=n?n.join(""):"";if(e>-1){if(n===i){for(var b,_=e-1;(b=p().validPositions[_]||p().tests[_])===i&&_>-1;)_--;b!==i&&_>-1&&(l=b,c=[],t.isArray(l)||(l=[l]),l.length>0&&(l[0].alternation===i?0===(c=y(l.slice()).locator.slice()).length&&(c=l[0].locator.slice()):t.each(l,function(t,e){if(""!==e.def)if(0===c.length)c=e.locator.slice();else for(var n=0;n<c.length;n++)e.locator[n]&&-1===c[n].toString().indexOf(e.locator[n])&&(c[n]+=","+e.locator[n])})),v=(d=c).join(""),f=_)}if(p().tests[e]&&p().tests[e][0].cd===v)return s(p().tests[e]);for(var w=d.shift();w<h.length&&!(o(h[w],d,[w])&&f===e||f>e);w++);}return(0===g.length||m)&&g.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:v}),n!==i&&p().tests[e]?s(t.extend(!0,[],g)):(p().tests[e]=t.extend(!0,[],g),s(p().tests[e]))}function E(){return p()._buffer===i&&(p()._buffer=d(!1,1),p().buffer===i&&(p().buffer=p()._buffer.slice())),p()._buffer}function S(t){return p().buffer!==i&&!0!==t||(p().buffer=d(!0,m(),!0)),p().buffer}function T(t,e,n){var r,o;if(!0===t)g(),t=0,e=n.length;else for(r=t;r<e;r++)delete p().validPositions[r];for(o=t,r=t;r<e;r++)if(g(!0),n[r]!==u.skipOptionalPartCharacter){var s=D(o,n[r],!0,!0);!1!==s&&(g(!0),o=s.caret!==i?s.caret:s.pos+1)}}function x(e,n,i){switch(u.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var o=p().validPositions[i-1];e=0===i||o&&o.input===String.fromCharCode(r.keyCode.SPACE)?e.toUpperCase():e.toLowerCase();break;default:if(t.isFunction(u.casing)){var s=Array.prototype.slice.call(arguments);s.push(p().validPositions),e=u.casing.apply(this,s)}}return e}function k(e,n,r){for(var o,s=u.greedy?n:n.slice(0,1),a=!1,l=r!==i?r.split(","):[],c=0;c<l.length;c++)-1!==(o=e.indexOf(l[c]))&&e.splice(o,1);for(var h=0;h<e.length;h++)if(-1!==t.inArray(e[h],s)){a=!0;break}return a}function D(e,n,o,s,a,l){function c(t){var e=Q?t.begin-t.end>1||t.begin-t.end==1:t.end-t.begin>1||t.end-t.begin==1;return e&&0===t.begin&&t.end===p().maskLength?"full":e}function h(n,r,o){var a=!1;return t.each(C(n),function(l,h){for(var d=h.match,y=r?1:0,b="",_=d.cardinality;_>y;_--)b+=N(n-(_-1));if(r&&(b+=r),S(!0),!1!==(a=null!=d.fn?d.fn.test(b,p(),n,o,u,c(e)):(r===d.def||r===u.skipOptionalPartCharacter)&&""!==d.def&&{c:B(n,d,!0)||d.def,pos:n})){var w=a.c!==i?a.c:r;w=w===u.skipOptionalPartCharacter&&null===d.fn?B(n,d,!0)||d.def:w;var C=n,E=S();if(a.remove!==i&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){v(e,e+1,!0)})),a.insert!==i&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){D(e.pos,e.c,!0,s)})),a.refreshFromBuffer){var k=a.refreshFromBuffer;if(T(!0===k?k:k.start,k.end,E),a.pos===i&&a.c===i)return a.pos=m(),!1;if((C=a.pos!==i?a.pos:n)!==n)return a=t.extend(a,D(C,w,!0,s)),!1}else if(!0!==a&&a.pos!==i&&a.pos!==n&&(C=a.pos,T(n,C,S().slice()),C!==n))return a=t.extend(a,D(C,w,!0)),!1;return(!0===a||a.pos!==i||a.c!==i)&&(l>0&&g(!0),f(C,t.extend({},h,{input:x(w,d,C)}),s,c(e))||(a=!1),!1)}}),a}function f(e,n,r,o){if(o||u.insertMode&&p().validPositions[e]!==i&&r===i){var s,a=t.extend(!0,{},p().validPositions),l=m(i,!0);for(s=e;s<=l;s++)delete p().validPositions[s];p().validPositions[e]=t.extend(!0,{},n);var c,h=!0,f=p().validPositions,v=!1,y=p().maskLength;for(s=c=e;s<=l;s++){var b=a[s];if(b!==i)for(var _=c;_<p().maskLength&&(null===b.match.fn&&f[s]&&(!0===f[s].match.optionalQuantifier||!0===f[s].match.optionality)||null!=b.match.fn);){if(_++,!1===v&&a[_]&&a[_].match.def===b.match.def)p().validPositions[_]=t.extend(!0,{},a[_]),p().validPositions[_].input=b.input,d(_),c=_,h=!0;else if(w(_,b.match.def)){var C=D(_,b.input,!0,!0);h=!1!==C,c=C.caret||C.insert?m():_,v=!0}else if(!(h=!0===b.generatedInput)&&_>=p().maskLength-1)break;if(p().maskLength<y&&(p().maskLength=y),h)break}if(!h)break}if(!h)return p().validPositions=t.extend(!0,{},a),g(!0),!1}else p().validPositions[e]=t.extend(!0,{},n);return g(!0),!0}function d(e){for(var n=e-1;n>-1&&!p().validPositions[n];n--);var r,o;for(n++;n<e;n++)p().validPositions[n]===i&&(!1===u.jitMasking||u.jitMasking>n)&&(""===(o=C(n,b(n-1).locator,n-1).slice())[o.length-1].match.def&&o.pop(),(r=y(o))&&(r.match.def===u.radixPointDefinitionSymbol||!A(n,!0)||t.inArray(u.radixPoint,S())<n&&r.match.fn&&r.match.fn.test(B(n),p(),n,!1,u))&&!1!==(E=h(n,B(n,r.match,!0)||(null==r.match.fn?r.match.def:""!==B(n)?B(n):S()[n]),!0))&&(p().validPositions[E.pos||n].generatedInput=!0))}o=!0===o;var _=e;e.begin!==i&&(_=Q&&!c(e)?e.end:e.begin);var E=!0,P=t.extend(!0,{},p().validPositions);if(t.isFunction(u.preValidation)&&!o&&!0!==s&&!0!==l&&(E=u.preValidation(S(),_,n,c(e),u)),!0===E){if(d(_),c(e)&&(j(i,r.keyCode.DELETE,e,!0,!0),_=p().p),_<p().maskLength&&(Z===i||_<Z)&&(E=h(_,n,o),(!o||!0===s)&&!1===E&&!0!==l)){var L=p().validPositions[_];if(!L||null!==L.match.fn||L.match.def!==n&&n!==u.skipOptionalPartCharacter){if((u.insertMode||p().validPositions[O(_)]===i)&&!A(_,!0))for(var F=_+1,R=O(_);F<=R;F++)if(!1!==(E=h(F,n,o))){!function(e,n){var r=p().validPositions[n];if(r)for(var o=r.locator,s=o.length,a=e;a<n;a++)if(p().validPositions[a]===i&&!A(a,!0)){var u=C(a).slice(),l=y(u,!0),c=-1;""===u[u.length-1].match.def&&u.pop(),t.each(u,function(t,e){for(var n=0;n<s;n++){if(e.locator[n]===i||!k(e.locator[n].toString().split(","),o[n].toString().split(","),e.na)){var r=o[n],a=l.locator[n],u=e.locator[n];r-a>Math.abs(r-u)&&(l=e);break}c<n&&(c=n,l=e)}}),(l=t.extend({},l,{input:B(a,l.match,!0)||l.match.def})).generatedInput=!0,f(a,l,!0),p().validPositions[n]=i,h(n,r.input,!0)}}(_,E.pos!==i?E.pos:F),_=F;break}}else E={caret:O(_)}}!1===E&&u.keepStatic&&!o&&!0!==a&&(E=function(e,n,r){var o,a,l,c,h,f,d,v,y=t.extend(!0,{},p().validPositions),b=!1,_=m();for(c=p().validPositions[_];_>=0;_--)if((l=p().validPositions[_])&&l.alternation!==i){if(o=_,a=p().validPositions[o].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(a!==i){v=parseInt(o);var w=c.locator[c.alternation||a]!==i?c.locator[c.alternation||a]:d[0];w.length>0&&(w=w.split(",")[0]);var E=p().validPositions[v],S=p().validPositions[v-1];t.each(C(v,S?S.locator:i,v-1),function(o,l){d=l.locator[a]?l.locator[a].toString().split(","):[];for(var c=0;c<d.length;c++){var _=[],C=0,S=0,T=!1;if(w<d[c]&&(l.na===i||-1===t.inArray(d[c],l.na.split(","))||-1===t.inArray(w.toString(),d))){p().validPositions[v]=t.extend(!0,{},l);var x=p().validPositions[v].locator;for(p().validPositions[v].locator[a]=parseInt(d[c]),null==l.match.fn?(E.input!==l.match.def&&(T=!0,!0!==E.generatedInput&&_.push(E.input)),S++,p().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),p().validPositions[v].input=l.match.def):p().validPositions[v].input=E.input,h=v+1;h<m(i,!0)+1;h++)(f=p().validPositions[h])&&!0!==f.generatedInput&&/[0-9a-bA-Z]/.test(f.input)?_.push(f.input):h<e&&C++,delete p().validPositions[h];for(T&&_[0]===l.match.def&&_.shift(),g(!0),b=!0;_.length>0;){var k=_.shift();if(k!==u.skipOptionalPartCharacter&&!(b=D(m(i,!0)+1,k,!1,s,!0)))break}if(b){p().validPositions[v].locator=x;var A=m(e)+1;for(h=v+1;h<m()+1;h++)((f=p().validPositions[h])===i||null==f.match.fn)&&h<e+(S-C)&&S++;b=D((e+=S-C)>A?A:e,n,r,s,!0)}if(b)return!1;g(),p().validPositions=t.extend(!0,{},y)}}})}return b}(_,n,o)),!0===E&&(E={pos:_})}if(t.isFunction(u.postValidation)&&!1!==E&&!o&&!0!==s&&!0!==l){var I=u.postValidation(S(!0),E,u);if(I.refreshFromBuffer&&I.buffer){var H=I.refreshFromBuffer;T(!0===H?H:H.start,H.end,I.buffer)}E=!0===I?E:I}return E&&E.pos===i&&(E.pos=_),!1!==E&&!0!==l||(g(!0),p().validPositions=t.extend(!0,{},P)),E}function A(t,e){var n=b(t).match;if(""===n.def&&(n=_(t).match),null!=n.fn)return n.fn;if(!0!==e&&t>-1){var i=C(t);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function O(t,e){var n=p().maskLength;if(t>=n)return n;var i=t;for(C(n+1).length>1&&(d(!0,n+1,!0),n=p().maskLength);++i<n&&(!0===e&&(!0!==_(i).match.newBlockMarker||!A(i))||!0!==e&&!A(i)););return i}function P(t,e){var n,i=t;if(i<=0)return 0;for(;--i>0&&(!0===e&&!0!==_(i).match.newBlockMarker||!0!==e&&!A(i)&&((n=C(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function N(t){return p().validPositions[t]===i?B(t):p().validPositions[t].input}function L(e,n,r,o,s){if(o&&t.isFunction(u.onBeforeWrite)){var a=u.onBeforeWrite.call(X,o,n,r,u);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;T(!0===l?l:l.start,l.end,a.buffer||n),n=S(!0)}r!==i&&(r=a.caret!==i?a.caret:r)}}e!==i&&(e.inputmask._valueSet(n.join("")),r===i||o!==i&&"blur"===o.type?q(e,r,0===n.length):f&&o&&"input"===o.type?setTimeout(function(){I(e,r)},0):I(e,r),!0===s&&($=!0,t(e).trigger("input")))}function B(e,n,r){if((n=n||_(e).match).placeholder!==i||!0===r)return t.isFunction(n.placeholder)?n.placeholder(u):n.placeholder;if(null===n.fn){if(e>-1&&p().validPositions[e]===i){var o,s=C(e),a=[];if(s.length>1+(""===s[s.length-1].match.def?1:0))for(var l=0;l<s.length;l++)if(!0!==s[l].match.optionality&&!0!==s[l].match.optionalQuantifier&&(null===s[l].match.fn||o===i||!1!==s[l].match.fn.test(o.match.def,p(),e,!0,u))&&(a.push(s[l]),null===s[l].match.fn&&(o=s[l]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return u.placeholder.charAt(e%u.placeholder.length)}return n.def}return u.placeholder.charAt(e%u.placeholder.length)}function F(e,o,s,a,l){var c=a.slice(),h="",f=-1,d=i;if(g(),s||!0===u.autoUnmask)f=O(f);else{var v=E().slice(0,O(-1)).join(""),y=c.join("").match(new RegExp("^"+r.escapeRegex(v),"g"));y&&y.length>0&&(c.splice(0,y.length*v.length),f=O(f))}if(-1===f?(p().p=O(f),f=0):p().p=f,t.each(c,function(n,r){if(r!==i)if(p().validPositions[n]===i&&c[n]===B(n)&&A(n,!0)&&!1===D(n,c[n],!0,i,i,!0))p().p++;else{var o=new t.Event("_checkval");o.which=r.charCodeAt(0),h+=r;var a=m(i,!0),l=p().validPositions[a],v=b(a+1,l?l.locator.slice():i,a);if(!function(t,e){return-1!==E().slice(t,O(t)).join("").indexOf(e)&&!A(t)&&_(t).match.nativeDef===e.charAt(e.length-1)}(f,h)||s||u.autoUnmask){var y=s?n:null==v.match.fn&&v.match.optionality&&a+1<p().p?a+1:p().p;d=it.keypressEvent.call(e,o,!0,!1,s,y),f=y+1,h=""}else d=it.keypressEvent.call(e,o,!0,!1,!0,a+1);if(!1!==d&&!s&&t.isFunction(u.onBeforeWrite)){var w=d;if(d=u.onBeforeWrite.call(X,o,S(),d.forwardPosition,u),(d=t.extend(w,d))&&d.refreshFromBuffer){var C=d.refreshFromBuffer;T(!0===C?C:C.start,C.end,d.buffer),g(!0),d.caret&&(p().p=d.caret,d.forwardPosition=d.caret)}}}}),o){var w=i;n.activeElement===e&&d&&(w=u.numericInput?P(d.forwardPosition):d.forwardPosition),L(e,S(),w,l||new t.Event("checkval"),l&&"input"===l.type)}}function R(e){if(e){if(e.inputmask===i)return e.value;e.inputmask&&e.inputmask.refreshValue&&it.setValueEvent.call(e)}var n=[],r=p().validPositions;for(var o in r)r[o].match&&null!=r[o].match.fn&&n.push(r[o].input);var s=0===n.length?"":(Q?n.reverse():n).join("");if(t.isFunction(u.onUnMask)){var a=(Q?S().slice().reverse():S()).join("");s=u.onUnMask.call(X,a,s,u)}return s}function I(t,r,o,s){function a(t){return!0===s||!Q||"number"!=typeof t||u.greedy&&""===u.placeholder||(t=S().join("").length-t),t}var c;if(r===i)return t.setSelectionRange?(r=t.selectionStart,o=t.selectionEnd):e.getSelection?(c=e.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&c.commonAncestorContainer!==t||(r=c.startOffset,o=c.endOffset):n.selection&&n.selection.createRange&&(o=(r=0-(c=n.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+c.text.length),{begin:a(r),end:a(o)};if(r.begin!==i&&(o=r.end,r=r.begin),"number"==typeof r){r=a(r),o="number"==typeof(o=a(o))?o:r;var h=parseInt(((t.ownerDocument.defaultView||e).getComputedStyle?(t.ownerDocument.defaultView||e).getComputedStyle(t,null):t.currentStyle).fontSize)*o;if(t.scrollLeft=h>t.scrollWidth?h:0,l||!1!==u.insertMode||r!==o||o++,t.setSelectionRange)t.selectionStart=r,t.selectionEnd=o;else if(e.getSelection){if(c=n.createRange(),t.firstChild===i||null===t.firstChild){var f=n.createTextNode("");t.appendChild(f)}c.setStart(t.firstChild,r<t.inputmask._valueGet().length?r:t.inputmask._valueGet().length),c.setEnd(t.firstChild,o<t.inputmask._valueGet().length?o:t.inputmask._valueGet().length),c.collapse(!0);var d=e.getSelection();d.removeAllRanges(),d.addRange(c)}else t.createTextRange&&((c=t.createTextRange()).collapse(!0),c.moveEnd("character",o),c.moveStart("character",r),c.select());q(t,{begin:r,end:o})}}function H(e){var n,r,o=S(),s=o.length,a=m(),u={},l=p().validPositions[a],c=l!==i?l.locator.slice():i;for(n=a+1;n<o.length;n++)c=(r=b(n,c,n-1)).locator.slice(),u[n]=t.extend(!0,{},r);var h=l&&l.alternation!==i?l.locator[l.alternation]:i;for(n=s-1;n>a&&((r=u[n]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||h&&(h!==u[n].locator[l.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[l.alternation]&&k(r.locator[l.alternation].toString().split(","),h.toString().split(","))&&""!==C(n)[0].def))&&o[n]===B(n,r.match);n--)s--;return e?{l:s,def:u[s]?u[s].match:i}:s}function z(t){for(var e,n=H(),r=t.length,o=p().validPositions[m()];n<r&&!A(n,!0)&&(e=o!==i?b(n,o.locator.slice(""),o):_(n))&&!0!==e.match.optionality&&(!0!==e.match.optionalQuantifier&&!0!==e.match.newBlockMarker||n+1===r&&""===(o!==i?b(n+1,o.locator.slice(""),o):_(n+1)).match.def);)n++;for(;(e=p().validPositions[n-1])&&e&&e.match.optionality&&e.input===u.skipOptionalPartCharacter;)n--;return t.splice(n),t}function W(e){if(t.isFunction(u.isComplete))return u.isComplete(e,u);if("*"===u.repeat)return i;var n=!1,r=H(!0),o=P(r.l);if(r.def===i||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){n=!0;for(var s=0;s<=o;s++){var a=b(s).match;if(null!==a.fn&&p().validPositions[s]===i&&!0!==a.optionality&&!0!==a.optionalQuantifier||null===a.fn&&e[s]!==B(s,a)){n=!1;break}}}return n}function j(e,n,o,s,a){if((u.numericInput||Q)&&(n===r.keyCode.BACKSPACE?n=r.keyCode.DELETE:n===r.keyCode.DELETE&&(n=r.keyCode.BACKSPACE),Q)){var l=o.end;o.end=o.begin,o.begin=l}n===r.keyCode.BACKSPACE&&(o.end-o.begin<1||!1===u.insertMode)?(o.begin=P(o.begin),p().validPositions[o.begin]!==i&&p().validPositions[o.begin].input===u.groupSeparator&&o.begin--):n===r.keyCode.DELETE&&o.begin===o.end&&(o.end=A(o.end,!0)&&p().validPositions[o.end]&&p().validPositions[o.end].input!==u.radixPoint?o.end+1:O(o.end)+1,p().validPositions[o.begin]!==i&&p().validPositions[o.begin].input===u.groupSeparator&&o.end++),v(o.begin,o.end,!1,s),!0!==s&&function(){if(u.keepStatic){for(var n=[],r=m(-1,!0),o=t.extend(!0,{},p().validPositions),s=p().validPositions[r];r>=0;r--){var a=p().validPositions[r];if(a){if(!0!==a.generatedInput&&/[0-9a-bA-Z]/.test(a.input)&&n.push(a.input),delete p().validPositions[r],a.alternation!==i&&a.locator[a.alternation]!==s.locator[a.alternation])break;s=a}}if(r>-1)for(p().p=O(m(-1,!0));n.length>0;){var l=new t.Event("keypress");l.which=n.pop().charCodeAt(0),it.keypressEvent.call(e,l,!0,!1,!1,p().p)}else p().validPositions=t.extend(!0,{},o)}}();var c=m(o.begin,!0);if(c<o.begin)p().p=O(c);else if(!0!==s&&(p().p=o.begin,!0!==a))for(;p().p<c&&p().validPositions[p().p]===i;)p().p++}function U(i){var r=(i.ownerDocument.defaultView||e).getComputedStyle(i,null),o=n.createElement("div");o.style.width=r.width,o.style.textAlign=r.textAlign,(K=n.createElement("div")).className="im-colormask",i.parentNode.insertBefore(K,i),i.parentNode.removeChild(i),K.appendChild(o),K.appendChild(i),i.style.left=o.offsetLeft+"px",t(i).on("click",function(t){return I(i,function(t){var e,o=n.createElement("span");for(var s in r)isNaN(s)&&-1!==s.indexOf("font")&&(o.style[s]=r[s]);o.style.textTransform=r.textTransform,o.style.letterSpacing=r.letterSpacing,o.style.position="absolute",o.style.height="auto",o.style.width="auto",o.style.visibility="hidden",o.style.whiteSpace="nowrap",n.body.appendChild(o);var a,u=i.inputmask._valueGet(),l=0;for(e=0,a=u.length;e<=a;e++){if(o.innerHTML+=u.charAt(e)||"_",o.offsetWidth>=t){var c=t-l,h=o.offsetWidth-t;o.innerHTML=u.charAt(e),e=(c-=o.offsetWidth/3)<h?e-1:e;break}l=o.offsetWidth}return n.body.removeChild(o),e}(t.clientX)),it.clickEvent.call(i,[t])}),t(i).on("keydown",function(t){t.shiftKey||!1===u.insertMode||setTimeout(function(){q(i)},0)})}function q(t,e,r){function o(){f||null!==a.fn&&l.input!==i?f&&(null!==a.fn&&l.input!==i||""===a.def)&&(f=!1,h+="</span>"):(f=!0,h+="<span class='im-static'>")}function s(i){!0!==i&&d!==e.begin||n.activeElement!==t||(h+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var a,l,c,h="",f=!1,d=0;if(K!==i){var g=S();if(e===i?e=I(t):e.begin===i&&(e={begin:e,end:e}),!0!==r){var v=m();do{s(),p().validPositions[d]?(l=p().validPositions[d],a=l.match,c=l.locator.slice(),o(),h+=g[d]):(l=b(d,c,d-1),a=l.match,c=l.locator.slice(),(!1===u.jitMasking||d<v||"number"==typeof u.jitMasking&&isFinite(u.jitMasking)&&u.jitMasking>d)&&(o(),h+=B(d,a))),d++}while((Z===i||d<Z)&&(null!==a.fn||""!==a.def)||v>d||f);-1===h.indexOf("im-caret")&&s(!0),f&&o()}var y=K.getElementsByTagName("div")[0];y.innerHTML=h,t.inputmask.positionColorMask(t,y)}}s=s||this.maskset,u=u||this.opts;var Y,V,Z,K,G,X=this,M=this.el,Q=this.isRTL,J=!1,$=!1,tt=!1,et=!1,nt={on:function(e,n,o){var s=function(e){if(this.inputmask===i&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new r(n).mask(this):nt.off(this)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===u.tabThrough&&e.keyCode===r.keyCode.TAB))){switch(e.type){case"input":if(!0===$)return $=!1,e.preventDefault();break;case"keydown":J=!1,$=!1;break;case"keypress":if(!0===J)return e.preventDefault();J=!0;break;case"click":if(c||h){var s=this,a=arguments;return setTimeout(function(){o.apply(s,a)},0),!1}}var l=o.apply(this,arguments);return!1===l&&(e.preventDefault(),e.stopPropagation()),l}e.preventDefault()}};e.inputmask.events[n]=e.inputmask.events[n]||[],e.inputmask.events[n].push(s),-1!==t.inArray(n,["submit","reset"])?null!==e.form&&t(e.form).on(n,s):t(e).on(n,s)},off:function(e,n){var i;e.inputmask&&e.inputmask.events&&(n?(i=[])[n]=e.inputmask.events[n]:i=e.inputmask.events,t.each(i,function(n,i){for(;i.length>0;){var r=i.pop();-1!==t.inArray(n,["submit","reset"])?null!==e.form&&t(e.form).off(n,r):t(e).off(n,r)}delete e.inputmask.events[n]}))}},it={keydownEvent:function(e){var i,o,s=this,a=t(s),l=e.keyCode,c=I(s);if(l===r.keyCode.BACKSPACE||l===r.keyCode.DELETE||h&&l===r.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&l===r.keyCode.X&&(i=n.createElement("input"),(o="oncut"in i)||(i.setAttribute("oncut","return;"),o="function"==typeof i.oncut),i=null,!o))e.preventDefault(),j(s,l,c),L(s,S(!0),p().p,e,s.inputmask._valueGet()!==S().join("")),s.inputmask._valueGet()===E().join("")?a.trigger("cleared"):!0===W(S())&&a.trigger("complete");else if(l===r.keyCode.END||l===r.keyCode.PAGE_DOWN){e.preventDefault();var f=O(m());u.insertMode||f!==p().maskLength||e.shiftKey||f--,I(s,e.shiftKey?c.begin:f,f,!0)}else l===r.keyCode.HOME&&!e.shiftKey||l===r.keyCode.PAGE_UP?(e.preventDefault(),I(s,0,e.shiftKey?c.begin:0,!0)):(u.undoOnEscape&&l===r.keyCode.ESCAPE||90===l&&e.ctrlKey)&&!0!==e.altKey?(F(s,!0,!1,Y.split("")),a.trigger("click")):l!==r.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===u.tabThrough&&l===r.keyCode.TAB?(!0===e.shiftKey?(null===_(c.begin).match.fn&&(c.begin=O(c.begin)),c.end=P(c.begin,!0),c.begin=P(c.end,!0)):(c.begin=O(c.begin,!0),c.end=O(c.begin,!0),c.end<p().maskLength&&c.end--),c.begin<p().maskLength&&(e.preventDefault(),I(s,c.begin,c.end))):e.shiftKey||!1===u.insertMode&&(l===r.keyCode.RIGHT?setTimeout(function(){var t=I(s);I(s,t.begin)},0):l===r.keyCode.LEFT&&setTimeout(function(){var t=I(s);I(s,Q?t.begin+1:t.begin-1)},0)):(u.insertMode=!u.insertMode,I(s,u.insertMode||c.begin!==p().maskLength?c.begin:c.begin-1));u.onKeyDown.call(this,e,S(),I(s).begin,u),tt=-1!==t.inArray(l,u.ignorables)},keypressEvent:function(e,n,o,s,a){var l=this,c=t(l),h=e.which||e.charCode||e.keyCode;if(!(!0===n||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||tt))return h===r.keyCode.ENTER&&Y!==S().join("")&&(Y=S().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(h){46===h&&!1===e.shiftKey&&""!==u.radixPoint&&(h=u.radixPoint.charCodeAt(0));var f,d=n?{begin:a,end:a}:I(l),m=String.fromCharCode(h);p().writeOutBuffer=!0;var v=D(d,m,s);if(!1!==v&&(g(!0),f=v.caret!==i?v.caret:n?v.pos+1:O(v.pos),p().p=f),!1!==o&&(setTimeout(function(){u.onKeyValidation.call(l,h,v,u)},0),p().writeOutBuffer&&!1!==v)){var y=S();L(l,y,u.numericInput&&v.caret===i?P(f):f,e,!0!==n),!0!==n&&setTimeout(function(){!0===W(y)&&c.trigger("complete")},0)}if(e.preventDefault(),n)return!1!==v&&(v.forwardPosition=f),v}},pasteEvent:function(n){var i,r=n.originalEvent||n,o=t(this),s=this.inputmask._valueGet(!0),a=I(this);Q&&(i=a.end,a.end=a.begin,a.begin=i);var l=s.substr(0,a.begin),c=s.substr(a.end,s.length);if(l===(Q?E().reverse():E()).slice(0,a.begin).join("")&&(l=""),c===(Q?E().reverse():E()).slice(a.end).join("")&&(c=""),Q&&(i=l,l=c,c=i),e.clipboardData&&e.clipboardData.getData)s=l+e.clipboardData.getData("Text")+c;else{if(!r.clipboardData||!r.clipboardData.getData)return!0;s=l+r.clipboardData.getData("text/plain")+c}var h=s;if(t.isFunction(u.onBeforePaste)){if(!1===(h=u.onBeforePaste.call(X,s,u)))return n.preventDefault();h||(h=s)}return F(this,!1,!1,Q?h.split("").reverse():h.toString().split("")),L(this,S(),O(m()),n,Y!==S().join("")),!0===W(S())&&o.trigger("complete"),n.preventDefault()},inputFallBackEvent:function(e){var n=this,i=n.inputmask._valueGet();if(S().join("")!==i){var o=I(n);if(!1===function(e,n,i){if("."===n.charAt(i.begin-1)&&""!==u.radixPoint&&((n=n.split(""))[i.begin-1]=u.radixPoint.charAt(0),n=n.join("")),n.charAt(i.begin-1)===u.radixPoint&&n.length>S().length){var r=new t.Event("keypress");return r.which=u.radixPoint.charCodeAt(0),it.keypressEvent.call(e,r,!0,!0,!1,i.begin-1),!1}}(n,i,o))return!1;if(i=i.replace(new RegExp("("+r.escapeRegex(E().join(""))+")*"),""),!1===function(e,n,i){if(c){var r=n.replace(S().join(""),"");if(1===r.length){var o=new t.Event("keypress");return o.which=r.charCodeAt(0),it.keypressEvent.call(e,o,!0,!0,!1,p().validPositions[i.begin-1]?i.begin:i.begin-1),!1}}}(n,i,o))return!1;o.begin>i.length&&(I(n,i.length),o=I(n));var s=S().join(""),a=i.substr(0,o.begin),l=i.substr(o.begin),h=s.substr(0,o.begin),f=s.substr(o.begin),d=o,g="",m=!1;if(a!==h){d.begin=0;for(var v=(m=a.length>=h.length)?a.length:h.length,y=0;a.charAt(y)===h.charAt(y)&&y<v;y++)d.begin++;m&&(g+=a.slice(d.begin,d.end))}l!==f&&(l.length>f.length?m&&(d.end=d.begin):l.length<f.length?d.end+=f.length-l.length:l.charAt(0)!==f.charAt(0)&&d.end++),L(n,S(),d),g.length>0?t.each(g.split(""),function(e,i){var r=new t.Event("keypress");r.which=i.charCodeAt(0),tt=!1,it.keypressEvent.call(n,r)}):(d.begin===d.end-1&&I(n,P(d.begin+1),d.end),e.keyCode=r.keyCode.DELETE,it.keydownEvent.call(n,e)),e.preventDefault()}},setValueEvent:function(e){this.inputmask.refreshValue=!1;var n=this.inputmask._valueGet(!0);t.isFunction(u.onBeforeMask)&&(n=u.onBeforeMask.call(X,n,u)||n),n=n.split(""),F(this,!0,!1,Q?n.reverse():n),Y=S().join(""),(u.clearMaskOnLostFocus||u.clearIncomplete)&&this.inputmask._valueGet()===E().join("")&&this.inputmask._valueSet("")},focusEvent:function(t){var e=this.inputmask._valueGet();u.showMaskOnFocus&&(!u.showMaskOnHover||u.showMaskOnHover&&""===e)&&(this.inputmask._valueGet()!==S().join("")?L(this,S(),O(m())):!1===et&&I(this,O(m()))),!0===u.positionCaretOnTab&&!1===et&&""!==e&&(L(this,S(),I(this)),it.clickEvent.apply(this,[t,!0])),Y=S().join("")},mouseleaveEvent:function(t){if(et=!1,u.clearMaskOnLostFocus&&n.activeElement!==this){var e=S().slice(),i=this.inputmask._valueGet();i!==this.getAttribute("placeholder")&&""!==i&&(-1===m()&&i===E().join("")?e=[]:z(e),L(this,e))}},clickEvent:function(e,r){var o=this;setTimeout(function(){if(n.activeElement===o){var e=I(o);if(r&&(Q?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(u.positionCaretOnClick){case"none":break;case"radixFocus":if(function(e){if(""!==u.radixPoint){var n=p().validPositions;if(n[e]===i||n[e].input===B(e)){if(e<O(-1))return!0;var r=t.inArray(u.radixPoint,S());if(-1!==r){for(var o in n)if(r<o&&n[o].input!==B(o))return!1;return!0}}}return!1}(e.begin)){var s=S().join("").indexOf(u.radixPoint);I(o,u.numericInput?O(s):s);break}default:var a=e.begin,l=m(a,!0),c=O(l);if(a<c)I(o,A(a,!0)||A(a-1,!0)?a:O(a));else{var h=p().validPositions[l],f=b(c,h?h.match.locator:i,h),d=B(c,f.match);if(""!==d&&S()[c]!==d&&!0!==f.match.optionalQuantifier&&!0!==f.match.newBlockMarker||!A(c,!0)&&f.match.def===d){var g=O(c);(a>=g||a===c)&&(c=g)}I(o,c)}}}},0)},dblclickEvent:function(t){var e=this;setTimeout(function(){I(e,0,O(m()))},0)},cutEvent:function(i){var o=t(this),s=I(this),a=i.originalEvent||i,u=e.clipboardData||a.clipboardData,l=Q?S().slice(s.end,s.begin):S().slice(s.begin,s.end);u.setData("text",Q?l.reverse().join(""):l.join("")),n.execCommand&&n.execCommand("copy"),j(this,r.keyCode.DELETE,s),L(this,S(),p().p,i,Y!==S().join("")),this.inputmask._valueGet()===E().join("")&&o.trigger("cleared")},blurEvent:function(e){var n=t(this);if(this.inputmask){var r=this.inputmask._valueGet(),o=S().slice();""!==r&&(u.clearMaskOnLostFocus&&(-1===m()&&r===E().join("")?o=[]:z(o)),!1===W(o)&&(setTimeout(function(){n.trigger("incomplete")},0),u.clearIncomplete&&(g(),o=u.clearMaskOnLostFocus?[]:E().slice())),L(this,o,i,e)),Y!==S().join("")&&(Y=o.join(""),n.trigger("change"))}},mouseenterEvent:function(t){et=!0,n.activeElement!==this&&u.showMaskOnHover&&this.inputmask._valueGet()!==S().join("")&&L(this,S())},submitEvent:function(t){Y!==S().join("")&&V.trigger("change"),u.clearMaskOnLostFocus&&-1===m()&&M.inputmask._valueGet&&M.inputmask._valueGet()===E().join("")&&M.inputmask._valueSet(""),u.removeMaskOnSubmit&&(M.inputmask._valueSet(M.inputmask.unmaskedvalue(),!0),setTimeout(function(){L(M,S())},0))},resetEvent:function(t){M.inputmask.refreshValue=!0,setTimeout(function(){V.trigger("setvalue")},0)}};if(r.prototype.positionColorMask=function(t,e){t.style.left=e.offsetLeft+"px"},o!==i)switch(o.action){case"isComplete":return M=o.el,W(S());case"unmaskedvalue":return M!==i&&o.value===i||(G=o.value,G=(t.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(X,G,u)||G).split(""),F(i,!1,!1,Q?G.reverse():G),t.isFunction(u.onBeforeWrite)&&u.onBeforeWrite.call(X,i,S(),0,u)),R(M);case"mask":!function(e){nt.off(e);var r=function(e,r){var o=e.getAttribute("type"),s="INPUT"===e.tagName&&-1!==t.inArray(o,r.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!s)if("INPUT"===e.tagName){var a=n.createElement("input");a.setAttribute("type",o),s="text"===a.type,a=null}else s="partial";return!1!==s?function(e){function o(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==m()||!0!==r.nullable?n.activeElement===this&&r.clearMaskOnLostFocus?(Q?z(S().slice()).reverse():z(S().slice())).join(""):a.call(this):"":a.call(this)}function s(e){u.call(this,e),this.inputmask&&t(this).trigger("setvalue")}var a,u;if(!e.inputmask.__valueGet){if(!0!==r.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var l=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):i;l&&l.get&&l.set?(a=l.get,u=l.set,Object.defineProperty(e,"value",{get:o,set:s,configurable:!0})):"INPUT"!==e.tagName&&(a=function(){return this.textContent},u=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:o,set:s,configurable:!0}))}else n.__lookupGetter__&&e.__lookupGetter__("value")&&(a=e.__lookupGetter__("value"),u=e.__lookupSetter__("value"),e.__defineGetter__("value",o),e.__defineSetter__("value",s));e.inputmask.__valueGet=a,e.inputmask.__valueSet=u}e.inputmask._valueGet=function(t){return Q&&!0!==t?a.call(this.el).split("").reverse().join(""):a.call(this.el)},e.inputmask._valueSet=function(t,e){u.call(this.el,null===t||t===i?"":!0!==e&&Q?t.split("").reverse().join(""):t)},a===i&&(a=function(){return this.value},u=function(t){this.value=t},function(e){if(t.valHooks&&(t.valHooks[e]===i||!0!==t.valHooks[e].inputmaskpatch)){var n=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},o=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=n(t);return-1!==m(i,i,t.inputmask.maskset.validPositions)||!0!==r.nullable?e:""}return n(t)},set:function(e,n){var i,r=t(e);return i=o(e,n),e.inputmask&&r.trigger("setvalue"),i},inputmaskpatch:!0}}}(e.type),function(e){nt.on(e,"mouseenter",function(e){var n=t(this);this.inputmask._valueGet()!==S().join("")&&n.trigger("setvalue")})}(e))}}(e):e.inputmask=i,s}(e,u);if(!1!==r&&(V=t(M=e),-1===(Z=M!==i?M.maxLength:i)&&(Z=i),!0===u.colorMask&&U(M),f&&(M.hasOwnProperty("inputmode")&&(M.inputmode=u.inputmode,M.setAttribute("inputmode",u.inputmode)),"rtfm"===u.androidHack&&(!0!==u.colorMask&&U(M),M.type="password")),!0===r&&(nt.on(M,"submit",it.submitEvent),nt.on(M,"reset",it.resetEvent),nt.on(M,"mouseenter",it.mouseenterEvent),nt.on(M,"blur",it.blurEvent),nt.on(M,"focus",it.focusEvent),nt.on(M,"mouseleave",it.mouseleaveEvent),!0!==u.colorMask&&nt.on(M,"click",it.clickEvent),nt.on(M,"dblclick",it.dblclickEvent),nt.on(M,"paste",it.pasteEvent),nt.on(M,"dragdrop",it.pasteEvent),nt.on(M,"drop",it.pasteEvent),nt.on(M,"cut",it.cutEvent),nt.on(M,"complete",u.oncomplete),nt.on(M,"incomplete",u.onincomplete),nt.on(M,"cleared",u.oncleared),f||!0===u.inputEventOnly?M.removeAttribute("maxLength"):(nt.on(M,"keydown",it.keydownEvent),nt.on(M,"keypress",it.keypressEvent)),nt.on(M,"compositionstart",t.noop),nt.on(M,"compositionupdate",t.noop),nt.on(M,"compositionend",t.noop),nt.on(M,"keyup",t.noop),nt.on(M,"input",it.inputFallBackEvent),nt.on(M,"beforeinput",t.noop)),nt.on(M,"setvalue",it.setValueEvent),Y=E().join(""),""!==M.inputmask._valueGet(!0)||!1===u.clearMaskOnLostFocus||n.activeElement===M)){var o=t.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(X,M.inputmask._valueGet(!0),u)||M.inputmask._valueGet(!0);""!==o&&F(M,!0,!1,Q?o.split("").reverse():o.split(""));var s=S().slice();Y=s.join(""),!1===W(s)&&u.clearIncomplete&&g(),u.clearMaskOnLostFocus&&n.activeElement!==M&&(-1===m()?s=[]:z(s)),L(M,s),n.activeElement===M&&I(M,O(m()))}}(M);break;case"format":return G=(t.isFunction(u.onBeforeMask)&&u.onBeforeMask.call(X,o.value,u)||o.value).split(""),F(i,!0,!1,Q?G.reverse():G),o.metadata?{value:Q?S().slice().reverse().join(""):S().join(""),metadata:a.call(this,{action:"getmetadata"},s,u)}:Q?S().slice().reverse().join(""):S().join("");case"isValid":o.value?(G=o.value.split(""),F(i,!0,!0,Q?G.reverse():G)):o.value=S().join("");for(var rt=S(),ot=H(),st=rt.length-1;st>ot&&!A(st);st--);return rt.splice(ot,st+1-ot),W(rt)&&o.value===S().join("");case"getemptymask":return E().join("");case"remove":return M&&M.inputmask&&(V=t(M),M.inputmask._valueSet(u.autoUnmask?R(M):M.inputmask._valueGet(!0)),nt.off(M),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(M),"value")&&M.inputmask.__valueGet&&Object.defineProperty(M,"value",{get:M.inputmask.__valueGet,set:M.inputmask.__valueSet,configurable:!0}):n.__lookupGetter__&&M.__lookupGetter__("value")&&M.inputmask.__valueGet&&(M.__defineGetter__("value",M.inputmask.__valueGet),M.__defineSetter__("value",M.inputmask.__valueSet)),M.inputmask=i),M;case"getmetadata":if(t.isArray(s.metadata)){var at=d(!0,0,!1).join("");return t.each(s.metadata,function(t,e){if(e.mask===at)return at=e,!1}),at}return s.metadata}}var u=navigator.userAgent,l=/mobile/i.test(u),c=/iemobile/i.test(u),h=/iphone/i.test(u)&&!c,f=/android/i.test(u)&&!c;return r.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,n){return t.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,e,n):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:i,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:t.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9-]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z--]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]",cardinality:1}},aliases:{},masksCache:{},mask:function(u){var l=this;return"string"==typeof u&&(u=n.getElementById(u)||n.querySelectorAll(u)),u=u.nodeName?[u]:u,t.each(u,function(n,u){var c=t.extend(!0,{},l.opts);!function(n,r,s,a){function u(t,r){null!==(r=r!==i?r:n.getAttribute(a+"-"+t))&&("string"==typeof r&&(0===t.indexOf("on")?r=e[r]:"false"===r?r=!1:"true"===r&&(r=!0)),s[t]=r)}if(!0===r.importDataAttributes){var l,c,h,f,d=n.getAttribute(a);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),c=JSON.parse("{"+d+"}")),c)for(f in h=i,c)if("alias"===f.toLowerCase()){h=c[f];break}for(l in u("alias",h),s.alias&&o(s.alias,s,r),r){if(c)for(f in h=i,c)if(f.toLowerCase()===l.toLowerCase()){h=c[f];break}u(l,h)}}t.extend(!0,r,s),("rtl"===n.dir||r.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||r.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),r.isRTL=!0)}(u,c,t.extend(!0,{},l.userOptions),l.dataAttribute);var h=s(c,l.noMasksCache);h!==i&&(u.inputmask!==i&&(u.inputmask.opts.autoUnmask=!0,u.inputmask.remove()),u.inputmask=new r(i,i,!0),u.inputmask.opts=c,u.inputmask.noMasksCache=l.noMasksCache,u.inputmask.userOptions=t.extend(!0,{},l.userOptions),u.inputmask.isRTL=c.isRTL||c.numericInput,u.inputmask.el=u,u.inputmask.maskset=h,t.data(u,"_inputmask_opts",c),a.call(u.inputmask,{action:"mask"}))}),u&&u[0]&&u[0].inputmask||this},option:function(e,n){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.userOptions,e),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"unmaskedvalue",value:t})},remove:function(){return a.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"getmetadata"})},isValid:function(t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"isValid",value:t})},format:function(t,e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),a.call(this,{action:"format",value:t,metadata:e})},analyseMask:function(e,n,o){function s(t,e,n,i){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function a(e,s,a){a=a!==i?a:e.matches.length;var u=e.matches[a-1];if(n)0===s.indexOf("[")||y&&/\\d|\\s|\\w]/i.test(s)||"."===s?e.matches.splice(a++,0,{fn:new RegExp(s,o.casing?"i":""),cardinality:1,optionality:e.isOptional,newBlockMarker:u===i||u.def!==s,casing:null,def:s,placeholder:i,nativeDef:s}):(y&&(s=s[s.length-1]),t.each(s.split(""),function(t,n){u=e.matches[a-1],e.matches.splice(a++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:u===i||u.def!==n&&null!==u.fn,casing:null,def:o.staticDefinitionSymbol||n,placeholder:o.staticDefinitionSymbol!==i?n:i,nativeDef:n})})),y=!1;else{var l=(o.definitions?o.definitions[s]:i)||r.prototype.definitions[s];if(l&&!y){for(var c=l.prevalidator,h=c?c.length:0,f=1;f<l.cardinality;f++){var d=h>=f?c[f-1]:[],p=d.validator,g=d.cardinality;e.matches.splice(a++,0,{fn:p?"string"==typeof p?new RegExp(p,o.casing?"i":""):new function(){this.test=p}:new RegExp("."),cardinality:g||1,optionality:e.isOptional,newBlockMarker:u===i||u.def!==(l.definitionSymbol||s),casing:l.casing,def:l.definitionSymbol||s,placeholder:l.placeholder,nativeDef:s}),u=e.matches[a-1]}e.matches.splice(a++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,o.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),cardinality:l.cardinality,optionality:e.isOptional,newBlockMarker:u===i||u.def!==(l.definitionSymbol||s),casing:l.casing,def:l.definitionSymbol||s,placeholder:l.placeholder,nativeDef:s})}else e.matches.splice(a++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:u===i||u.def!==s&&null!==u.fn,casing:null,def:o.staticDefinitionSymbol||s,placeholder:o.staticDefinitionSymbol!==i?s:i,nativeDef:s}),y=!1}}function u(){if(_.length>0){if(a(f=_[_.length-1],c),f.isAlternator){d=_.pop();for(var t=0;t<d.matches.length;t++)d.matches[t].isGroup=!1;_.length>0?(f=_[_.length-1]).matches.push(d):b.matches.push(d)}}else a(b,c)}var l,c,h,f,d,p,g,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,y=!1,b=new s,_=[],w=[];for(n&&(o.optionalmarker.start=i,o.optionalmarker.end=i);l=n?v.exec(e):m.exec(e);){if(c=l[0],n)switch(c.charAt(0)){case"?":c="{0,1}";break;case"+":case"*":c="{"+c+"}"}if(y)u();else switch(c.charAt(0)){case o.escapeChar:y=!0,n&&u();break;case o.optionalmarker.end:case o.groupmarker.end:if((h=_.pop()).openGroup=!1,h!==i)if(_.length>0){if((f=_[_.length-1]).matches.push(h),f.isAlternator){d=_.pop();for(var C=0;C<d.matches.length;C++)d.matches[C].isGroup=!1,d.matches[C].alternatorGroup=!1;_.length>0?(f=_[_.length-1]).matches.push(d):b.matches.push(d)}}else b.matches.push(h);else u();break;case o.optionalmarker.start:_.push(new s(!1,!0));break;case o.groupmarker.start:_.push(new s(!0));break;case o.quantifiermarker.start:var E=new s(!1,!1,!0),S=(c=c.replace(/[{}]/g,"")).split(","),T=isNaN(S[0])?S[0]:parseInt(S[0]),x=1===S.length?T:isNaN(S[1])?S[1]:parseInt(S[1]);if("*"!==x&&"+"!==x||(T="*"===x?0:1),E.quantifier={min:T,max:x},_.length>0){var k=_[_.length-1].matches;(l=k.pop()).isGroup||((g=new s(!0)).matches.push(l),l=g),k.push(l),k.push(E)}else(l=b.matches.pop()).isGroup||(n&&null===l.fn&&"."===l.def&&(l.fn=new RegExp(l.def,o.casing?"i":"")),(g=new s(!0)).matches.push(l),l=g),b.matches.push(l),b.matches.push(E);break;case o.alternatormarker:if(_.length>0){var D=(f=_[_.length-1]).matches[f.matches.length-1];p=f.openGroup&&(D.matches===i||!1===D.isGroup&&!1===D.isAlternator)?_.pop():f.matches.pop()}else p=b.matches.pop();if(p.isAlternator)_.push(p);else if(p.alternatorGroup?(d=_.pop(),p.alternatorGroup=!1):d=new s(!1,!1,!1,!0),d.matches.push(p),_.push(d),p.openGroup){p.openGroup=!1;var A=new s(!0);A.alternatorGroup=!0,_.push(A)}break;default:u()}}for(;_.length>0;)h=_.pop(),b.matches.push(h);return b.matches.length>0&&(function e(r){r&&r.matches&&t.each(r.matches,function(t,s){var u=r.matches[t+1];(u===i||u.matches===i||!1===u.isQuantifier)&&s&&s.isGroup&&(s.isGroup=!1,n||(a(s,o.groupmarker.start,0),!0!==s.openGroup&&a(s,o.groupmarker.end))),e(s)})}(b),w.push(b)),(o.numericInput||o.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(e.matches.hasOwnProperty(n)){var r=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[r+1]&&e.matches[r+1].isGroup){var s=e.matches[n];e.matches.splice(n,1),e.matches.splice(r+1,0,s)}e.matches[n].matches!==i?e.matches[n]=t(e.matches[n]):e.matches[n]=((a=e.matches[n])===o.optionalmarker.start?a=o.optionalmarker.end:a===o.optionalmarker.end?a=o.optionalmarker.start:a===o.groupmarker.start?a=o.groupmarker.end:a===o.groupmarker.end&&(a=o.groupmarker.start),a)}var a;return e}(w[0]),w}},r.extendDefaults=function(e){t.extend(!0,r.prototype.defaults,e)},r.extendDefinitions=function(e){t.extend(!0,r.prototype.definitions,e)},r.extendAliases=function(e){t.extend(!0,r.prototype.aliases,e)},r.format=function(t,e,n){return r(e).format(t,n)},r.unmask=function(t,e){return r(e).unmaskedvalue(t)},r.isValid=function(t,e){return r(e).isValid(t)},r.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},r.escapeRegex=function(t){return t.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},r.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},r})?i.apply(e,r):i)||(t.exports=o)},tQ2B:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("Rn+g"),o=n("MLWZ"),s=n("w0Vi"),a=n("OTTw"),u=n("LYNF"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("n6bm");t.exports=function(t){return new Promise(function(e,c){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,p="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";f.Authorization="Basic "+l(m+":"+v)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};r(e,c,i),d=null}},d.onerror=function(){c(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var y=n("eqyj"),b=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(f[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&i.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),c(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},tfx8:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e);var s="undefined"!=typeof window,a=s?window:{},u="".concat("cropper","-crop"),l="".concat("cropper","-disabled"),c="".concat("cropper","-hidden"),h="".concat("cropper","-hide"),f="".concat("cropper","-invisible"),d="".concat("cropper","-modal"),p="".concat("cropper","-move"),g="".concat("cropper","Action"),m="".concat("cropper","Preview"),v=a.PointerEvent?"pointerdown":"touchstart mousedown",y=a.PointerEvent?"pointermove":"touchmove mousemove",b=a.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",_=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,w=/^data:/,C=/^data:image\/jpeg;base64,/,E=/^(?:img|canvas)$/i,S={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},T=Number.isNaN||a.isNaN;function x(t){return"number"==typeof t&&!T(t)}function k(t){return void 0===t}function D(t){return"object"===i(t)&&null!==t}var A=Object.prototype.hasOwnProperty;function O(t){if(!D(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&A.call(n,"isPrototypeOf")}catch(t){return!1}}function P(t){return"function"==typeof t}function N(t,e){if(t&&P(e))if(Array.isArray(t)||x(t.length)){var n,i=t.length;for(n=0;n<i&&!1!==e.call(t,t[n],n,t);n+=1);}else D(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)});return t}var L=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return D(t)&&n.length>0&&n.forEach(function(e){D(e)&&Object.keys(e).forEach(function(n){t[n]=e[n]})}),t},B=/\.\d*(?:0|9){12}\d*$/;function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return B.test(t)?Math.round(t*e)/e:t}var R=/^(?:width|height|left|top|marginLeft|marginTop)$/;function I(t,e){var n=t.style;N(e,function(t,e){R.test(e)&&x(t)&&(t+="px"),n[e]=t})}function H(t,e){if(e)if(x(t.length))N(t,function(t){H(t,e)});else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function z(t,e){e&&(x(t.length)?N(t,function(t){z(t,e)}):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function W(t,e,n){e&&(x(t.length)?N(t,function(t){W(t,e,n)}):n?H(t,e):z(t,e))}var j=/([a-z\d])([A-Z])/g;function U(t){return t.replace(j,"$1-$2").toLowerCase()}function q(t,e){return D(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(U(e)))}function Y(t,e,n){D(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(U(e)),n)}var V=/\s\s*/,Z=function(){var t=!1;if(s){var e=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});a.addEventListener("test",n,i),a.removeEventListener("test",n,i)}return t}();function K(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;e.trim().split(V).forEach(function(e){if(!Z){var o=t.listeners;o&&o[e]&&o[e][n]&&(r=o[e][n],delete o[e][n],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,r,i)})}function G(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;e.trim().split(V).forEach(function(e){if(i.once&&!Z){var o=t.listeners,s=void 0===o?{}:o;r=function(){delete s[e][n],t.removeEventListener(e,r,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];n.apply(t,a)},s[e]||(s[e]={}),s[e][n]&&t.removeEventListener(e,s[e][n],i),s[e][n]=r,t.listeners=s}t.addEventListener(e,r,i)})}function X(t,e,n){var i;return P(Event)&&P(CustomEvent)?i=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function M(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Q=a.location,J=/^(https?:)\/\/([^:\/?#]+):?(\d*)/i;function $(t){var e=t.match(J);return e&&(e[1]!==Q.protocol||e[2]!==Q.hostname||e[3]!==Q.port)}function tt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function et(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,r=t.translateX,o=t.translateY,s=[];x(r)&&0!==r&&s.push("translateX(".concat(r,"px)")),x(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),x(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),x(n)&&1!==n&&s.push("scaleX(".concat(n,")")),x(i)&&1!==i&&s.push("scaleY(".concat(i,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function nt(t,e){var n=t.pageX,i=t.pageY,r={endX:n,endY:i};return e?r:L({startX:n,startY:i},r)}var it=Number.isFinite||a.isFinite;function rt(t){var e=t.aspectRatio,n=t.height,i=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=function(t){return it(t)&&t>0};if(o(i)&&o(n)){var s=n*e;"contain"===r&&s>i||"cover"===r&&s<i?n=i/e:i=n*e}else o(i)?n=i/e:o(n)&&(i=n*e);return{width:i,height:n}}var ot=String.fromCharCode;var st=/^data:.*,/;function at(t){var e,n=new DataView(t);try{var i,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,a=2;a+1<s;){if(255===n.getUint8(a)&&225===n.getUint8(a+1)){r=a;break}a+=1}if(r){var u=r+10;if("Exif"===function(t,e,n){var i,r="";for(n+=e,i=e;i<n;i+=1)r+=ot(t.getUint8(i));return r}(n,r+4,4)){var l=n.getUint16(u);if(((i=18761===l)||19789===l)&&42===n.getUint16(u+2,i)){var c=n.getUint32(u+4,i);c>=8&&(o=u+c)}}}if(o){var h,f,d=n.getUint16(o,i);for(f=0;f<d;f+=1)if(h=o+12*f+2,274===n.getUint16(h,i)){h+=8,e=n.getUint16(h,i),n.setUint16(h,1,i);break}}}catch(t){e=1}return e}var ut={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,i=this.cropper;H(i,c),z(t,c);var r={width:Math.max(n.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=r,I(i,{width:r.width,height:r.height}),H(t,c),z(i,c)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,i=Math.abs(e.rotate)%180==90,r=i?e.naturalHeight:e.naturalWidth,o=i?e.naturalWidth:e.naturalHeight,s=r/o,a=t.width,u=t.height;t.height*s>t.width?3===n?a=t.height*s:u=t.width/s:3===n?u=t.width/s:a=t.height*s;var l={aspectRatio:s,naturalWidth:r,naturalHeight:o,width:a,height:u};l.left=(t.width-a)/2,l.top=(t.height-u)/2,l.oldLeft=l.left,l.oldTop=l.top,this.canvasData=l,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=L({},e),this.initialCanvasData=L({},l)},limitCanvas:function(t,e){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,s=n.viewMode,a=r.aspectRatio,u=this.cropped&&o;if(t){var l=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;s>1?(l=Math.max(l,i.width),c=Math.max(c,i.height),3===s&&(c*a>l?l=c*a:c=l/a)):s>0&&(l?l=Math.max(l,u?o.width:0):c?c=Math.max(c,u?o.height:0):u&&(l=o.width,(c=o.height)*a>l?l=c*a:c=l/a));var h=rt({aspectRatio:a,width:l,height:c});l=h.width,c=h.height,r.minWidth=l,r.minHeight=c,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(s>(u?0:1)){var f=i.width-r.width,d=i.height-r.height;r.minLeft=Math.min(0,f),r.minTop=Math.min(0,d),r.maxLeft=Math.max(0,f),r.maxTop=Math.max(0,d),u&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===s&&(r.width>=i.width&&(r.minLeft=Math.min(0,f),r.maxLeft=Math.max(0,f)),r.height>=i.height&&(r.minTop=Math.min(0,d),r.maxTop=Math.max(0,d))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(t,e){var n=this.canvasData,i=this.imageData;if(e){var r=function(t){var e=t.width,n=t.height,i=t.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:e};var r=i%90*Math.PI/180,o=Math.sin(r),s=Math.cos(r),a=e*s+n*o,u=e*o+n*s;return i>90?{width:u,height:a}:{width:a,height:u}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,s=r.height,a=n.width*(o/n.naturalWidth),u=n.height*(s/n.naturalHeight);n.left-=(a-n.width)/2,n.top-=(u-n.height)/2,n.width=a,n.height=u,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,I(this.canvas,L({width:n.width,height:n.height},et({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,i=n.naturalWidth*(e.width/e.naturalWidth),r=n.naturalHeight*(e.height/e.naturalHeight);L(n,{width:i,height:r,left:(e.width-i)/2,top:(e.height-r)/2}),I(this.image,L({width:n.width,height:n.height},et(L({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};n&&(e.height*n>e.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=L({},r)},limitCropBox:function(t,e){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,s=this.limited,a=n.aspectRatio;if(t){var u=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,c=s?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,h=s?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;u=Math.min(u,i.width),l=Math.min(l,i.height),a&&(u&&l?l*a>u?l=u/a:u=l*a:u?l=u/a:l&&(u=l*a),h*a>c?h=c/a:c=h*a),o.minWidth=Math.min(u,c),o.minHeight=Math.min(l,h),o.maxWidth=c,o.maxHeight=h}e&&(s?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Y(this.face,g,n.width>=e.width&&n.height>=e.height?"move":"all"),I(this.cropBox,L({width:n.width,height:n.height},et({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),X(this.element,"crop",this.getData())}},lt={initPreview:function(){var t=this.crossOrigin,e=this.options.preview,n=t?this.crossOriginUrl:this.url,i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=n,this.viewBox.appendChild(i),this.viewBoxImage=i,e){var r=e;"string"==typeof e?r=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(r=[e]),this.previews=r,N(r,function(e){var i=document.createElement("img");Y(e,m,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=n,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)})}},resetPreview:function(){N(this.previews,function(t){var e=q(t,m);I(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(D(t[e]))try{delete t[e]}catch(n){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(U(e)))}(t,m)})},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,o=t.width,s=t.height,a=n.left-e.left-t.left,u=n.top-e.top-t.top;this.cropped&&!this.disabled&&(I(this.viewBoxImage,L({width:o,height:s},et(L({translateX:-a,translateY:-u},t)))),N(this.previews,function(e){var n=q(e,m),l=n.width,c=n.height,h=l,f=c,d=1;i&&(f=r*(d=l/i)),r&&f>c&&(h=i*(d=c/r),f=c),I(e,{width:h,height:f}),I(e.getElementsByTagName("img")[0],L({width:o*d,height:s*d},et(L({translateX:-a*d,translateY:-u*d},t))))}))}},ct={bind:function(){var t=this.element,e=this.options,n=this.cropper;P(e.cropstart)&&G(t,"cropstart",e.cropstart),P(e.cropmove)&&G(t,"cropmove",e.cropmove),P(e.cropend)&&G(t,"cropend",e.cropend),P(e.crop)&&G(t,"crop",e.crop),P(e.zoom)&&G(t,"zoom",e.zoom),G(n,v,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&G(n,"wheel mousewheel DOMMouseScroll",this.onWheel=this.wheel.bind(this)),e.toggleDragModeOnDblclick&&G(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),G(t.ownerDocument,y,this.onCropMove=this.cropMove.bind(this)),G(t.ownerDocument,b,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&G(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;P(e.cropstart)&&K(t,"cropstart",e.cropstart),P(e.cropmove)&&K(t,"cropmove",e.cropmove),P(e.cropend)&&K(t,"cropend",e.cropend),P(e.crop)&&K(t,"crop",e.crop),P(e.zoom)&&K(t,"zoom",e.zoom),K(n,v,this.onCropStart),e.zoomable&&e.zoomOnWheel&&K(n,"wheel mousewheel DOMMouseScroll",this.onWheel),e.toggleDragModeOnDblclick&&K(n,"dblclick",this.onDblclick),K(t.ownerDocument,y,this.onCropMove),K(t.ownerDocument,b,this.onCropEnd),e.responsive&&K(window,"resize",this.onResize)}},ht={resize:function(){var t=this.options,e=this.container,n=this.containerData,i=Number(t.minContainerWidth)||200,r=Number(t.minContainerHeight)||100;if(!(this.disabled||n.width<=i||n.height<=r)){var o,s,a=e.offsetWidth/n.width;if(1!==a||e.offsetHeight!==n.height)t.restore&&(o=this.getCanvasData(),s=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(N(o,function(t,e){o[e]=t*a})),this.setCropBoxData(N(s,function(t,e){s[e]=t*a})))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=u,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*n,t)))},cropStart:function(t){if(!this.disabled){var e,n=this.options,i=this.pointers;t.changedTouches?N(t.changedTouches,function(t){i[t.identifier]=nt(t)}):i[t.pointerId||0]=nt(t),e=Object.keys(i).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":q(t.target,g),_.test(e)&&!1!==X(this.element,"cropstart",{originalEvent:t,action:e})&&(t.preventDefault(),this.action=e,this.cropping=!1,"crop"===e&&(this.cropping=!0,H(this.dragBox,d)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==X(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?N(t.changedTouches,function(t){L(n[t.identifier]||{},nt(t,!0))}):L(n[t.pointerId||0]||{},nt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?N(t.changedTouches,function(t){delete n[t.identifier]}):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,W(this.dragBox,d,this.cropped&&this.options.modal)),X(this.element,"cropend",{originalEvent:t,action:e}))}}},ft={change:function(t){var e,n=this.options,i=this.canvasData,r=this.containerData,o=this.cropBoxData,s=this.pointers,a=this.action,u=n.aspectRatio,l=o.left,h=o.top,f=o.width,d=o.height,p=l+f,g=h+d,m=0,v=0,y=r.width,b=r.height,_=!0;!u&&t.shiftKey&&(u=f&&d?f/d:1),this.limited&&(m=o.minLeft,v=o.minTop,y=m+Math.min(r.width,i.width,i.left+i.width),b=v+Math.min(r.height,i.height,i.top+i.height));var w=s[Object.keys(s)[0]],C={x:w.endX-w.startX,y:w.endY-w.startY},E=function(t){switch(t){case"e":p+C.x>y&&(C.x=y-p);break;case"w":l+C.x<m&&(C.x=m-l);break;case"n":h+C.y<v&&(C.y=v-h);break;case"s":g+C.y>b&&(C.y=b-g)}};switch(a){case"all":l+=C.x,h+=C.y;break;case"e":if(C.x>=0&&(p>=y||u&&(h<=v||g>=b))){_=!1;break}E("e"),(f+=C.x)<0&&(a="w",l-=f=-f),u&&(d=f/u,h+=(o.height-d)/2);break;case"n":if(C.y<=0&&(h<=v||u&&(l<=m||p>=y))){_=!1;break}E("n"),d-=C.y,h+=C.y,d<0&&(a="s",h-=d=-d),u&&(f=d*u,l+=(o.width-f)/2);break;case"w":if(C.x<=0&&(l<=m||u&&(h<=v||g>=b))){_=!1;break}E("w"),f-=C.x,l+=C.x,f<0&&(a="e",l-=f=-f),u&&(d=f/u,h+=(o.height-d)/2);break;case"s":if(C.y>=0&&(g>=b||u&&(l<=m||p>=y))){_=!1;break}E("s"),(d+=C.y)<0&&(a="n",h-=d=-d),u&&(f=d*u,l+=(o.width-f)/2);break;case"ne":if(u){if(C.y<=0&&(h<=v||p>=y)){_=!1;break}E("n"),d-=C.y,h+=C.y,f=d*u}else E("n"),E("e"),C.x>=0?p<y?f+=C.x:C.y<=0&&h<=v&&(_=!1):f+=C.x,C.y<=0?h>v&&(d-=C.y,h+=C.y):(d-=C.y,h+=C.y);f<0&&d<0?(a="sw",h-=d=-d,l-=f=-f):f<0?(a="nw",l-=f=-f):d<0&&(a="se",h-=d=-d);break;case"nw":if(u){if(C.y<=0&&(h<=v||l<=m)){_=!1;break}E("n"),d-=C.y,h+=C.y,f=d*u,l+=o.width-f}else E("n"),E("w"),C.x<=0?l>m?(f-=C.x,l+=C.x):C.y<=0&&h<=v&&(_=!1):(f-=C.x,l+=C.x),C.y<=0?h>v&&(d-=C.y,h+=C.y):(d-=C.y,h+=C.y);f<0&&d<0?(a="se",h-=d=-d,l-=f=-f):f<0?(a="ne",l-=f=-f):d<0&&(a="sw",h-=d=-d);break;case"sw":if(u){if(C.x<=0&&(l<=m||g>=b)){_=!1;break}E("w"),f-=C.x,l+=C.x,d=f/u}else E("s"),E("w"),C.x<=0?l>m?(f-=C.x,l+=C.x):C.y>=0&&g>=b&&(_=!1):(f-=C.x,l+=C.x),C.y>=0?g<b&&(d+=C.y):d+=C.y;f<0&&d<0?(a="ne",h-=d=-d,l-=f=-f):f<0?(a="se",l-=f=-f):d<0&&(a="nw",h-=d=-d);break;case"se":if(u){if(C.x>=0&&(p>=y||g>=b)){_=!1;break}E("e"),d=(f+=C.x)/u}else E("s"),E("e"),C.x>=0?p<y?f+=C.x:C.y>=0&&g>=b&&(_=!1):f+=C.x,C.y>=0?g<b&&(d+=C.y):d+=C.y;f<0&&d<0?(a="nw",h-=d=-d,l-=f=-f):f<0?(a="sw",l-=f=-f):d<0&&(a="ne",h-=d=-d);break;case"move":this.move(C.x,C.y),_=!1;break;case"zoom":this.zoom(function(t){var e=L({},t),n=[];return N(t,function(t,i){delete e[i],N(e,function(e){var i=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),a=Math.sqrt(i*i+r*r),u=(Math.sqrt(o*o+s*s)-a)/a;n.push(u)})}),n.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),n[0]}(s),t),_=!1;break;case"crop":if(!C.x||!C.y){_=!1;break}e=M(this.cropper),l=w.startX-e.left,h=w.startY-e.top,f=o.minWidth,d=o.minHeight,C.x>0?a=C.y>0?"se":"ne":C.x<0&&(l-=f,a=C.y>0?"sw":"nw"),C.y<0&&(h-=d),this.cropped||(z(this.cropBox,c),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}_&&(o.width=f,o.height=d,o.left=l,o.top=h,this.action=a,this.renderCropBox()),N(s,function(t){t.startX=t.endX,t.startY=t.endY})}},dt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&H(this.dragBox,d),z(this.cropBox,c),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=L({},this.initialImageData),this.canvasData=L({},this.initialCanvasData),this.cropBoxData=L({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(L(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),z(this.dragBox,d),H(this.cropBox,c)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,N(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,z(this.cropper,l)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,H(this.cropper,l)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,i=n.left,r=n.top;return this.moveTo(k(t)?t:i+Number(t),k(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(x(t)&&(n.left=t,i=!0),x(e)&&(n.top=e,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var i=this.options,r=this.canvasData,o=r.width,s=r.height,a=r.naturalWidth,u=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&i.zoomable){var l=a*t,c=u*t;if(!1===X(this.element,"zoom",{ratio:t,oldRatio:o/a,originalEvent:n}))return this;if(n){var h=this.pointers,f=M(this.cropper),d=h&&Object.keys(h).length?function(t){var e=0,n=0,i=0;return N(t,function(t){var r=t.startX,o=t.startY;e+=r,n+=o,i+=1}),{pageX:e/=i,pageY:n/=i}}(h):{pageX:n.pageX,pageY:n.pageY};r.left-=(l-o)*((d.pageX-f.left-r.left)/o),r.top-=(c-s)*((d.pageY-f.top-r.top)/s)}else O(e)&&x(e.x)&&x(e.y)?(r.left-=(l-o)*((e.x-r.left)/o),r.top-=(c-s)*((e.y-r.top)/s)):(r.left-=(l-o)/2,r.top-=(c-s)/2);r.width=l,r.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return x(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,x(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(x(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(x(t)&&(n.scaleX=t,i=!0),x(e)&&(n.scaleY=e,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var s=i.width/i.naturalWidth;if(N(t,function(e,n){t[n]=e/s}),e){var a=Math.round(t.y+t.height),u=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=u-t.x,t.height=a-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=i.rotate||0),n.scalable&&(t.scaleX=i.scaleX||1,t.scaleY=i.scaleY||1),t},setData:function(t){var e=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&O(t)){var o=!1;e.rotatable&&x(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),e.scalable&&(x(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),x(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;x(t.x)&&(r.left=t.x*s+i.left),x(t.y)&&(r.top=t.y*s+i.top),x(t.width)&&(r.width=t.width*s),x(t.height)&&(r.height=t.height*s),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?L({},this.containerData):{}},getImageData:function(){return this.sized?L({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&N(["left","top","width","height","naturalWidth","naturalHeight"],function(n){e[n]=t[n]}),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&O(t)&&(x(t.left)&&(e.left=t.left),x(t.top)&&(e.top=t.top),x(t.width)?(e.width=t.width,e.height=t.width/n):x(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&O(t)&&(x(t.left)&&(i.left=t.left),x(t.top)&&(i.top=t.top),x(t.width)&&t.width!==i.width&&(e=!0,i.width=t.width),x(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),r&&(e?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=function(t,e,n,i){var r=e.aspectRatio,s=e.naturalWidth,a=e.naturalHeight,u=e.rotate,l=void 0===u?0:u,c=e.scaleX,h=void 0===c?1:c,f=e.scaleY,d=void 0===f?1:f,p=n.aspectRatio,g=n.naturalWidth,m=n.naturalHeight,v=i.fillColor,y=void 0===v?"transparent":v,b=i.imageSmoothingEnabled,_=void 0===b||b,w=i.imageSmoothingQuality,C=void 0===w?"low":w,E=i.maxWidth,S=void 0===E?1/0:E,T=i.maxHeight,x=void 0===T?1/0:T,k=i.minWidth,D=void 0===k?0:k,A=i.minHeight,O=void 0===A?0:A,P=document.createElement("canvas"),N=P.getContext("2d"),L=rt({aspectRatio:p,width:S,height:x}),B=rt({aspectRatio:p,width:D,height:O},"cover"),R=Math.min(L.width,Math.max(B.width,g)),I=Math.min(L.height,Math.max(B.height,m)),H=rt({aspectRatio:r,width:S,height:x}),z=rt({aspectRatio:r,width:D,height:O},"cover"),W=Math.min(H.width,Math.max(z.width,s)),j=Math.min(H.height,Math.max(z.height,a)),U=[-W/2,-j/2,W,j];return P.width=F(R),P.height=F(I),N.fillStyle=y,N.fillRect(0,0,R,I),N.save(),N.translate(R/2,I/2),N.rotate(l*Math.PI/180),N.scale(h,d),N.imageSmoothingEnabled=_,N.imageSmoothingQuality=C,N.drawImage.apply(N,[t].concat(o(U.map(function(t){return Math.floor(F(t))})))),N.restore(),P}(this.image,this.imageData,e,t);if(!this.cropped)return n;var i=this.getData(),r=i.x,s=i.y,a=i.width,u=i.height,l=n.width/Math.floor(e.naturalWidth);1!==l&&(r*=l,s*=l,a*=l,u*=l);var c=a/u,h=rt({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=rt({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),d=rt({aspectRatio:c,width:t.width||(1!==l?n.width:a),height:t.height||(1!==l?n.height:u)}),p=d.width,g=d.height;p=Math.min(h.width,Math.max(f.width,p)),g=Math.min(h.height,Math.max(f.height,g));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=F(p),m.height=F(g),v.fillStyle=t.fillColor||"transparent",v.fillRect(0,0,p,g);var y=t.imageSmoothingEnabled,b=void 0===y||y,_=t.imageSmoothingQuality;v.imageSmoothingEnabled=b,_&&(v.imageSmoothingQuality=_);var w,C,E,S,T,x,k=n.width,D=n.height,A=r,O=s;A<=-a||A>k?(A=0,w=0,E=0,T=0):A<=0?(E=-A,A=0,T=w=Math.min(k,a+A)):A<=k&&(E=0,T=w=Math.min(a,k-A)),w<=0||O<=-u||O>D?(O=0,C=0,S=0,x=0):O<=0?(S=-O,O=0,x=C=Math.min(D,u+O)):O<=D&&(S=0,x=C=Math.min(u,D-O));var P=[A,O,w,C];if(T>0&&x>0){var N=p/a;P.push(E*N,S*N,T*N,x*N)}return v.drawImage.apply(v,[n].concat(o(P.map(function(t){return Math.floor(F(t))})))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||k(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r="crop"===t,o=e.movable&&"move"===t;t=r||o?t:"none",e.dragMode=t,Y(n,g,t),W(n,u,r),W(n,p,o),e.cropBoxMovable||(Y(i,g,t),W(i,u,r),W(i,p,o))}return this}},pt=a.Cropper,gt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!E.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=L({},S,O(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,n,i;return e=t,i=[{key:"noConflict",value:function(){return window.Cropper=pt,t}},{key:"setDefaults",value:function(t){L(S,O(t)&&t)}}],(n=[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(w.test(t))C.test(t)?this.read((r=t.replace(st,""),o=atob(r),s=new ArrayBuffer(o.length),N(a=new Uint8Array(s),function(t,e){a[e]=o.charCodeAt(e)}),s)):this.clone();else{var r,o,s,a,u=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.ontimeout=l,u.onabort=l,u.onerror=l,u.onprogress=function(){"image/jpeg"!==u.getResponseHeader("content-type")&&u.abort()},u.onload=function(){e.read(u.response)},u.onloadend=function(){e.reloading=!1,e.xhr=null},i.checkCrossOrigin&&$(t)&&n.crossOrigin&&(t=tt(t)),u.open("GET",t),u.responseType="arraybuffer",u.withCredentials="use-credentials"===n.crossOrigin,u.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,i=at(t),r=0,s=1,a=1;if(i>1){this.url=function(t,e){for(var n=[],i=new Uint8Array(t);i.length>0;)n.push(ot.apply(void 0,o(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}(t,"image/jpeg");var u=function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(i);r=u.rotate,s=u.scaleX,a=u.scaleY}e.rotatable&&(n.rotate=r),e.scalable&&(n.scaleX=s,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var t,e,n=this.element,i=this.url;this.options.checkCrossOrigin&&$(i)&&((t=n.crossOrigin)?e=i:(t="anonymous",e=tt(i))),this.crossOrigin=t,this.crossOriginUrl=e;var r=document.createElement("img");t&&(r.crossOrigin=t),r.src=e||i,this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),H(r,h),n.parentNode.insertBefore(r,n.nextSibling)}},{key:"start",value:function(){var t=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var n=a.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(a.navigator.userAgent),i=function(e,n){L(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||n){var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),n||o.removeChild(r)},r.src=e.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}else i(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,i=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat("cropper","-container")),s=o.querySelector(".".concat("cropper","-canvas")),a=o.querySelector(".".concat("cropper","-drag-box")),u=o.querySelector(".".concat("cropper","-crop-box")),l=u.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=o,this.canvas=s,this.dragBox=a,this.cropBox=u,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=l,s.appendChild(n),H(t,c),i.insertBefore(o,t.nextSibling),this.isImg||z(n,h),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,H(u,c),e.guides||H(u.getElementsByClassName("".concat("cropper","-dashed")),c),e.center||H(u.getElementsByClassName("".concat("cropper","-center")),c),e.background&&H(o,"".concat("cropper","-bg")),e.highlight||H(l,f),e.cropBoxMovable&&(H(l,p),Y(l,g,"all")),e.cropBoxResizable||(H(u.getElementsByClassName("".concat("cropper","-line")),c),H(u.getElementsByClassName("".concat("cropper","-point")),c)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),P(e.ready)&&G(t,"ready",e.ready,{once:!0}),X(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),z(this.element,c))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&r(e.prototype,n),i&&r(e,i),t}();L(gt.prototype,ut,lt,ct,ht,ft,dt),e.default=gt},tjlA:function(t,e,n){"use strict";(function(t){var i=n("H7XF"),r=n("kVK+"),o=n("49sm");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(i)return W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return U(W(e,t.length-n),t,n,i)}function _(t,e,n,i){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return _(t,e,n,i)}function C(t,e,n,i){return U(j(e),t,n,i)}function E(t,e,n,i){return U(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=x));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,r),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function D(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function A(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=z(t[o]);return r}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function L(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function B(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function F(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,i,o){return o||F(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function I(t,e,n,i,o){return o||F(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:W(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n("yLpj"))},v31x:function(t,e,n){var i=n("VrN/");i.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}},i.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}}},vDqi:function(t,e,n){t.exports=n("zuR4")},w0Vi:function(t,e,n){"use strict";var i=n("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},xAGQ:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},"xTJ+":function(t,e,n){"use strict";var i=n("HSsa"),r=n("BEtg"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},yK9s:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},zAM5:function(t,e,n){var i,r,o;r=[n("zK8/"),n("qZCD")],void 0===(o="function"==typeof(i=function(t,e,n){function i(t,n){for(var i="",r=0;r<t.length;r++)e.prototype.definitions[t.charAt(r)]||n.definitions[t.charAt(r)]||n.optionalmarker.start===t.charAt(r)||n.optionalmarker.end===t.charAt(r)||n.quantifiermarker.start===t.charAt(r)||n.quantifiermarker.end===t.charAt(r)||n.groupmarker.start===t.charAt(r)||n.groupmarker.end===t.charAt(r)||n.alternatormarker===t.charAt(r)?i+="\\"+t.charAt(r):i+=t.charAt(r);return i}return e.extendAliases({numeric:{mask:function(t){if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=n),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var e=Math.floor(t.integerDigits/t.groupSize),r=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===r?e-1:e),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&!1===t.integerOptional&&(t.positionCaretOnClick="lvp"),t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",!0===t.numericInput&&(t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var o="[+]";if(o+=i(t.prefix,t),!0===t.integerOptional?o+="~{1,"+t.integerDigits+"}":o+="~{"+t.integerDigits+"}",t.digits!==n){t.radixPointDefinitionSymbol=t.decimalProtect?":":t.radixPoint;var s=t.digits.toString().split(",");isFinite(s[0]&&s[1]&&isFinite(s[1]))?o+=t.radixPointDefinitionSymbol+";{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional?o+="["+t.radixPointDefinitionSymbol+";{1,"+t.digits+"}]":o+=t.radixPointDefinitionSymbol+";{"+t.digits+"}")}return o+=i(t.suffix,t),o+="[-]",t.greedy=!1,o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(e,i,r,o,s){if("-"===r||r===s.negationSymbol.front)return!0===s.allowMinus&&(s.isNegative=s.isNegative===n||!s.isNegative,""===e.join("")||{caret:i,dopost:!0});if(!1===o&&r===s.radixPoint&&s.digits!==n&&(isNaN(s.digits)||parseInt(s.digits)>0)){var a=t.inArray(s.radixPoint,e);if(-1!==a)return!0===s.numericInput?i===a:{caret:a+1}}return!0},postValidation:function(i,r,o){var s=o.suffix.split(""),a=o.prefix.split("");if(r.pos===n&&r.caret!==n&&!0!==r.dopost)return r;var u=r.caret!==n?r.caret:r.pos,l=i.slice();o.numericInput&&(u=l.length-u-1,l=l.reverse());var c=l[u];if(c===o.groupSeparator&&(c=l[u+=1]),u===l.length-o.suffix.length-1&&c===o.radixPoint)return r;c!==n&&c!==o.radixPoint&&c!==o.negationSymbol.front&&c!==o.negationSymbol.back&&(l[u]="?",o.prefix.length>0&&u>=(!1===o.isNegative?1:0)&&u<o.prefix.length-1+(!1===o.isNegative?1:0)?a[u-(!1===o.isNegative?1:0)]="?":o.suffix.length>0&&u>=l.length-o.suffix.length-(!1===o.isNegative?1:0)&&(s[u-(l.length-o.suffix.length-(!1===o.isNegative?1:0))]="?")),a=a.join(""),s=s.join("");var h=l.join("").replace(a,"");if(h=(h=(h=(h=h.replace(s,"")).replace(new RegExp(e.escapeRegex(o.groupSeparator),"g"),"")).replace(new RegExp("[-"+e.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(o.negationSymbol.back)+"$"),""),isNaN(o.placeholder)&&(h=h.replace(new RegExp(e.escapeRegex(o.placeholder),"g"),"")),h.length>1&&1!==h.indexOf(o.radixPoint)&&("0"===c&&(h=h.replace(/^\?/g,"")),h=h.replace(/^0/g,"")),h.charAt(0)===o.radixPoint&&""!==o.radixPoint&&!0!==o.numericInput&&(h="0"+h),""!==h){if(h=h.split(""),(!o.digitsOptional||o.enforceDigitsOnBlur&&"blur"===r.event)&&isFinite(o.digits)){var f=t.inArray(o.radixPoint,h),d=t.inArray(o.radixPoint,l);-1===f&&(h.push(o.radixPoint),f=h.length-1);for(var p=1;p<=o.digits;p++)o.digitsOptional&&(!o.enforceDigitsOnBlur||"blur"!==r.event)||h[f+p]!==n&&h[f+p]!==o.placeholder.charAt(0)?-1!==d&&l[d+p]!==n&&(h[f+p]=h[f+p]||l[d+p]):h[f+p]=r.placeholder||o.placeholder.charAt(0)}if(!0!==o.autoGroup||""===o.groupSeparator||c===o.radixPoint&&r.pos===n&&!r.dopost)h=h.join("");else{var g=h[h.length-1]===o.radixPoint&&r.c===o.radixPoint;h=e(function(t,e){var n="";if(n+="("+e.groupSeparator+"*{"+e.groupSize+"}){*}",""!==e.radixPoint){var i=t.join("").split(e.radixPoint);i[1]&&(n+=e.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return n}(h,o),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(h.join("")),g&&(h+=o.radixPoint),h.charAt(0)===o.groupSeparator&&h.substr(1)}}if(o.isNegative&&"blur"===r.event&&(o.isNegative="0"!==h),h=a+h,h+=s,o.isNegative&&(h=o.negationSymbol.front+h,h+=o.negationSymbol.back),h=h.split(""),c!==n)if(c!==o.radixPoint&&c!==o.negationSymbol.front&&c!==o.negationSymbol.back)(u=t.inArray("?",h))>-1?h[u]=c:u=r.caret||0;else if(c===o.radixPoint||c===o.negationSymbol.front||c===o.negationSymbol.back){var m=t.inArray(c,h);-1!==m&&(u=m)}o.numericInput&&(u=h.length-u-1,h=h.reverse());var v={caret:c===n||r.pos!==n?u+(o.numericInput?-1:1):u,buffer:h,refreshFromBuffer:r.dopost||i.join("")!==h.join("")};return v.refreshFromBuffer?v:r},onBeforeWrite:function(i,r,o,s){if(i)switch(i.type){case"keydown":return s.postValidation(r,{caret:o,dopost:!0},s);case"blur":case"checkval":var a;if(function(t){t.parseMinMaxOptions===n&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(s),null!==s.min||null!==s.max){if(a=s.onUnMask(r.join(""),n,t.extend({},s,{unmaskAsNumber:!0})),null!==s.min&&a<s.min)return s.isNegative=s.min<0,s.postValidation(s.min.toString().replace(".",s.radixPoint).split(""),{caret:o,dopost:!0,placeholder:"0"},s);if(null!==s.max&&a>s.max)return s.isNegative=s.max<0,s.postValidation(s.max.toString().replace(".",s.radixPoint).split(""),{caret:o,dopost:!0,placeholder:"0"},s)}return s.postValidation(r,{caret:o,placeholder:"0",event:"blur"},s);case"_checkval":return{caret:o}}},regex:{integerPart:function(t,n){return n?new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?"):new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+e.escapeRegex(t.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(t,i,r,o,s,a){var u=o?new RegExp("[0-9"+e.escapeRegex(s.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t);if(!0===u){if(!0!==s.numericInput&&i.validPositions[r]!==n&&"~"===i.validPositions[r].match.def&&!a){var l=i.buffer.join(""),c=(l=(l=l.replace(new RegExp("[-"+e.escapeRegex(s.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(s.negationSymbol.back)+"$"),"")).split(s.radixPoint);c.length>1&&(c[1]=c[1].replace(/0/g,s.placeholder.charAt(0))),"0"===c[0]&&(c[0]=c[0].replace(/0/g,s.placeholder.charAt(0))),l=c[0]+s.radixPoint+c[1]||"";var h=i._buffer.join("");for(l===s.radixPoint&&(l=h);null===l.match(e.escapeRegex(h)+"$");)h=h.slice(1);u=(l=(l=l.replace(h,"")).split(""))[r]===n?{pos:r,remove:r}:{pos:r}}}else o||t!==s.radixPoint||i.validPositions[r-1]!==n||(i.buffer[r]="0",u={pos:r+1});return u},cardinality:1},"+":{validator:function(t,e,n,i,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(t,e,n,i,r){return r.allowMinus&&t===r.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(t,n,i,r,o){var s="["+e.escapeRegex(o.radixPoint)+"]",a=new RegExp(s).test(t);return a&&n.validPositions[i]&&n.validPositions[i].match.placeholder===o.radixPoint&&(a={caret:i+1}),a},cardinality:1,placeholder:function(t){return t.radixPoint}}},onUnMask:function(t,n,i){if(""===n&&!0===i.nullable)return n;var r=t.replace(i.prefix,"");return r=(r=r.replace(i.suffix,"")).replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(r=r.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==r.indexOf(i.radixPoint)&&(r=r.replace(e.escapeRegex.call(this,i.radixPoint),".")),r=(r=r.replace(new RegExp("^"+e.escapeRegex(i.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(i.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(t,n){var i=t.join("");if(t.slice().join("")!==i)return!1;var r=i.replace(n.prefix,"");return r=(r=r.replace(n.suffix,"")).replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(r=r.replace(e.escapeRegex(n.radixPoint),".")),isFinite(r)},onBeforeMask:function(t,i){if(i.isNegative=n,t=t.toString().charAt(t.length-1)===i.radixPoint?t.toString().substr(0,t.length-1):t.toString(),""!==i.radixPoint&&isFinite(t)){var r=t.split("."),o=""!==i.groupSeparator?parseInt(i.groupSize):0;2===r.length&&(r[0].length>o||r[1].length>o||r[0].length<=o&&r[1].length<o)&&(t=t.replace(".",i.radixPoint))}var s=t.match(/,/g),a=t.match(/\./g);if(t=a&&s?a.length>s.length?(t=t.replace(/\./g,"")).replace(",",i.radixPoint):s.length>a.length?(t=t.replace(/,/g,"")).replace(".",i.radixPoint):t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t.replace(/,/g,""):t.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),0===i.digits&&(-1!==t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==t.indexOf(i.radixPoint)){var u=t.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<u.toString().length){var l=Math.pow(10,parseInt(i.digits));t=t.replace(e.escapeRegex(i.radixPoint),"."),t=(t=Math.round(parseFloat(t)*l)/l).toString().replace(".",i.radixPoint)}}return t},canClearPosition:function(t,e,n,i,r){var o=t.validPositions[e],s=o.input!==r.radixPoint||null!==t.validPositions[e].match.fn&&!1===r.decimalProtect||o.input===r.radixPoint&&t.validPositions[e+1]&&null===t.validPositions[e+1].match.fn||isFinite(o.input)||e===n||o.input===r.groupSeparator||o.input===r.negationSymbol.front||o.input===r.negationSymbol.back;return!s||"+"!==o.match.nativeDef&&"-"!==o.match.nativeDef||(r.isNegative=!1),s},onKeyDown:function(n,i,r,o){var s=t(this);if(n.ctrlKey)switch(n.keyCode){case e.keyCode.UP:s.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(o.step)),s.trigger("setvalue");break;case e.keyCode.DOWN:s.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(o.step)),s.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e})?i.apply(e,r):i)||(t.exports=o)},"zK8/":function(t,e,n){var i,r,o;r=[n("IiP2"),n("OUWD")],void 0===(o="function"==typeof(i=function(t,e){function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?a[a.toString.call(t)]||"object":typeof t}function i(t){return null!=t&&t===t.window}function r(t){var e="length"in t&&t.length,r=n(t);return"function"!==r&&!i(t)&&(!(1!==t.nodeType||!e)||"array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t){return t instanceof Element}function s(n){return n instanceof s?n:this instanceof s?void(null!=n&&n!==t&&(this[0]=n.nodeName?n:void 0!==n[0]&&n[0].nodeName?n[0]:e.querySelector(n),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new s(n)}for(var a={},u="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<u.length;l++)a["[object "+u[l]+"]"]=u[l].toLowerCase();return s.prototype={on:function(t,e){if(o(this[0]))for(var n=this[0].eventRegistry,i=this[0],r=t.split(" "),s=0;s<r.length;s++){var a=r[s].split(".");u=a[0],l=a[1]||"global",i.addEventListener?i.addEventListener(u,e,!1):i.attachEvent&&i.attachEvent("on"+u,e),n[u]=n[u]||{},n[u][l]=n[u][l]||[],n[u][l].push(e)}var u,l;return this},off:function(t,e){if(o(this[0]))for(var n=this[0].eventRegistry,i=this[0],r=t.split(" "),s=0;s<r.length;s++)for(var a=r[s].split("."),u=function(t,i){var r,o,s=[];if(t.length>0)if(void 0===e)for(r=0,o=n[t][i].length;r<o;r++)s.push({ev:t,namespace:i&&i.length>0?i:"global",handler:n[t][i][r]});else s.push({ev:t,namespace:i&&i.length>0?i:"global",handler:e});else if(i.length>0)for(var a in n)for(var u in n[a])if(u===i)if(void 0===e)for(r=0,o=n[a][u].length;r<o;r++)s.push({ev:a,namespace:u,handler:n[a][u][r]});else s.push({ev:a,namespace:u,handler:e});return s}(a[0],a[1]),l=0,c=u.length;l<c;l++)!function(t,e,r){if(t in n==1)if(i.removeEventListener?i.removeEventListener(t,r,!1):i.detachEvent&&i.detachEvent("on"+t,r),"global"===e)for(var o in n[t])n[t][o].splice(n[t][o].indexOf(r),1);else n[t][e].splice(n[t][e].indexOf(r),1)}(u[l].ev,u[l].namespace,u[l].handler);return this},trigger:function(t){if(o(this[0]))for(var n=this[0].eventRegistry,i=this[0],r="string"==typeof t?t.split(" "):[t.type],a=0;a<r.length;a++){var u=r[a].split("."),l=u[0],c=u[1]||"global";if(void 0!==e&&"global"===c){var h,f,d={bubbles:!0,cancelable:!0,detail:Array.prototype.slice.call(arguments,1)};if(e.createEvent){try{h=new CustomEvent(l,d)}catch(t){(h=e.createEvent("CustomEvent")).initCustomEvent(l,d.bubbles,d.cancelable,d.detail)}t.type&&s.extend(h,t),i.dispatchEvent(h)}else(h=e.createEventObject()).eventType=l,t.type&&s.extend(h,t),i.fireEvent("on"+h.eventType,h)}else if(void 0!==n[l])if(arguments[0]=arguments[0].type?arguments[0]:s.Event(arguments[0]),"global"===c)for(var p in n[l])for(f=0;f<n[l][p].length;f++)n[l][p][f].apply(i,arguments);else for(f=0;f<n[l][c].length;f++)n[l][c][f].apply(i,arguments)}return this}},s.isFunction=function(t){return"function"===n(t)},s.noop=function(){},s.isArray=Array.isArray,s.inArray=function(t,e,n){return null==e?-1:function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e,t)},s.valHooks=void 0,s.isPlainObject=function(t){return!("object"!==n(t)||t.nodeType||i(t)||t.constructor&&!a.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))},s.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[u]||{},u++),"object"==typeof a||s.isFunction(a)||(a={}),u===l&&(a=this,u--);u<l;u++)if(null!=(t=arguments[u]))for(e in t)n=a[e],a!==(i=t[e])&&(c&&i&&(s.isPlainObject(i)||(r=s.isArray(i)))?(r?(r=!1,o=n&&s.isArray(n)?n:[]):o=n&&s.isPlainObject(n)?n:{},a[e]=s.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},s.each=function(t,e){var n=0;if(r(t))for(var i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},s.map=function(t,e){var n,i=0,o=t.length,s=[];if(r(t))for(;i<o;i++)null!=(n=e(t[i],i))&&s.push(n);else for(i in t)null!=(n=e(t[i],i))&&s.push(n);return[].concat(s)},s.data=function(t,e,n){if(void 0===n)return t.__data?t.__data[e]:null;t.__data=t.__data||{},t.__data[e]=n},"function"==typeof t.CustomEvent?s.Event=t.CustomEvent:(s.Event=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i},s.Event.prototype=t.Event.prototype),s})?i.apply(e,r):i)||(t.exports=o)},zuR4:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("HSsa"),o=n("CgaS"),s=n("JEQr");function a(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=a(s);u.Axios=o,u.create=function(t){return a(i.merge(s,t))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(t){return Promise.all(t)},u.spread=n("DfZB"),t.exports=u,t.exports.default=u},zwY0:function(t,e,n){(function(e){t.exports=function(){"use strict";var t=function(t){return("0"+t).slice(-2)},n=function(t){return!0===t?1:0};function i(t,e,n){var i;return void 0===n&&(n=!1),function(){var r=this,o=arguments;null!==i&&clearTimeout(i),i=window.setTimeout(function(){i=null,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}}var r=function(t){return t instanceof Array?t:[t]},o=function(){},s=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},a={D:o,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,i){t.setHours(t.getHours()%12+12*n(new RegExp(i.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e){var n=parseInt(e);return new Date(t.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:o,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},w:o,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},u={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},l={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[l.w(t,e,n)]},F:function(t,e,n){return s(l.n(t,e,n)-1,!1,e)},G:function(e,n,i){return t(l.h(e,n,i))},H:function(e){return t(e.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[n(t.getHours()>11)]},M:function(t,e){return s(t.getMonth(),!0,e)},S:function(e){return t(e.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(e){return t(e.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(e){return t(e.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(e){return t(e.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},c={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},h=function(t){var e=t.config,n=void 0===e?v:e,i=t.l10n,r=void 0===i?c:i;return function(t,e,i){var o=i||r;return void 0!==n.formatDate?n.formatDate(t,e,o):e.split("").map(function(e,i,r){return l[e]&&"\\"!==r[i-1]?l[e](t,o,n):"\\"!==e?e:""}).join("")}},f=function(t){var e=t.config,n=void 0===e?v:e,i=t.l10n,r=void 0===i?c:i;return function(t,e,i,o){if(0===t||t){var s,l=o||r,c=t;if(t instanceof Date)s=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)s=new Date(t);else if("string"==typeof t){var h=e||(n||v).dateFormat,f=String(t).trim();if("today"===f)s=new Date,i=!0;else if(/Z$/.test(f)||/GMT$/.test(f))s=new Date(t);else if(n&&n.parseDate)s=n.parseDate(t,h);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d,p=[],g=0,m=0,y="";g<h.length;g++){var b=h[g],_="\\"===b,w="\\"===h[g-1]||_;if(u[b]&&!w){y+=u[b];var C=new RegExp(y).exec(t);C&&(d=!0)&&p["Y"!==b?"push":"unshift"]({fn:a[b],val:C[++m]})}else _||(y+=".");p.forEach(function(t){var e=t.fn,n=t.val;return s=e(s,n,l)||s})}s=d?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===i&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+c))}}};function d(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var p=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},g={DAY:864e5},m=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],v={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};function y(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function b(t,e,n){var i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function _(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function w(t,e){var n=b("div","numInputWrapper"),i=b("input","numInput "+t),r=b("span","arrowUp"),o=b("span","arrowDown");if(i.type="text",i.pattern="\\d*",void 0!==e)for(var s in e)i.setAttribute(s,e[s]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}"function"!=typeof Object.assign&&(Object.assign=function(t){if(!t)throw TypeError("Cannot convert undefined or null to object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=function(){var e=n[o];e&&Object.keys(e).forEach(function(n){return t[n]=e[n]})},o=0;o<n.length;o++)r();return t});var C=300;function E(e,o){var a={config:Object.assign({},T.defaultConfig),l10n:c};function l(t){return t.bind(a)}function v(){var t=a.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame(function(){if(a.calendarContainer.style.visibility="hidden",a.calendarContainer.style.display="block",void 0!==a.daysContainer){var e=(a.days.offsetWidth+1)*t.showMonths;a.daysContainer.style.width=e+"px",a.calendarContainer.style.width=e+(void 0!==a.weekWrapper?a.weekWrapper.offsetWidth:0)+"px",a.calendarContainer.style.removeProperty("visibility"),a.calendarContainer.style.removeProperty("display")}})}function E(e){if(0!==a.selectedDates.length){void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var i="keydown"===e.type,r=e.target;void 0!==a.amPM&&e.target===a.amPM&&(a.amPM.textContent=a.l10n.amPM[n(a.amPM.textContent===a.l10n.amPM[0])]);var o=parseFloat(r.getAttribute("data-min")),s=parseFloat(r.getAttribute("data-max")),u=parseFloat(r.getAttribute("data-step")),l=parseInt(r.value,10),c=e.delta||(i?38===e.which?1:-1:0),h=l+u*c;if(void 0!==r.value&&2===r.value.length){var f=r===a.hourElement,d=r===a.minuteElement;h<o?(h=s+h+n(!f)+(n(f)&&n(!a.amPM)),d&&R(void 0,-1,a.hourElement)):h>s&&(h=r===a.hourElement?h-s-n(!a.amPM):o,d&&R(void 0,1,a.hourElement)),a.amPM&&f&&(1===u?h+l===23:Math.abs(h-l)>u)&&(a.amPM.textContent=a.l10n.amPM[n(a.amPM.textContent===a.l10n.amPM[0])]),r.value=t(h)}}(e);var i=a._input.value;S(),vt(),a._input.value!==i&&a._debouncedChange()}}function S(){if(void 0!==a.hourElement&&void 0!==a.minuteElement){var t,e,i=(parseInt(a.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(a.minuteElement.value,10)||0)%60,o=void 0!==a.secondElement?(parseInt(a.secondElement.value,10)||0)%60:0;void 0!==a.amPM&&(t=i,e=a.amPM.textContent,i=t%12+12*n(e===a.l10n.amPM[1]));var s=void 0!==a.config.minTime||a.config.minDate&&a.minDateHasTime&&a.latestSelectedDateObj&&0===d(a.latestSelectedDateObj,a.config.minDate,!0),u=void 0!==a.config.maxTime||a.config.maxDate&&a.maxDateHasTime&&a.latestSelectedDateObj&&0===d(a.latestSelectedDateObj,a.config.maxDate,!0);if(u){var l=void 0!==a.config.maxTime?a.config.maxTime:a.config.maxDate;(i=Math.min(i,l.getHours()))===l.getHours()&&(r=Math.min(r,l.getMinutes())),r===l.getMinutes()&&(o=Math.min(o,l.getSeconds()))}if(s){var c=void 0!==a.config.minTime?a.config.minTime:a.config.minDate;(i=Math.max(i,c.getHours()))===c.getHours()&&(r=Math.max(r,c.getMinutes())),r===c.getMinutes()&&(o=Math.max(o,c.getSeconds()))}D(i,r,o)}}function x(t){var e=t||a.latestSelectedDateObj;e&&D(e.getHours(),e.getMinutes(),e.getSeconds())}function k(){var t=a.config.defaultHour,e=a.config.defaultMinute,n=a.config.defaultSeconds;if(void 0!==a.config.minDate){var i=a.config.minDate.getHours(),r=a.config.minDate.getMinutes();(t=Math.max(t,i))===i&&(e=Math.max(r,e)),t===i&&e===r&&(n=a.config.minDate.getSeconds())}if(void 0!==a.config.maxDate){var o=a.config.maxDate.getHours(),s=a.config.maxDate.getMinutes();(t=Math.min(t,o))===o&&(e=Math.min(s,e)),t===o&&e===s&&(n=a.config.maxDate.getSeconds())}D(t,e,n)}function D(e,i,r){void 0!==a.latestSelectedDateObj&&a.latestSelectedDateObj.setHours(e%24,i,r||0,0),a.hourElement&&a.minuteElement&&!a.isMobile&&(a.hourElement.value=t(a.config.time_24hr?e:(12+e)%12+12*n(e%12==0)),a.minuteElement.value=t(i),void 0!==a.amPM&&(a.amPM.textContent=a.l10n.amPM[n(e>=12)]),void 0!==a.secondElement&&(a.secondElement.value=t(r)))}function A(t){var e=parseInt(t.target.value)+(t.delta||0);(e/1e3>1||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&Q(e)}function O(t,e,n,i){return e instanceof Array?e.forEach(function(e){return O(t,e,n,i)}):t instanceof Array?t.forEach(function(t){return O(t,e,n,i)}):(t.addEventListener(e,n,i),void a._handlers.push({element:t,event:e,handler:n,options:i}))}function P(t){return function(e){1===e.which&&t(e)}}function N(){ft("onChange")}function L(){if(a.config.wrap&&["open","close","toggle","clear"].forEach(function(t){Array.prototype.forEach.call(a.element.querySelectorAll("[data-"+t+"]"),function(e){return O(e,"click",a[t])})}),a.isMobile)!function(){var t=a.config.enableTime?a.config.noCalendar?"time":"datetime-local":"date";a.mobileInput=b("input",a.input.className+" flatpickr-mobile"),a.mobileInput.step=a.input.getAttribute("step")||"any",a.mobileInput.tabIndex=1,a.mobileInput.type=t,a.mobileInput.disabled=a.input.disabled,a.mobileInput.required=a.input.required,a.mobileInput.placeholder=a.input.placeholder,a.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",a.selectedDates.length>0&&(a.mobileInput.defaultValue=a.mobileInput.value=a.formatDate(a.selectedDates[0],a.mobileFormatStr)),a.config.minDate&&(a.mobileInput.min=a.formatDate(a.config.minDate,"Y-m-d")),a.config.maxDate&&(a.mobileInput.max=a.formatDate(a.config.maxDate,"Y-m-d")),a.input.type="hidden",void 0!==a.altInput&&(a.altInput.type="hidden");try{a.input.parentNode&&a.input.parentNode.insertBefore(a.mobileInput,a.input.nextSibling)}catch(t){}O(a.mobileInput,"change",function(t){a.setDate(t.target.value,!1,a.mobileFormatStr),ft("onChange"),ft("onClose")})}();else{var t=i(nt,50);a._debouncedChange=i(N,C),a.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(a.daysContainer,"mouseover",function(t){"range"===a.config.mode&&et(t.target)}),O(window.document.body,"keydown",tt),a.config.static||O(a._input,"keydown",tt),a.config.inline||a.config.static||O(window,"resize",t),void 0!==window.ontouchstart?O(window.document,"click",M):O(window.document,"mousedown",P(M)),O(window.document,"focus",M,{capture:!0}),!0===a.config.clickOpens&&(O(a._input,"focus",a.open),O(a._input,"mousedown",P(a.open))),void 0!==a.daysContainer&&(O(a.monthNav,"mousedown",P(yt)),O(a.monthNav,["keyup","increment"],A),O(a.daysContainer,"mousedown",P(ut))),void 0!==a.timeContainer&&void 0!==a.minuteElement&&void 0!==a.hourElement&&(O(a.timeContainer,["increment"],E),O(a.timeContainer,"blur",E,{capture:!0}),O(a.timeContainer,"mousedown",P(F)),O([a.hourElement,a.minuteElement],["focus","click"],function(t){return t.target.select()}),void 0!==a.secondElement&&O(a.secondElement,"focus",function(){return a.secondElement&&a.secondElement.select()}),void 0!==a.amPM&&O(a.amPM,"mousedown",P(function(t){E(t),N()})))}}function B(t){var e=void 0!==t?a.parseDate(t):a.latestSelectedDateObj||(a.config.minDate&&a.config.minDate>a.now?a.config.minDate:a.config.maxDate&&a.config.maxDate<a.now?a.config.maxDate:a.now);try{void 0!==e&&(a.currentYear=e.getFullYear(),a.currentMonth=e.getMonth())}catch(t){t.message="Invalid date supplied: "+e,a.config.errorHandler(t)}a.redraw()}function F(t){~t.target.className.indexOf("arrow")&&R(t,t.target.classList.contains("arrowUp")?1:-1)}function R(t,e,n){var i=t&&t.target,r=n||i&&i.parentNode&&i.parentNode.firstChild,o=dt("increment");o.delta=e,r&&r.dispatchEvent(o)}function I(){var e=window.document.createDocumentFragment();if(a.calendarContainer=b("div","flatpickr-calendar"),a.calendarContainer.tabIndex=-1,!a.config.noCalendar){if(e.appendChild((a.monthNav=b("div","flatpickr-months"),a.yearElements=[],a.monthElements=[],a.prevMonthNav=b("span","flatpickr-prev-month"),a.prevMonthNav.innerHTML=a.config.prevArrow,a.nextMonthNav=b("span","flatpickr-next-month"),a.nextMonthNav.innerHTML=a.config.nextArrow,V(),Object.defineProperty(a,"_hidePrevMonthArrow",{get:function(){return a.__hidePrevMonthArrow},set:function(t){a.__hidePrevMonthArrow!==t&&(y(a.prevMonthNav,"disabled",t),a.__hidePrevMonthArrow=t)}}),Object.defineProperty(a,"_hideNextMonthArrow",{get:function(){return a.__hideNextMonthArrow},set:function(t){a.__hideNextMonthArrow!==t&&(y(a.nextMonthNav,"disabled",t),a.__hideNextMonthArrow=t)}}),a.currentYearElement=a.yearElements[0],gt(),a.monthNav)),a.innerContainer=b("div","flatpickr-innerContainer"),a.config.weekNumbers){var i=function(){a.calendarContainer.classList.add("hasWeeks");var t=b("div","flatpickr-weekwrapper");t.appendChild(b("span","flatpickr-weekday",a.l10n.weekAbbreviation));var e=b("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),r=i.weekWrapper,o=i.weekNumbers;a.innerContainer.appendChild(r),a.weekNumbers=o,a.weekWrapper=r}a.rContainer=b("div","flatpickr-rContainer"),a.rContainer.appendChild(Z()),a.daysContainer||(a.daysContainer=b("div","flatpickr-days"),a.daysContainer.tabIndex=-1),q(),a.rContainer.appendChild(a.daysContainer),a.innerContainer.appendChild(a.rContainer),e.appendChild(a.innerContainer)}a.config.enableTime&&e.appendChild(function(){a.calendarContainer.classList.add("hasTime"),a.config.noCalendar&&a.calendarContainer.classList.add("noCalendar"),a.timeContainer=b("div","flatpickr-time"),a.timeContainer.tabIndex=-1;var e=b("span","flatpickr-time-separator",":"),i=w("flatpickr-hour");a.hourElement=i.getElementsByTagName("input")[0];var r=w("flatpickr-minute");if(a.minuteElement=r.getElementsByTagName("input")[0],a.hourElement.tabIndex=a.minuteElement.tabIndex=-1,a.hourElement.value=t(a.latestSelectedDateObj?a.latestSelectedDateObj.getHours():a.config.time_24hr?a.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(a.config.defaultHour)),a.minuteElement.value=t(a.latestSelectedDateObj?a.latestSelectedDateObj.getMinutes():a.config.defaultMinute),a.hourElement.setAttribute("data-step",a.config.hourIncrement.toString()),a.minuteElement.setAttribute("data-step",a.config.minuteIncrement.toString()),a.hourElement.setAttribute("data-min",a.config.time_24hr?"0":"1"),a.hourElement.setAttribute("data-max",a.config.time_24hr?"23":"12"),a.minuteElement.setAttribute("data-min","0"),a.minuteElement.setAttribute("data-max","59"),a.timeContainer.appendChild(i),a.timeContainer.appendChild(e),a.timeContainer.appendChild(r),a.config.time_24hr&&a.timeContainer.classList.add("time24hr"),a.config.enableSeconds){a.timeContainer.classList.add("hasSeconds");var o=w("flatpickr-second");a.secondElement=o.getElementsByTagName("input")[0],a.secondElement.value=t(a.latestSelectedDateObj?a.latestSelectedDateObj.getSeconds():a.config.defaultSeconds),a.secondElement.setAttribute("data-step",a.minuteElement.getAttribute("data-step")),a.secondElement.setAttribute("data-min",a.minuteElement.getAttribute("data-min")),a.secondElement.setAttribute("data-max",a.minuteElement.getAttribute("data-max")),a.timeContainer.appendChild(b("span","flatpickr-time-separator",":")),a.timeContainer.appendChild(o)}return a.config.time_24hr||(a.amPM=b("span","flatpickr-am-pm",a.l10n.amPM[n((a.latestSelectedDateObj?a.hourElement.value:a.config.defaultHour)>11)]),a.amPM.title=a.l10n.toggleTitle,a.amPM.tabIndex=-1,a.timeContainer.appendChild(a.amPM)),a.timeContainer}()),y(a.calendarContainer,"rangeMode","range"===a.config.mode),y(a.calendarContainer,"animate",!0===a.config.animate),y(a.calendarContainer,"multiMonth",a.config.showMonths>1),a.calendarContainer.appendChild(e);var s=void 0!==a.config.appendTo&&void 0!==a.config.appendTo.nodeType;if((a.config.inline||a.config.static)&&(a.calendarContainer.classList.add(a.config.inline?"inline":"static"),a.config.inline&&(!s&&a.element.parentNode?a.element.parentNode.insertBefore(a.calendarContainer,a._input.nextSibling):void 0!==a.config.appendTo&&a.config.appendTo.appendChild(a.calendarContainer)),a.config.static)){var u=b("div","flatpickr-wrapper");a.element.parentNode&&a.element.parentNode.insertBefore(u,a.element),u.appendChild(a.element),a.altInput&&u.appendChild(a.altInput),u.appendChild(a.calendarContainer)}a.config.static||a.config.inline||(void 0!==a.config.appendTo?a.config.appendTo:window.document.body).appendChild(a.calendarContainer)}function H(t,e,n,i){var r=J(e,!0),o=b("span","flatpickr-day "+t,e.getDate().toString());return o.dateObj=e,o.$i=i,o.setAttribute("aria-label",a.formatDate(e,a.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===d(e,a.now)&&(a.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),r?(o.tabIndex=-1,pt(e)&&(o.classList.add("selected"),a.selectedDateElem=o,"range"===a.config.mode&&(y(o,"startRange",a.selectedDates[0]&&0===d(e,a.selectedDates[0],!0)),y(o,"endRange",a.selectedDates[1]&&0===d(e,a.selectedDates[1],!0)),"nextMonthDay"===t&&o.classList.add("inRange")))):o.classList.add("disabled"),"range"===a.config.mode&&function(t){return!("range"!==a.config.mode||a.selectedDates.length<2)&&d(t,a.selectedDates[0])>=0&&d(t,a.selectedDates[1])<=0}(e)&&!pt(e)&&o.classList.add("inRange"),a.weekNumbers&&1===a.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&a.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+a.config.getWeek(e)+"</span>"),ft("onDayCreate",o),o}function z(t){t.focus(),"range"===a.config.mode&&et(t)}function W(t){for(var e=t>0?0:a.config.showMonths-1,n=t>0?a.config.showMonths:-1,i=e;i!=n;i+=t)for(var r=a.daysContainer.children[i],o=t>0?0:r.children.length-1,s=t>0?r.children.length:-1,u=o;u!=s;u+=t){var l=r.children[u];if(-1===l.className.indexOf("hidden")&&J(l.dateObj))return l}}function j(t,e){var n=$(document.activeElement||document.body),i=void 0!==t?t:n?document.activeElement:void 0!==a.selectedDateElem&&$(a.selectedDateElem)?a.selectedDateElem:void 0!==a.todayDateElem&&$(a.todayDateElem)?a.todayDateElem:W(e>0?1:-1);return void 0===i?a._input.focus():n?void function(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():a.currentMonth,i=e>0?a.config.showMonths:-1,r=e>0?1:-1,o=n-a.currentMonth;o!=i;o+=r)for(var s=a.daysContainer.children[o],u=n-a.currentMonth===o?t.$i+e:e<0?s.children.length-1:0,l=s.children.length,c=u;c>=0&&c<l&&c!=(e>0?l:-1);c+=r){var h=s.children[c];if(-1===h.className.indexOf("hidden")&&J(h.dateObj)&&Math.abs(t.$i-c)>=Math.abs(e))return z(h)}a.changeMonth(r),j(W(r),0)}(i,e):z(i)}function U(t,e){for(var n=(new Date(t,e,1).getDay()-a.l10n.firstDayOfWeek+7)%7,i=a.utils.getDaysInMonth((e-1+12)%12),r=a.utils.getDaysInMonth(e),o=window.document.createDocumentFragment(),s=a.config.showMonths>1,u=s?"prevMonthDay hidden":"prevMonthDay",l=s?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,h=0;c<=i;c++,h++)o.appendChild(H(u,new Date(t,e-1,c),c,h));for(c=1;c<=r;c++,h++)o.appendChild(H("",new Date(t,e,c),c,h));for(var f=r+1;f<=42-n&&(1===a.config.showMonths||h%7!=0);f++,h++)o.appendChild(H(l,new Date(t,e+1,f%r),f,h));var d=b("div","dayContainer");return d.appendChild(o),d}function q(){if(void 0!==a.daysContainer){_(a.daysContainer),a.weekNumbers&&_(a.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<a.config.showMonths;e++){var n=new Date(a.currentYear,a.currentMonth,1);n.setMonth(a.currentMonth+e),t.appendChild(U(n.getFullYear(),n.getMonth()))}a.daysContainer.appendChild(t),a.days=a.daysContainer.firstChild,"range"===a.config.mode&&1===a.selectedDates.length&&et()}}function Y(){var t=b("div","flatpickr-month"),e=window.document.createDocumentFragment(),n=b("span","cur-month"),i=w("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",a.l10n.yearAriaLabel),a.config.minDate&&r.setAttribute("data-min",a.config.minDate.getFullYear().toString()),a.config.maxDate&&(r.setAttribute("data-max",a.config.maxDate.getFullYear().toString()),r.disabled=!!a.config.minDate&&a.config.minDate.getFullYear()===a.config.maxDate.getFullYear());var o=b("div","flatpickr-current-month");return o.appendChild(n),o.appendChild(i),e.appendChild(o),t.appendChild(e),{container:t,yearElement:r,monthElement:n}}function V(){_(a.monthNav),a.monthNav.appendChild(a.prevMonthNav);for(var t=a.config.showMonths;t--;){var e=Y();a.yearElements.push(e.yearElement),a.monthElements.push(e.monthElement),a.monthNav.appendChild(e.container)}a.monthNav.appendChild(a.nextMonthNav)}function Z(){a.weekdayContainer?_(a.weekdayContainer):a.weekdayContainer=b("div","flatpickr-weekdays");for(var t=a.config.showMonths;t--;){var e=b("div","flatpickr-weekdaycontainer");a.weekdayContainer.appendChild(e)}return K(),a.weekdayContainer}function K(){var t=a.l10n.firstDayOfWeek,e=a.l10n.weekdays.shorthand.concat();t>0&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=a.config.showMonths;n--;)a.weekdayContainer.children[n].innerHTML="\n      <span class=flatpickr-weekday>\n        "+e.join("</span><span class=flatpickr-weekday>")+"\n      </span>\n      "}function G(t,e){void 0===e&&(e=!0);var n=e?t:t-a.currentMonth;n<0&&!0===a._hidePrevMonthArrow||n>0&&!0===a._hideNextMonthArrow||(a.currentMonth+=n,(a.currentMonth<0||a.currentMonth>11)&&(a.currentYear+=a.currentMonth>11?1:-1,a.currentMonth=(a.currentMonth+12)%12,ft("onYearChange")),q(),ft("onMonthChange"),gt())}function X(t){return!(!a.config.appendTo||!a.config.appendTo.contains(t))||a.calendarContainer.contains(t)}function M(t){if(a.isOpen&&!a.config.inline){var e=X(t.target),n=t.target===a.input||t.target===a.altInput||a.element.contains(t.target)||t.path&&t.path.indexOf&&(~t.path.indexOf(a.input)||~t.path.indexOf(a.altInput)),i="blur"===t.type?n&&t.relatedTarget&&!X(t.relatedTarget):!n&&!e,r=!a.config.ignoredFocusElements.some(function(e){return e.contains(t.target)});i&&r&&(a.close(),"range"===a.config.mode&&1===a.selectedDates.length&&(a.clear(!1),a.redraw()))}}function Q(t){if(!(!t||a.config.minDate&&t<a.config.minDate.getFullYear()||a.config.maxDate&&t>a.config.maxDate.getFullYear())){var e=t,n=a.currentYear!==e;a.currentYear=e||a.currentYear,a.config.maxDate&&a.currentYear===a.config.maxDate.getFullYear()?a.currentMonth=Math.min(a.config.maxDate.getMonth(),a.currentMonth):a.config.minDate&&a.currentYear===a.config.minDate.getFullYear()&&(a.currentMonth=Math.max(a.config.minDate.getMonth(),a.currentMonth)),n&&(a.redraw(),ft("onYearChange"))}}function J(t,e){void 0===e&&(e=!0);var n=a.parseDate(t,void 0,e);if(a.config.minDate&&n&&d(n,a.config.minDate,void 0!==e?e:!a.minDateHasTime)<0||a.config.maxDate&&n&&d(n,a.config.maxDate,void 0!==e?e:!a.maxDateHasTime)>0)return!1;if(0===a.config.enable.length&&0===a.config.disable.length)return!0;if(void 0===n)return!1;for(var i,r=a.config.enable.length>0,o=r?a.config.enable:a.config.disable,s=0;s<o.length;s++){if("function"==typeof(i=o[s])&&i(n))return r;if(i instanceof Date&&void 0!==n&&i.getTime()===n.getTime())return r;if("string"==typeof i&&void 0!==n){var u=a.parseDate(i,void 0,!0);return u&&u.getTime()===n.getTime()?r:!r}if("object"==typeof i&&void 0!==n&&i.from&&i.to&&n.getTime()>=i.from.getTime()&&n.getTime()<=i.to.getTime())return r}return!r}function $(t){return void 0!==a.daysContainer&&-1===t.className.indexOf("hidden")&&a.daysContainer.contains(t)}function tt(t){var e=t.target===a._input,n=a.config.allowInput,i=a.isOpen&&(!n||!e),r=a.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return a.setDate(a._input.value,!0,t.target===a.altInput?a.config.altFormat:a.config.dateFormat),t.target.blur();a.open()}else if(X(t.target)||i||r){var o=!!a.timeContainer&&a.timeContainer.contains(t.target);switch(t.keyCode){case 13:o?E():ut(t);break;case 27:t.preventDefault(),at();break;case 8:case 46:e&&!a.config.allowInput&&(t.preventDefault(),a.clear());break;case 37:case 39:if(o)a.hourElement&&a.hourElement.focus();else if(t.preventDefault(),void 0!==a.daysContainer&&(!1===n||$(document.activeElement))){var s=39===t.keyCode?1:-1;t.ctrlKey?(G(s),j(W(1),0)):j(void 0,s)}break;case 38:case 40:t.preventDefault();var u=40===t.keyCode?1:-1;a.daysContainer&&void 0!==t.target.$i?t.ctrlKey?(Q(a.currentYear-u),j(W(1),0)):o||j(void 0,7*u):a.config.enableTime&&(!o&&a.hourElement&&a.hourElement.focus(),E(t),a._debouncedChange());break;case 9:if(!o){a.element.focus();break}var l=[a.hourElement,a.minuteElement,a.secondElement,a.amPM].filter(function(t){return t}),c=l.indexOf(t.target);if(-1!==c){var h=l[c+(t.shiftKey?-1:1)];void 0!==h?(t.preventDefault(),h.focus()):a.element.focus()}}}if(void 0!==a.amPM&&t.target===a.amPM)switch(t.key){case a.l10n.amPM[0].charAt(0):case a.l10n.amPM[0].charAt(0).toLowerCase():a.amPM.textContent=a.l10n.amPM[0],S(),vt();break;case a.l10n.amPM[1].charAt(0):case a.l10n.amPM[1].charAt(0).toLowerCase():a.amPM.textContent=a.l10n.amPM[1],S(),vt()}ft("onKeyDown",t)}function et(t){if(1===a.selectedDates.length&&(!t||t.classList.contains("flatpickr-day")&&!t.classList.contains("disabled"))){for(var e=t?t.dateObj.getTime():a.days.firstElementChild.dateObj.getTime(),n=a.parseDate(a.selectedDates[0],void 0,!0).getTime(),i=Math.min(e,a.selectedDates[0].getTime()),r=Math.max(e,a.selectedDates[0].getTime()),o=a.daysContainer.lastChild.lastChild.dateObj.getTime(),s=!1,u=0,l=0,c=i;c<o;c+=g.DAY)J(new Date(c),!0)||(s=s||c>i&&c<r,c<n&&(!u||c>u)?u=c:c>n&&(!l||c<l)&&(l=c));for(var h=0;h<a.config.showMonths;h++)for(var f=a.daysContainer.children[h],d=a.daysContainer.children[h-1],m=function(i,r){var o=f.children[i],c=o.dateObj,g=c.getTime(),m=u>0&&g<u||l>0&&g>l;return m?(o.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(t){o.classList.remove(t)}),"continue"):s&&!m?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(t){o.classList.remove(t)}),void(void 0!==t&&(t.classList.add(e<a.selectedDates[0].getTime()?"startRange":"endRange"),!f.contains(t)&&h>0&&d&&d.lastChild.dateObj.getTime()>=g||(n<e&&g===n?o.classList.add("startRange"):n>e&&g===n&&o.classList.add("endRange"),g>=u&&(0===l||g<=l)&&p(g,n,e)&&o.classList.add("inRange")))))},v=0,y=f.children.length;v<y;v++)m(v)}}function nt(){!a.isOpen||a.config.static||a.config.inline||ot()}function it(t){return function(e){var n=a.config["_"+t+"Date"]=a.parseDate(e,a.config.dateFormat),i=a.config["_"+("min"===t?"max":"min")+"Date"];void 0!==n&&(a["min"===t?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),a.selectedDates&&(a.selectedDates=a.selectedDates.filter(function(t){return J(t)}),a.selectedDates.length||"min"!==t||x(n),vt()),a.daysContainer&&(st(),void 0!==n?a.currentYearElement[t]=n.getFullYear().toString():a.currentYearElement.removeAttribute(t),a.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function rt(){"object"!=typeof a.config.locale&&void 0===T.l10ns[a.config.locale]&&a.config.errorHandler(new Error("flatpickr: invalid locale "+a.config.locale)),a.l10n=Object.assign({},T.l10ns.default,"object"==typeof a.config.locale?a.config.locale:"default"!==a.config.locale?T.l10ns[a.config.locale]:void 0),u.K="("+a.l10n.amPM[0]+"|"+a.l10n.amPM[1]+"|"+a.l10n.amPM[0].toLowerCase()+"|"+a.l10n.amPM[1].toLowerCase()+")",a.formatDate=h(a),a.parseDate=f({config:a.config,l10n:a.l10n})}function ot(t){if(void 0!==a.calendarContainer){ft("onPreCalendarPosition");var e=t||a._positionElement,n=Array.prototype.reduce.call(a.calendarContainer.children,function(t,e){return t+e.offsetHeight},0),i=a.calendarContainer.offsetWidth,r=a.config.position.split(" "),o=r[0],s=r.length>1?r[1]:null,u=e.getBoundingClientRect(),l=window.innerHeight-u.bottom,c="above"===o||"below"!==o&&l<n&&u.top>n,h=window.pageYOffset+u.top+(c?-n-2:e.offsetHeight+2);if(y(a.calendarContainer,"arrowTop",!c),y(a.calendarContainer,"arrowBottom",c),!a.config.inline){var f=window.pageXOffset+u.left-(null!=s&&"center"===s?(i-u.width)/2:0),d=window.document.body.offsetWidth-u.right,p=f+i>window.document.body.offsetWidth;y(a.calendarContainer,"rightMost",p),a.config.static||(a.calendarContainer.style.top=h+"px",p?(a.calendarContainer.style.left="auto",a.calendarContainer.style.right=d+"px"):(a.calendarContainer.style.left=f+"px",a.calendarContainer.style.right="auto"))}}}function st(){a.config.noCalendar||a.isMobile||(gt(),q())}function at(){a._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(a.close,0):a.close()}function ut(t){t.preventDefault(),t.stopPropagation();var e=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(t.target,function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("disabled")&&!t.classList.contains("notAllowed")});if(void 0!==e){var n=e,i=a.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(i.getMonth()<a.currentMonth||i.getMonth()>a.currentMonth+a.config.showMonths-1)&&"range"!==a.config.mode;if(a.selectedDateElem=n,"single"===a.config.mode)a.selectedDates=[i];else if("multiple"===a.config.mode){var o=pt(i);o?a.selectedDates.splice(parseInt(o),1):a.selectedDates.push(i)}else"range"===a.config.mode&&(2===a.selectedDates.length&&a.clear(!1),a.selectedDates.push(i),0!==d(i,a.selectedDates[0],!0)&&a.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()}));if(S(),r){var s=a.currentYear!==i.getFullYear();a.currentYear=i.getFullYear(),a.currentMonth=i.getMonth(),s&&ft("onYearChange"),ft("onMonthChange")}if(gt(),q(),vt(),a.config.enableTime&&setTimeout(function(){return a.showTimeInput=!0},50),r||"range"===a.config.mode||1!==a.config.showMonths?a.selectedDateElem&&a.selectedDateElem.focus():z(n),void 0!==a.hourElement&&setTimeout(function(){return void 0!==a.hourElement&&a.hourElement.select()},451),a.config.closeOnSelect){var u="single"===a.config.mode&&!a.config.enableTime,l="range"===a.config.mode&&2===a.selectedDates.length&&!a.config.enableTime;(u||l)&&at()}N()}}a.parseDate=f({config:a.config,l10n:a.l10n}),a._handlers=[],a._bind=O,a._setHoursFromDate=x,a._positionCalendar=ot,a.changeMonth=G,a.changeYear=Q,a.clear=function(t){void 0===t&&(t=!0),a.input.value="",void 0!==a.altInput&&(a.altInput.value=""),void 0!==a.mobileInput&&(a.mobileInput.value=""),a.selectedDates=[],a.latestSelectedDateObj=void 0,a.showTimeInput=!1,!0===a.config.enableTime&&k(),a.redraw(),t&&ft("onChange")},a.close=function(){a.isOpen=!1,a.isMobile||(a.calendarContainer.classList.remove("open"),a._input.classList.remove("active")),ft("onClose")},a._createElement=b,a.destroy=function(){void 0!==a.config&&ft("onDestroy");for(var t=a._handlers.length;t--;){var e=a._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(a._handlers=[],a.mobileInput)a.mobileInput.parentNode&&a.mobileInput.parentNode.removeChild(a.mobileInput),a.mobileInput=void 0;else if(a.calendarContainer&&a.calendarContainer.parentNode)if(a.config.static&&a.calendarContainer.parentNode){var n=a.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else a.calendarContainer.parentNode.removeChild(a.calendarContainer);a.altInput&&(a.input.type="text",a.altInput.parentNode&&a.altInput.parentNode.removeChild(a.altInput),delete a.altInput),a.input&&(a.input.type=a.input._type,a.input.classList.remove("flatpickr-input"),a.input.removeAttribute("readonly"),a.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(t){try{delete a[t]}catch(t){}})},a.isEnabled=J,a.jumpToDate=B,a.open=function(t,e){if(void 0===e&&(e=a._positionElement),!0===a.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==a.mobileInput&&(a.mobileInput.focus(),a.mobileInput.click()),void ft("onOpen");if(!a._input.disabled&&!a.config.inline){var n=a.isOpen;a.isOpen=!0,n||(a.calendarContainer.classList.add("open"),a._input.classList.add("active"),ft("onOpen"),ot(e)),!0===a.config.enableTime&&!0===a.config.noCalendar&&(0===a.selectedDates.length&&(a.setDate(void 0!==a.config.minDate?new Date(a.config.minDate.getTime()):new Date,!1),k(),vt()),!1!==a.config.allowInput||void 0!==t&&a.timeContainer.contains(t.relatedTarget)||setTimeout(function(){return a.hourElement.select()},50))}},a.redraw=st,a.set=function(t,e){null!==t&&"object"==typeof t?Object.assign(a.config,t):(a.config[t]=e,void 0!==lt[t]?lt[t].forEach(function(t){return t()}):m.indexOf(t)>-1&&(a.config[t]=r(e))),a.redraw(),B(),vt(!1)},a.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=a.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return a.clear(e);ct(t,n),a.showTimeInput=a.selectedDates.length>0,a.latestSelectedDateObj=a.selectedDates[0],a.redraw(),B(),x(),vt(e),e&&ft("onChange")},a.toggle=function(t){if(!0===a.isOpen)return a.close();a.open(t)};var lt={locale:[rt,K],showMonths:[V,v,Z]};function ct(t,e){var n=[];if(t instanceof Array)n=t.map(function(t){return a.parseDate(t,e)});else if(t instanceof Date||"number"==typeof t)n=[a.parseDate(t,e)];else if("string"==typeof t)switch(a.config.mode){case"single":case"time":n=[a.parseDate(t,e)];break;case"multiple":n=t.split(a.config.conjunction).map(function(t){return a.parseDate(t,e)});break;case"range":n=t.split(a.l10n.rangeSeparator).map(function(t){return a.parseDate(t,e)})}else a.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));a.selectedDates=n.filter(function(t){return t instanceof Date&&J(t,!1)}),"range"===a.config.mode&&a.selectedDates.sort(function(t,e){return t.getTime()-e.getTime()})}function ht(t){return t.slice().map(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?a.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:a.parseDate(t.from,void 0),to:a.parseDate(t.to,void 0)}:t}).filter(function(t){return t})}function ft(t,e){if(void 0!==a.config){var n=a.config[t];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](a.selectedDates,a.input.value,a,e);"onChange"===t&&(a.input.dispatchEvent(dt("change")),a.input.dispatchEvent(dt("input")))}}function dt(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function pt(t){for(var e=0;e<a.selectedDates.length;e++)if(0===d(a.selectedDates[e],t))return""+e;return!1}function gt(){a.config.noCalendar||a.isMobile||!a.monthNav||(a.yearElements.forEach(function(t,e){var n=new Date(a.currentYear,a.currentMonth,1);n.setMonth(a.currentMonth+e),a.monthElements[e].textContent=s(n.getMonth(),a.config.shorthandCurrentMonth,a.l10n)+" ",t.value=n.getFullYear().toString()}),a._hidePrevMonthArrow=void 0!==a.config.minDate&&(a.currentYear===a.config.minDate.getFullYear()?a.currentMonth<=a.config.minDate.getMonth():a.currentYear<a.config.minDate.getFullYear()),a._hideNextMonthArrow=void 0!==a.config.maxDate&&(a.currentYear===a.config.maxDate.getFullYear()?a.currentMonth+1>a.config.maxDate.getMonth():a.currentYear>a.config.maxDate.getFullYear()))}function mt(t){return a.selectedDates.map(function(e){return a.formatDate(e,t)}).filter(function(t,e,n){return"range"!==a.config.mode||a.config.enableTime||n.indexOf(t)===e}).join("range"!==a.config.mode?a.config.conjunction:a.l10n.rangeSeparator)}function vt(t){if(void 0===t&&(t=!0),0===a.selectedDates.length)return a.clear(t);void 0!==a.mobileInput&&a.mobileFormatStr&&(a.mobileInput.value=void 0!==a.latestSelectedDateObj?a.formatDate(a.latestSelectedDateObj,a.mobileFormatStr):""),a.input.value=mt(a.config.dateFormat),void 0!==a.altInput&&(a.altInput.value=mt(a.config.altFormat)),!1!==t&&ft("onValueUpdate")}function yt(t){t.preventDefault();var e=a.prevMonthNav.contains(t.target),n=a.nextMonthNav.contains(t.target);e||n?G(e?-1:1):a.yearElements.indexOf(t.target)>=0?t.target.select():t.target.classList.contains("arrowUp")?a.changeYear(a.currentYear+1):t.target.classList.contains("arrowDown")&&a.changeYear(a.currentYear-1)}return function(){a.element=a.input=e,a.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],n=Object.assign({},o,JSON.parse(JSON.stringify(e.dataset||{}))),i={};a.config.parseDate=n.parseDate,a.config.formatDate=n.formatDate,Object.defineProperty(a.config,"enable",{get:function(){return a.config._enable},set:function(t){a.config._enable=ht(t)}}),Object.defineProperty(a.config,"disable",{get:function(){return a.config._disable},set:function(t){a.config._disable=ht(t)}});var s="time"===n.mode;n.dateFormat||!n.enableTime&&!s||(i.dateFormat=n.noCalendar||s?"H:i"+(n.enableSeconds?":S":""):T.defaultConfig.dateFormat+" H:i"+(n.enableSeconds?":S":"")),n.altInput&&(n.enableTime||s)&&!n.altFormat&&(i.altFormat=n.noCalendar||s?"h:i"+(n.enableSeconds?":S K":" K"):T.defaultConfig.altFormat+" h:i"+(n.enableSeconds?":S":"")+" K"),Object.defineProperty(a.config,"minDate",{get:function(){return a.config._minDate},set:it("min")}),Object.defineProperty(a.config,"maxDate",{get:function(){return a.config._maxDate},set:it("max")});var u=function(t){return function(e){a.config["min"===t?"_minTime":"_maxTime"]=a.parseDate(e,"H:i")}};Object.defineProperty(a.config,"minTime",{get:function(){return a.config._minTime},set:u("min")}),Object.defineProperty(a.config,"maxTime",{get:function(){return a.config._maxTime},set:u("max")}),"time"===n.mode&&(a.config.noCalendar=!0,a.config.enableTime=!0),Object.assign(a.config,i,n);for(var c=0;c<t.length;c++)a.config[t[c]]=!0===a.config[t[c]]||"true"===a.config[t[c]];m.filter(function(t){return void 0!==a.config[t]}).forEach(function(t){a.config[t]=r(a.config[t]||[]).map(l)}),a.isMobile=!a.config.disableMobile&&!a.config.inline&&"single"===a.config.mode&&!a.config.disable.length&&!a.config.enable.length&&!a.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var h=0;h<a.config.plugins.length;h++){var f=a.config.plugins[h](a)||{};for(var d in f)m.indexOf(d)>-1?a.config[d]=r(f[d]).map(l).concat(a.config[d]):void 0===n[d]&&(a.config[d]=f[d])}ft("onParseConfig")}(),rt(),a.input=a.config.wrap?e.querySelector("[data-input]"):e,a.input?(a.input._type=a.input.type,a.input.type="text",a.input.classList.add("flatpickr-input"),a._input=a.input,a.config.altInput&&(a.altInput=b(a.input.nodeName,a.input.className+" "+a.config.altInputClass),a._input=a.altInput,a.altInput.placeholder=a.input.placeholder,a.altInput.disabled=a.input.disabled,a.altInput.required=a.input.required,a.altInput.tabIndex=a.input.tabIndex,a.altInput.type="text",a.input.setAttribute("type","hidden"),!a.config.static&&a.input.parentNode&&a.input.parentNode.insertBefore(a.altInput,a.input.nextSibling)),a.config.allowInput||a._input.setAttribute("readonly","readonly"),a._positionElement=a.config.positionElement||a._input):a.config.errorHandler(new Error("Invalid input element specified")),function(){a.selectedDates=[],a.now=a.parseDate(a.config.now)||new Date;var t=a.config.defaultDate||("INPUT"!==a.input.nodeName&&"TEXTAREA"!==a.input.nodeName||!a.input.placeholder||a.input.value!==a.input.placeholder?a.input.value:null);t&&ct(t,a.config.dateFormat);var e=a.selectedDates.length>0?a.selectedDates[0]:a.config.minDate&&a.config.minDate.getTime()>a.now.getTime()?a.config.minDate:a.config.maxDate&&a.config.maxDate.getTime()<a.now.getTime()?a.config.maxDate:a.now;a.currentYear=e.getFullYear(),a.currentMonth=e.getMonth(),a.selectedDates.length>0&&(a.latestSelectedDateObj=a.selectedDates[0]),void 0!==a.config.minTime&&(a.config.minTime=a.parseDate(a.config.minTime,"H:i")),void 0!==a.config.maxTime&&(a.config.maxTime=a.parseDate(a.config.maxTime,"H:i")),a.minDateHasTime=!!a.config.minDate&&(a.config.minDate.getHours()>0||a.config.minDate.getMinutes()>0||a.config.minDate.getSeconds()>0),a.maxDateHasTime=!!a.config.maxDate&&(a.config.maxDate.getHours()>0||a.config.maxDate.getMinutes()>0||a.config.maxDate.getSeconds()>0),Object.defineProperty(a,"showTimeInput",{get:function(){return a._showTimeInput},set:function(t){a._showTimeInput=t,a.calendarContainer&&y(a.calendarContainer,"showTimeInput",t),a.isOpen&&ot()}})}(),a.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=a.currentMonth),void 0===e&&(e=a.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:a.l10n.daysInMonth[t]}},a.isMobile||I(),L(),(a.selectedDates.length||a.config.noCalendar)&&(a.config.enableTime&&x(a.config.noCalendar?a.latestSelectedDateObj||a.config.minDate:void 0),vt(!1)),v(),a.showTimeInput=a.selectedDates.length>0||a.config.noCalendar;var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!a.isMobile&&t&&ot(),ft("onReady")}(),a}function S(t,e){for(var n=Array.prototype.slice.call(t),i=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=E(o,e||{}),i.push(o._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return S(this,t)},HTMLElement.prototype.flatpickr=function(t){return S([this],t)});var T=function(t,e){return t instanceof NodeList?S(t,e):S("string"==typeof t?window.document.querySelectorAll(t):[t],e)};return T.defaultConfig=v,T.l10ns={en:Object.assign({},c),default:Object.assign({},c)},T.localize=function(t){T.l10ns.default=Object.assign({},T.l10ns.default,t)},T.setDefaults=function(t){T.defaultConfig=Object.assign({},T.defaultConfig,t)},T.parseDate=f({}),T.formatDate=h({}),T.compareDates=d,void 0!==e&&(e.fn.flatpickr=function(t){return S(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=T),T}()}).call(this,n("EVdn"))}}]);